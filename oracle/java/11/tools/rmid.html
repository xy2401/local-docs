<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You use the rmid command to start the activation system daemon that enables objects to be registered and activated in a Java Virtual Machine (JVM).">
      <meta name="description" content="You use the rmid command to start the activation system daemon that enables objects to be registered and activated in a Java Virtual Machine (JVM).">
      <title>rmid</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Tools Reference">
      <meta property="og:description" content="You use the rmid command to start the activation system daemon that enables objects to be registered and activated in a Java Virtual Machine (JVM).">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Tools Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="tools-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T10:03:46-07:00">
      <meta name="dcterms.title" content="Tools Reference">
      <meta name="dcterms.dateCopyrighted" content="1993, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E95074-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="rmiregistry.html" title="Previous" type="text/html">
      <link rel="next" href="serialver.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TOOLS">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rmiregistry.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="serialver.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Tools Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="remote-method-invocation-rmi-commands.html" property="item" typeof="WebPage"><span property="name">Remote Method Invocation (RMI) Tools and Commands</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">rmid</li>
            </ol>
            <a id="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155" name="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155"></a>
            
            <h2 id="JSWOR-GUID-D87047C1-EC4C-4170-B093-5F028C1EE155" class="sect2">rmid</h2>
         </header>
         <div class="ind">
            <div>
               <p><span>You use the <code class="codeph">rmid</code> command to start the activation system daemon that enables objects to be registered and activated in a Java Virtual Machine (JVM).</span></p>
               <div class="section">
                  <p class="subhead1" id="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-E1D3DD83-5EFA-4FF4-8C97-C056683150A3">Synopsis</p><pre class="pre codeblock"><code>rmid [<span class="variable" translate="no">options</span>]</code></pre><dl>
                     <dt class="dlterm"><a name="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-5DB28DCE-FBE3-4730-A4AF-64D0EF78E810">
                           <!-- --></a><code class="codeph"><span class="variable" translate="no">options</span></code></dt>
                     <dd>
                        <p>This represent the command-line options for the <code class="codeph">rmid</code> command. See <a href="rmid.html#GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__CIHDCGEF">Options for rmid</a>. 
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-DAB99438-8EFA-4C24-B2A1-198052FD7AA8">Description</p>
                  <p>The <code class="codeph">rmid</code> command starts the activation system daemon. The activation system daemon must be started before objects that can be activated are either registered with the activation system or activated in a JVM. 
                  </p>
                  <p>Start the daemon by executing the <code class="codeph">rmid</code> command and specifying a security policy file, as follows:
                  </p><code class="codeph">rmid -J-Djava.security.policy=rmid.policy </code><p>When you run Oracle's implementation of the <code class="codeph">rmid</code> command, by default you must specify a security policy file so that the <code class="codeph">rmid</code> command can verify whether or not the information in each <code class="codeph">ActivationGroupDesc</code> is allowed to be used to start a JVM for an activation group. Specifically, the command and options specified by the <code class="codeph">CommandEnvironment</code> and any properties passed to an <code class="codeph">ActivationGroupDesc</code> constructor must now be explicitly allowed in the security policy file for the <code class="codeph">rmid</code> command. The value of the <code class="codeph">sun.rmi.activation.execPolicy</code> property dictates the policy that the <code class="codeph">rmid</code> command uses to determine whether or not the information in an <code class="codeph">ActivationGroupDesc</code> can be used to start a JVM for an activation group. For more information see the description of the <code class="codeph">-J-Dsun.rmi.activation.execPolicy=policy</code> option.
                  </p>
                  <p>Executing the <code class="codeph">rmid</code> command starts the <code class="codeph">Activator</code> and an internal registry on the default port 1098 and binds an <code class="codeph">ActivationSystem</code> to the name <code class="codeph">java.rmi.activation.ActivationSystem</code> in this internal registry.
                  </p>
                  <p>To specify an alternate port for the registry, you must specify the <code class="codeph">-port</code> option when you execute the <code class="codeph">rmid</code> command. For example, the following command starts the activation system daemon and a registry on the registry's default port, 1099.
                  </p><pre class="pre codeblock"><code>rmid -J-Djava.security.policy=rmid.policy -port 1099
</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-842E0A24-C478-48CE-AB78-078E727C06A7">Start RMID on Demand (Oracle Solaris and Linux Only)</p>
                  <p>An alternative to starting <code class="codeph">rmid</code> from the command line is to configure <code class="codeph">inetd</code> (Oracle Solaris) or <code class="codeph">xinetd</code> (Linux) to start <code class="codeph">rmid</code> on demand.
                  </p>
                  <p>When RMID starts, it attempts to obtain an inherited channel (inherited from <code class="codeph">inetd</code>/<code class="codeph">xinetd</code>) by calling the <code class="codeph">System.inheritedChannel</code> method. If the inherited channel is null or not an instance of <code class="codeph">java.nio.channels.ServerSocketChannel</code>, then RMID assumes that it wasn’t started by <code class="codeph">inetd</code>/<code class="codeph">xinetd</code>, and it starts as previously described.
                  </p>
                  <p>If the inherited channel is a <code class="codeph">ServerSocketChannel</code> instance, then RMID uses the <code class="codeph">java.net.ServerSocket</code> obtained from the <code class="codeph">ServerSocketChannel</code> as the server socket that accepts requests for the remote objects it exports: The registry in which the <code class="codeph">java.rmi.activation.ActivationSystem</code> is bound and the <code class="codeph">java.rmi.activation.Activator</code> remote object. In this mode, RMID behaves the same as when it is started from the command line, except in the following cases:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Output printed to <code class="codeph">System.err</code> is redirected to a file. This file is located in the directory specified by the <code class="codeph">java.io.tmpdir</code> system property (typically <code class="codeph">/var/tmp</code> or <code class="codeph">/tmp</code>) with the prefix <code class="codeph">rmid-err</code> and the suffix <code class="codeph">tmp</code>.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">-port</code> option isn’t allowed. If this option is specified, then RMID exits with an error message.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">-log</code> option is required. If this option isn’t specified, then RMID exits with an error message
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__CIHDCGEF">
                  <p class="subhead1" id="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-46BF060E-8041-4D71-8B25-5B3AE1751CBB">Options for rmid</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-1C6EAD91-8163-4BAD-BD23-2267AD4AA3F6">
                           <!-- --></a><code class="codeph">-C<span class="variable" translate="no"> option</span></code></dt>
                     <dd>
                        <p>Specifies an option that’s passed as a command-line argument to each child process (activation group) of the <code class="codeph">rmid</code> command when that process is created. For example, you could pass a property to each virtual machine spawned by the activation system daemon: 
                        </p><pre class="pre codeblock"><code>rmid -C-Dsome.property=value
</code></pre><p>This ability to pass command-line arguments to child processes can be useful for debugging. For example, the following command enables server-call logging in all child JVMs.</p><pre class="pre codeblock"><code>rmid -C-Djava.rmi.server.logCalls=true
</code></pre></dd>
                     <dt class="dlterm"><a name="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-D771A451-A918-4B64-AA97-53A20EC31C99">
                           <!-- --></a><code class="codeph">-J<span class="variable" translate="no"> option</span></code></dt>
                     <dd>
                        <p>Specifies an option that’s passed to the Java interpreter running RMID command. For example, to specify that the <code class="codeph">rmid</code> command use a policy file named <code class="codeph">rmid.policy</code>, the <code class="codeph">-J</code> option can be used to define the <code class="codeph">java.security.policy</code> property on the <code class="codeph">rmid</code> command line, for example:
                        </p><pre class="pre codeblock"><code>rmid -J-Djava.security.policy-rmid.policy
</code></pre></dd>
                     <dt class="dlterm"><a name="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-695E53AA-666E-4094-8E2E-466DBCB7F7A7">
                           <!-- --></a><code class="codeph">-J-Dsun.rmi.activation.execPolicy=<span class="variable" translate="no">policy</span></code></dt>
                     <dd>
                        <p>Specifies the policy that the RMID command employs to check commands and command-line options used to start the JVM in which an activation group runs. This option exists only in Oracle's implementation of the Java RMI activation daemon. If this property isn’t specified on the command line, then the result is the same as though <code class="codeph">-J-Dsun.rmi.activation.execPolicy=default</code> were specified. 
                        </p>
                        <p>The possible values of <code class="codeph"><span class="variable" translate="no">policy</span></code> can be <code class="codeph">default</code>, <code class="codeph"><span class="variable" translate="no">policyClassName</span></code>, or <code class="codeph">none</code>.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">default</code></p>
                              <p>The <code class="codeph">default</code> or unspecified value <code class="codeph">execPolicy</code> allows the <code class="codeph">rmid</code> command to execute commands with specific command-line options only when the <code class="codeph">rmid</code> command was granted permission to execute those commands and options in the security policy file that the <code class="codeph">rmid</code> command uses. Only the default activation group implementation can be used with the default execution policy. 
                              </p>
                              <p>The <code class="codeph">rmid</code> command starts a JVM for an activation group with the information in the group's registered activation group descriptor, <code class="codeph">ActivationGroupDesc</code>. The group descriptor specifies an optional <code class="codeph">ActivationGroupDesc.CommandEnvironment</code> that includes the command to execute to start the activation group and any command-line options to be added to the command line. By default, the <code class="codeph">rmid</code> command uses the <code class="codeph">java</code> command found in <code class="codeph">java.home</code>. The group descriptor also contains properties overrides that are added to the command line as options defined as: <code class="codeph">-D<span class="variable" translate="no">property</span>=<span class="variable" translate="no">value</span></code>. The <code class="codeph">com.sun.rmi.rmid.ExecPermission</code> permission grants the <code class="codeph">rmid</code> command permission to execute a command that’s specified in the group descriptor's <code class="codeph">CommandEnvironment</code> to start an activation group. The <code class="codeph">com.sun.rmi.rmid.ExecOptionPermission</code> permission enables the <code class="codeph">rmid</code> command to use command-line options, specified as properties overrides in the group descriptor or as options in the <code class="codeph">CommandEnvironment</code> when starting the activation group. When granting the <code class="codeph">rmid</code> command permission to execute various commands and options, the permissions <code class="codeph">ExecPermission</code> and <code class="codeph">ExecOptionPermission</code> must be granted to all code sources.
                              </p>
                              <p><code class="codeph">ExecPermission</code> class: Represents permission for the <code class="codeph">rmid</code> command to execute a specific command to start an activation group. 
                              </p>
                              <p><code class="codeph">ExecPermission</code> syntax: The name of <code class="codeph">ExecPermission</code> is the path name of a command to grant the <code class="codeph">rmid</code> command permission to execute. 
                              </p>
                              <p>A path name that ends in a slash (<code class="codeph">/</code>) and an asterisk (<code class="codeph">*</code>) indicates that all of the files are contained in that directory where the slash is the file-separator character, <code class="codeph">File.separatorChar</code>. 
                              </p>
                              <p>A path name that ends in a slash (<code class="codeph">/</code>) and a minus sign (<code class="codeph">-</code>) indicates that all files and subdirectories are contained in that directory (recursively). 
                              </p>
                              <p>A path name that consists of the special token <code class="codeph">&lt;&lt;ALL FILES&gt;&gt;</code> matches any file.
                              </p>
                              <p>A path name that consists of an asterisk (<code class="codeph">*</code>) indicates that all the files are in the current directory. 
                              </p>
                              <p>A path name that consists of a minus sign (<code class="codeph">-</code>) indicates that all the files are in the current directory and (recursively) all files and subdirectories are contained in the current directory.
                              </p>
                              <p><code class="codeph">ExecOptionPermission</code> class: Represents permission for the <code class="codeph">rmid</code> command to use a specific command-line option when starting an activation group. The name of <code class="codeph">ExecOptionPermission</code> is the value of a command-line option. 
                              </p>
                              <p><code class="codeph">ExecOptionPermission</code> syntax: Options support a limited wild card scheme. An asterisk signifies a wild card match, and it can appear as the option name itself (matches any option), or an asterisk (*) can appear at the end of the option name only when the asterisk (<code class="codeph">*</code>) follows a dot (<code class="codeph">.</code>) or an equals sign (<code class="codeph">=</code>).
                              </p>
                              <p>For example: <code class="codeph">*</code> or <code class="codeph">-Dmydir.*</code> or <code class="codeph">-Da.b.c=*</code> is valid, but <code class="codeph">*mydir</code> or <code class="codeph">-Da*b</code> or <code class="codeph">ab*</code> isn’t valid.
                              </p>
                              <p><span class="bold">Policy file for rmid</span></p>
                              <p>When you grant the <code class="codeph">rmid</code> command permission to execute various commands and options, the permissions <code class="codeph">ExecPermission</code> and <code class="codeph">ExecOptionPermission</code> must be granted to all code sources (universally). It is safe to grant these permissions universally because only the <code class="codeph">rmid</code> command checks these permissions. 
                              </p>
                              <p>An example policy file that grants various execute permissions to the <code class="codeph">rmid</code> command is:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Oracle Solaris:</span></p><pre class="pre codeblock"><code>grant {
    permission com.sun.rmi.rmid.ExecPermission
        "/files/apps/java/jdk1.7.0/solaris/bin/java";
 
    permission com.sun.rmi.rmid.ExecPermission
        "/files/apps/rmidcmds/*";
 
    permission com.sun.rmi.rmid.ExecOptionPermission
        "-Djava.security.policy=/files/policies/group.policy";
 
    permission com.sun.rmi.rmid.ExecOptionPermission
        "-Djava.security.debug=*";
 
    permission com.sun.rmi.rmid.ExecOptionPermission
        "-Dsun.rmi.*";
};
</code></pre></li>
                                 <li>
                                    <p><span class="bold">Windows:</span></p><pre class="pre codeblock"><code>grant {
    permission com.sun.rmi.rmid.ExecPermission
        "c:\\files\\apps\\java\\jdk1.7.0\\win\\bin\\java";
 
    permission com.sun.rmi.rmid.ExecPermission
        "c:\\files\\apps\\rmidcmds\\*";
 
    permission com.sun.rmi.rmid.ExecOptionPermission
        "-Djava.security.policy=c:\\files\\policies\\group.policy";
 
    permission com.sun.rmi.rmid.ExecOptionPermission
        "-Djava.security.debug=*";
 
    permission com.sun.rmi.rmid.ExecOptionPermission
        "-Dsun.rmi.*";
};
</code></pre></li>
                              </ul>
                              <p>The first permission granted allows the <code class="codeph">rmid</code> command to execute the 1.7.0 release of the <code class="codeph">java</code> command, specified by its explicit path name. By default, the version of the <code class="codeph">java</code> command found in <code class="codeph">java.home</code> is used (the same one that the <code class="codeph">rmid</code> command uses), and doesn’t need to be specified in the policy file. The second permission allows the <code class="codeph">rmid</code> command to execute any command in either the directory <code class="codeph">/files/apps/rmidcmds</code> (Oracle Solaris, Linux, and macOS) or the directory <code class="codeph">c:\files\apps\rmidcmds\</code> (Windows).
                              </p>
                              <p>The third permission granted, <code class="codeph">ExecOptionPermission</code>, allows the <code class="codeph">rmid</code> command to start an activation group that defines the security policy file to be either <code class="codeph">/files/policies/group.policy</code> (Oracle Solaris) or <code class="codeph">c:\files\policies\group.policy</code> (Windows). The next permission allows the <code class="codeph">java.security.debug property</code> to be used by an activation group. The last permission allows any property in the <code class="codeph">sun.rmi property</code> name hierarchy to be used by activation groups.
                              </p>
                              <p>To start the <code class="codeph">rmid</code> command with a policy file, the <code class="codeph">java.security.policy</code> property needs to be specified on the <code class="codeph">rmid</code> command line, for example: 
                              </p>
                              <p><code class="codeph">rmid -J-Djava.security.policy=rmid.policy</code>. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph"><span class="variable" translate="no">policyClassName</span></code> 
                              </p>
                              <p>If the default behavior isn’t flexible enough, then an administrator can provide, when starting the <code class="codeph">rmid</code> command, the name of a class whose <code class="codeph">checkExecCommand</code> method is executed to check commands to be executed by the <code class="codeph">rmid</code> command.
                              </p>
                              <p>The <code class="codeph">policyClassName</code> specifies a public class with a public, no-argument constructor and an implementation of the following <code class="codeph">checkExecCommand</code> method:
                              </p><pre class="pre codeblock"><code> public void checkExecCommand(ActivationGroupDesc desc, String[] command)
        throws SecurityException;
</code></pre><p>Before starting an activation group, the <code class="codeph">rmid</code> command calls the policy's <code class="codeph">checkExecCommand</code> method and passes to it the activation group descriptor and an array that contains the complete command to start the activation group. If the <code class="codeph">checkExecCommand</code> throws a <code class="codeph">SecurityException</code>, then the <code class="codeph">rmid</code> command doesn’t start the activation group and an <code class="codeph">ActivationException</code> is thrown to the caller attempting to activate the object.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">none</code></p>
                              <p>If the <code class="codeph">sun.rmi.activation.execPolicy</code> property value is <code class="codeph">none</code>, then the <code class="codeph">rmid</code> command doesn’t perform any validation of commands to start activation groups.
                              </p>
                           </li>
                        </ul>
                     </dd>
                     <dt class="dlterm"><a name="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-FA5C979F-370E-4434-8BA0-CE9517296139">
                           <!-- --></a><code class="codeph">-log <span class="variable" translate="no">dir</span></code></dt>
                     <dd>
                        <p>Specifies the name of the directory that the activation system daemon uses to write its database and associated information. The log directory defaults to creating a log, in the directory in which the <code class="codeph">rmid</code> command was executed.
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-86ECA5D5-89EC-4798-9526-3C72523C2219">
                           <!-- --></a><code class="codeph">-port <span class="variable" translate="no">port</span></code></dt>
                     <dd>
                        <p>Specifies the port that the registry uses. The activation system daemon binds <code class="codeph">ActivationSystem</code>, with the name <code class="codeph">java.rmi.activation.ActivationSystem</code>, in this registry. The <code class="codeph">ActivationSystem</code> on the local machine can be obtained using the following <code class="codeph">Naming.lookup</code> method call:
                        </p><pre class="pre codeblock"><code>import java.rmi.*; 
    import java.rmi.activation.*;
 
    ActivationSystem system; system = (ActivationSystem)
    Naming.lookup("//:port/java.rmi.activation.ActivationSystem");
</code></pre></dd>
                     <dt class="dlterm"><a name="GUID-D87047C1-EC4C-4170-B093-5F028C1EE155__GUID-92C8E98A-21C7-434B-A4A2-BD31219B9A2D">
                           <!-- --></a><code class="codeph">-stop</code></dt>
                     <dd>
                        <p>Stops the current invocation of the <code class="codeph">rmid</code> command for a port specified by the <code class="codeph">-port</code> option. If no port is specified, then this option stops the <code class="codeph">rmid</code> invocation running on port 1098.
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>
