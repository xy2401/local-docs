<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 18. Seam Text</title><link rel="stylesheet" href="css/seamframework.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="Seam - Contextual Components"/><link rel="up" href="index.html" title="Seam - Contextual Components"/><link rel="prev" href="i18n.html" title="Chapter 17. Internationalization, localization and themes"/><link rel="next" href="itext.html" title="Chapter 19. iText PDF generation"/></head><body><p id="title"><a href="http://www.seamframework.org" class="site_href"><strong>SeamFramework.org</strong></a><a href="http://www.seamframework.org/Documentation" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="i18n.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="itext.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="text"/>Chapter 18. Seam Text</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="text.html#d0e14282">18.1. Basic fomatting</a></span></dt><dt><span class="section"><a href="text.html#d0e14325">18.2. Entering code and text with special characters</a></span></dt><dt><span class="section"><a href="text.html#d0e14367">18.3. Links</a></span></dt><dt><span class="section"><a href="text.html#d0e14380">18.4. Entering HTML</a></span></dt><dt><span class="section"><a href="text.html#d0e14393">18.5. Using the SeamTextParser</a></span></dt></dl></div><p>
        Collaboration-oriented websites require a human-friendly markup language for easy entry
        of formatted text in forum posts, wiki pages, blogs, comments, etc. Seam provides the
        <code class="literal">&lt;s:formattedText/&gt;</code> control for display of formatted text that
        conforms to the <span class="emphasis"><em>Seam Text</em></span> language. Seam Text is implemented using
        an ANTLR-based parser. You don't need to know anything about ANTLR to use it, however.
    </p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e14282"/>18.1. Basic fomatting</h2></div></div></div><p>
            Here is a simple example:
        </p><pre class="programlisting">It's easy to make *emphasis*, |monospace|,
~deleted text~, super^scripts^ or _underlines_.</pre><p>
            If we display this using <code class="literal">&lt;s:formattedText/&gt;</code>, we will get
            the following HTML produced:
        </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XHTML"><!-- XHTML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">It's&nbsp;easy&nbsp;to&nbsp;make&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">i</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">emphasis</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">i</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">,&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">tt</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">monospace</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">tt</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">del</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">deleted&nbsp;text</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">del</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">,&nbsp;super</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">sup</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">scripts</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">sup</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;or&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">u</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">underlines</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">u</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">.</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
            We can use a blank line to indicate a new paragraph, and <code class="literal">+</code> to
            indicate a heading:
        </p><pre class="programlisting">+This is a big heading
You *must* have some text following a heading!
 
++This is a smaller heading
This is the first paragraph. We can split it across multiple 
lines, but we must end it with a blank line.

This is the second paragraph.</pre><p>
            (Note that a simple newline is ignored, you need an additional blank line to wrap text into a new paragraph.)
           This is the HTML that results:
        </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XHTML"><!-- XHTML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h1</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">This&nbsp;is&nbsp;a&nbsp;big&nbsp;heading</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">h1</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">You&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">i</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">must</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">i</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;have&nbsp;some&nbsp;text&nbsp;following&nbsp;a&nbsp;heading!</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h2</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">This&nbsp;is&nbsp;a&nbsp;smaller&nbsp;heading</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">h2</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">This&nbsp;is&nbsp;the&nbsp;first&nbsp;paragraph.&nbsp;We&nbsp;can&nbsp;split&nbsp;it&nbsp;across&nbsp;multiple&nbsp;</span><br />
<span class="xml_plain">lines,&nbsp;but&nbsp;we&nbsp;must&nbsp;end&nbsp;it&nbsp;with&nbsp;a&nbsp;blank&nbsp;line.</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">This&nbsp;is&nbsp;the&nbsp;second&nbsp;paragraph.</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
            Ordered lists are created using the <code class="literal">#</code> character. Unordered lists
            use the <code class="literal">=</code> character:
        </p><pre class="programlisting">An ordered list:
        
#first item
#second item
#and even the /third/ item

An unordered list:

=an item
=another item</pre><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XHTML"><!-- XHTML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">An&nbsp;ordered&nbsp;list:</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">ol</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">first&nbsp;item</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">second&nbsp;item</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">and&nbsp;even&nbsp;the&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">i</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">third</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">i</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;item</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">ol</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">An&nbsp;unordered&nbsp;list:</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">ul</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">an&nbsp;item</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">another&nbsp;item</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">li</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">ul</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
            Quoted sections should be surrounded in double quotes:
        </p><pre class="programlisting">The other guy said:
        
"Nyeah nyeah-nee 
/nyeah/ nyeah!"

But what do you think he means by "nyeah-nee"?</pre><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XHTML"><!-- XHTML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">The&nbsp;other&nbsp;guy&nbsp;said:</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">q</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Nyeah&nbsp;nyeah-nee</span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">i</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">nyeah</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">i</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;nyeah!</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">q</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">But&nbsp;what&nbsp;do&nbsp;you&nbsp;think&nbsp;he&nbsp;means&nbsp;by&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">q</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">nyeah-nee</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">q</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">?</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e14325"/>18.2. Entering code and text with special characters</h2></div></div></div><p>
            Special characters such as <code class="literal">*</code>, <code class="literal">|</code>
            and <code class="literal">#</code>, along with HTML characters such as
            <code class="literal">&lt;</code>, <code class="literal">&gt;</code> and <code class="literal">&amp;</code> 
            may be escaped using <code class="literal">\</code>:
        </p><pre class="programlisting">You can write down equations like 2\*3\=6 and HTML tags
like \&lt;body\&gt; using the escape character: \\.</pre><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XHTML"><!-- XHTML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">You&nbsp;can&nbsp;write&nbsp;down&nbsp;equations&nbsp;like&nbsp;2*3=6&nbsp;and&nbsp;HTML&nbsp;tags</span><br />
<span class="xml_plain">like&nbsp;&amp;lt;body&amp;gt;&nbsp;using&nbsp;the&nbsp;escape&nbsp;character:&nbsp;\.</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
            And we can quote code blocks using backticks:
        </p><pre class="programlisting">My code doesn't work:

`for (int i=0; i&lt;100; i--)
{
    doSomething();
}`

Any ideas?</pre><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XHTML"><!-- XHTML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">My&nbsp;code&nbsp;doesn't&nbsp;work:</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">pre</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">for&nbsp;(int&nbsp;i=0;&nbsp;i&amp;lt;100;&nbsp;i--)</span><br />
<span class="xml_plain">{</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;doSomething();</span><br />
<span class="xml_plain">}</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">pre</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">Any&nbsp;ideas?</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">p</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
          Note that inline monospace formatting always escapes (most monospace formatted text is in fact
          code or tags with many special characters). So you can, for example, write:
       </p><pre class="programlisting">This is a |&lt;tag attribute="value"/&gt;| example.</pre><p>
          without escaping any of the characters inside the monospace bars. The downside is that
          you can't format inline monospace text in any other way (italics, underscore, and so on).
       </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e14367"/>18.3. Links</h2></div></div></div><p>
            A link may be created using the following syntax:
        </p><pre class="programlisting">Go to the Seam website at [=&gt;http://jboss.org/schema/seam].</pre><p>
            Or, if you want to specify the text of the link:
        </p><pre class="programlisting">Go to [the Seam website=&gt;http://jboss.org/schema/seam].</pre><p>
            For advanced users, it is even possible to customize the Seam Text parser to understand
            wikiword links written using this syntax.
        </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e14380"/>18.4. Entering HTML</h2></div></div></div><p>
            Text may even include a certain limited subset of HTML (don't worry, the subset is chosen
            to be safe from cross-site scripting attacks). This is useful for creating links:
        </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XHTML"><!-- XHTML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain">You&nbsp;might&nbsp;want&nbsp;to&nbsp;link&nbsp;to&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">a</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">href</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://jboss.org/schema/seam&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">something</span><br />
<span class="xml_plain">cool</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">a</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">,&nbsp;or&nbsp;even&nbsp;include&nbsp;an&nbsp;image:&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">img</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">src</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;/logo.jpg&quot;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
</pre><p>
           And for creating tables:
        </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XHTML"><!-- XHTML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">table</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">tr</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">td</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">First&nbsp;name:</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">td</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">td</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Gavin</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">td</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">tr</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">tr</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">td</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Last&nbsp;name:</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">td</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">td</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">King</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">td</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">tr</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">table</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
            But you can do much more if you want!
        </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e14393"/>18.5. Using the SeamTextParser</h2></div></div></div><p>
           The <code class="literal">&lt;s:formattedText/&gt;</code> JSF component internally uses the
           <code class="literal">org.jboss.seam.text.SeamTextParser</code>. You can use that class directly and implement
           your own text parsing, rendering, or HTML sanitation procedure. This is especially useful if you have
           a custom frontend for entering rich text, such as a Javascript-based HTML editor, and you want to validate
           user input to protect your website against Cross-Site Scripting (XSS) attacks. Another usecase
           are custom wiki text parsing and rendering engines.
       </p><p>
           The following example defines a custom text parser that overrides the default HTML sanitizer:
       </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">MyTextParser</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">extends</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">SeamTextParser</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">MyTextParser</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;myText</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">SeamTextLexer</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">StringReader</span><span class="java_separator">(</span><span class="java_plain">myText</span><span class="java_separator">)));</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setSanitizer</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">DefaultSanitizer</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Override</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;validateHtmlElement</span><span class="java_separator">(</span><span class="java_type">Token</span><span class="java_plain">&nbsp;element</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">SemanticException</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;TODO</span><span class="java_operator">:</span><span class="java_plain">&nbsp;I&nbsp;want&nbsp;to&nbsp;validate&nbsp;HTML&nbsp;elements&nbsp;myself</span><span class="java_operator">!</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;</span><span class="java_type">Customizes</span><span class="java_plain">&nbsp;rendering&nbsp;of&nbsp;</span><span class="java_type">Seam</span><span class="java_plain">&nbsp;text&nbsp;links&nbsp;such&nbsp;as&nbsp;</span><span class="java_separator">[</span><span class="java_type">Some</span><span class="java_plain">&nbsp;</span><span class="java_type">Text</span><span class="java_operator">=&gt;</span><span class="java_plain">http</span><span class="java_operator">://</span><span class="java_plain">example</span><span class="java_separator">.</span><span class="java_plain">com</span><span class="java_separator">]</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Override</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">protected</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;linkTag</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;descriptionText</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;linkText</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;&lt;a&nbsp;href=\&quot;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;linkText&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;\&quot;&gt;My&nbsp;Custom&nbsp;Link:&nbsp;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;descriptionText&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;&lt;/a&gt;&quot;</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;</span><span class="java_type">Renders</span><span class="java_plain">&nbsp;a&nbsp;</span><span class="java_operator">&lt;</span><span class="java_plain">p</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;or&nbsp;equivalent&nbsp;tag</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Override</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">protected</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;paragraphOpenTag</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;&lt;p&nbsp;class=\&quot;myCustomStyle\&quot;&gt;&quot;</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;parse</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">ANTLRException</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startRule</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_separator">}</span></pre><p>
           The <code class="literal">linkTag()</code> and <code class="literal">paragraphOpenTag()</code> methods are just some of many
           you can override to customize rendered output. These methods generally return <code class="literal">String</code>.
           See the Javadoc for more details.
       </p><p>
           Also consult the Javadoc of <code class="literal">org.jboss.seam.text.SeamTextParser.DefaultSanitizer</code> for
           more information on what HTML elements, attributes, and attribute values or filtered by default.
       </p></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="i18n.html"><strong>Prev</strong>Chapter 17. Internationalization, localization an...</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="itext.html"><strong>Next</strong>Chapter 19. iText PDF generation</a></li></ul></body></html>