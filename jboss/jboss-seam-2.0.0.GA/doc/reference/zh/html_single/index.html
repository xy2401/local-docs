<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Seam - &#35821;&#22659;&#30456;&#20851;&#30340;&#32452;&#20214; [&#28385;&#27743;&#32418;20080327]</title><link rel="stylesheet" href="../shared/css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="d0e1"></a>Seam - &#35821;&#22659;&#30456;&#20851;&#30340;&#32452;&#20214; [&#28385;&#27743;&#32418;20080327]</h1></div><div><h2 class="subtitle">Java EE&#26694;&#26550;</h2></div><div><p class="releaseinfo">2.0GA</p></div></div><div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="preface"><a href="#d0e10">JBoss Seam&#31616;&#20171;</a></span></dt><dt><span class="chapter"><a href="#tutorial">1. Seam &#20837;&#38376;</a></span></dt><dd><dl><dt><span class="section"><a href="#try-examples">1.1. &#35797;&#35797;&#30475;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e714">1.1.1. &#22312;JBoss AS&#19978;&#36816;&#34892;&#31034;&#20363;</a></span></dt><dt><span class="section"><a href="#d0e750">1.1.2. &#22312;Tomcat&#26381;&#21153;&#22120;&#19978;&#36816;&#34892;&#31034;&#20363;</a></span></dt><dt><span class="section"><a href="#d0e784">1.1.3. &#36816;&#34892;&#27979;&#35797;</a></span></dt></dl></dd><dt><span class="section"><a href="#registration-example">1.2. &#31532;&#19968;&#20010;&#20363;&#23376;&#65306;&#27880;&#20876;&#31034;&#20363;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e811">1.2.1. &#20102;&#35299;&#20195;&#30721;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e823">1.2.1.1. &#23454;&#20307;Bean&#65306;User.java</a></span></dt><dt><span class="section"><a href="#d0e945">1.2.1.2. &#26080;&#29366;&#24577;&#20250;&#35805;Bean&#65306;RegisterAction.java</a></span></dt><dt><span class="section"><a href="#d0e1064">1.2.1.3. &#20250;&#35805;Bean&#30340;&#26412;&#22320;&#25509;&#21475;&#65306;Register.java</a></span></dt><dt><span class="section"><a href="#d0e1076">1.2.1.4. Seam&#32452;&#20214;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;components.xml</a></span></dt><dt><span class="section"><a href="#d0e1111">1.2.1.5. Web&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;web.xml</a></span></dt><dt><span class="section"><a href="#d0e1126">1.2.1.6. JSF&#37197;&#32622;&#65306;faces-config.xml</a></span></dt><dt><span class="section"><a href="#d0e1154">1.2.1.7. EJB&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;ejb-jar.xml
				</a></span></dt><dt><span class="section"><a href="#d0e1169">1.2.1.8. EJB&#25345;&#20037;&#21270;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;persistence.xml</a></span></dt><dt><span class="section"><a href="#d0e1181">1.2.1.9. &#35270;&#22270;&#65306;register.xhtml &#21644; registered.xhtml
				</a></span></dt><dt><span class="section"><a href="#d0e1205">1.2.1.10. EAR&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;application.xml
				</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e1226">1.2.2. &#24037;&#20316;&#21407;&#29702;</a></span></dt></dl></dd><dt><span class="section"><a href="#messages">1.3. Seam&#20013;&#30340;&#21487;&#28857;&#20987;&#21015;&#34920;&#65306;&#28040;&#24687;&#31034;&#20363;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1308">1.3.1. &#29702;&#35299;&#20195;&#30721;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1319">1.3.1.1. &#23454;&#20307;Bean&#65306;Message.java
				</a></span></dt><dt><span class="section"><a href="#d0e1333">1.3.1.2. &#26377;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#65306;MessageManagerBean.java
				</a></span></dt><dt><span class="section"><a href="#d0e1472">1.3.1.3. &#20250;&#35805;Bean&#30340;&#26412;&#22320;&#25509;&#21475;&#65306;MessageManager.java
				</a></span></dt><dt><span class="section"><a href="#d0e1504">1.3.1.4. &#35270;&#22270;&#65306;messages.jsp</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e1517">1.3.2. &#24037;&#20316;&#21407;&#29702;</a></span></dt></dl></dd><dt><span class="section"><a href="#todo">1.4. Seam&#21644;jBPM&#65306;&#24453;&#21150;&#20107;&#39033;&#21015;&#34920;&#65288;todo list&#65289;&#31034;&#20363;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1608">1.4.1. &#29702;&#35299;&#20195;&#30721;</a></span></dt><dt><span class="section"><a href="#d0e1791">1.4.2. &#24037;&#20316;&#21407;&#29702;</a></span></dt></dl></dd><dt><span class="section"><a href="#numberguess">1.5. Seam&#39029;&#38754;&#27969;&#65306;&#29468;&#25968;&#23383;&#33539;&#20363;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1808">1.5.1. &#29702;&#35299;&#20195;&#30721;</a></span></dt><dt><span class="section"><a href="#d0e1916">1.5.2. &#24037;&#20316;&#21407;&#29702;</a></span></dt></dl></dd><dt><span class="section"><a href="#booking">1.6. &#19968;&#20010;&#23436;&#25972;&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#65306;&#23486;&#39302;&#39044;&#35746;&#33539;&#20363;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1924">1.6.1. &#20171;&#32461;</a></span></dt><dt><span class="section"><a href="#d0e1974">1.6.2. &#39044;&#35746;&#31995;&#32479;&#27010;&#20917;</a></span></dt><dt><span class="section"><a href="#d0e2022">1.6.3. &#29702;&#35299;Seam&#19994;&#21153;&#23545;&#35805;(Conversation)</a></span></dt><dt><span class="section"><a href="#d0e2258">1.6.4. Seam&#30340;UI&#25511;&#21046;&#24211;</a></span></dt><dt><span class="section"><a href="#d0e2290">1.6.5. Seam&#35843;&#35797;&#39029;&#38754;</a></span></dt></dl></dd><dt><span class="section"><a href="#dvdstore">1.7. &#19968;&#20010;&#20351;&#29992;Seam&#21644;jBPM&#30340;&#23436;&#25972;&#33539;&#20363;&#65306;DVD&#21830;&#24215;</a></span></dt><dt><span class="section"><a href="#hibernate">1.8. &#32467;&#21512;Seam&#21644;Hibernate&#30340;&#33539;&#20363;&#65306;Hibernate&#39044;&#35746;&#31995;&#32479;</a></span></dt><dt><span class="section"><a href="#blog">1.9. &#19968;&#20010;RESTful&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#65306;Blog&#33539;&#20363;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2383">1.9.1. &#20351;&#29992;&#8220;&#25289;&#8221;&#39118;&#26684;&#30340;MVC</a></span></dt><dt><span class="section"><a href="#d0e2436">1.9.2. &#21487;&#25910;&#34255;&#30340;&#25628;&#32034;&#32467;&#26524;&#39029;&#38754;</a></span></dt><dt><span class="section"><a href="#d0e2495">1.9.3. &#22312;RESTful&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;&#8220;&#25512;&#8221;&#39118;&#26684;&#65288;"push"-style&#65289;&#30340;MVC</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#gettingstarted">2. &#29992;Seam-gen&#36215;&#27493;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2569">2.1. &#20934;&#22791;&#27963;&#21160;</a></span></dt><dt><span class="section"><a href="#d0e2592">2.2. &#24314;&#31435;&#19968;&#20010;&#26032;&#30340;Eclipse&#39033;&#30446;</a></span></dt><dt><span class="section"><a href="#d0e2701">2.3. &#21019;&#24314;&#26032;&#21160;&#20316;</a></span></dt><dt><span class="section"><a href="#d0e2751">2.4. &#21019;&#24314;&#26377;&#21160;&#20316;&#30340;&#34920;&#21333;&#65288;form&#65289;</a></span></dt><dt><span class="section"><a href="#d0e2765">2.5. &#20174;&#29616;&#26377;&#25968;&#25454;&#24211;&#29983;&#25104;&#24212;&#29992;&#31243;&#24207;</a></span></dt><dt><span class="section"><a href="#d0e2780">2.6. &#23558;&#24212;&#29992;&#37096;&#32626;&#20026;EAR</a></span></dt><dt><span class="section"><a href="#gettingstarted-hotdeployment">2.7. Seam&#19982;&#22686;&#37327;&#28909;&#37096;&#32626;</a></span></dt><dt><span class="section"><a href="#d0e2894">2.8. &#22312;Jboss 4.0&#19979;&#20351;&#29992;Seam</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2899">2.8.1. &#23433;&#35013;JBoss 4.0</a></span></dt><dt><span class="section"><a href="#d0e2907">2.8.2. &#23433;&#35013;JSF 1.2 RI</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#concepts">3. &#19978;&#19979;&#25991;&#30456;&#20851;&#30340;&#32452;&#20214;&#27169;&#22411;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e2963">3.1. Seam&#19978;&#19979;&#25991;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e3002">3.1.1. Stateless context&#65288;&#26080;&#29366;&#24577;&#19978;&#19979;&#25991;&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3007">3.1.2. Event context&#65288;&#20107;&#20214;&#19978;&#19979;&#25991;&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3014">3.1.3. Page context&#65288;&#39029;&#38754;&#19978;&#19979;&#25991;&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3019">3.1.4. Conversation context&#65288;&#19994;&#21153;&#20250;&#35805;&#19978;&#19979;&#25991;&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3052">3.1.5. Session context&#65288;Session&#19978;&#19979;&#25991;&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3059">3.1.6. Business process context &#65288;&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3067">3.1.7. Application context&#65288;&#24212;&#29992;&#19978;&#19979;&#25991;&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3072">3.1.8. Context variables&#65288;&#19978;&#19979;&#25991;&#21464;&#37327;&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3096">3.1.9. Context&#25628;&#32034;&#20248;&#20808;&#32423;</a></span></dt><dt><span class="sect2"><a href="#d0e3128">3.1.10. &#24182;&#21457;&#27169;&#22411;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e3150">3.2. Seam &#32452;&#20214;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e3171">3.2.1. &#26080;&#29366;&#24577;Session Bean</a></span></dt><dt><span class="sect2"><a href="#d0e3193">3.2.2. &#26377;&#29366;&#24577;Session Bean</a></span></dt><dt><span class="sect2"><a href="#d0e3218">3.2.3. &#23454;&#20307;Bean</a></span></dt><dt><span class="sect2"><a href="#d0e3242">3.2.4. JavaBeans</a></span></dt><dt><span class="sect2"><a href="#d0e3264">3.2.5. &#28040;&#24687;&#39537;&#21160;Bean</a></span></dt><dt><span class="sect2"><a href="#d0e3273">3.2.6. &#25318;&#25130;</a></span></dt><dt><span class="sect2"><a href="#d0e3287">3.2.7. &#32452;&#20214;&#21517;&#23383;</a></span></dt><dt><span class="sect2"><a href="#d0e3347">3.2.8. &#23450;&#20041;&#32452;&#20214;&#33539;&#22260;&#65288;Defining the Component Scope&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3362">3.2.9. &#20855;&#26377;&#22810;&#20010;&#35282;&#33394;&#30340;&#32452;&#20214;&#65288;Components with multiple roles&#65289;</a></span></dt><dt><span class="sect2"><a href="#d0e3385">3.2.10. &#20869;&#32622;&#32452;&#20214;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e3400">3.3. &#21452;&#21521;&#27880;&#20837;</a></span></dt><dt><span class="sect1"><a href="#d0e3498">3.4. Lifecycle methods&#65288;&#29983;&#21629;&#21608;&#26399;&#26041;&#27861;&#65289;</a></span></dt><dt><span class="sect1"><a href="#d0e3550">3.5. &#26465;&#20214;&#35013;&#36733;&#65288;Conditional installation&#65289;</a></span></dt><dt><span class="sect1"><a href="#d0e3636">3.6. &#26085;&#24535;</a></span></dt><dt><span class="sect1"><a href="#d0e3684">3.7. Mutable&#25509;&#21475;&#21644;@ReadOnly</a></span></dt><dt><span class="sect1"><a href="#d0e3736">3.8. Factory&#21644;Manager&#32452;&#20214;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#xml">4. &#37197;&#32622;Seam&#32452;&#20214;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e3808">4.1. &#36890;&#36807;&#23646;&#24615;&#35774;&#32622;&#26469;&#37197;&#32622;&#32452;&#20214;</a></span></dt><dt><span class="sect1"><a href="#d0e3850">4.2. &#36890;&#36807; components.xml &#26469;&#37197;&#32622;&#32452;&#20214;</a></span></dt><dt><span class="sect1"><a href="#d0e4015">4.3. &#32454;&#31890;&#24230;&#30340;&#37197;&#32622;&#25991;&#20214;</a></span></dt><dt><span class="sect1"><a href="#d0e4053">4.4. &#21487;&#37197;&#32622;&#30340;&#23646;&#24615;&#31867;&#22411;</a></span></dt><dt><span class="sect1"><a href="#d0e4085">4.5. &#20351;&#29992;XML&#21629;&#21517;&#31354;&#38388;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#events">5. &#20107;&#20214;&#12289;&#25318;&#25130;&#22120;&#21644;&#24322;&#24120;&#22788;&#29702;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e4230">5.1. Seam&#20107;&#20214;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e4264">5.1.1. &#39029;&#38754;&#21160;&#20316;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e4304">5.1.1.1. &#39029;&#38754;&#21442;&#25968;</a></span></dt><dt><span class="sect3"><a href="#d0e4432">5.1.1.2. &#23548;&#33322;</a></span></dt><dt><span class="sect3"><a href="#d0e4505">5.1.1.3. &#23548;&#33322;&#30340;&#23450;&#20041;&#12289;&#39029;&#38754;&#21160;&#20316;&#21644;&#21442;&#25968;&#30340;&#32454;&#31890;&#24230;&#25991;&#20214;</a></span></dt></dl></dd><dt><span class="sect2"><a href="#d0e4521">5.1.2. &#32452;&#20214;&#39537;&#21160;&#30340;&#20107;&#20214;</a></span></dt><dt><span class="sect2"><a href="#d0e4572">5.1.3. &#19978;&#19979;&#25991;&#20107;&#20214;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e4743">5.2. Seam &#25318;&#25130;&#22120;</a></span></dt><dt><span class="sect1"><a href="#d0e4816">5.3. &#31649;&#29702;&#24322;&#24120;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e4824">5.3.1. &#24322;&#24120;&#21644;&#20107;&#21153;</a></span></dt><dt><span class="sect2"><a href="#d0e4850">5.3.2. &#28608;&#27963;Seam&#24322;&#24120;&#22788;&#29702;</a></span></dt><dt><span class="sect2"><a href="#d0e4868">5.3.3. &#20351;&#29992;&#27880;&#35299;&#22788;&#29702;&#24322;&#24120;</a></span></dt><dt><span class="sect2"><a href="#d0e4893">5.3.4. &#29992;XML&#22788;&#29702;&#24322;&#24120; </a></span></dt><dt><span class="sect2"><a href="#d0e4928">5.3.5. &#19968;&#20123;&#24120;&#35265;&#30340;&#24322;&#24120;</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#conversations">6. &#23545;&#35805;&#20197;&#21450;&#24037;&#20316;&#21306;&#31649;&#29702;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4992">6.1. Seam&#30340;&#23545;&#35805;&#27169;&#22411;</a></span></dt><dt><span class="section"><a href="#d0e5089">6.2. &#23884;&#22871;&#23545;&#35805;</a></span></dt><dt><span class="section"><a href="#d0e5114">6.3. &#20351;&#29992;GET&#35831;&#27714;&#26469;&#24320;&#22987;&#19968;&#20010;&#23545;&#35805;</a></span></dt><dt><span class="section"><a href="#d0e5215">6.4. &#21033;&#29992;&lt;s:link&gt;&#20197;&#21450;&lt;s:button&gt;</a></span></dt><dt><span class="section"><a href="#d0e5319">6.5. &#25104;&#21151;&#20449;&#24687;</a></span></dt><dt><span class="section"><a href="#d0e5347">6.6. &#20351;&#29992;&#8220;&#26174;&#24335;&#8221;&#30340;&#23545;&#35805;id</a></span></dt><dt><span class="section"><a href="#d0e5371">6.7. &#24037;&#20316;&#21306;&#31649;&#29702;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5386">6.7.1. &#24037;&#20316;&#21306;&#31649;&#29702;&#21450;JSF&#23548;&#33322;</a></span></dt><dt><span class="section"><a href="#d0e5407">6.7.2. &#24037;&#20316;&#21306;&#31649;&#29702;&#21644;jPDL&#39029;&#38754;&#27969;</a></span></dt><dt><span class="section"><a href="#d0e5423">6.7.3. &#23545;&#35805;&#36716;&#25442;&#22120;</a></span></dt><dt><span class="section"><a href="#d0e5439">6.7.4. &#23545;&#35805;&#21015;&#34920;</a></span></dt><dt><span class="section"><a href="#d0e5457">6.7.5. &#23548;&#33322;&#25511;&#20214;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5469">6.8. &#23545;&#35805;&#32452;&#20214;&#21644;JSF&#32452;&#20214;&#32465;&#23450;</a></span></dt><dt><span class="section"><a href="#d0e5495">6.9. &#23545;&#35805;&#32452;&#20214;&#30340;&#24182;&#21457;&#35843;&#29992;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5534">6.9.1. RichFaces Ajax</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#jbpm">7. &#39029;&#38754;&#27969;&#21644;&#19994;&#21153;&#27969;&#31243;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5598">7.1. Seam&#20013;&#30340;&#39029;&#38754;&#27969;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5618">7.1.1. &#20004;&#31181;&#23548;&#33322;&#27169;&#22411;</a></span></dt><dt><span class="section"><a href="#d0e5674">7.1.2. Seam&#21644;&#21518;&#36864;&#25353;&#38062;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5719">7.2. &#20351;&#29992;jPDL&#39029;&#38754;&#27969;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5722">7.2.1. &#23433;&#35013;&#39029;&#38754;&#27969;</a></span></dt><dt><span class="section"><a href="#d0e5734">7.2.2. &#24320;&#22987;&#39029;&#38754;&#27969;</a></span></dt><dt><span class="section"><a href="#d0e5775">7.2.3. &#39029;&#38754;&#33410;&#28857;&#21644;&#36339;&#36716;</a></span></dt><dt><span class="section"><a href="#d0e5833">7.2.4. &#27969;&#31243;&#25511;&#21046;</a></span></dt><dt><span class="section"><a href="#d0e5845">7.2.5. &#27969;&#31243;&#30340;&#32467;&#26463;</a></span></dt><dt><span class="section"><a href="#d0e5868">7.2.6. &#39029;&#38754;&#27969;&#32452;&#21512;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5889">7.3. Seam&#20013;&#30340;&#19994;&#21153;&#27969;&#31243;&#31649;&#29702;</a></span></dt><dt><span class="section"><a href="#d0e5929">7.4. &#20351;&#29992;jPDL&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5932">7.4.1. &#23433;&#35013;&#27969;&#31243;&#23450;&#20041;</a></span></dt><dt><span class="section"><a href="#d0e5939">7.4.2. &#21021;&#22987;&#21270;Actor id</a></span></dt><dt><span class="section"><a href="#d0e5955">7.4.3. &#21551;&#21160;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;</a></span></dt><dt><span class="section"><a href="#d0e5969">7.4.4. &#20219;&#21153;&#20998;&#37197;</a></span></dt><dt><span class="section"><a href="#d0e5980">7.4.5. &#20219;&#21153;&#21015;&#34920;</a></span></dt><dt><span class="section"><a href="#d0e6012">7.4.6. &#25191;&#34892;&#19968;&#20010;&#20219;&#21153;</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#persistence">8. Seam&#21644;&#23545;&#35937;/&#20851;&#31995;&#26144;&#23556;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6053">8.1. &#31616;&#20171;</a></span></dt><dt><span class="section"><a href="#persistence.seam-managed-transactions">8.2. Seam&#31649;&#29702;&#30340;&#20107;&#21153;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6119">8.2.1. &#20851;&#38381;Seam&#31649;&#29702;&#30340;&#20107;&#21153;</a></span></dt><dt><span class="section"><a href="#d0e6132">8.2.2. &#37197;&#32622;Seam&#20107;&#21153;&#31649;&#29702;&#22120;</a></span></dt><dt><span class="section"><a href="#d0e6189">8.2.3. &#20107;&#21153;&#21516;&#27493;</a></span></dt></dl></dd><dt><span class="section"><a href="#persistence.seam-managed-persistence-contexts">8.3. Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6227">8.3.1. &#22312;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#20013;&#20351;&#29992;JPA</a></span></dt><dt><span class="section"><a href="#d0e6279">8.3.2. &#20351;&#29992;Seam&#31649;&#29702;&#30340;Hibernate&#20250;&#35805;</a></span></dt><dt><span class="section"><a href="#d0e6311">8.3.3. Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#21644;&#21407;&#23376;&#20250;&#35805;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e6363">8.4. &#20351;&#29992;JPA &#8220;&#20195;&#29702;&#65288;delegate&#65289;&#8221;</a></span></dt><dt><span class="section"><a href="#d0e6392">8.5. &#22312;EJB-QL/HQL&#20013;&#20351;&#29992;EL</a></span></dt><dt><span class="section"><a href="#d0e6418">8.6. &#20351;&#29992;Hibernate&#36807;&#28388;&#22120;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validation">9. Seam&#20013;&#30340;JSF&#34920;&#21333;&#39564;&#35777;</a></span></dt><dt><span class="chapter"><a href="#groovy">10. Groovy&#38598;&#25104;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6534">10.1. Groovy&#31616;&#20171;</a></span></dt><dt><span class="section"><a href="#d0e6548">10.2. &#29992;Groovy&#32534;&#20889;Seam&#24212;&#29992;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6553">10.2.1. &#32534;&#20889;Groovy&#32452;&#20214;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6558">10.2.1.1. &#23454;&#20307;</a></span></dt><dt><span class="section"><a href="#d0e6578">10.2.1.2. Seam&#32452;&#20214;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e6586">10.2.2. seam-gen</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e6603">10.3. &#37096;&#32626;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6613">10.3.1. &#37096;&#32626;Groovy&#20195;&#30721;</a></span></dt><dt><span class="section"><a href="#d0e6624">10.3.2. &#24320;&#21457;&#26102;&#37096;&#32626;&#26412;&#22320;.groovy&#25991;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e6659">10.3.3. seam-gen</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#framework">11. Seam&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6690">11.1. &#31616;&#20171;</a></span></dt><dt><span class="section"><a href="#d0e6735">11.2. Home&#23545;&#35937;</a></span></dt><dt><span class="section"><a href="#d0e6900">11.3. Query&#23545;&#35937;</a></span></dt><dt><span class="section"><a href="#d0e6950">11.4. Controller&#23545;&#35937;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#drools">12. Seam&#21644;JBoss&#35268;&#21017;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e6981">12.1. &#23433;&#35013;&#35268;&#21017;</a></span></dt><dt><span class="section"><a href="#d0e7042">12.2. &#22312;Seam&#32452;&#20214;&#20013;&#20351;&#29992;&#35268;&#21017;</a></span></dt><dt><span class="section"><a href="#d0e7052">12.3. &#22312;jBPM&#27969;&#31243;&#23450;&#20041;&#20013;&#20351;&#29992;&#35268;&#21017;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#security">13. &#23433;&#20840;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e7100">13.1. &#27010;&#36848;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e7118">13.1.1. &#21738;&#31181;&#27169;&#24335;&#26356;&#36866;&#21512;&#25105;&#30340;&#24212;&#29992;&#31243;&#24207;&#21602;&#65311;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e7125">13.2. &#38656;&#27714;</a></span></dt><dt><span class="sect1"><a href="#d0e7157">13.3. &#21462;&#28040;&#23433;&#20840;</a></span></dt><dt><span class="sect1"><a href="#d0e7178">13.4. &#39564;&#35777;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e7183">13.4.1. &#37197;&#32622;</a></span></dt><dt><span class="sect2"><a href="#d0e7212">13.4.2. &#32534;&#20889;&#39564;&#35777;&#26041;&#27861;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e7254">13.4.2.1. Identity.addRole()</a></span></dt></dl></dd><dt><span class="sect2"><a href="#d0e7276">13.4.3. &#32534;&#20889;&#30331;&#24405;&#34920;&#21333;</a></span></dt><dt><span class="sect2"><a href="#d0e7300">13.4.4. &#31616;&#21270;&#37197;&#32622; - &#27010;&#36848;</a></span></dt><dt><span class="sect2"><a href="#d0e7318">13.4.5. &#22788;&#29702;&#23433;&#20840;&#24322;&#24120;</a></span></dt><dt><span class="sect2"><a href="#d0e7354">13.4.6. &#30331;&#24405;&#37325;&#23450;&#21521;</a></span></dt><dt><span class="sect2"><a href="#d0e7375">13.4.7. HTTP&#39564;&#35777;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e7415">13.4.7.1. &#32534;&#20889;Digest&#39564;&#35777;&#32773;</a></span></dt></dl></dd><dt><span class="sect2"><a href="#d0e7428">13.4.8. &#39640;&#32423;&#39564;&#35777;&#29305;&#24615;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e7433">13.4.8.1. &#20351;&#29992;&#23481;&#22120;&#30340;JAAS&#37197;&#32622;</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#d0e7455">13.5. &#38169;&#35823;&#28040;&#24687;</a></span></dt><dt><span class="sect1"><a href="#d0e7500">13.6. &#25480;&#26435;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e7508">13.6.1. &#26680;&#24515;&#27010;&#24565;</a></span></dt><dt><span class="sect2"><a href="#d0e7530">13.6.2. &#20445;&#25252;&#32452;&#20214;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e7538">13.6.2.1. @Restrict&#27880;&#35299;</a></span></dt><dt><span class="sect3"><a href="#d0e7639">13.6.2.2. &#34892;&#20869;&#38480;&#21046;</a></span></dt></dl></dd><dt><span class="sect2"><a href="#d0e7680">13.6.3. &#29992;&#25143;&#30028;&#38754;&#20013;&#30340;&#23433;&#20840;</a></span></dt><dt><span class="sect2"><a href="#d0e7723">13.6.4. &#20445;&#25252;&#39029;&#38754;</a></span></dt><dt><span class="sect2"><a href="#d0e7763">13.6.5. &#20445;&#25252;&#23454;&#20307;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e7888">13.6.5.1. &#20351;&#29992;JPA&#30340;&#23454;&#20307;&#23433;&#20840;</a></span></dt><dt><span class="sect3"><a href="#d0e7901">13.6.5.2. &#20351;&#29992;Hibernate&#30340;&#23454;&#20307;&#23433;&#20840;</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#d0e7909">13.7. &#32534;&#20889;&#23433;&#20840;&#35268;&#21017;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e7914">13.7.1. &#35768;&#21487;&#27010;&#36848;</a></span></dt><dt><span class="sect2"><a href="#d0e7922">13.7.2. &#37197;&#32622;&#35268;&#21017;&#25991;&#20214;</a></span></dt><dt><span class="sect2"><a href="#d0e7943">13.7.3. &#21019;&#24314;&#23433;&#20840;&#35268;&#21017;&#25991;&#20214;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e8100">13.7.3.1. &#36890;&#37197;&#31526;&#35768;&#21487;&#26816;&#26597;</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#d0e8121">13.8. SSL&#23433;&#20840;</a></span></dt><dt><span class="sect1"><a href="#d0e8191">13.9. &#23454;&#29616;Captcha&#27979;&#35797;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e8220">13.9.1. &#37197;&#32622;Captcha Servlet</a></span></dt><dt><span class="sect2"><a href="#d0e8230">13.9.2. &#28155;&#21152;Captcha&#21040;&#39029;&#38754;</a></span></dt><dt><span class="sect2"><a href="#d0e8248">13.9.3. &#23450;&#21046;Captcha&#22270;&#29255;</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#i18n">14. &#22269;&#38469;&#21270;&#21644;&#20027;&#39064;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e8285">14.1. &#26412;&#22320;&#21270;</a></span></dt><dt><span class="section"><a href="#d0e8336">14.2. &#26631;&#31614;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e8347">14.2.1. &#23450;&#20041;&#26631;&#31614;</a></span></dt><dt><span class="section"><a href="#d0e8420">14.2.2. &#26631;&#31614;&#26174;&#31034;</a></span></dt><dt><span class="section"><a href="#d0e8446">14.2.3. Faces Messages</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e8464">14.3. &#26102;&#21306;</a></span></dt><dt><span class="section"><a href="#d0e8486">14.4. &#20027;&#39064;</a></span></dt><dt><span class="section"><a href="#d0e8531">14.5. &#20351;&#29992;cookie&#20445;&#23384;locale&#21644;&#20027;&#39064;&#35774;&#32622;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#text">15. Seam Text</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e8555">15.1. &#22522;&#26412;&#26684;&#24335;&#21270;</a></span></dt><dt><span class="section"><a href="#d0e8598">15.2. &#36755;&#20837;&#20195;&#30721;&#21644;&#26377;&#29305;&#27530;&#23383;&#31526;&#30340;&#25991;&#26412;</a></span></dt><dt><span class="section"><a href="#d0e8640">15.3. &#38142;&#25509;</a></span></dt><dt><span class="section"><a href="#d0e8653">15.4. &#36755;&#20837;HTML</a></span></dt></dl></dd><dt><span class="chapter"><a href="#itext">16. iText PDF&#29983;&#25104;</a></span></dt><dd><dl><dt><span class="section"><a href="#itext.intro">16.1. &#20351;&#29992;PDF&#25903;&#25345;</a></span></dt><dd><dl><dt><span class="section"><a href="#itext.document">16.1.1. &#21019;&#24314;&#19968;&#20010;&#25991;&#26723;</a></span></dt><dt><span class="section"><a href="#itext.text">16.1.2. &#22522;&#26412;&#30340;&#25991;&#26412;&#20803;&#32032;</a></span></dt><dt><span class="section"><a href="#itext.header">16.1.3. &#39029;&#30473;&#21644;&#39029;&#33050;</a></span></dt><dt><span class="section"><a href="#itext.chapters">16.1.4. &#31456;&#33410;</a></span></dt><dt><span class="section"><a href="#itext.list">16.1.5. &#21015;&#34920;</a></span></dt><dt><span class="section"><a href="#itext.tables">16.1.6. &#34920;&#26684;</a></span></dt><dt><span class="section"><a href="#itext.constant">16.1.7. &#25991;&#26723;&#24120;&#37327;</a></span></dt><dd><dl><dt><span class="section"><a href="#itext.colors">16.1.7.1. &#39068;&#33394;&#20540;</a></span></dt><dt><span class="section"><a href="#itext.alignment">16.1.7.2. &#23545;&#40784;&#26041;&#24335;&#20540;</a></span></dt></dl></dd><dt><span class="section"><a href="#itext.configuration">16.1.8. iText&#37197;&#32622;</a></span></dt></dl></dd><dt><span class="section"><a href="#itext.charting">16.2. &#22270;&#34920;</a></span></dt><dt><span class="section"><a href="#itext.barcodes">16.3. &#26609;&#29366;&#22270;&#32534;&#30721;</a></span></dt><dt><span class="section"><a href="#itext.links">16.4. &#26356;&#35814;&#32454;&#30340;&#25991;&#26723;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#mail">17. &#30005;&#23376;&#37038;&#20214;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e11160">17.1. &#21019;&#24314;&#19968;&#26465;&#28040;&#24687;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e11201">17.1.1. &#38468;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e11279">17.1.2. HTML/Text &#20132;&#26367;&#37096;&#20998;</a></span></dt><dt><span class="section"><a href="#d0e11286">17.1.3. &#22810;&#20010;&#25910;&#20214;&#20154;</a></span></dt><dt><span class="section"><a href="#d0e11296">17.1.4. &#22810;&#26465;&#20449;&#24687;</a></span></dt><dt><span class="section"><a href="#d0e11306">17.1.5. &#27169;&#26495;</a></span></dt><dt><span class="section"><a href="#d0e11341">17.1.6. &#22269;&#38469;&#21270;</a></span></dt><dt><span class="section"><a href="#d0e11352">17.1.7. &#20854;&#23427;&#30340;&#26631;&#35782;&#22836;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e11368">17.2. &#25509;&#25910;&#37038;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e11410">17.3. &#37197;&#32622;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e11434">17.3.1. 
				mailSession
			</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e11446">17.3.1.1. &#22312;JBoss AS&#20013;&#26597;&#25214;JNDI</a></span></dt><dt><span class="section"><a href="#d0e11464">17.3.1.2. Seam&#37197;&#32622;&#20250;&#35805;</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#d0e11477">17.4. Meldware</a></span></dt><dt><span class="section"><a href="#mail.tags">17.5. &#26631;&#31614;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#jms">18. &#24322;&#27493;&#21644;&#28040;&#24687;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e11835">18.1. &#24322;&#27493;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e11877">18.1.1. &#24322;&#27493;&#26041;&#27861;</a></span></dt><dt><span class="sect2"><a href="#d0e11941">18.1.2. &#21253;&#21547;Quartz Dispatcher&#30340;&#24322;&#27493;&#26041;&#27861;</a></span></dt><dt><span class="sect2"><a href="#d0e12013">18.1.3. &#24322;&#27493;&#20107;&#20214;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e12033">18.2. Seam&#20013;&#30340;&#28040;&#24687;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e12038">18.2.1. &#37197;&#32622;</a></span></dt><dt><span class="sect2"><a href="#d0e12082">18.2.2. &#21457;&#36865;&#28040;&#24687;</a></span></dt><dt><span class="sect2"><a href="#d0e12099">18.2.3. &#21033;&#29992;&#28040;&#24687;&#39537;&#21160;Bean&#25509;&#25910;&#28040;&#24687;</a></span></dt><dt><span class="sect2"><a href="#d0e12104">18.2.4. &#22312;&#23458;&#25143;&#31471;&#25509;&#25910;&#28040;&#24687;</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#cache">19. &#32531;&#23384;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e12154">19.1. &#22312;Seam&#20013;&#20351;&#29992;JBossCache</a></span></dt><dt><span class="section"><a href="#d0e12200">19.2. &#39029;&#29255;&#27573;&#32531;&#23384;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#webservices">20. Web Services</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e12243">20.1. &#37197;&#32622;&#21644;&#25171;&#21253;</a></span></dt><dt><span class="sect1"><a href="#d0e12265">20.2. &#23545;&#35805;&#30340;Web Services</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e12295">20.2.1. &#24314;&#35758;&#31574;&#30053;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e12310">20.3. Web Servic&#33539;&#20363;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#remoting">21. Remoting</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e12383">21.1. &#37197;&#32622;</a></span></dt><dt><span class="sect1"><a href="#d0e12415">21.2. Seam&#23545;&#35937;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e12432">21.2.1. Hello World&#31034;&#20363;</a></span></dt><dt><span class="sect2"><a href="#d0e12509">21.2.2. Seam.Component</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e12529">21.2.2.1. Seam.Component.newInstance()</a></span></dt><dt><span class="sect3"><a href="#d0e12544">21.2.2.2. Seam.Component.getInstance()</a></span></dt><dt><span class="sect3"><a href="#d0e12565">21.2.2.3. Seam.Component.getComponentName()</a></span></dt></dl></dd><dt><span class="sect2"><a href="#d0e12575">21.2.3. Seam.Remoting</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e12583">21.2.3.1. Seam.Remoting.createType()</a></span></dt><dt><span class="sect3"><a href="#d0e12593">21.2.3.2. Seam.Remoting.getTypeName()</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#d0e12607">21.3. EL&#34920;&#36798;&#24335;&#27714;&#20540;</a></span></dt><dt><span class="sect1"><a href="#d0e12636">21.4. &#23458;&#25143;&#31471;&#25509;&#21475;</a></span></dt><dt><span class="sect1"><a href="#d0e12659">21.5. &#19978;&#19979;&#25991;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e12664">21.5.1. &#35774;&#32622;&#21644;&#35835;&#21462;&#23545;&#35805;ID</a></span></dt><dt><span class="sect2"><a href="#d0e12680">21.5.2. &#24403;&#21069;&#23545;&#35805;&#33539;&#22260;&#20869;&#30340;&#36828;&#31243;&#35843;&#29992;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e12687">21.6. &#25209;&#37327;&#35831;&#27714;</a></span></dt><dt><span class="sect1"><a href="#d0e12713">21.7. &#20351;&#29992;&#25968;&#25454;&#31867;&#22411;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e12716">21.7.1. &#21407;&#29983; / &#22522;&#26412; &#31867;&#22411;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e12721">21.7.1.1. String</a></span></dt><dt><span class="sect3"><a href="#d0e12726">21.7.1.2. Number</a></span></dt><dt><span class="sect3"><a href="#d0e12749">21.7.1.3. Boolean</a></span></dt></dl></dd><dt><span class="sect2"><a href="#d0e12754">21.7.2. JavaBeans</a></span></dt><dt><span class="sect2"><a href="#d0e12796">21.7.3. Date&#21644;Time</a></span></dt><dt><span class="sect2"><a href="#d0e12810">21.7.4. Enums &#26522;&#20030;&#31867;&#22411;</a></span></dt><dt><span class="sect2"><a href="#d0e12829">21.7.5. Collections &#38598;&#21512;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e12832">21.7.5.1. Bags</a></span></dt><dt><span class="sect3"><a href="#d0e12837">21.7.5.2. Maps</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#d0e12879">21.8. &#35843;&#35797;</a></span></dt><dt><span class="sect1"><a href="#d0e12901">21.9. &#21152;&#36733;&#28040;&#24687;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e12906">21.9.1. &#20462;&#25913;&#20449;&#24687;</a></span></dt><dt><span class="sect2"><a href="#d0e12916">21.9.2. &#38544;&#34255;&#21152;&#36733;&#20449;&#24687;</a></span></dt><dt><span class="sect2"><a href="#d0e12929">21.9.3. &#33258;&#23450;&#20041;&#21152;&#36733;&#25351;&#31034;&#22120;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e12942">21.10. &#25511;&#21046;&#36820;&#22238;&#25968;&#25454;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e12962">21.10.1. &#19968;&#33324;&#23383;&#27573;&#30340;&#32422;&#26463;</a></span></dt><dt><span class="sect2"><a href="#d0e12994">21.10.2. &#38598;&#21512;&#21644;&#26144;&#23556;&#30340;&#32422;&#26463;</a></span></dt><dt><span class="sect2"><a href="#d0e13053">21.10.3. &#29305;&#23450;&#31867;&#22411;&#23545;&#35937;&#30340;&#32422;&#26463;</a></span></dt><dt><span class="sect2"><a href="#d0e13060">21.10.4. &#32452;&#21512;&#32422;&#26463;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e13067">21.11. JMS&#28040;&#24687;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e13072">21.11.1. &#37197;&#32622;</a></span></dt><dt><span class="sect2"><a href="#d0e13091">21.11.2. &#35746;&#38405;JMS&#20027;&#39064;</a></span></dt><dt><span class="sect2"><a href="#d0e13129">21.11.3. &#36864;&#35746;&#20027;&#39064;</a></span></dt><dt><span class="sect2"><a href="#d0e13139">21.11.4. &#35843;&#25972;&#36718;&#35810;&#36807;&#31243;</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#gwt">22. Seam&#21644;Google&#30340;Web&#24037;&#20855;&#21253;(GWT)</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e13177">22.1. &#37197;&#32622;</a></span></dt><dt><span class="sect1"><a href="#d0e13184">22.2. &#20934;&#22791;&#20320;&#30340;&#32452;&#20214;</a></span></dt><dt><span class="sect1"><a href="#d0e13215">22.3. &#23558;GWT&#23567;&#32452;&#20214;&#25509;&#21040;Seam&#32452;&#20214;</a></span></dt><dt><span class="sect1"><a href="#d0e13250">22.4. GWT Ant Targets</a></span></dt></dl></dd><dt><span class="chapter"><a href="#spring">23. Spring Framework&#38598;&#25104;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e13331">23.1. &#25226;Seam&#32452;&#20214;&#27880;&#20837;Spring Bean&#20013; </a></span></dt><dt><span class="section"><a href="#d0e13377">23.2. &#23558;Spring Bean&#27880;&#20837;&#21040;Seam&#32452;&#20214;&#20013;</a></span></dt><dt><span class="section"><a href="#d0e13416">23.3. &#23558;Spring Bean&#36716;&#25442;&#20026;Seam&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e13456">23.4. Seam&#20316;&#29992;&#22495;&#30340;Spring Bean</a></span></dt><dt><span class="section"><a href="#spring-transactions">23.5. &#20351;&#29992;Spring PlatformTransactionManagement</a></span></dt><dt><span class="section"><a href="#spring-persistence">23.6. &#22312;Spring&#20013;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</a></span></dt><dt><span class="section"><a href="#spring-hibernate">23.7. &#22312;Spring&#20013;&#20351;&#29992;Seam&#31649;&#29702;&#30340;Hibernate&#20250;&#35805;</a></span></dt><dt><span class="section"><a href="#d0e13616">23.8. &#20316;&#20026;Seam&#32452;&#20214;&#30340;Spring&#24212;&#29992;&#19978;&#19979;&#25991;</a></span></dt><dt><span class="section"><a href="#d0e13655">23.9. &#20351;&#29992;Spring TaskExecutor&#30340;@Asynchronous</a></span></dt></dl></dd><dt><span class="chapter"><a href="#search">24. Hibernate Search</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e13687">24.1. &#31616;&#20171;</a></span></dt><dt><span class="section"><a href="#d0e13699">24.2. &#37197;&#32622;</a></span></dt><dt><span class="section"><a href="#d0e13745">24.3. &#29992;&#27861;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#configuration">25. Seam&#37197;&#32622;&#21644;Seam&#24212;&#29992;&#31243;&#24207;&#25171;&#21253;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e13833">25.1. Seam&#22522;&#26412;&#37197;&#32622;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e13838">25.1.1. 
          &#23558;Seam&#19982;JSF&#21644;servlet&#23481;&#22120;&#38598;&#25104;
          </a></span></dt><dt><span class="sect2"><a href="#d0e13863">25.1.2. &#20351;&#29992;Facelets</a></span></dt><dt><span class="sect2"><a href="#d0e13880">25.1.3. Seam Resource Servlet</a></span></dt><dt><span class="sect2"><a href="#d0e13890">25.1.4. Seam Servlet&#36807;&#28388;&#22120;</a></span></dt><dd><dl><dt><span class="sect3"><a href="#d0e13915">25.1.4.1. &#24322;&#24120;&#22788;&#29702;</a></span></dt><dt><span class="sect3"><a href="#d0e13940">25.1.4.2. &#36890;&#36807;&#37325;&#23450;&#21521;&#20256;&#25773;&#23545;&#35805;</a></span></dt><dt><span class="sect3"><a href="#d0e13959">25.1.4.3. &#22810;&#37325;&#34920;&#21333;&#25552;&#20132;</a></span></dt><dt><span class="sect3"><a href="#d0e13997">25.1.4.4. &#23383;&#31526;&#32534;&#30721;</a></span></dt><dt><span class="sect3"><a href="#d0e14040">25.1.4.5. RichFaces</a></span></dt><dt><span class="sect3"><a href="#d0e14091">25.1.4.6. Identity Logging</a></span></dt><dt><span class="sect3"><a href="#d0e14116">25.1.4.7. &#23450;&#21046;Servlet&#30340;&#19978;&#19979;&#25991;&#31649;&#29702;</a></span></dt><dt><span class="sect3"><a href="#d0e14153">25.1.4.8. &#22686;&#21152;&#23450;&#21046;&#30340;&#36807;&#28388;&#22120;</a></span></dt></dl></dd><dt><span class="sect2"><a href="#d0e14183">25.1.5. &#23558;Seam&#19982;&#20320;&#30340;EJB&#23481;&#22120;&#38598;&#25104;</a></span></dt><dt><span class="sect2"><a href="#d0e14229">25.1.6. &#20999;&#35760;&#65281;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e14264">25.2. &#22312;Java EE 5&#20013;&#37197;&#32622;Seam</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e14274">25.2.1. &#25171;&#21253;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e14331">25.3. &#22312;J2EE&#20013;&#37197;&#32622;Seam</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e14354">25.3.1. &#22312;Seam&#20013;&#24341;&#23548;Hibernate</a></span></dt><dt><span class="sect2"><a href="#d0e14377">25.3.2. &#22312;Seam&#20013;&#24341;&#23548;JPA</a></span></dt><dt><span class="sect2"><a href="#d0e14400">25.3.3. &#25171;&#21253;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e14409">25.4. &#22312;Java SE&#20013;&#37197;&#32622;Seam&#65292;&#27809;&#26377;&#20869;&#23884;JBoss</a></span></dt><dt><span class="sect1"><a href="#d0e14427">25.5. &#29992;&#23884;&#20837;&#24335;&#30340;JBoss&#22312;Java SE&#20013;&#37197;&#32622;Seam</a></span></dt><dd><dl><dt><span class="sect2"><a href="#config.install.embedded">25.5.1. &#23433;&#35013;&#23884;&#20837;&#24335;&#30340;JBoss</a></span></dt><dt><span class="sect2"><a href="#d0e14506">25.5.2. &#25171;&#21253;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e14518">25.6. &#22312;Seam&#20013;&#37197;&#32622;jBPM</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d0e14540">25.6.1. &#25171;&#21253;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#d0e14547">25.7. &#22312;Portal&#20013;&#37197;&#32622;Seam</a></span></dt><dt><span class="sect1"><a href="#d0e14558">25.8. &#22312;JBoss AS&#20013;&#37197;&#32622;SFSB&#21644;&#20250;&#35805;&#36229;&#26102;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#oc4j">26. Seam on OC4J</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e14604">26.1. jee5/booking &#23454;&#20363;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e14614">26.1.1. &#39044;&#35746;&#37202;&#24215;&#23454;&#20363;&#30340;&#20381;&#36182;&#21253;</a></span></dt><dt><span class="section"><a href="#d0e14665">26.1.2. OC4J&#38656;&#35201;&#30340;&#39069;&#22806;&#20381;&#36182;&#21253;</a></span></dt><dt><span class="section"><a href="#d0e14734">26.1.3. &#37197;&#32622;&#25991;&#20214;&#30340;&#25913;&#21464;</a></span></dt><dt><span class="section"><a href="#d0e14765">26.1.4. &#26500;&#24314; jee5/booking &#23454;&#20363;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e14806">26.2. &#37096;&#32626;Seam&#24212;&#29992;&#31243;&#24207;&#21040;OC4J&#20013;</a></span></dt><dt><span class="section"><a href="#d0e14910">26.3. 
      &#23558;&#19968;&#20010;&#20351;&#29992; seam-gen &#21019;&#24314;&#30340;&#24212;&#29992;&#31243;&#24207;&#37096;&#32626;&#21040;OC4J&#20013;&#12290;
      </a></span></dt><dd><dl><dt><span class="section"><a href="#d0e15208">26.3.1. seam-gen&#20043;&#31867;&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;OC4J&#37096;&#32626;&#25551;&#36848;&#31526;</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#annotations">27. Seam&#27880;&#35299;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e15251">27.1. &#29992;&#20110;&#23450;&#20041;&#32452;&#20214;&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e15487">27.2. &#29992;&#20110;&#21452;&#21521;&#27880;&#20837;&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e15707">27.3. &#20851;&#20110;&#32452;&#20214;&#29983;&#21629;&#21608;&#26399;&#26041;&#27861;&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e15755">27.4. &#29992;&#20110;&#22768;&#26126;&#19978;&#19979;&#25991;&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e16071">27.5. &#29992;&#20110;&#22312;J2EE&#29615;&#22659;&#20013;&#20351;&#29992;Seam JavaBean&#32452;&#20214;&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e16120">27.6. &#29992;&#20110;&#24322;&#24120;&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e16195">27.7. &#29992;&#20110;Seam Remoting &#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e16215">27.8. &#29992;&#20110;Seam&#25318;&#25130;&#22120;&#65288;interceptor&#65289;&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e16249">27.9. &#29992;&#20110;&#24322;&#27493;&#65288;asynchronicity&#65289;&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e16303">27.10. &#29992;&#20110;JSF&#30340;&#27880;&#35299;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e16353">27.10.1. &#21644; dataTable &#19968;&#36215;&#20351;&#29992;&#30340;&#27880;&#35299;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e16508">27.11. &#29992;&#20110;&#25968;&#25454;&#32465;&#23450;&#30340;&#20803;&#25968;&#25454;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e16542">27.12. &#29992;&#20110;&#25171;&#21253;&#65288;packing)&#30340;&#27880;&#35299;</a></span></dt><dt><span class="section"><a href="#d0e16572">27.13. &#29992;&#20110;&#21644;Servlet&#23481;&#22120;&#38598;&#25104;&#30340;&#27880;&#35299;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#components">28. &#20869;&#32622;Seam&#32452;&#20214;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e16628">28.1. &#19978;&#19979;&#25991;&#27880;&#20837;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e16662">28.2. &#24037;&#20855;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e16871">28.3. &#32452;&#20214;&#30340;&#22269;&#38469;&#21270;&#21644;&#20027;&#39064;</a></span></dt><dt><span class="section"><a href="#d0e17090">28.4. &#25511;&#21046;&#23545;&#35805;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e17246">28.5. &#19982;jBPM&#30456;&#20851;&#30340;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e17498">28.6. &#19982;&#23433;&#20840;&#30456;&#20851;&#30340;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e17528">28.7. &#19982;JMS&#30456;&#20851;&#30340;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#components.mail">28.8. &#19982;&#37038;&#20214;&#30456;&#20851;&#30340;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e17636">28.9. &#22522;&#30784;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e17963">28.10. &#26434;&#39033;&#32452;&#20214;</a></span></dt><dt><span class="section"><a href="#d0e18008">28.11. &#29305;&#27530;&#32452;&#20214;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#controls">29. Seam&#30340;JSF&#25511;&#20214;</a></span></dt><dd><dl><dt><span class="section"><a href="#controls.tags">29.1. &#26631;&#31614;</a></span></dt><dt><span class="section"><a href="#controls.annotations">29.2. &#27880;&#35299;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#elenhancements">30. &#34920;&#36798;&#24335;&#35821;&#35328;&#22686;&#24378;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e19812">30.1. &#21442;&#25968;&#26041;&#27861;&#32465;&#23450;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e19822">30.1.1. &#29992;&#27861;</a></span></dt><dt><span class="section"><a href="#d0e19877">30.1.2. &#38480;&#21046;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e19882">30.1.2.1. &#19982;JSP 2.1&#19981;&#20860;&#23481;</a></span></dt><dt><span class="section"><a href="#d0e19887">30.1.2.2. &#20174;Java&#20195;&#30721;&#20013;&#35843;&#29992; MethodExpression
				</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#d0e19925">30.2. &#21442;&#25968;&#20540;&#32465;&#23450;</a></span></dt><dt><span class="section"><a href="#d0e19954">30.3. &#26144;&#23556;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#testing">31. &#27979;&#35797;Seam&#24212;&#29992;&#31243;&#24207;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e20004">31.1. Seam&#32452;&#20214;&#30340;&#21333;&#20803;&#27979;&#35797;</a></span></dt><dt><span class="section"><a href="#d0e20024">31.2. Seam&#32452;&#20214;&#30340;&#38598;&#25104;&#27979;&#35797;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e20033">31.2.1. &#22312;&#38598;&#25104;&#27979;&#35797;&#20013;&#20351;&#29992;Mock&#23545;&#35937;</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e20049">31.3. &#38598;&#25104;&#27979;&#35797;Seam&#24212;&#29992;&#31243;&#24207;&#20013;&#30340;&#29992;&#25143;&#20132;&#20114;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e20090">31.3.1. &#21033;&#29992;Mock&#25968;&#25454;&#36827;&#34892;&#38598;&#25104;&#27979;&#35797;</a></span></dt><dt><span class="section"><a href="#testing.mail">31.3.2. Seam Mail&#38598;&#25104;&#27979;&#35797;</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#tools">32. Seam&#24037;&#20855;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e20157">32.1. jBPM&#35774;&#35745;&#22120;&#21644;&#26597;&#30475;&#22120;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e20162">32.1.1. &#19994;&#21153;&#27969;&#31243;&#35774;&#35745;&#22120;</a></span></dt><dt><span class="section"><a href="#d0e20175">32.1.2. Pageflow&#26597;&#30475;&#22120;</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#dependencies">33. &#20381;&#36182;&#21253;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e20192">33.1. &#39033;&#30446;&#20381;&#36182;&#21253;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e20211">33.1.1. Core</a></span></dt><dt><span class="section"><a href="#d0e20441">33.1.2. Ajax4JSF / RichFaces</a></span></dt><dt><span class="section"><a href="#d0e20515">33.1.3. Seam Mail</a></span></dt><dt><span class="section"><a href="#d0e20606">33.1.4. Seam PDF</a></span></dt><dt><span class="section"><a href="#d0e20696">33.1.5. JBoss Rules</a></span></dt><dt><span class="section"><a href="#d0e20819">33.1.6. JBPM</a></span></dt><dt><span class="section"><a href="#d0e20860">33.1.7. GWT</a></span></dt><dt><span class="section"><a href="#d0e20904">33.1.8. Spring</a></span></dt><dt><span class="section"><a href="#d0e20948">33.1.9. Groovy</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e20992">33.2. &#20351;&#29992;Maven&#20381;&#36182;&#31649;&#29702;</a></span></dt></dl></dd><dt><span class="appendix"><a href="#translator">A. Seam 2.0 &#24320;&#21457;&#25163;&#20876;&#20013;&#25991;&#32763;&#35793;&#39033;&#30446;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e21022">A.1. &#22768;&#26126;</a></span></dt><dt><span class="section"><a href="#d0e21030">A.2. &#39033;&#30446;&#21382;&#31243;</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e21033">A.2.1. Seam 1.2.1 &#24320;&#21457;&#25163;&#20876;&#32763;&#35793;&#39033;&#30446;</a></span></dt><dt><span class="section"><a href="#d0e21038">A.2.2. Seam 2.0 Beta 1 &#24320;&#21457;&#25163;&#20876;&#32763;&#35793;&#39033;&#30446;</a></span></dt><dt><span class="section"><a href="#d0e21593">A.2.3. Seam 2.0 &#27491;&#24335;&#29256;&#24320;&#21457;&#25163;&#20876;&#32763;&#35793;&#39033;&#30446;</a></span></dt></dl></dd></dl></dd></dl></div><div class="preface" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e10"></a>JBoss Seam&#31616;&#20171;</h2></div></div><div></div></div><p>
            Seam&#26159;&#19968;&#31181;&#20225;&#19994;&#32423;Java&#30340;&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;&#12290;&#23427;&#30340;&#28789;&#24863;&#28304;&#33258;&#19979;&#21015;&#21407;&#21017;&#65306;
        </p><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>&#21482;&#26377;&#19968;&#31181;&#8220;&#24037;&#20855;&#8221;</em></span></span></dt><dd><p>
                        Seam&#20026;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#25152;&#26377;&#30340;&#19994;&#21153;&#36923;&#36753;&#23450;&#20041;&#20102;&#19968;&#31181;&#32479;&#19968;&#30340;&#32452;&#20214;&#27169;&#22411;&#12290;
						Seam&#32452;&#20214;&#21487;&#33021;&#26159;&#26377;&#29366;&#24577;&#30340;&#65292;&#21253;&#21547;&#19982;&#20960;&#20010;&#23450;&#20041;&#33391;&#22909;&#30340;&#19978;&#19979;&#25991;&#20013;&#20219;&#20309;&#19968;&#20010;&#30456;&#20851;&#32852;&#30340;&#29366;&#24577;&#65292;
						&#21253;&#25324;&#38271;&#26102;&#38388;&#36816;&#34892;&#19978;&#19979;&#25991;&#12289;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#12289;<span class="emphasis"><em>&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;</em></span>&#65292;
                        &#20197;&#21450;&#29992;&#25143;&#20132;&#20114;&#20013;&#33021;&#22815;&#36328;&#22810;&#20010;Web&#35831;&#27714;&#20445;&#23384;&#30340;<span class="emphasis"><em>&#23545;&#35805;&#19978;&#19979;&#25991;</em></span>&#12290;
                    </p><p>
                        Seam&#20013;&#30340;&#34920;&#29616;&#23618;&#32452;&#20214;&#21644;&#19994;&#21153;&#36923;&#36753;&#32452;&#20214;&#20043;&#38388;&#24182;&#27809;&#26377;&#21306;&#21035;&#12290;
						&#20320;&#21487;&#20197;&#26681;&#25454;&#20320;&#35774;&#35745;&#30340;&#20219;&#20309;&#26550;&#26500;&#32473;&#24212;&#29992;&#31243;&#24207;&#36827;&#34892;&#20998;&#23618;&#65292;&#32780;&#19981;&#26159;&#24378;&#21046;&#23558;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#36923;&#36753;&#30828;&#22622;&#36827;&#19968;&#20010;&#30001;&#20320;&#30446;&#21069;&#22312;&#20351;&#29992;&#30340;&#20219;&#20309;&#26694;&#26550;&#32452;&#21512;&#25152;&#24378;&#21152;&#32473;&#20320;&#30340;&#19981;&#36866;&#24403;&#30340;&#20998;&#23618;&#37197;&#32622;&#20013;&#12290;
                    </p><p>
                        &#19982;&#31616;&#21333;&#30340;Java EE&#25110;&#32773;J2EE&#32452;&#20214;&#19981;&#21516;&#65292;Seam&#32452;&#20214;&#21487;&#20197;<span class="emphasis"><em>&#21516;&#26102;</em></span>&#35775;&#38382;&#19982;Web&#35831;&#27714;&#30456;&#20851;&#30340;&#29366;&#24577;&#65292;&#20197;&#21450;&#20445;&#23384;&#22312;&#20107;&#21153;&#36164;&#28304;&#20013;&#30340;&#29366;&#24577;&#65288;&#32780;&#19981;&#24517;&#36890;&#36807;&#26041;&#27861;&#21442;&#25968;&#25163;&#24037;&#20256;&#25773;Web&#35831;&#27714;&#29366;&#24577;&#65289;&#12290;
						&#20320;&#21487;&#33021;&#21453;&#23545;&#35828;&#30001;&#26087;&#24335;&#30340;J2EE&#24179;&#21488;&#24378;&#21152;&#32473;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#20998;&#23618;&#26159;&#20214;&#22909;&#19996;&#35199;&#65292;&#27809;&#26377;&#20160;&#20040;&#21487;&#20197;&#38459;&#27490;&#20320;&#21033;&#29992;Seam&#21019;&#24314;&#19968;&#20010;&#30456;&#24403;&#30340;&#20998;&#23618;&#26550;&#26500;&#8212;
						&#21306;&#21035;&#22312;&#20110;&#65292;<span class="emphasis"><em>&#20320;</em></span>&#35201;&#33258;&#24049;&#26550;&#26500;&#24212;&#29992;&#31243;&#24207;&#65292;&#24182;&#20915;&#23450;&#26377;&#21738;&#20123;&#23618;&#65292;&#20197;&#21450;&#23427;&#20204;&#26159;&#22914;&#20309;&#21512;&#20316;&#30340;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#23558;JSF&#19982;EJB 3.0&#25972;&#21512;</em></span></span></dt><dd><p>
                    	JSF&#21644;EJB 3.0&#26159;Java EE5&#30340;&#20004;&#20010;&#26368;&#22909;&#30340;&#26032;&#29305;&#24615;&#12290;EJB3&#26159;&#26381;&#21153;&#22120;&#31471;&#19994;&#21153;&#21644;&#25345;&#20037;&#36923;&#36753;&#30340;&#20840;&#26032;&#32452;&#20214;&#27169;&#22411;&#12290;
                    	&#21516;&#26102;&#65292;JSF&#20063;&#26159;&#34920;&#29616;&#23618;&#30340;&#19968;&#20010;&#20248;&#31168;&#32452;&#20214;&#27169;&#22411;&#12290;&#19981;&#24184;&#30340;&#26159;&#65292;&#36825;&#20108;&#32773;&#37117;&#26080;&#27861;&#29420;&#33258;&#35299;&#20915;&#25152;&#26377;&#30340;&#35745;&#31639;&#38382;&#39064;&#12290;
						&#23454;&#38469;&#19978;&#65292;JSF&#21644;EJB3&#32467;&#21512;&#20351;&#29992;&#21518;&#36816;&#20316;&#24471;&#26368;&#22909;&#12290;
						&#20294;&#26159;Java EE5&#35268;&#33539;&#24182;&#27809;&#26377;&#25552;&#20379;&#22914;&#20309;&#25972;&#21512;&#36825;&#20004;&#20010;&#32452;&#20214;&#27169;&#22411;&#30340;&#26631;&#20934;&#26041;&#27861;&#12290;
						&#25152;&#24184;&#65292;&#36825;&#20004;&#31181;&#27169;&#22411;&#30340;&#21019;&#24314;&#32773;&#37117;&#21069;&#30651;&#21040;&#20102;&#36825;&#31181;&#29366;&#20917;&#65292;&#24182;&#19988;&#25552;&#20379;&#20102;&#26631;&#20934;&#30340;&#25193;&#23637;&#28857;&#65292;&#20801;&#35768;&#23545;&#21508;&#33258;&#36827;&#34892;&#25193;&#23637;&#65292;&#25110;&#32773;&#19982;&#20854;&#20182;&#35299;&#20915;&#26041;&#26696;&#38598;&#25104;&#12290;
                    </p><p>
                        Seam&#23558;JSF&#21644;EJB3&#30340;&#32452;&#20214;&#27169;&#22411;&#21512;&#20108;&#20026;&#19968;&#65292;&#28040;&#38500;&#20102;&#33014;&#21512;&#20195;&#30721;&#65292;&#20351;&#24471;&#24320;&#21457;&#32773;&#19987;&#27880;&#20110;&#19994;&#21153;&#38382;&#39064;&#12290;
                    </p><p>
						&#32534;&#20889;&#8220;&#19968;&#20999;&#8221;&#37117;&#26159;EJB&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#26159;&#26377;&#21487;&#33021;&#30340;&#12290;&#22914;&#26524;&#20320;&#20064;&#24815;&#25226;EJB&#24403;&#20316;&#26159;&#32454;&#31890;&#24230;&#30340;&#25152;&#35859;&#8220;&#37325;&#37327;&#21270;&#8221;&#30340;&#23545;&#35937;&#65292;&#36825;&#21487;&#33021;&#20250;&#20196;&#20320;&#24456;&#21507;&#24778;&#12290;
						&#28982;&#32780;&#65292;&#20174;&#24320;&#21457;&#20154;&#21592;&#30340;&#35282;&#24230;&#26469;&#30475;&#65292;3.0&#29256;&#26412;&#24050;&#32463;&#23436;&#20840;&#25913;&#21464;&#20102;EJB&#30340;&#26412;&#36136;&#12290;
						EJB&#26159;&#19968;&#20010;&#32454;&#31890;&#24230;&#30340;&#23545;&#35937;&#8212;&#27809;&#26377;&#20160;&#20040;&#19996;&#35199;&#20250;&#27604;&#27880;&#35299;&#30340;JavaBean&#26356;&#22797;&#26434;&#20102;&#12290;Seam&#29978;&#33267;&#40723;&#21169;&#20320;&#20351;&#29992;&#20250;&#35805;Bean&#20316;&#20026;JSF&#21160;&#20316;&#30417;&#21548;&#32773;&#65281;
                    </p><p>
                        &#21478;&#19968;&#26041;&#38754;&#65292;&#22914;&#26524;&#20320;&#23425;&#21487;&#19981;&#22312;&#36825;&#20010;&#26102;&#20505;&#37319;&#29992;EJB 3.0&#65292;&#19981;&#29992;&#21193;&#24378;&#12290;
						&#20107;&#23454;&#19978;&#65292;&#20219;&#20309;Java&#31867;&#37117;&#21487;&#20197;&#26159;&#19968;&#20010;Seam&#32452;&#20214;&#65292;&#24182;&#19988;Seam&#25552;&#20379;&#20102;&#20320;&#26399;&#24453;&#20174;&#8220;&#36731;&#37327;&#21270;&#8221;&#30340;&#23481;&#22120;&#65292;&#29978;&#33267;&#20219;&#20309;&#32452;&#20214;&#12289;EJB&#25110;&#32773;&#20854;&#20182;&#19996;&#35199;&#20013;&#33719;&#24471;&#30340;&#25152;&#26377;&#21151;&#33021;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#38598;&#25104;AJAX</em></span></span></dt><dd><p>
                        Seam&#25903;&#25345;&#20004;&#20010;&#26368;&#22909;&#30340;&#12289;&#24320;&#28304;&#30340;&#22522;&#20110;JSF&#30340;AJAX&#35299;&#20915;&#26041;&#26696;&#65306;JBoss RichFaces&#21644;ICEfaces&#12290;
						&#36825;&#20004;&#20010;&#35299;&#20915;&#26041;&#26696;&#35753;&#20320;&#26080;&#38656;&#32534;&#20889;&#20219;&#20309;JavaSctipt&#20195;&#30721;&#23601;&#21487;&#20197;&#20026;&#20320;&#30340;&#30028;&#38754;&#28155;&#21152;AJAX&#21151;&#33021;&#12290;
                    </p><p>
                        Seam&#20063;&#25552;&#20379;&#20102;&#20869;&#32622;&#30340;JavaSctipt&#36828;&#31243;&#35775;&#38382;&#23618;&#65292;&#23427;&#35753;&#20320;&#24322;&#27493;&#22320;&#20174;&#23458;&#25143;&#31471;JavaScript&#20013;&#35843;&#29992;&#32452;&#20214;&#65292;&#32780;&#19981;&#38656;&#35201;&#20013;&#38388;&#30340;action&#23618;&#12290;
						&#20320;&#36824;&#21487;&#20197;&#35746;&#38405;&#26381;&#21153;&#22120;&#31471;&#30340;JMS&#20027;&#39064;&#65292;&#24182;&#36890;&#36807;AJAX&#30340;push&#26041;&#27861;&#25509;&#25910;&#20449;&#24687;&#12290;
                    </p><p>
                        &#20551;&#33509;&#19981;&#26159;&#26377;Seam&#20869;&#32622;&#30340;&#24182;&#21457;&#21644;&#29366;&#24577;&#31649;&#29702;&#33021;&#21147;&#65292;&#20197;&#19978;&#36825;&#20123;&#26041;&#27861;&#23558;&#37117;&#26080;&#27861;&#24456;&#22909;&#22320;&#36816;&#20316;&#12290;
						&#36825;&#20004;&#31181;&#26041;&#27861;&#30830;&#20445;&#26381;&#21153;&#22120;&#31471;&#33021;&#22815;&#23433;&#20840;&#32780;&#39640;&#25928;&#22320;&#22788;&#29702;&#22810;&#20010;&#24182;&#21457;&#32454;&#31890;&#24230;&#30340;&#24322;&#27493;AJAX&#35831;&#27714;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#23558;&#19994;&#21153;&#27969;&#31243;&#20316;&#20026;&#39318;&#35201;&#30340;&#22522;&#30784;&#24314;&#31569;</em></span></span></dt><dd><p>
                        Seam&#21487;&#20197;&#36873;&#25321;&#36890;&#36807;jBPM&#25552;&#20379;&#36879;&#26126;&#30340;&#19994;&#21153;&#27969;&#31243;&#31649;&#29702;&#12290;&#20351;&#29992;jBPM&#21644;Seam&#20849;&#21516;&#23454;&#29616;&#22797;&#26434;&#30340;&#24037;&#20316;&#27969;&#12289;&#21512;&#20316;&#21644;&#20219;&#21153;&#31649;&#29702;&#65292;&#31616;&#21333;&#21040;&#20102;&#35753;&#20154;&#38590;&#20197;&#32622;&#20449;&#30340;&#31243;&#24230;&#12290;
                    </p><p>
                        Seam&#29978;&#33267;&#20801;&#35768;&#20320;&#21033;&#29992;&#19982;jBPM&#32473;&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;&#25152;&#20351;&#29992;&#30340;&#30456;&#21516;&#35821;&#35328;&#65288;jPDL)&#26469;&#23450;&#20041;&#34920;&#29616;&#23618;&#39029;&#38754;&#27969;&#12290;
                    </p><p>
                        JSF&#20026;&#34920;&#31034;&#23618;&#25552;&#20379;&#20102;&#38750;&#24120;&#20016;&#23500;&#30340;&#20107;&#20214;&#27169;&#22411;&#12290;
						&#36890;&#36807;&#20197;&#23436;&#20840;&#30456;&#21516;&#30340;&#20107;&#20214;&#22788;&#29702;&#26426;&#21046;&#26292;&#38706;&#19982;jBPM&#19994;&#21153;&#27969;&#31243;&#30456;&#20851;&#30340;&#20107;&#20214;&#65292;Seam&#24378;&#21270;&#20102;&#36825;&#19968;&#27169;&#22411;&#65292;&#36825;&#23601;&#20026;Seam&#30340;&#32479;&#19968;&#32452;&#20214;&#27169;&#22411;&#25552;&#20379;&#20102;&#32479;&#19968;&#30340;&#20107;&#20214;&#27169;&#22411;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#22768;&#26126;&#24335;&#29366;&#24577;&#31649;&#29702;</em></span></span></dt><dd><p>
                        &#20174;EJB&#26089;&#26399;&#24320;&#22987;&#65292;&#25105;&#20204;&#24050;&#32463;&#20064;&#24815;&#20110;&#22768;&#26126;&#24335;&#20107;&#21153;&#31649;&#29702;&#21644;J2EE&#22768;&#26126;&#24335;&#23433;&#20840;&#30340;&#27010;&#24565;&#12290;EJB 3.0&#36824;&#24341;&#20837;&#20102;&#22768;&#26126;&#24335;&#25345;&#20037;&#19978;&#19979;&#25991;&#31649;&#29702;&#12290;
                        &#19968;&#20010;&#26356;&#24191;&#27867;&#30340;&#31649;&#29702;&#29366;&#24577;&#38382;&#39064;--&#31649;&#29702;&#19982;&#26576;&#20010;&#29305;&#27530;<span class="emphasis"><em>context</em></span>&#20851;&#32852;&#30340;&#29366;&#24577;&#65292;&#26377;&#19977;&#20010;&#29305;&#20363;&#65292;&#23427;&#30830;&#20445;&#36825;&#20010;&#19978;&#19979;&#25991;&#32467;&#26463;&#26102;&#36827;&#34892;&#25152;&#26377;&#24517;&#35201;&#30340;&#28165;&#29702;&#12290;
						Seam&#25226;&#22768;&#26126;&#24335;&#29366;&#24577;&#31649;&#29702;&#30340;&#27010;&#24565;&#25512;&#36827;&#30340;&#36828;&#24471;&#22810;&#65292;&#24182;&#25226;&#23427;&#24212;&#29992;&#20110;<span class="emphasis"><em>&#24212;&#29992;&#31243;&#24207;&#29366;&#24577;&#65288;application state&#65289;</em></span>&#12290;
						J2EE&#24212;&#29992;&#31243;&#24207;&#19968;&#33324;&#36890;&#36807;&#25163;&#24037;&#23454;&#29616;&#29366;&#24577;&#31649;&#29702;&#65292;&#36890;&#36807;&#33719;&#21462;&#21644;&#35774;&#32622;Servlet Session&#21644;Request&#23646;&#24615;&#12290;
                        &#20551;&#33509;&#31243;&#24207;&#27809;&#33021;&#28165;&#38500;Session&#23646;&#24615;&#65292;&#25110;&#32773;&#22312;&#22810;&#31383;&#21475;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#65292;&#19982;&#19981;&#21516;&#30340;&#24037;&#20316;&#27969;&#20851;&#32852;&#30340;Session&#25968;&#25454;&#21457;&#29983;&#20914;&#31361;&#65292;&#36825;&#31181;&#29366;&#24577;&#31649;&#29702;&#30340;&#26041;&#27861;&#23601;&#20250;&#25104;&#20026;&#24456;&#22810;Bug&#21644;&#20869;&#23384;&#27844;&#28431;&#30340;&#26681;&#28304;&#12290;
						Seam&#26377;&#21487;&#33021;&#20960;&#20046;&#23436;&#20840;&#28040;&#38500;&#36825;&#31867;Bug&#12290;
                    </p><p>
                        &#22768;&#26126;&#24335;&#24212;&#29992;&#31243;&#24207;&#29366;&#24577;&#31649;&#29702;&#36890;&#36807;Seam&#23450;&#20041;&#30340;&#20016;&#23500;&#30340;<span class="emphasis"><em>context model&#65288;&#19978;&#19979;&#25991;&#27169;&#22411;&#65289;</em></span>&#32780;&#25104;&#20026;&#21487;&#33021;&#12290;
                        Seam&#25193;&#23637;&#20102;Servlet&#35268;&#33539;&#8212;&#23450;&#20041;&#30340;&#19978;&#19979;&#25991;&#27169;&#22411;&#8212;&#8212;&#35831;&#27714;&#12289;&#20250;&#35805;&#12289;&#24212;&#29992;&#31243;&#24207;&#8212;&#22686;&#21152;&#20102;&#20004;&#20010;&#26032;&#30340;&#19978;&#19979;&#25991;&#8212;
						&#23545;&#35805;&#21644;&#19994;&#21153;&#27969;&#31243;&#8212;&#65292;&#20174;&#19994;&#21153;&#36923;&#36753;&#30340;&#35282;&#24230;&#26469;&#30475;&#23427;&#20204;&#26356;&#20855;&#24847;&#20041;&#12290;
                    </p><p>
                        &#19968;&#26086;&#20320;&#24320;&#22987;&#20351;&#29992;&#23545;&#35805;&#65292;&#23558;&#20250;&#24778;&#35766;&#20110;&#35768;&#22810;&#20107;&#24773;&#21464;&#24471;&#26356;&#21152;&#23481;&#26131;&#20102;&#12290;&#20320;&#26366;&#32463;&#22312;&#20687;Hibernate&#25110;&#32773;JPA&#36825;&#26679;&#30340;ORM&#35299;&#20915;&#26041;&#26696;&#20013;&#30171;&#33510;&#22320;&#22788;&#29702;&#36807;&#24310;&#36831;&#30340;&#20851;&#32852;&#25235;&#21462;&#21527;&#65311;
						Seam&#23545;&#35805;&#33539;&#22260;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#24847;&#21619;&#30528;&#20320;&#23558;&#20960;&#20046;&#30475;&#19981;&#21040; <tt class="literal">LazyInitializationException</tt>&#12290;
						&#20320;&#26366;&#32463;&#36935;&#21040;&#36807;&#21047;&#26032;&#65288;Refresh&#65289;&#25353;&#38062;&#25110;&#32773;&#21518;&#36864;&#65288;Back&#65289;&#25353;&#38062;&#30340;&#38382;&#39064;&#21527;&#65311;&#25110;&#32773;&#26377;&#36807;&#37325;&#22797;&#25552;&#20132;&#34920;&#21333;&#30340;&#38382;&#39064;&#21527;&#65311;
						&#26377;&#36890;&#36807;post-then-redirect&#20256;&#25773;&#20449;&#24687;&#30340;&#38382;&#39064;&#21527;&#65311;Seam&#30340;&#23545;&#35805;&#31649;&#29702;&#35299;&#20915;&#20102;&#36825;&#20123;&#38382;&#39064;&#65292;&#29978;&#33267;&#26080;&#38656;&#20320;&#30495;&#27491;&#21435;&#20851;&#27880;&#23427;&#20204;&#12290;
						&#23427;&#20204;&#37117;&#26159;&#33258;Web&#26368;&#26089;&#26399;&#20197;&#26469;&#26222;&#36941;&#30340;&#19981;&#33391;&#29366;&#24577;&#31649;&#29702;&#26550;&#26500;&#30340;&#24449;&#20806;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>Bijection&#65288;&#21452;&#21521;&#27880;&#20837;&#65289;</em></span></span></dt><dd><p>
                        <span class="emphasis"><em>Inversion of Control&#65288;&#25511;&#21046;&#21453;&#36716;&#65289;</em></span> &#25110;&#32773; <span class="emphasis"><em>dependency injection&#65288;&#20381;&#36182;&#27880;&#20837;&#65289;</em></span> &#30340;&#27010;&#24565;&#20986;&#29616;&#22312;JSF&#21644;EJB3&#20197;&#21450;&#24456;&#22810;&#25152;&#35859;&#30340;&#8220;&#36731;&#22411;&#23481;&#22120;&#8221;&#20013;&#12290;
						&#36825;&#31867;&#23481;&#22120;&#22823;&#22810;&#27880;&#37325;&#20110;&#23454;&#29616; <span class="emphasis"><em>stateless services&#65288;&#26080;&#29366;&#24577;&#26381;&#21153;&#65289;</em></span> &#30340;&#32452;&#20214;&#27880;&#23556;&#12290;
						&#21363;&#20415;&#22312;&#25903;&#25345;&#23545;&#26377;&#29366;&#24577;&#30340;&#32452;&#20214;&#36827;&#34892;&#27880;&#23556;&#30340;&#24773;&#20917;&#19979;&#65288;&#20363;&#22914;JSF&#65289;&#65292;&#20107;&#23454;&#19978;&#20063;&#38590;&#20197;&#29992;&#20110;&#22788;&#29702;&#24212;&#29992;&#31243;&#24207;&#29366;&#24577;&#65292;
                        &#22240;&#20026;&#26377;&#29366;&#24577;&#32452;&#20214;&#30340;&#33539;&#22260;&#38590;&#20197;&#26377;&#25928;&#32780;&#28789;&#27963;&#22320;&#23450;&#20041;&#65292;&#24182;&#19988;&#23646;&#20110;&#26356;&#24191;&#33539;&#22260;&#30340;&#32452;&#20214;&#19981;&#33021;&#34987;&#27880;&#20837;&#21040;&#23646;&#20110;&#26356;&#31364;&#33539;&#22260;&#30340;&#32452;&#20214;&#20013;&#12290;
                    </p><p>
                        <span class="emphasis"><em>Bijection&#65288;&#21452;&#21521;&#27880;&#20837;&#65289;</em></span>&#21644;IoC&#30340;&#19981;&#21516;&#20043;&#22788;&#22312;&#20110;&#23427;&#26159;<span class="emphasis"><em>&#21160;&#24577;</em></span>&#30340;&#12289;<span class="emphasis"><em>&#35821;&#22659;&#30456;&#20851;</em></span>&#30340;&#20197;&#21450;<span class="emphasis"><em>&#21452;&#21521;</em></span>&#30340;&#12290;
                        &#20320;&#21487;&#20197;&#25226;&#36825;&#19968;&#26426;&#21046;&#29702;&#35299;&#25104;&#23558;&#35821;&#22659;&#30456;&#20851;&#30340;&#21464;&#37327;&#65288;&#19982;&#24403;&#21069;&#32447;&#31243;&#32465;&#23450;&#30340;&#21508;&#31181;&#19978;&#19979;&#25991;&#20013;&#30340;&#21517;&#31216;&#65289;&#23545;&#24212;&#21040;&#32452;&#20214;&#30340;&#23646;&#24615;&#20013;&#12290;
                        &#21452;&#21521;&#27880;&#20837;&#20801;&#35768;&#30001;&#23481;&#22120;&#23545;&#26377;&#29366;&#24577;&#30340;&#32452;&#20214;&#36827;&#34892;&#33258;&#21160;&#32452;&#35013;&#12290;&#23427;&#29978;&#33267;&#20801;&#35768;&#32452;&#20214;&#21487;&#20197;&#23433;&#20840;&#32780;&#31616;&#21333;&#22320;&#22788;&#29702;&#19978;&#19979;&#25991;&#21464;&#37327;&#30340;&#20540;&#65292;&#21482;&#38656;&#35201;&#25226;&#23427;&#36171;&#32473;&#32452;&#20214;&#30340;&#23646;&#24615;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#24037;&#20316;&#21306;&#31649;&#29702;&#65288;Workspace Management&#65289;&#21644;&#22810;&#31383;&#21475;&#27983;&#35272;</em></span></span></dt><dd><p>
                        Seam&#24212;&#29992;&#31243;&#24207;&#35753;&#29992;&#25143;&#33258;&#30001;&#22320;&#22312;&#22810;&#20010;&#27983;&#35272;&#22120;&#31383;&#21475;&#20013;&#20999;&#25442;&#65292;&#27599;&#20010;&#31383;&#21475;&#37117;&#19982;&#19968;&#20010;&#19981;&#21516;&#30340;&#12289;&#23433;&#20840;&#38548;&#31163;&#30340;&#23545;&#35805;&#20851;&#32852;&#12290;
						&#24212;&#29992;&#31243;&#24207;&#29978;&#33267;&#21487;&#20197;&#21033;&#29992; <span class="emphasis"><em>workspace management</em></span>&#65292;&#20801;&#35768;&#29992;&#25143;&#22312;&#19968;&#20010;&#27983;&#35272;&#22120;&#31383;&#21475;&#30340;&#22810;&#20010;&#23545;&#35805;&#65288;&#24037;&#20316;&#21306;&#65289;&#20043;&#38388;&#36827;&#34892;&#20999;&#25442;&#12290;
						Seam&#19981;&#20165;&#25552;&#20379;&#27491;&#30830;&#30340;&#22810;&#31383;&#21475;&#25805;&#20316;&#65292;&#36824;&#25552;&#20379;&#22312;&#19968;&#20010;&#31383;&#21475;&#20013;&#27169;&#25311;&#22810;&#20010;&#31383;&#21475;&#30340;&#25805;&#20316;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#26356;&#21916;&#27426;XML&#27880;&#35299;</em></span></span></dt><dd><p>
                        &#20256;&#32479;&#19978;&#65292;&#20851;&#20110;&#21040;&#24213;&#21738;&#20123;&#20803;&#20449;&#24687;&#21487;&#20197;&#31639;&#20316;&#37197;&#32622;&#65292;Java&#31038;&#21306;&#19968;&#30452;&#22788;&#20110;&#19968;&#31181;&#26497;&#20026;&#28151;&#20081;&#30340;&#29366;&#24577;&#12290;
						J2EE&#21644;&#27969;&#34892;&#30340;&#8220;&#36731;&#22411;&#8221;&#23481;&#22120;&#20026;&#30495;&#27491;&#21487;&#20197;&#22312;&#19981;&#21516;&#30340;&#31995;&#32479;&#37096;&#32626;&#20043;&#38388;&#37197;&#32622;&#30340;&#19996;&#35199;&#65292;&#20197;&#21450;&#20219;&#20309;&#19981;&#23481;&#26131;&#29992;Java&#34920;&#36798;&#30340;&#20854;&#20182;&#22768;&#26126;&#37117;&#25552;&#20379;&#20102;&#22522;&#20110;XML&#30340;&#37096;&#32626;&#25551;&#36848;&#31526;&#12290;
						Java 5 &#27880;&#35299;&#25913;&#21464;&#20102;&#25152;&#26377;&#36825;&#19968;&#20999;&#12290;
                    </p><p>
                        EJB3.0 &#25509;&#21463;&#27880;&#35299;&#21644;&#8220;&#23545;&#20363;&#22806;&#37197;&#32622;&#8221;&#65292;&#36825;&#25104;&#20102;&#20197;&#22768;&#26126;&#30340;&#24418;&#24335;&#20026;&#23481;&#22120;&#25552;&#20379;&#20449;&#24687;&#30340;&#26368;&#31616;&#26131;&#26041;&#27861;&#12290;&#19981;&#24184;&#30340;&#26159;&#65292;JSF&#20173;&#28982;&#22312;&#21313;&#20998;&#20381;&#36182;&#31528;&#37325;&#30340;XML&#37197;&#32622;&#25991;&#20214;&#12290;
						Seam&#25193;&#23637;&#20102;EJB 3.0 &#25552;&#20379;&#30340;&#27880;&#35299;&#65292;&#20197;&#29992;&#20110;&#22768;&#26126;&#24335;&#29366;&#24577;&#31649;&#29702;&#21644;&#22768;&#26126;&#24335;&#19978;&#19979;&#25991;&#21010;&#20998;&#12290;
						&#36825;&#35753;&#20320;&#25670;&#33073;&#20102;&#23545;&#32321;&#29712;&#30340;JSF managed bean(JSF&#21463;&#31649;bean&#65289;&#30340;&#37197;&#32622;&#65292;&#20943;&#23569;&#20102;&#25152;&#38656;&#30340;XML&#65292;&#21482;&#21097;&#19979;&#37027;&#20123;&#30495;&#27491;&#23646;&#20110;XML&#30340;&#20449;&#24687;&#65288;JSF&#23548;&#33322;&#35268;&#21017;&#65289;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#38598;&#25104;&#27979;&#35797;&#36731;&#32780;&#26131;&#20030;</em></span></span></dt><dd><p>
                        Seam&#32452;&#20214;&#20316;&#20026;POJO&#65292;&#22825;&#29983;&#23601;&#26159;&#21487;&#20197;&#36827;&#34892;&#21333;&#20803;&#27979;&#35797;&#30340;&#12290;&#20294;&#26159;&#23545;&#20110;&#22797;&#26434;&#30340;&#24212;&#29992;&#31243;&#24207;&#65292;&#21482;&#26377;&#21333;&#20803;&#27979;&#35797;&#21017;&#36824;&#19981;&#22815;&#12290;
						&#23545;&#20110;Java Web&#24212;&#29992;&#31243;&#24207;&#26469;&#35828;&#65292;&#38598;&#25104;&#27979;&#35797;&#19968;&#33324;&#26159;&#19968;&#39033;&#31528;&#25305;&#19988;&#22256;&#38590;&#30340;&#20219;&#21153;&#12290;&#22240;&#27492;&#65292;Seam&#20026;Seam&#24212;&#29992;&#31243;&#24207;&#25552;&#20379;&#20102;&#21487;&#27979;&#35797;&#24615;&#20316;&#20026;&#35813;&#26694;&#26550;&#30340;&#19968;&#39033;&#26680;&#24515;&#21151;&#33021;&#12290;
						&#20320;&#21487;&#20197;&#36731;&#26131;&#22320;&#32534;&#20889;&#37325;&#29616;&#19982;&#29992;&#25143;&#23436;&#25972;&#20132;&#20114;&#30340;JUnit&#25110;TestNG&#27979;&#35797;&#65292;&#26469;&#28436;&#20064;&#38500;&#20102;&#35270;&#22270;View&#65288;JSP&#25110;&#32773;Facelets&#39029;&#38754;&#65289;&#20043;&#22806;&#30340;&#25152;&#26377;&#31995;&#32479;&#32452;&#20214;&#12290;
						&#20320;&#21487;&#20197;&#30452;&#25509;&#20174;&#20320;&#30340;IDE&#20013;&#36816;&#34892;&#36825;&#20123;&#27979;&#35797;&#65292;Seam&#20250;&#22312;&#37027;&#37324;&#33258;&#21160;&#22320;&#21033;&#29992;JBoss Embeddable&#37096;&#32626;EJB&#32452;&#20214;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#35268;&#33539;&#20063;&#38750;&#23613;&#21892;&#23613;&#32654;</em></span></span></dt><dd><p>
                        &#25105;&#20204;&#35748;&#20026;&#26368;&#26032;&#30340;Java EE&#35268;&#33539;&#24456;&#19981;&#38169;&#12290;&#20294;&#26159;&#25105;&#20204;&#30693;&#36947;&#23427;&#36824;&#36828;&#19981;&#22815;&#23436;&#32654;&#12290;
                        &#22312;&#35268;&#33539;&#20013;&#26377;&#35768;&#22810;&#28431;&#27934;&#65288;&#20363;&#22914;&#65292;GET&#35831;&#27714;&#30340;JSF&#29983;&#21629;&#21608;&#26399;&#20013;&#30340;&#23616;&#38480;&#24615;&#65289;&#65292;Seam&#20462;&#27491;&#20102;&#36825;&#20123;&#28431;&#27934;&#12290;
                        Seam&#30340;&#21019;&#24314;&#32773;&#20204;&#27491;&#19982;JCP&#19987;&#23478;&#32452;&#19968;&#36947;&#65292;&#30830;&#20445;&#36825;&#20123;&#20462;&#27491;&#24674;&#22797;&#21040;&#26631;&#20934;&#30340;&#19979;&#19968;&#27425;&#20462;&#35746;&#20013;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>Web&#24212;&#29992;&#31243;&#24207;&#19981;&#21482;&#26159;&#26381;&#21153;HTML&#39029;&#38754;</em></span></span></dt><dd><p>
                        &#24403;&#20170;&#30340;Web&#26694;&#26550;&#35748;&#20026;&#22826;&#23567;&#20102;&#12290;&#23427;&#20204;&#35753;&#20320;&#21483;&#29992;&#25143;&#36755;&#20837;&#34920;&#21333;&#65292;&#24182;&#36827;&#20837;&#21040;&#20320;&#30340;Java&#23545;&#35937;&#12290;&#28982;&#21518;&#23427;&#20204;&#23601;&#35753;&#20320;&#24748;&#30528;&#12290;
                        &#30495;&#27491;&#23436;&#25972;&#30340;Web&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;&#24212;&#35813;&#35299;&#20915;&#20687;&#25345;&#20037;&#21270;&#12289;&#24182;&#21457;&#12289;&#24322;&#27493;&#12289;&#29366;&#24577;&#31649;&#29702;&#12289;&#23433;&#20840;&#12289;&#30005;&#23376;&#37038;&#20214;&#12289;&#20449;&#24687;&#12289;PDF&#21644;&#22270;&#34920;&#29983;&#25104;&#12289;&#24037;&#20316;&#27969;&#12289;wikitext&#28210;&#26579;&#12289;Web Services&#12289;&#32531;&#23384;&#31561;&#31561;&#26356;&#22810;&#30340;&#38382;&#39064;&#12290;
                       &#19968;&#26086;&#20320;&#23581;&#21040;&#20102;Seam&#30340;&#29980;&#22836;&#65292;&#23601;&#20250;&#24778;&#35766;&#22320;&#21457;&#29616;&#35768;&#22810;&#38382;&#39064;&#37117;&#21464;&#24471;&#26356;&#21152;&#31616;&#21333;&#20102;......
                    </p><p>
                        Seam&#20026;&#25345;&#20037;&#21270;&#38598;&#25104;&#20102;JPA&#21644;Hibernate 3&#65292;&#20026;&#36731;&#37327;&#21270;&#30340;&#24322;&#27493;&#24615;&#38598;&#25104;&#20102;EJB Timer Service&#21644;Quartz&#65292;&#20026;&#24037;&#20316;&#27969;&#38598;&#25104;&#20102;jBPM&#65292;&#20026;&#19994;&#21153;&#35268;&#21017;&#38598;&#25104;&#20102;JBoss&#35268;&#21017;&#65292;&#20026;&#30005;&#23376;&#37038;&#20214;&#38598;&#25104;&#20102;Meldware Mail&#65292;&#20026;&#23436;&#25972;&#30340;&#25991;&#26412;&#25628;&#32034;&#38598;&#25104;&#20102;Hibernate Search&#21644;Lucene&#65292;&#20026;&#28040;&#24687;&#38598;&#25104;&#20102;JMS&#65292;&#20197;&#21450;&#20026;&#39029;&#38754;&#29255;&#26029;&#25429;&#25417;&#38598;&#25104;&#20102;JBoss Cache&#12290;
                        Seam&#22312;JAAS&#21644;JBoss&#35268;&#21017;&#20043;&#19978;&#65292;&#21019;&#24314;&#20102;&#19968;&#20010;&#26032;&#30340;&#22522;&#20110;&#35268;&#21017;&#30340;&#23433;&#20840;&#26694;&#26550;&#12290;&#29978;&#33267;&#26377;&#29992;&#26469;&#28210;&#26579;PDF&#12289;&#22312;&#32447;&#30005;&#23376;&#37038;&#20214;&#21644;&#22270;&#34920;&#21450;wikitext&#30340;JSF&#26631;&#31614;&#24211;&#12290;
                        Seam&#32452;&#20214;&#21487;&#20197;&#21516;&#26102;&#20316;&#20026;&#19968;&#20010;Web Service&#36827;&#34892;&#35843;&#29992;&#65292;&#24322;&#27493;&#22320;&#20174;&#23458;&#25143;&#31471;JavaScript&#25110;&#32773;Google Web Toolkit&#65292;&#25110;&#32773;&#24403;&#28982;&#20063;&#21487;&#20197;&#30452;&#25509;&#20174;JSF&#35843;&#29992;&#12290;
                    </p></dd><dt><span class="term"><span class="emphasis"><em>&#31435;&#21051;&#24320;&#22987;&#21543;&#65281;</em></span></span></dt><dd><p>
                        Seam&#22312;&#20219;&#20309;Java EE&#24212;&#29992;&#31243;&#24207;&#26381;&#21153;&#22120;&#20013;&#37117;&#21487;&#20197;&#36816;&#34892;&#65292;&#29978;&#33267;&#22312;Tomcat&#20013;&#20063;&#21487;&#20197;&#12290;&#22914;&#26524;&#20320;&#30340;&#29615;&#22659;&#25903;&#25345;EJB 3.0&#65292;&#22909;&#26497;&#20102;&#65281;
                        &#22914;&#26524;&#19981;&#25903;&#25345;&#65292;&#20063;&#27809;&#20851;&#31995;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;Seam&#20026;&#25345;&#20037;&#21270;&#20869;&#32622;&#30340;&#21253;&#21547;JPA&#25110;&#32773;Hibernate3&#30340;&#20107;&#21153;&#31649;&#29702;&#12290;
                        &#25110;&#32773;&#65292;&#20320;&#21487;&#20197;&#22312;Tomcat&#20013;&#37096;&#32626;JBoss Embedded&#65292;&#21516;&#26102;&#20139;&#26377;&#23545;EJB 3.0 &#30340;&#23436;&#25972;&#25903;&#25345;&#12290;
                    </p></dd></dl></div><div class="mediaobject" align="center"><img src="images/architecture.png" align="middle"></div><p>
            &#26368;&#32456;&#20320;&#20250;&#21457;&#29616;&#65292;Seam&#12289;JSF&#21644;EJB3&#30340;&#32452;&#21512;&#23601;&#26159;&#29992;Java&#32534;&#20889;&#22797;&#26434;Web&#24212;&#29992;&#31243;&#24207;&#30340; <span class="emphasis"><em>&#26368;</em></span> &#31616;&#21333;&#21150;&#27861;&#12290;&#20320;&#19981;&#20250;&#30456;&#20449;&#25152;&#38656;&#30340;&#20195;&#30721;&#26159;&#22810;&#20040;&#22320;&#23569;&#65281;
        </p><p>
		 &#26412;&#25991;&#26723;&#32763;&#35793;&#30001;&#20446;&#40654;&#25935;&#20316;&#20026;Leader&#32452;&#32455;&#12290;&#32763;&#35793;&#21450;&#19968;&#23457;&#12289;&#20108;&#23457;&#21517;&#21333;&#35265;&#19979;&#12290;&#29579;&#29747;&#12289;&#39532;&#36234;&#23545;&#20840;&#20070;&#36827;&#34892;&#20102;&#19977;&#23457;&#12290;&#20446;&#40654;&#25935;&#36827;&#34892;&#20102;&#20840;&#20070;&#32479;&#31295;&#21450;&#21457;&#24067;&#30340;build&#24037;&#20316;&#12290;
				</p><div class="table"><a name="d0e188"></a><p class="title"><b>Table&nbsp;1.&nbsp;&#32763;&#35793;&#21450;&#23457;&#26680;&#20154;&#21592;&#21015;&#34920;</b></p><table summary="&#32763;&#35793;&#21450;&#23457;&#26680;&#20154;&#21592;&#21015;&#34920;" width="100%" border="1"><colgroup><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"></colgroup><thead><tr><th align="center">&#31456;&#33410;</th><th align="center">KB</th><th align="center">&#39029;&#25968;</th><th align="center">&#32763;&#35793;</th><th align="center">&#19968;&#23457;</th><th align="center">&#20108;&#23457;</th></tr></thead><tbody><tr><td align="left">master.xml </td><td align="left">17K</td><td align="left">&nbsp;</td><td align="left">CaoXiaogang</td><td align="left">Echo</td><td align="left">YuLimin</td></tr><tr><td align="left">1. tutorial.xml (1.1-1.4)</td><td align="left">130K</td><td align="left">20P</td><td align="left">seanchan</td><td align="left">Jacky</td><td align="left">DigitalSonic</td></tr><tr><td align="left">&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;(1.5-1.11) </td><td align="left">&nbsp;</td><td align="left">24P </td><td align="left">DigitalSonic </td><td align="left">Jacky </td><td align="left">ronghao </td></tr><tr><td align="left">2. gettingstarted.xml </td><td align="left">21K </td><td align="left">6P </td><td align="left">seanchan </td><td align="left">zaya </td><td align="left">DigitalSonic </td></tr><tr><td align="left">3. concepts.xml </td><td align="left">56K </td><td align="left">16P </td><td align="left">CaoXiaogang </td><td align="left">kuuyee </td><td align="left">ronghao </td></tr><tr><td align="left">4. xml.xml </td><td align="left">25K </td><td align="left">7P </td><td align="left">downpour </td><td align="left">Echo </td><td align="left">YuLimin </td></tr><tr><td align="left">5. events.xml </td><td align="left">39K </td><td align="left">11P </td><td align="left">mochow </td><td align="left">xihuyu2000 </td><td align="left">Echo </td></tr><tr><td align="left">6. conversations.xml </td><td align="left">34K </td><td align="left">10P </td><td align="left">magice </td><td align="left">Echo </td><td align="left">YuLimin </td></tr><tr><td align="left">7. jbpm.xml </td><td align="left">32K </td><td align="left">10P </td><td align="left">&#24046;&#27801; </td><td align="left">ronghao </td><td align="left">Echo </td></tr><tr><td align="left">8. persistence.xml </td><td align="left">23K </td><td align="left">6P </td><td align="left">pesome </td><td align="left">caoer </td><td align="left">DigitalSonic </td></tr><tr><td align="left">9. validation.xml </td><td align="left">9K </td><td align="left">4P </td><td align="left">pesome </td><td align="left">DigitalSonic </td><td align="left">YuLimin </td></tr><tr><td align="left">10. groovy.xml </td><td align="left">11K </td><td align="left">4P </td><td align="left">kuuyee </td><td align="left">DigitalSonic </td><td align="left">YuLimin </td></tr><tr><td align="left">11. framework.xml </td><td align="left">20K </td><td align="left">7P </td><td align="left">alexchang </td><td align="left">CaoXiaogang </td><td align="left">YuLimin </td></tr><tr><td align="left">12. drools.xml </td><td align="left">7K </td><td align="left">3P </td><td align="left">DigitalSonic </td><td align="left">shaozhou </td><td align="left">Echo </td></tr><tr><td align="left">13. security.xml </td><td align="left">51K </td><td align="left">14P </td><td align="left">YuLimin </td><td align="left">xihuyu2000 </td><td align="left">Echo </td></tr><tr><td align="left">14. i18n.xml </td><td align="left">14K </td><td align="left">4P </td><td align="left">YY </td><td align="left">DigitalSonic </td><td align="left">Echo </td></tr><tr><td align="left">15. text.xml </td><td align="left">7K </td><td align="left">3P </td><td align="left">DigitalSonic </td><td align="left">yeshucheng(&#19975;&#22269;&#36745;) </td><td align="left">Echo </td></tr><tr><td align="left">16. itext.xml </td><td align="left">51K </td><td align="left">11P </td><td align="left">lyfcdy </td><td align="left">Echo </td><td align="left">YuLimin </td></tr><tr><td align="left">17. mail.xml </td><td align="left">26K </td><td align="left">7P </td><td align="left">chentianyi </td><td align="left">yeshucheng(&#19975;&#22269;&#36745;) </td><td align="left">Echo </td></tr><tr><td align="left">18. jms.xml </td><td align="left">11K </td><td align="left">5P </td><td align="left">YuLimin </td><td align="left">caoer </td><td align="left">Echo </td></tr><tr><td align="left">19. cache.xml </td><td align="left">11K </td><td align="left">3P </td><td align="left">crazycy </td><td align="left">CaoXiaogang </td><td align="left">DigitalSonic </td></tr><tr><td align="left">20. webservices.xml </td><td align="left">9K </td><td align="left">3P </td><td align="left">Echo </td><td align="left">YuLimin </td><td align="left">Echo </td></tr><tr><td align="left">21. remoting.xml </td><td align="left">37K </td><td align="left">13P </td><td align="left">crazycy </td><td align="left">agile_boy </td><td align="left">Echo </td></tr><tr><td align="left">22. gwt.xml </td><td align="left">10K </td><td align="left">4P </td><td align="left">yeshucheng(&#19975;&#22269;&#36745;) </td><td align="left">Echo </td><td align="left">YuLimin </td></tr><tr><td align="left">23. spring.xml </td><td align="left">13K </td><td align="left">4P </td><td align="left">YY </td><td align="left">caoer </td><td align="left">DigitalSonic </td></tr><tr><td align="left">24. hsearch.xml </td><td align="left">7K </td><td align="left">3P </td><td align="left">yeshucheng(&#19975;&#22269;&#36745;) </td><td align="left">agile_boy </td><td align="left">Echo </td></tr><tr><td align="left">25. configuration.xml </td><td align="left">48K </td><td align="left">15P </td><td align="left">yeby </td><td align="left">kuuyee </td><td align="left">Echo </td></tr><tr><td align="left">26. annotations.xml </td><td align="left">64K </td><td align="left">14P </td><td align="left">caoer </td><td align="left">CaoXiaogang </td><td align="left">YuLimin </td></tr><tr><td align="left">27. components.xml </td><td align="left">68K </td><td align="left">11P </td><td align="left">jiaochar </td><td align="left">zaya </td><td align="left">HuYan </td></tr><tr><td align="left">28. controls.xml </td><td align="left">47K </td><td align="left">13P </td><td align="left">Echo </td><td align="left">YuLimin </td><td align="left">Catherine </td></tr><tr><td align="left">29. elenhancements.xml </td><td align="left">5K </td><td align="left">2P </td><td align="left">CaoXiaogang </td><td align="left">yeshucheng(&#19975;&#22269;&#36745;) </td><td align="left">Echo </td></tr><tr><td align="left">30. testing.xml </td><td align="left">10K </td><td align="left">6P </td><td align="left">agile_boy </td><td align="left">CaoXiaogang </td><td align="left">YuLimin </td></tr><tr><td align="left">31. tools.xml </td><td align="left">23K </td><td align="left">9P </td><td align="left">junjzheng </td><td align="left">CaoXiaogang </td><td align="left">Echo </td></tr><tr><td align="left">32. oc4j.xml </td><td align="left">31K </td><td align="left">8P </td><td align="left">yeshucheng(&#19975;&#22269;&#36745;) </td><td align="left">YuLimin </td><td align="left">Echo </td></tr><tr><td align="left">33. dependencies.xml </td><td align="left">26K </td><td align="left">5P </td><td align="left">yeshucheng(&#19975;&#22269;&#36745;) </td><td align="left">DigitalSonic </td><td align="left">YuLimin </td></tr></tbody></table></div><p>
		</p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="tutorial"></a>Chapter&nbsp;1.&nbsp;Seam &#20837;&#38376;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="try-examples"></a>1.1.&nbsp;&#35797;&#35797;&#30475;</h2></div></div><div></div></div><p>&#26412;&#25945;&#31243;&#20551;&#23450;&#20320;&#24050;&#19979;&#36733;JBoss AS 4.0.5&#24182;&#23433;&#35013;&#20102;EJB 3.0 profile&#65288;&#35831;&#20351;&#29992;JBoss AS&#23433;&#35013;&#22120;&#65289;&#12290;&#20320;&#20063;&#24471;&#19979;&#36733;&#19968;&#20221;Seam&#24182;&#35299;&#21387;&#21040;&#24037;&#20316;&#30446;&#24405;&#19978;&#12290;
    </p><p>&#21508;&#31034;&#20363;&#30340;&#30446;&#24405;&#32467;&#26500;&#20223;&#25928;&#20197;&#19979;&#24418;&#24335;&#65306;
    </p><div class="itemizedlist"><ul type="disc"><li><p>&#32593;&#39029;&#12289;&#22270;&#29255;&#21450;&#26679;&#24335;&#34920;&#21487;&#22312; <tt class="filename">examples/<i class="replaceable"><tt>registration</tt></i>/view</tt> &#30446;&#24405;&#20013;&#25214;&#21040;&#12290;</p></li><li><p>&#35832;&#22914;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#21450;&#25968;&#25454;&#23548;&#20837;&#33050;&#26412;&#20043;&#31867;&#30340;&#36164;&#28304;&#21487;&#22312;&#30446;&#24405; <tt class="filename">examples/<i class="replaceable"><tt>registration</tt></i>/resources</tt> &#20013;&#25214;&#21040;&#12290;</p></li><li><p>Java&#28304;&#20195;&#30721;&#20445;&#23384;&#22312; <tt class="filename">examples/<i class="replaceable"><tt>registration</tt></i>/src</tt> &#20013;&#12290;</p></li><li><p>Ant&#26500;&#24314;&#33050;&#26412;&#25918;&#22312; <tt class="filename">examples/<i class="replaceable"><tt>registration</tt></i>/build.xml</tt> &#25991;&#20214;&#20013;&#12290;</p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e714"></a>1.1.1.&nbsp;&#22312;JBoss AS&#19978;&#36816;&#34892;&#31034;&#20363;</h3></div></div><div></div></div><p>&#31532;&#19968;&#27493;&#65292;&#30830;&#20445;&#24050;&#23433;&#35013;Ant&#65292;&#24182;&#27491;&#30830;&#35774;&#23450;&#20102; <tt class="literal">$ANT_HOME</tt> &#21450; <tt class="literal">$JAVA_HOME</tt> &#30340;&#29615;&#22659;&#21464;&#37327;&#12290;&#25509;&#30528;&#22312;Seam&#30340;&#26681;&#30446;&#24405;&#19979;&#30340; <tt class="literal">build.properties</tt> &#25991;&#20214;&#20013;&#27491;&#30830;&#35774;&#23450;JBoss AS 4.0.5&#30340;&#23433;&#35013;&#36335;&#24452;&#12290;
			&#33509;&#19968;&#20999;&#23601;&#32490;&#65292;&#23601;&#21487;&#22312;JBoss&#30340;&#23433;&#35013;&#26681;&#30446;&#24405;&#19979;&#25970;&#20837; <tt class="literal">bin/run.sh</tt> &#25110; <tt class="literal">bin/run.bat</tt> &#21629;&#20196;&#26469;&#21551;&#21160;JBoss AS&#12290;&#65288;&#35793;&#27880;&#65306;&#27492;&#22806;&#65292;&#35831;&#23433;&#35013;JDK1.5&#20197;&#19978;&#20197;&#20415;&#33021;&#30452;&#25509;&#36816;&#34892;&#31034;&#20363;&#20195;&#30721;&#65289;
       </p><p>&#29616;&#22312;&#21482;&#35201;&#22312;Seam&#23433;&#35013;&#30446;&#24405; <tt class="filename">examples/<i class="replaceable"><tt>registration</tt></i></tt> &#19979;&#36755;&#20837; <tt class="literal">ant deploy</tt> &#23601;&#21487;&#26500;&#24314;&#21644;&#37096;&#32626;&#31034;&#20363;&#20102;&#12290;
        </p><p>&#35797;&#30528;&#22312;&#27983;&#35272;&#22120;&#20013;&#35775;&#38382;&#27492;&#38142;&#25509;&#65306;<a href="http://localhost:8080/seam-registration/" target="_top"><tt class="literal">http://localhost:8080/seam-registration/</tt></a>&#12290;
               </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e750"></a>1.1.2.&nbsp;&#22312;Tomcat&#26381;&#21153;&#22120;&#19978;&#36816;&#34892;&#31034;&#20363;</h3></div></div><div></div></div><p>&#39318;&#20808;&#65292;&#30830;&#20445;&#24050;&#23433;&#35013;Ant&#65292;&#24182;&#27491;&#30830;&#35774;&#23450;&#20102; <tt class="literal">$ANT_HOME</tt> &#21450; <tt class="literal">$JAVA_HOME</tt> &#30340;&#29615;&#22659;&#21464;&#37327;&#12290;&#25509;&#30528;&#22312;Seam&#30340;&#26681;&#30446;&#24405;&#19979;&#30340; <tt class="literal">build.properties</tt> &#25991;&#20214;&#20013;&#27491;&#30830;&#35774;&#23450;Tomcat 6.0&#30340;&#23433;&#35013;&#36335;&#24452;&#12290;&#20320;&#38656;&#35201;&#25353;&#29031;25.5.1&#31456;&#33410;&#8220;&#23433;&#35013;&#23884;&#20837;&#24335;&#30340;Jboss&#8221;&#20013;&#30340;&#25351;&#23548;&#37197;&#32622; (&#24403;&#28982;, SEAM&#20063;&#21487;&#20197;&#33073;&#31163;Jboss&#22312;TOMCAT&#19978;&#30452;&#25509;&#36816;&#34892;)&#12290;
       </p><p>&#33267;&#27492;&#65292;&#23601;&#21487;&#22312;Seam&#23433;&#35013;&#30446;&#24405; <tt class="filename">examples/<i class="replaceable"><tt>registration</tt></i></tt> &#20013;&#36755;&#20837; <tt class="literal">ant deploy.tomcat</tt> &#26500;&#24314;&#21644;&#37096;&#32626;&#31034;&#20363;&#20102;&#12290;
        </p><p>
            &#26368;&#21518;&#21551;&#21160;Tomcat&#12290;
        </p><p>&#35797;&#30528;&#22312;&#27983;&#35272;&#22120;&#20013;&#35775;&#38382;&#27492;&#38142;&#25509;&#65306;<a href="http://localhost:8080/jboss-seam-registration/" target="_top"><tt class="literal">http://localhost:8080/jboss-seam-registration/</tt></a>&#12290;
        </p><p>&#24403;&#20320;&#37096;&#32626;&#31034;&#20363;&#21040;Tomcat&#26102;&#65292;&#20219;&#20309;&#30340;EJB3&#32452;&#20214;&#23558;&#22312;JBoss&#30340;&#21487;&#23884;&#20837;&#24335;&#30340;&#23481;&#22120;&#65292;&#20063;&#23601;&#26159;&#23436;&#20840;&#29420;&#31435;&#30340;EJB3&#23481;&#22120;&#29615;&#22659;&#20013;&#36816;&#34892;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e784"></a>1.1.3.&nbsp;&#36816;&#34892;&#27979;&#35797;</h3></div></div><div></div></div><p>&#20960;&#20046;&#25152;&#26377;&#30340;&#31034;&#20363;&#37117;&#26377;&#30456;&#24212;&#30340;TestNG&#30340;&#38598;&#25104;&#27979;&#35797;&#20195;&#30721;&#12290;&#26368;&#31616;&#20415;&#30340;&#36816;&#34892;&#27979;&#35797;&#20195;&#30721;&#30340;&#26041;&#27861;&#26159;&#22312; <tt class="filename">examples/<i class="replaceable"><tt>registration</tt></i></tt>&#30446;&#24405;&#20013;&#36816;&#34892; <tt class="literal">ant testexample</tt>&#12290;&#24403;&#28982;&#20063;&#21487;&#22312;IDE&#24320;&#21457;&#24037;&#20855;&#20013;&#20351;&#29992;TestNG&#25554;&#20214;&#26469;&#36816;&#34892;&#27979;&#35797;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="registration-example"></a>1.2.&nbsp;&#31532;&#19968;&#20010;&#20363;&#23376;&#65306;&#27880;&#20876;&#31034;&#20363;</h2></div></div><div></div></div><p>&#27880;&#20876;&#31034;&#20363;&#26159;&#20010;&#26497;&#20854;&#26222;&#36890;&#30340;&#24212;&#29992;&#65292;&#23427;&#21487;&#35753;&#26032;&#29992;&#25143;&#22312;&#25968;&#25454;&#24211;&#20013;&#20445;&#23384;&#33258;&#24049;&#30340;&#29992;&#25143;&#21517;&#65292;&#30495;&#23454;&#30340;&#22995;&#21517;&#21450;&#23494;&#30721;&#12290;
		&#27492;&#31034;&#20363;&#24182;&#19981;&#24819;&#19968;&#19979;&#23376;&#23601;&#25226;Seam&#30340;&#25152;&#26377;&#30340;&#37239;&#21151;&#33021;&#20840;&#37096;&#31168;&#20986;&#12290;&#28982;&#32780;&#65292; &#23427;&#28436;&#31034;&#20102;EJB3 &#20250;&#35805;Bean&#20316;&#20026;JSF&#21160;&#20316;&#30417;&#21548;&#22120;&#21450;Seam&#30340;&#22522;&#26412;&#37197;&#32622;&#30340;&#20351;&#29992;&#26041;&#27861;&#12290;
    </p><p>&#25110;&#35768;&#20320;&#23545;EJB 3.0&#36824;&#19981;&#22826;&#29087;&#24713;&#65292;&#22240;&#27492;&#25105;&#20204;&#20250;&#23545;&#31034;&#20363;&#30340;&#24930;&#24930;&#28145;&#20837;&#35828;&#26126;&#12290;</p><p>&#27492;&#31034;&#20363;&#30340;&#39318;&#39029;&#26174;&#31034;&#20102;&#19968;&#20010;&#38750;&#24120;&#31616;&#21333;&#30340;&#34920;&#21333;&#65292;&#23427;&#26377;&#19977;&#20010;&#36755;&#20837;&#23383;&#27573;&#12290;&#35797;&#30528;&#22312;&#34920;&#21333;&#19978;&#22635;&#20889;&#20869;&#23481;&#24182;&#25552;&#20132;&#65292;&#19968;&#26086;&#36755;&#20837;&#25968;&#25454;&#34987;&#25552;&#20132;&#21518;&#23601;&#20250;&#22312;&#25968;&#25454;&#24211;&#20013;&#20445;&#23384;&#19968;&#20010;user&#23545;&#35937;&#12290;</p><div class="mediaobject" align="center"><img src="images/registration.png" align="middle"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e811"></a>1.2.1.&nbsp;&#20102;&#35299;&#20195;&#30721;</h3></div></div><div></div></div><p>&#26412;&#31034;&#20363;&#30001;&#20004;&#20010;JSP&#39029;&#38754;&#65292;&#19968;&#20010;&#23454;&#20307;Bean&#21450;&#26080;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#26469;&#23454;&#29616;&#12290;
      </p><div class="mediaobject" align="center"><img src="images/register.png" align="middle"></div><p>&#35753;&#25105;&#20204;&#30475;&#19968;&#19979;&#20195;&#30721;&#65292;&#23601;&#20174;&#26368;&#8220;&#24213;&#23618;&#8221;&#30340;&#23454;&#20307;Bean&#24320;&#22987;&#21543;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e823"></a>1.2.1.1.&nbsp;&#23454;&#20307;Bean&#65306;<tt class="literal">User.java</tt></h4></div></div><div></div></div><p>&#25105;&#20204;&#38656;&#35201;EJB &#23454;&#20307;Bean&#26469;&#20445;&#23384;&#29992;&#25143;&#25968;&#25454;&#12290;&#36825;&#20010;&#31867;&#36890;&#36807;&#27880;&#35299;&#22768;&#26126;&#24615;&#22320;&#23450;&#20041;&#20102; <span class="emphasis"><em>persistence</em></span> &#21450; <span class="emphasis"><em>validation</em></span> &#23646;&#24615;&#12290;&#23427;&#20063;&#38656;&#35201;&#19968;&#20123;&#39069;&#22806;&#30340;&#27880;&#35299;&#26469;&#23558;&#36825;&#20010;&#31867;&#23450;&#20041;&#20026;Seam&#30340;&#32452;&#20214;&#12290; </p><div class="example"><a name="d0e836"></a><p class="title"><b>Example&nbsp;1.1.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">@Entity                                                                                  <span class="co">(1)</span>
@Name("user")                                                                            <span class="co">(2)</span>
@Scope(SESSION)                                                                          <span class="co">(3)</span>
@Table(name="users")                                                                     <span class="co">(4)</span>
public class User implements Serializable
{
   private static final long serialVersionUID = 1881413500711441951L;

   private String username;                                                              <span class="co">(5)</span>
   private String password;
   private String name;

   public User(String name, String password, String username)
   {
      this.name = name;
      this.password = password;
      this.username = username;
   }

   public User() {}                                                                      <span class="co">(6)</span>

   @NotNull @Length(min=5, max=15)                                                       <span class="co">(7)</span>
   public String getPassword()
   {
      return password;
   }

   public void setPassword(String password)
   {
      this.password = password;
   }

   @NotNull
   public String getName()
   {
      return name;
   }

   public void setName(String name)
   {
      this.name = name;
   }

   @Id @NotNull @Length(min=5, max=15)                                                   <span class="co">(8)</span>
   public String getUsername()
   {
      return username;
   }

   public void setUsername(String username)
   {
      this.username = username;
   }

}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>EJB3&#26631;&#20934;&#27880;&#35299; <tt class="literal">@Entity</tt> &#34920;&#26126;&#20102; <tt class="literal">User</tt> &#31867;&#26159;&#20010;&#23454;&#20307;Bean.
                        </p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>Seam&#32452;&#20214;&#38656;&#35201;&#19968;&#20010; <span class="emphasis"><em>&#32452;&#20214;&#21517;&#31216;</em></span>&#65292;&#27492;&#21517;&#31216;&#30001;&#27880;&#35299; <a href="#name-annotation"><tt class="literal">@Name</tt></a>&#26469;&#25351;&#23450;&#12290;&#27492;&#21517;&#31216;&#24517;&#39035;&#22312;Seam&#24212;&#29992;&#20869;&#21807;&#19968;&#12290;&#24403;JSF&#29992;&#19968;&#20010;&#19982;&#32452;&#20214;&#21516;&#21517;&#30340;&#21517;&#31216;&#21435;&#35831;&#27714;Seam&#26469;&#35299;&#26512;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;
                        &#19988;&#35813;&#19978;&#19979;&#25991;&#21464;&#37327;&#23578;&#26410;&#23450;&#20041;&#65288;null&#65289;&#26102;&#65292;Seam&#23601;&#23558;&#23454;&#20363;&#21270;&#37027;&#20010;&#32452;&#20214;&#65292;&#24182;&#23558;&#26032;&#23454;&#20363;&#32465;&#23450;&#32473;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;
                        &#22312;&#27492;&#20363;&#20013;&#65292;Seam&#23558;&#22312;JSF&#31532;&#19968;&#27425;&#36935;&#21040;&#21517;&#20026; <tt class="literal">user</tt> &#30340;&#21464;&#37327;&#26102;&#23454;&#20363;&#21270; <tt class="literal">User</tt>&#12290;
                        </p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>&#27599;&#24403;Seam&#23454;&#20363;&#21270;&#19968;&#20010;&#32452;&#20214;&#26102;&#65292;&#23427;&#23601;&#23558;&#22987;&#21270;&#21518;&#30340;&#23454;&#20363;&#32465;&#23450;&#32473;&#32452;&#20214;&#20013; <span class="emphasis"><em>&#40664;&#35748;&#19978;&#19979;&#25991;</em></span> &#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;&#40664;&#35748;&#30340;&#19978;&#19979;&#25991;&#30001;
                            <a href="#scope-annotation"><tt class="literal">@Scope</tt></a>&#27880;&#35299;&#25351;&#23450;&#12290;
                            <tt class="literal">User</tt> Bean&#26159;&#20010;&#20250;&#35805;&#20316;&#29992;&#22495;&#30340;&#32452;&#20214;&#12290;
                        </p></td></tr><tr><td width="5%" valign="top" align="left">(4)</td><td valign="top" align="left"><p>EJB&#26631;&#20934;&#27880;&#35299;<tt class="literal">@Table</tt> &#34920;&#26126;&#20102;&#23558; <tt class="literal">User</tt> &#31867;&#26144;&#23556;&#21040; <tt class="literal">users</tt> &#34920;&#19978;&#12290;
                        </p></td></tr><tr><td width="5%" valign="top" align="left">(5)</td><td valign="top" align="left"><p>
									<tt class="literal">name</tt>&#12289; <tt class="literal">password</tt> &#21450; <tt class="literal">username</tt> &#37117;&#26159;&#23454;&#20307;Bean&#30340;&#25345;&#20037;&#21270;&#23646;&#24615;&#12290;&#25152;&#26377;&#30340;&#25345;&#20037;&#21270;&#23646;&#24615;&#37117;&#23450;&#20041;&#20102;&#35775;&#38382;&#26041;&#27861;&#12290;&#24403;JSF&#28210;&#26579;&#36755;&#20986;&#21450;&#26356;&#26032;&#27169;&#22411;&#20540;&#38454;&#27573;&#26102;&#38656;&#35201;&#35843;&#29992;&#35813;&#32452;&#20214;&#30340;&#36825;&#20123;&#26041;&#27861;&#12290;
                        </p></td></tr><tr><td width="5%" valign="top" align="left">(6)</td><td valign="top" align="left"><p>EJB&#21644;Seam&#37117;&#35201;&#27714;&#26377;&#31354;&#30340;&#26500;&#36896;&#22120;&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(7)</td><td valign="top" align="left"><p>
									<tt class="literal">@NotNull</tt> &#21644; <tt class="literal">@Length</tt> &#27880;&#35299;&#26159;Hibernate Validator&#26694;&#26550;&#30340;&#32452;&#25104;&#37096;&#20221;&#65292;
                        Seam&#38598;&#25104;&#20102;Hibernate Validator&#24182;&#35753;&#20320;&#29992;&#23427;&#26469;&#20316;&#20026;&#25968;&#25454;&#26657;&#39564;&#65288;&#23613;&#31649;&#20320;&#21487;&#33021;&#24182;&#19981;&#20351;&#29992;Hibernate&#20316;&#20026;&#25345;&#20037;&#21270;&#23618;&#65289;&#12290;
                        </p></td></tr><tr><td width="5%" valign="top" align="left">(8)</td><td valign="top" align="left"><p>&#26631;&#20934;EJB&#27880;&#35299; <tt class="literal">@Id</tt> &#34920;&#26126;&#20102;&#23454;&#20307;Bean&#30340;&#20027;&#38190;&#23646;&#24615;&#12290;</p></td></tr></table></div></div><p>&#36825;&#20010;&#20363;&#23376;&#20013;&#26368;&#20540;&#24471;&#27880;&#24847;&#30340;&#26159; <tt class="literal">@Name</tt> &#21644; <tt class="literal">@Scope</tt> &#27880;&#35299;&#65292;&#23427;&#20204;&#30830;&#31435;&#20102;&#36825;&#20010;&#31867;&#26159;Seam&#30340;&#32452;&#20214;&#12290;
            </p><p>&#25509;&#19979;&#26469;&#25105;&#20204;&#23558;&#30475;&#21040; <tt class="literal">User</tt> &#31867;&#23383;&#27573;&#22312;&#26356;&#26032;&#27169;&#22411;&#20540;&#38454;&#27573;&#26102;&#30452;&#25509;&#34987;&#32465;&#23450;&#32473;JSF&#32452;&#20214;&#24182;&#30001;JSF&#25805;&#20316;&#65292;
            &#22312;&#27492;&#24182;&#19981;&#38656;&#35201;&#20887;&#20313;&#30340;&#33014;&#27700;&#20195;&#30721;&#26469;&#22312;JSP&#39029;&#38754;&#19982;&#23454;&#20307;Bean&#22495;&#27169;&#22411;&#38388;&#26469;&#22238;&#25335;&#36125;&#25968;&#25454;&#12290;
            </p><p>&#28982;&#32780;&#65292;&#23454;&#20307;Bean&#19981;&#24212;&#35813;&#36827;&#34892;&#20107;&#21153;&#31649;&#29702;&#25110;&#25968;&#25454;&#24211;&#35775;&#38382;&#12290;&#25925;&#27492;&#65292;&#25105;&#20204;&#26080;&#27861;&#23558;&#27492;&#32452;&#20214;&#20316;&#20026;JSF&#21160;&#20316;&#30417;&#21548;&#22120;&#65292;&#22240;&#32780;&#38656;&#35201;&#20250;&#35805;Bean&#12290;
            </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e945"></a>1.2.1.2.&nbsp;&#26080;&#29366;&#24577;&#20250;&#35805;Bean&#65306;<tt class="literal">RegisterAction.java</tt></h4></div></div><div></div></div><p>&#22312;Seam&#24212;&#29992;&#20013;&#22823;&#37117;&#37319;&#29992;&#20250;&#35805;Bean&#26469;&#20316;&#20026;JSF&#21160;&#20316;&#30417;&#21548;&#22120;&#65288;&#24403;&#28982;&#25105;&#20204;&#20063;&#21487;&#36873;&#25321;JavaBean&#65289;&#12290;
        </p><p>&#22312;&#25105;&#20204;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#30830;&#23454;&#23384;&#22312;&#19968;&#20010;JSF&#21160;&#20316;&#21644;&#19968;&#20010;&#20250;&#35805;Bean&#26041;&#27861;&#12290;&#22312;&#27492;&#31034;&#20363;&#20013;&#65292;&#21482;&#26377;&#19968;&#20010;JSF&#21160;&#20316;&#65292;&#24182;&#19988;&#25105;&#20204;&#20351;&#29992;&#20250;&#35805;Bean&#26041;&#27861;&#19982;&#20043;&#30456;&#20851;&#32852;&#24182;&#20351;&#29992;&#26080;&#29366;&#24577;Bean&#65292;&#36825;&#26159;&#30001;&#20110;&#25152;&#26377;&#19982;&#21160;&#20316;&#30456;&#20851;&#30340;&#29366;&#24577;&#37117;&#20445;&#23384;&#22312; <tt class="literal">User</tt> Bean&#20013;&#12290;
        </p><p>&#36825;&#26159;&#31034;&#20363;&#20013;&#27604;&#36739;&#26377;&#36259;&#30340;&#20195;&#30721;&#37096;&#20221;&#65306;
        </p><div class="example"><a name="d0e959"></a><p class="title"><b>Example&nbsp;1.2.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">@Stateless                                                                               <span class="co">(1)</span>
@Name("register")
public class RegisterAction implements Register
{

   @In                                                                                   <span class="co">(2)</span>
   private User user;

   @PersistenceContext                                                                   <span class="co">(3)</span>
   private EntityManager em;

   @Logger                                                                               <span class="co">(4)</span>
   private Log log;

   public String register()                                                              <span class="co">(5)</span>
   {
      List existing = em.createQuery(
         "select username from User where username=#{user.username}")                    <span class="co">(6)</span>
         .getResultList();

      if (existing.size()==0)
      {
         em.persist(user);
         log.info("Registered new user #{user.username}");                               <span class="co">(7)</span>
         return "/registered.jsp";                                                       <span class="co">(8)</span>
      }
      else
      {
         FacesMessages.instance().add("User #{user.username} already exists");           <span class="co">(9)</span>
         return null;
      }
   }

}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>EJB&#26631;&#20934;&#27880;&#35299; <tt class="literal">@Stateless</tt> &#23558;&#36825;&#20010;&#31867;&#26631;&#35760;&#20026;&#26080;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>
								&#27880;&#35299; <a href="#in-annotation"><tt class="literal">@In</tt></a>&#23558;Bean&#30340;&#19968;&#20010;&#23646;&#24615;&#26631;&#35760;&#20026;&#30001;Seam&#26469;&#27880;&#20837;&#12290;
								&#22312;&#27492;&#20363;&#20013;&#65292;&#27492;&#23646;&#24615;&#30001;&#21517;&#20026; <tt class="literal">user</tt> &#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#27880;&#20837;&#65288;&#23454;&#20363;&#30340;&#21464;&#37327;&#21517;&#65289;&#12290;
								</p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>EJB&#26631;&#20934;&#27880;&#35299; <tt class="literal">@PersistenceContext</tt> &#29992;&#26469;&#27880;&#20837;EJB&#23454;&#20307;&#31649;&#29702;&#22120;&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(4)</td><td valign="top" align="left"><p>Seam&#30340; <tt class="literal">@Logger</tt> &#27880;&#35299;&#29992;&#26469;&#27880;&#20837;&#32452;&#20214;&#30340; <tt class="literal">Log</tt> &#23454;&#20363;&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(5)</td><td valign="top" align="left"><p>&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#20351;&#29992;&#26631;&#20934;&#30340;EJB3 <tt class="literal">EntityManager</tt> API&#26469;&#19982;&#25968;&#25454;&#24211;&#20132;&#20114;&#65292;&#24182;&#36820;&#22238;JSF&#30340;&#36755;&#20986;&#32467;&#26524;&#12290;
                          &#35831;&#27880;&#24847;&#65292;&#30001;&#20110;&#36825;&#26159;&#20010;&#20250;&#35805;Bean&#65292;&#22240;&#27492;&#24403; <tt class="literal">register()</tt> &#26041;&#27861;&#34987;&#35843;&#29992;&#26102;&#20107;&#21153;&#23601;&#20250;&#33258;&#21160;&#24320;&#22987;&#65292;&#24182;&#22312;&#32467;&#26463;&#26102;&#25552;&#20132;&#65288;commit&#65289;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(6)</td><td valign="top" align="left"><p>&#35831;&#27880;&#24847;Seam&#35753;&#20320;&#22312;EJB-QL&#20013;&#20351;&#29992;JSF EL&#34920;&#36798;&#24335;&#12290;&#22240;&#27492;&#21487;&#22312;&#26631;&#20934;JPA <tt class="literal">Query</tt> &#23545;&#35937;&#19978;&#35843;&#29992;&#26222;&#36890;&#30340;JPA <tt class="literal">setParameter()</tt> &#26041;&#27861;&#65292;&#36825;&#26679;&#23682;&#19981;&#22937;&#21705;&#65311;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(7)</td><td valign="top" align="left"><p><tt class="literal">Log</tt> API&#20026;&#26174;&#31034;&#27169;&#26495;&#21270;&#30340;&#26085;&#24535;&#28040;&#24687;&#25552;&#20379;&#20102;&#20415;&#21033;&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(8)</td><td valign="top" align="left"><p>&#22810;&#20010;JSF&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#36820;&#22238;&#19968;&#20010;&#23383;&#31526;&#20018;&#20540;&#30340;&#36755;&#20986;&#65292;&#23427;&#20915;&#23450;&#20102;&#25509;&#19979;&#26469;&#24212;&#26174;&#31034;&#30340;&#39029;&#38754;&#20869;&#23481;&#12290;
								&#31354;&#36755;&#20986;&#65288;&#25110;&#36820;&#22238;&#20540;&#20026;&#31354;&#30340;&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#65289;&#37325;&#26032;&#26174;&#31034;&#19978;&#19968;&#39029;&#30340;&#20869;&#23481;&#12290;
								&#22312;&#26222;&#36890;&#30340;JSF&#20013;&#65292;&#29992;JSF&#30340;<span class="emphasis"><em>&#23548;&#33322;&#35268;&#21017;&#65288;navigation rule&#65289;</em></span> &#26469;&#20915;&#23450;&#36755;&#20986;&#32467;&#26524;&#30340;JSF&#35270;&#22270;id&#26159;&#24456;&#24120;&#29992;&#30340;&#12290;
								&#36825;&#31181;&#38388;&#25509;&#24615;&#23545;&#20110;&#22797;&#26434;&#30340;&#24212;&#29992;&#26159;&#38750;&#24120;&#26377;&#29992;&#30340;&#65292;&#20540;&#24471;&#21435;&#23454;&#36341;&#12290;&#20294;&#26159;&#65292;&#23545;&#20110;&#35937;&#31034;&#20363;&#36825;&#26679;&#31616;&#21333;&#30340;&#30340;&#24212;&#29992;&#65292;Seam&#35753;&#20320;&#20351;&#29992;JSF&#35270;&#22270;id&#20316;&#20026;&#36755;&#20986;&#32467;&#26524;&#65292;&#20197;&#20943;&#23569;&#23545;&#23548;&#33322;&#35268;&#21017;&#30340;&#38656;&#27714;&#12290;<span class="emphasis"><em>&#35831;&#27880;&#24847;&#65292;&#24403;&#20320;&#29992;&#35270;&#22270;id&#20316;&#20026;&#36755;&#20986;&#32467;&#26524;&#26102;&#65292;Seam&#24635;&#20250;&#25191;&#34892;&#19968;&#27425;&#27983;&#35272;&#22120;&#30340;&#37325;&#23450;&#21521;&#12290;</em></span>
								</p></td></tr><tr><td width="5%" valign="top" align="left">(9)</td><td valign="top" align="left"><p>Seam&#25552;&#20379;&#20102;&#22823;&#37327;&#30340; <span class="emphasis"><em>&#20869;&#32622;&#32452;&#20214;&#65288;built-in components&#65289;</em></span> &#26469;&#21327;&#21161;&#35299;&#20915;&#37027;&#20123;&#32463;&#24120;&#36935;&#21040;&#30340;&#38382;&#39064;&#12290;
                        &#29992; <tt class="literal">FacesMessages</tt> &#32452;&#20214;&#23601;&#21487;&#24456;&#23481;&#26131;&#22320;&#26469;&#26174;&#31034;&#27169;&#26495;&#21270;&#30340;&#38169;&#35823;&#25110;&#25104;&#21151;&#30340;&#28040;&#24687;&#12290;
                        &#20869;&#32622;&#30340;Seam&#32452;&#20214;&#36824;&#21487;&#30001;&#27880;&#20837;&#25110;&#36890;&#36807;&#35843;&#29992; <tt class="literal">instance()</tt> &#26041;&#27861;&#26469;&#33719;&#21462;&#12290;
                       </p></td></tr></table></div></div><p>&#36825;&#27425;&#25105;&#20204;&#24182;&#27809;&#26377;&#26174;&#24335;&#25351;&#23450; <tt class="literal">@Scope</tt>&#65292;&#33509;&#27809;&#26377;&#26174;&#24335;&#25351;&#23450;&#26102;&#65292;&#27599;&#20010;Seam &#32452;&#20214;&#31867;&#22411;&#23601;&#20351;&#29992;&#20854;&#40664;&#35748;&#30340;&#20316;&#29992;&#22495;&#12290;&#23545;&#20110;&#26080;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#65292;
        &#20854;&#40664;&#35748;&#30340;&#20316;&#29992;&#22495;&#23601;&#26159;&#26080;&#29366;&#24577;&#30340;&#19978;&#19979;&#25991;&#12290;&#23454;&#38469;&#19978; <span class="emphasis"><em>&#25152;&#26377;&#30340;</em></span> &#26080;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#37117;&#23646;&#20110;&#26080;&#29366;&#24577;&#30340;&#19978;&#19979;&#25991;&#12290;
        </p><p>&#20250;&#35805;Bean&#30340;&#21160;&#20316;&#30417;&#21548;&#22120;&#22312;&#27492;&#23567;&#24212;&#29992;&#20013;&#23653;&#34892;&#20102;&#19994;&#21153;&#21644;&#25345;&#20037;&#21270;&#36923;&#36753;&#12290;&#22312;&#26356;&#22797;&#26434;&#30340;&#24212;&#29992;&#20013;&#65292;&#25105;&#20204;&#21487;&#33021;&#35201;&#23558;&#20195;&#30721;&#20998;&#23618;&#24182;&#37325;&#26500;&#25345;&#20037;&#21270;&#36923;&#36753;&#23618;&#25104;
        &#19987;&#29992;&#25968;&#25454;&#23384;&#21462;&#32452;&#20214;&#65292;&#36825;&#24456;&#23481;&#26131;&#20570;&#21040;&#12290;&#20294;&#35831;&#27880;&#24847;Sean&#24182;&#19981;&#24378;&#21046;&#20320;&#22312;&#24212;&#29992;&#20998;&#23618;&#26102;&#20351;&#29992;&#26576;&#31181;&#29305;&#23450;&#30340;&#20998;&#23618;&#31574;&#30053;&#12290;
        </p><p>&#27492;&#22806;&#65292;&#20063;&#35831;&#27880;&#24847;&#25105;&#20204;&#30340;SessionBean&#20250;&#21516;&#27493;&#35775;&#38382;&#19982;web&#35831;&#27714;&#30456;&#20851;&#32852;&#30340;&#19978;&#19979;&#25991;&#65288;&#27604;&#22914;&#22312; <tt class="literal">User</tt> &#23545;&#35937;&#20013;&#30340;&#34920;&#21333;&#30340;&#20540;&#65289;&#65292;&#29366;&#24577;&#20250;&#34987;&#20445;&#25345;&#22312;&#20107;&#21153;&#22411;&#30340;&#36164;&#28304;&#37324;&#65288;EntityManager &#23545;&#35937;&#65289;&#12290;
        &#36825;&#26159;&#23545;&#20256;&#32479;J2EE&#30340;&#20307;&#31995;&#32467;&#26500;&#30340;&#31361;&#30772;&#12290;&#20877;&#27425;&#35828;&#26126;&#65292;&#22914;&#26524;&#20320;&#20064;&#24815;&#20110;&#20256;&#32479;J2EE&#30340;&#20998;&#23618;&#65292;&#20063;&#21487;&#20197;&#22312;&#20320;&#30340;Seam&#24212;&#29992;&#23454;&#34892;&#12290;&#20294;&#26159;&#23545;&#20110;&#35768;&#22810;&#30340;&#24212;&#29992;&#65292;&#36825;&#26159;&#26126;&#26174;&#30340;&#27809;&#26377;&#24517;&#35201; &#12290;
        </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1064"></a>1.2.1.3.&nbsp;&#20250;&#35805;Bean&#30340;&#26412;&#22320;&#25509;&#21475;&#65306;<tt class="literal">Register.java</tt></h4></div></div><div></div></div><p>&#24456;&#33258;&#28982;&#65292;&#25105;&#20204;&#30340;&#20250;&#35805;Bean&#38656;&#35201;&#19968;&#20010;&#26412;&#22320;&#25509;&#21475;&#12290;</p><div class="example"><a name="d0e1071"></a><p class="title"><b>Example&nbsp;1.3.&nbsp;</b></p><pre class="programlisting">@Local
public interface Register
{
   public String register();
}</pre></div><p>&#25152;&#26377;&#30340;Java&#20195;&#30721;&#23601;&#36825;&#20123;&#20102;&#65292;&#29616;&#22312;&#21435;&#30475;&#19968;&#19979;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1076"></a>1.2.1.4.&nbsp;Seam&#32452;&#20214;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;<tt class="literal">components.xml</tt></h4></div></div><div></div></div><p>
        &#22914;&#26524;&#20320;&#27492;&#21069;&#26366;&#25509;&#35302;&#36807;&#35768;&#22810;&#30340;Java&#26694;&#26550;&#65292;&#20320;&#23601;&#20250;&#20064;&#24815;&#20110;&#23558;&#25152;&#26377;&#30340;&#32452;&#20214;&#31867;&#25918;&#22312;&#26576;&#31181;XML&#25991;&#20214;&#20013;&#26469;&#22768;&#26126;&#65292;&#37027;&#20123;&#25991;&#20214;&#23601;&#20250;&#38543;&#30528;&#39033;&#30446;&#30340;&#19981;&#26029;&#25104;&#29087;&#32780;&#19981;&#26029;&#21152;&#22823;&#21040;&#26368;&#32456;&#21040;&#19981;&#21487;&#25910;&#25342;&#30340;&#22320;&#27493;&#12290;
        &#23545;&#20110;Seam&#24212;&#29992;&#65292;&#20320;&#23613;&#21487;&#25918;&#24515;&#65292;&#22240;&#20026;&#23427;&#24182;&#19981;&#35201;&#27714;&#24212;&#29992;&#32452;&#20214;&#37117;&#35201;&#26377;&#30456;&#24212;&#30340;XML&#12290;&#22823;&#37096;&#20221;&#30340;Seam&#24212;&#29992;&#35201;&#27714;&#38750;&#24120;&#23569;&#37327;&#30340;XML&#21363;&#21487;&#65292;&#19988;XML&#25991;&#20214;&#22823;&#23567;&#19981;&#20250;&#38543;&#30528;&#39033;&#30446;&#30340;&#22686;&#22823;&#32780;&#24555;&#36895;&#22686;&#38271;&#12290;
         </p><p>
            &#26080;&#35770;&#22914;&#20309;&#65292;&#33509;&#33021;&#20026; <span class="emphasis"><em>&#26576;&#20123;</em></span> &#32452;&#20214;&#65288;&#29305;&#21035;&#26159;Seam&#20869;&#32622;&#32452;&#20214;&#65289;&#25552;&#20379;<span class="emphasis"><em>&#26576;&#20123;</em></span> &#22806;&#37096;&#37197;&#32622;&#24448;&#24448;&#26159;&#26377;&#29992;&#30340;&#12290;&#36825;&#26679;&#19968;&#26469;&#65292;&#25105;&#20204;&#23601;&#26377;&#20960;&#20010;&#36873;&#25321;&#65292; &#20294;&#26368;&#28789;&#27963;&#30340;&#36873;&#25321;&#36824;&#26159;&#20351;&#29992;&#20301;&#20110; <tt class="literal">WEB-INF</tt> &#30446;&#24405;&#19979;&#30340; <tt class="literal">components.xml</tt> &#37197;&#32622;&#25991;&#20214;&#12290;
           &#25105;&#20204;&#23558;&#29992; <tt class="literal">components.xml</tt> &#25991;&#20214;&#26469;&#28436;&#31034;Seam&#24590;&#26679;&#22312;JNDI&#20013;&#25214;&#21040;EJB&#32452;&#20214;:
        </p><div class="example"><a name="d0e1100"></a><p class="title"><b>Example&nbsp;1.4.&nbsp;</b></p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:core="http://jboss.com/products/seam/core"&gt;
     &lt;core:init jndi-pattern="@jndiPattern@"/&gt;
&lt;/components&gt;</pre></div><p>&#27492;&#20195;&#30721;&#37197;&#32622;&#20102;Seam&#20869;&#32622;&#32452;&#20214; <tt class="literal">org.jboss.seam.core.init</tt> &#30340; <tt class="literal">jndiPattern</tt> &#23646;&#24615;&#12290;&#36825;&#37324;&#38656;&#35201;&#22855;&#24618;&#30340;@&#31526;&#21495;&#26159;&#22240;&#20026;ANT&#33050;&#26412;&#20250;&#22312;&#37096;&#32626;&#24212;&#29992;&#26102;&#23558;&#27491;&#30830;&#30340;JNDI&#35821;&#27861;&#22312;&#26631;&#35760;&#22788;&#33258;&#21160;&#22635;&#34917;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1111"></a>1.2.1.5.&nbsp;Web&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;<tt class="literal">web.xml</tt></h4></div></div><div></div></div><p>&#25105;&#20204;&#23558;&#20197;WAR&#30340;&#24418;&#24335;&#26469;&#37096;&#32626;&#27492;&#23567;&#24212;&#29992;&#30340;&#34920;&#31034;&#23618;&#65292;&#22240;&#27492;&#38656;&#35201;web&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#12290;</p><div class="example"><a name="d0e1118"></a><p class="title"><b>Example&nbsp;1.5.&nbsp;</b></p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app version="2.5"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
                        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"&gt;

    &lt;!-- Seam --&gt;

    &lt;listener&gt;
        &lt;listener-class&gt;org.jboss.seam.servlet.SeamListener&lt;/listener-class&gt;
    &lt;/listener&gt;

    &lt;!-- MyFaces --&gt;

    &lt;listener&gt;
        &lt;listener-class&gt;
            org.apache.myfaces.webapp.StartupServletContextListener
        &lt;/listener-class&gt;
    &lt;/listener&gt;

    &lt;context-param&gt;
        &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;
        &lt;param-value&gt;client&lt;/param-value&gt;
    &lt;/context-param&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;

    &lt;!-- Faces Servlet Mapping --&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;*.seam&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

&lt;/web-app&gt;</pre></div><p>&#27492; <tt class="literal">web.xml</tt> &#25991;&#20214;&#37197;&#32622;&#20102;Seam&#21644;JSF&#12290;&#25152;&#26377;Seam&#24212;&#29992;&#20013;&#30340;&#37197;&#32622;&#19982;&#27492;&#22788;&#30340;&#37197;&#32622;&#22522;&#26412;&#30456;&#21516;&#12290;
         </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1126"></a>1.2.1.6.&nbsp;JSF&#37197;&#32622;&#65306;<tt class="literal">faces-config.xml</tt></h4></div></div><div></div></div><p>&#32477;&#22823;&#22810;&#25968;&#30340;Seam&#24212;&#29992;&#23558;JSF&#26469;&#20316;&#20026;&#34920;&#31034;&#23618;&#12290;&#22240;&#32780;&#25105;&#20204;&#36890;&#24120;&#38656;&#35201; <tt class="literal">faces-config.xml</tt>&#12290;SEAM&#23558;&#29992;Facelet&#23450;&#20041;&#35270;&#22270;&#34920;&#29616;&#23618;&#65292;&#25152;&#20197;&#25105;&#20204;&#38656;&#35201;&#21578;&#35785;JSF&#29992;Facelet&#20316;&#20026;&#23427;&#30340;&#27169;&#26495;&#24341;&#25806;&#12290;</p><div class="example"><a name="registration-faces-config-xml"></a><p class="title"><b>Example&nbsp;1.6.&nbsp;</b></p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE faces-config
PUBLIC "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.0//EN"
                            "http://java.sun.com/dtd/web-facesconfig_1_0.dtd"&gt;
&lt;faces-config&gt;

    &lt;!-- A phase listener is needed by all Seam applications --&gt;

    &lt;lifecycle&gt;
        &lt;phase-listener&gt;org.jboss.seam.jsf.SeamPhaseListener&lt;/phase-listener&gt;
    &lt;/lifecycle&gt;

&lt;/faces-config&gt;</pre></div><p>
&#27880;&#24847;&#25105;&#20204;&#19981;&#38656;&#35201;&#30003;&#26126;&#20219;&#20309;JSF managed Bean&#65281;&#22240;&#20026;&#25105;&#20204;&#25152;&#26377;&#30340;managed Bean&#37117;&#26159;&#36890;&#36807;&#32463;&#36807;&#27880;&#37322;&#30340;Seam&#32452;&#20214;&#12290;&#25152;&#20197;&#22312;Seam&#30340;&#24212;&#29992;&#20013;&#65292;faces-config.xml&#27604;&#21407;&#22987;&#30340;JSF&#26356;&#23569;&#29992;&#21040;&#12290;
        </p><p>&#23454;&#38469;&#19978;&#65292;&#19968;&#26086;&#20320;&#25226;&#25152;&#26377;&#30340;&#22522;&#26412;&#25551;&#36848;&#25991;&#20214;&#37197;&#32622;&#23436;&#27605;&#65292;&#20320;&#25152;&#38656;&#20889;&#30340; <span class="emphasis"><em>&#21807;&#19968;&#31867;&#22411;&#30340;</em></span> XML&#25991;&#20214;&#23601;&#26159;&#23548;&#33322;&#35268;&#21017;&#21450;&#21487;&#33021;&#30340;jBPM&#27969;&#31243;&#23450;&#20041;&#12290;&#23545;&#20110;Seam&#32780;&#35328;&#65292; <span class="emphasis"><em>&#27969;&#31243;&#65288;process flow&#65289;</em></span> &#21450; <span class="emphasis"><em>&#37197;&#32622;&#25968;&#25454;</em></span> &#26159;&#21807;&#19968;&#30495;&#27491;&#23646;&#20110;&#38656;&#35201;XML&#23450;&#20041;&#30340;&#12290;
        </p><p>&#22312;&#27492;&#31616;&#21333;&#30340;&#31034;&#20363;&#20013;&#65292;&#22240;&#20026;&#25105;&#20204;&#23558;&#35270;&#22270;&#39029;&#38754;&#30340;ID&#23884;&#20837;&#21040;Action&#20195;&#30721;&#20013;&#65292;&#25152;&#20197;&#25105;&#20204;&#29978;&#33267;&#37117;&#19981;&#38656;&#35201;&#23450;&#20041;&#23548;&#33322;&#35268;&#21017;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1154"></a>1.2.1.7.&nbsp;EJB&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;<tt class="literal">ejb-jar.xml</tt>
				</h4></div></div><div></div></div><p><tt class="literal">ejb-jar.xml</tt> &#25991;&#20214;&#23558; <tt class="literal">SeamInterceptor</tt> &#32465;&#23450;&#21040;&#21387;&#32553;&#21253;&#20013;&#25152;&#26377;&#30340;&#20250;&#35805;Bean&#19978;&#65292;&#20197;&#27492;&#23454;&#29616;&#20102;Seam&#19982;EJB3&#30340;&#25972;&#21512;&#12290;
       </p><pre class="programlisting">&lt;ejb-jar xmlns="http://java.sun.com/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd"
         version="3.0"&gt;

   &lt;interceptors&gt;
     &lt;interceptor&gt;
       &lt;interceptor-class&gt;org.jboss.seam.ejb.SeamInterceptor&lt;/interceptor-class&gt;
     &lt;/interceptor&gt;
   &lt;/interceptors&gt;

   &lt;assembly-descriptor&gt;
      &lt;interceptor-binding&gt;
         &lt;ejb-name&gt;*&lt;/ejb-name&gt;
         &lt;interceptor-class&gt;org.jboss.seam.ejb.SeamInterceptor&lt;/interceptor-class&gt;
      &lt;/interceptor-binding&gt;
   &lt;/assembly-descriptor&gt;

&lt;/ejb-jar&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1169"></a>1.2.1.8.&nbsp;EJB&#25345;&#20037;&#21270;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;<tt class="literal">persistence.xml</tt></h4></div></div><div></div></div><p>
					<tt class="literal">persistence.xml</tt> &#25991;&#20214;&#21578;&#35785;EJB&#30340;&#25345;&#20037;&#21270;&#23618;&#22312;&#21738;&#25214;&#21040;&#25968;&#25454;&#28304;&#65292;&#35813;&#25991;&#20214;&#20063;&#21547;&#26377;&#19968;&#20123;&#21378;&#21830;&#29305;&#23450;&#30340;&#35774;&#23450;&#12290;&#27492;&#20363;&#22312;&#31243;&#24207;&#21551;&#21160;&#26102;&#33258;&#21160;&#21019;&#24314;&#25968;&#25454;&#24211;Schema&#12290;
        </p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd"
             version="1.0"&gt;
    &lt;persistence-unit name="userDatabase"&gt;
      &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;
      &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;
      &lt;properties&gt;
         &lt;property name="hibernate.hbm2ddl.auto" value="create-drop"/&gt;
      &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1181"></a>1.2.1.9.&nbsp;&#35270;&#22270;&#65306;<tt class="literal">register.xhtml</tt> &#21644; <tt class="literal">registered.xhtml</tt>
				</h4></div></div><div></div></div><p>&#23545;&#20110;Seam&#24212;&#29992;&#30340;&#35270;&#22270;&#21487;&#30001;&#20219;&#24847;&#25903;&#25345;JSF&#30340;&#25216;&#26415;&#26469;&#23454;&#29616;&#12290;&#22312;&#27492;&#20363;&#20013;&#65292;&#25105;&#20204;&#20351;&#29992;&#20102;JSP&#65292;&#22240;&#20026;&#22823;&#22810;&#25968;&#30340;&#24320;&#21457;&#20154;&#21592;&#37117;&#24456;&#29087;&#24713;&#65292;
                &#19988;&#36825;&#37324;&#24182;&#27809;&#26377;&#20854;&#23427;&#22826;&#22810;&#30340;&#35201;&#27714;&#12290;&#65288;&#25105;&#20204;&#24314;&#35758;&#20320;&#22312;&#23454;&#38469;&#24320;&#21457;&#20013;&#20351;&#29992;Facelets&#65289;&#12290;
        </p><div class="example"><a name="registration-simpleform"></a><p class="title"><b>Example&nbsp;1.7.&nbsp;</b></p><pre class="programlisting">&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f" %&gt;
&lt;%@ taglib uri="http://jboss.com/products/seam/taglib" prefix="s" %&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Register New User&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;f:view&gt;
   &lt;h:form&gt;
     &lt;table border="0"&gt;
       &lt;s:validateAll&gt;
         &lt;tr&gt;
           &lt;td&gt;Username&lt;/td&gt;
           &lt;td&gt;&lt;h:inputText value="#{user.username}"/&gt;&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
           &lt;td&gt;Real Name&lt;/td&gt;
           &lt;td&gt;&lt;h:inputText value="#{user.name}"/&gt;&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
           &lt;td&gt;Password&lt;/td&gt;
           &lt;td&gt;&lt;h:inputSecret value="#{user.password}"/&gt;&lt;/td&gt;
         &lt;/tr&gt;
       &lt;/s:validateAll&gt;
     &lt;/table&gt;
     &lt;h:messages/&gt;
     &lt;h:commandButton type="submit" value="Register" action="#{register.register}"/&gt;
   &lt;/h:form&gt;
  &lt;/f:view&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre></div><p>&#36825;&#37324;&#30340; <tt class="literal">&lt;s:validateAll&gt;</tt>&#26631;&#31614;&#26159;Seam&#29305;&#26377;&#30340;&#12290;
				&#35813;JSF&#32452;&#20214;&#21578;&#35785;JSF&#35753;&#23427;&#29992;&#23454;&#20307;Bean&#20013;&#25152;&#25351;&#23450;&#30340;Hibernat&#39564;&#35777;&#22120;&#27880;&#35299;&#26469;&#39564;&#35777;&#25152;&#26377;&#21253;&#21547;&#36755;&#20837;&#30340;&#23383;&#27573;&#12290;
        </p><div class="example"><a name="registration-simplepage"></a><p class="title"><b>Example&nbsp;1.8.&nbsp;</b></p><pre class="programlisting">&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f" %&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Successfully Registered New User&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;f:view&gt;
    Welcome, &lt;h:outputText value="#{user.name}"/&gt;,
    you are successfully registered as &lt;h:outputText value="#{user.username}"/&gt;.
  &lt;/f:view&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre></div><p>&#36825;&#26159;&#20010;&#26497;&#20854;&#26222;&#36890;&#30340;&#20351;&#29992;JSF&#32452;&#20214;&#30340;JSP&#39029;&#38754;&#65292;&#19982;Seam&#27627;&#26080;&#30456;&#24178;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1205"></a>1.2.1.10.&nbsp;EAR&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;<tt class="literal">application.xml</tt>
				</h4></div></div><div></div></div><p>&#26368;&#21518;&#65292;&#22240;&#20026;&#25105;&#20204;&#30340;&#24212;&#29992;&#26159;&#35201;&#37096;&#32626;&#25104;EAR&#30340;&#65292;&#22240;&#27492;&#25105;&#20204;&#20063;&#38656;&#35201;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#12290;</p><div class="example"><a name="registration-application-xml"></a><p class="title"><b>Example&nbsp;1.9.&nbsp;</b></p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;application xmlns="http://java.sun.com/xml/ns/javaee"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/application_5.xsd"
             version="5"&gt;

    &lt;display-name&gt;Seam Registration&lt;/display-name&gt;

    &lt;module&gt;
        &lt;web&gt;
            &lt;web-uri&gt;jboss-seam-registration.war&lt;/web-uri&gt;
            &lt;context-root&gt;/seam-registration&lt;/context-root&gt;
        &lt;/web&gt;
    &lt;/module&gt;
    &lt;module&gt;
        &lt;ejb&gt;jboss-seam-registration.jar&lt;/ejb&gt;
    &lt;/module&gt;
    &lt;module&gt;
        &lt;java&gt;jboss-seam.jar&lt;/java&gt;
    &lt;/module&gt;
    &lt;module&gt;
        &lt;java&gt;el-api.jar&lt;/java&gt;
    &lt;/module&gt;
    &lt;module&gt;
        &lt;java&gt;el-ri.jar&lt;/java&gt;
    &lt;/module&gt;

&lt;/application&gt;</pre></div><p>&#27492;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#32852;&#25509;&#20102;EAR&#20013;&#30340;&#25152;&#26377;&#27169;&#22359;&#65292;&#24182;&#25226;Web&#24212;&#29992;&#32465;&#23450;&#21040;&#27492;&#24212;&#29992;&#30340;&#39318;&#39029; <tt class="literal">/seam-registration</tt>&#12290;
        </p></div><p>&#33267;&#27492;&#65292;&#25105;&#20204;&#20102;&#35299;&#20102;&#25972;&#20010;&#24212;&#29992;&#20013; <span class="emphasis"><em>&#25152;&#26377;&#30340;</em></span> &#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65281;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1226"></a>1.2.2.&nbsp;&#24037;&#20316;&#21407;&#29702;</h3></div></div><div></div></div><p>&#24403;&#25552;&#20132;&#34920;&#21333;&#26102;,JSF&#35831;&#27714;Seam&#26469;&#35299;&#26512;&#21517;&#20026; <tt class="literal">user</tt> &#30340;&#21464;&#37327;&#12290;&#30001;&#20110;&#36824;&#27809;&#26377;&#20540;&#32465;&#23450;&#21040; <tt class="literal">user</tt> &#19978;&#65288;&#22312;&#20219;&#24847;&#30340;Seam&#19978;&#19979;&#25991;&#20013;&#65289;&#65292;
      Seam&#23601;&#20250;&#23454;&#20363;&#21270; <tt class="literal">user</tt>&#32452;&#20214;&#65292;&#25509;&#30528;&#25226;&#23427;&#20445;&#23384;&#22312;Seam&#20250;&#35805;&#19978;&#19979;&#25991;&#21518;&#65292;&#28982;&#21518;&#23558; <tt class="literal">User</tt> &#23454;&#20307;Bean&#23454;&#20363;&#36820;&#22238;&#32473;JSF&#12290;
      </p><p>&#34920;&#21333;&#36755;&#20837;&#30340;&#20540;&#23558;&#30001;&#22312; <tt class="literal">User</tt> &#23454;&#20307;&#20013;&#25152;&#25351;&#23450;&#30340;Hibernate&#39564;&#35777;&#22120;&#26469;&#39564;&#35777;&#12290;
          &#33509;&#26377;&#38750;&#27861;&#36755;&#20837;&#65292;JSF&#23601;&#37325;&#26032;&#26174;&#31034;&#24403;&#21069;&#39029;&#38754;&#12290;&#21542;&#21017;&#65292;JSF&#23601;&#23558;&#36755;&#20837;&#20540;&#32465;&#23450;&#21040; <tt class="literal">User</tt> &#23454;&#20307;Bean&#30340;&#23383;&#27573;&#19978;&#12290;
      </p><p>&#25509;&#30528;&#65292;JSF&#35831;&#27714;Seam&#26469;&#35299;&#26512;&#21464;&#37327; <tt class="literal">register</tt>&#12290;
			Seam&#22312;&#26080;&#29366;&#24577;&#19978;&#19979;&#25991;&#20013;&#25214;&#21040; <tt class="literal">RegisterAction</tt> &#26080;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#24182;&#25226;&#23427;&#36820;&#22238;&#12290;JSF&#38543;&#20043;&#35843;&#29992; <tt class="literal">register()</tt> &#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#12290;</p><p>Seam&#25318;&#25130;&#26041;&#27861;&#35843;&#29992;&#24182;&#22312;&#32487;&#32493;&#35843;&#29992;&#20043;&#21069;&#20174;Seam&#20250;&#35805;&#19978;&#19979;&#25991;&#27880;&#20837; <tt class="literal">User</tt> &#23454;&#20307;&#12290;
      </p><p>
				<tt class="literal">register()</tt> &#26041;&#27861;&#26816;&#26597;&#25152;&#36755;&#20837;&#29992;&#25143;&#21517;&#30340;&#29992;&#25143;&#26159;&#21542;&#24050;&#23384;&#22312;&#12290;
				&#33509;&#23384;&#22312;&#35813;&#29992;&#25143;&#21517;&#65292;&#21017;&#38169;&#35823;&#28040;&#24687;&#36827;&#20837; <tt class="literal">facesmessages</tt> &#32452;&#20214;&#38431;&#21015;&#65292;&#36820;&#22238;&#26080;&#25928;&#32467;&#26524;&#24182;&#35302;&#21457;&#27983;&#35272;&#22120;&#37325;&#26174;&#39029;&#38754;&#12290;<tt class="literal">facesmessages</tt> &#32452;&#20214;&#23884;&#22312;&#28040;&#24687;&#23383;&#31526;&#20018;&#30340;JSF&#34920;&#36798;&#24335;&#65292;&#24182;&#23558;JSF <tt class="literal">facesmessage</tt> &#28155;&#21152;&#21040;&#35270;&#22270;&#20013;&#12290;
      </p><p>&#33509;&#36755;&#20837;&#30340;&#29992;&#25143;&#19981;&#23384;&#22312;&#65292;<tt class="literal">"/registered.jsp"</tt> &#36755;&#20986;&#23601;&#20250;&#23558;&#27983;&#35272;&#22120;&#37325;&#23450;&#21521;&#21040; <tt class="literal">registered.jsp</tt> &#39029;&#12290;
      &#24403;JSF&#26469;&#28210;&#26579;&#39029;&#38754;&#26102;&#65292;&#23427;&#35831;&#27714;Seam&#26469;&#35299;&#26512;&#21517;&#20026; <tt class="literal">user</tt> &#30340;&#21464;&#37327;&#65292;&#24182;&#20351;&#29992;&#20174;Seam&#20250;&#35805;&#20316;&#29992;&#22495;&#36820;&#22238;&#30340; <tt class="literal">User</tt> &#23454;&#20307;&#30340;&#23646;&#24615;&#20540;&#12290;
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="messages"></a>1.3.&nbsp;Seam&#20013;&#30340;&#21487;&#28857;&#20987;&#21015;&#34920;&#65306;&#28040;&#24687;&#31034;&#20363;</h2></div></div><div></div></div><p>&#22312;&#20960;&#20046;&#25152;&#26377;&#30340;&#22312;&#32447;&#24212;&#29992;&#20013;&#37117;&#20813;&#19981;&#20102;&#23558;&#25628;&#32034;&#32467;&#26524;&#26174;&#31034;&#25104;&#21487;&#28857;&#20987;&#30340;&#21015;&#34920;&#12290;
		&#22240;&#27492;Sean&#22312;JSF&#23618;&#20043;&#19978;&#25552;&#20379;&#20102;&#29305;&#27530;&#30340;&#21151;&#33021;&#65292;&#20351;&#24471;&#25105;&#20204;&#24456;&#23481;&#26131;&#29992;EJB-QL&#25110;HQL&#26469;&#26597;&#35810;&#25968;&#25454;&#24182;&#29992;JSF <tt class="literal">&lt;h:dataTable&gt;</tt> &#23558;&#26597;&#35810;&#32467;&#26524;&#26174;&#31034;&#25104;&#21487;&#28857;&#20987;&#30340;&#21015;&#34920;&#12290;&#25105;&#20204;&#23558;&#22312;&#25509;&#19979;&#30340;&#20363;&#23376;&#20013;&#28436;&#31034;&#36825;&#19968;&#21151;&#33021;&#12290;
    </p><div class="mediaobject" align="center"><img src="images/messages.png" align="middle"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1308"></a>1.3.1.&nbsp;&#29702;&#35299;&#20195;&#30721;</h3></div></div><div></div></div><p>&#27492;&#28040;&#24687;&#31034;&#20363;&#20013;&#26377;&#19968;&#20010;&#23454;&#20307;Bean&#65292;<tt class="literal">Message</tt>&#65292;&#19968;&#20010;&#20250;&#35805;Bean <tt class="literal">MessageListBean</tt> &#21450;&#19968;&#20010;JSP&#39029;&#38754;&#12290;
       </p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1319"></a>1.3.1.1.&nbsp;&#23454;&#20307;Bean&#65306;<tt class="literal">Message.java</tt>
				</h4></div></div><div></div></div><p>
					<tt class="literal">Message</tt> &#23454;&#20307;&#23450;&#20041;&#20102;&#28040;&#24687;&#30340;title&#65292;text&#65292;date&#21644;time&#20197;&#21450;&#35813;&#28040;&#24687;&#26159;&#21542;&#24050;&#35835;&#30340;&#26631;&#24535;&#65306;
       </p><div class="example"><a name="d0e1330"></a><p class="title"><b>Example&nbsp;1.10.&nbsp;</b></p><pre class="programlisting">@Entity
@Name("message")
@Scope(EVENT)
public class Message implements Serializable
{
   private Long id;
   private String title;
   private String text;
   private boolean read;
   private Date datetime;

   @Id @GeneratedValue
   public Long getId() {
      return id;
   }
   public void setId(Long id) {
      this.id = id;
   }

   @NotNull @Length(max=100)
   public String getTitle() {
      return title;
   }
   public void setTitle(String title) {
      this.title = title;
   }

   @NotNull @Lob
   public String getText() {
      return text;
   }
   public void setText(String text) {
      this.text = text;
   }

   @NotNull
   public boolean isRead() {
      return read;
   }
   public void setRead(boolean read) {
      this.read = read;
   }

   @NotNull
   @Basic @Temporal(TemporalType.TIMESTAMP)
   public Date getDatetime() {
      return datetime;
   }
   public void setDatetime(Date datetime) {
      this.datetime = datetime;
   }

}</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1333"></a>1.3.1.2.&nbsp;&#26377;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#65306;<tt class="literal">MessageManagerBean.java</tt>
				</h4></div></div><div></div></div><p>&#22914;&#27492;&#21069;&#30340;&#20363;&#23376;&#65292;&#20250;&#35805;Bean <tt class="literal">MessageManagerBean</tt> &#29992;&#26469;&#32473;&#34920;&#21333;&#20013;&#30340;&#20004;&#20010;&#25353;&#38062;&#23450;&#20041;&#20010;&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#65292;
       &#20854;&#20013;&#30340;&#19968;&#20010;&#25353;&#38062;&#29992;&#26469;&#20174;&#21015;&#34920;&#20013;&#36873;&#25321;&#28040;&#24687;&#65292;&#24182;&#26174;&#31034;&#35813;&#28040;&#24687;&#12290;&#32780;&#21478;&#19968;&#20010;&#25353;&#38062;&#21017;&#29992;&#26469;&#21024;&#38500;&#19968;&#26465;&#28040;&#24687;&#65292;&#38500;&#27492;&#20043;&#22806;&#65292;&#23601;&#27809;&#20160;&#20040;&#29305;&#21035;&#20043;&#22788;&#20102;&#12290;
       </p><p>&#22312;&#29992;&#25143;&#31532;&#19968;&#27425;&#27983;&#35272;&#28040;&#24687;&#39029;&#38754;&#26102;&#65292;<tt class="literal">MessageManagerBean</tt> &#20250;&#35805;Bean&#20063;&#36127;&#36131;&#25235;&#21462;&#28040;&#24687;&#21015;&#34920;&#65292;&#32771;&#34385;&#21040;&#29992;&#25143;&#21487;&#33021;&#20197;&#22810;&#31181;&#26041;&#24335;&#26469;&#27983;&#35272;&#35813;&#39029;&#38754;&#65292;&#20182;&#20204;&#20063;&#26377;&#21487;&#33021;&#19981;&#26159;&#30001;JSF&#21160;&#20316;&#26469;&#23436;&#25104;&#65292;&#27604;&#22914;&#29992;&#25143;&#21487;&#33021;&#23558;&#35813;&#39029;&#21152;&#20837;&#25910;&#34255;&#22841;&#12290;
				&#22240;&#27492;&#25235;&#21462;&#28040;&#24687;&#21015;&#34920;&#21457;&#29983;&#22312;Seam&#30340;&#24037;&#21378;&#26041;&#27861;&#20013;&#65292;&#32780;&#19981;&#26159;&#22312;&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#20013;&#12290;
       </p><p>&#20043;&#25152;&#20197;&#23558;&#27492;&#20250;&#35805;Bean&#35774;&#20026;&#26377;&#29366;&#24577;&#30340;&#65292;&#26159;&#22240;&#20026;&#25105;&#20204;&#24819;&#22312;&#19981;&#21516;&#30340;&#26381;&#21153;&#22120;&#35831;&#27714;&#38388;&#32531;&#23384;&#27492;&#28040;&#24687;&#21015;&#34920;&#12290;</p><div class="example"><a name="d0e1351"></a><p class="title"><b>Example&nbsp;1.11.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">@Stateful
@Scope(SESSION)
@Name("messageManager")
public class MessageManagerBean implements Serializable, MessageManager
{

   @DataModel                                                                            <span class="co">(1)</span>
   private List&lt;Message&gt; messageList;

   @DataModelSelection                                                                   <span class="co">(2)</span>
   @Out(required=false)                                                                  <span class="co">(3)</span>
   private Message message;

   @PersistenceContext(type=EXTENDED)                                                    <span class="co">(4)</span>
   private EntityManager em;

   @Factory("messageList")                                                               <span class="co">(5)</span>
   public void findMessages()
   {
      messageList = em.createQuery("from Message msg order by msg.datetime desc").getResultList();
   }

   public void select()                                                                  <span class="co">(6)</span>
   {
      message.setRead(true);
   }

   public void delete()                                                                  <span class="co">(7)</span>
   {
      messageList.remove(message);
      em.remove(message);
      message=null;
   }

   @Remove @Destroy                                                                      <span class="co">(8)</span>
   public void destroy() {}

}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>&#27880;&#35299; <tt class="literal">@DataModel</tt> &#26292;&#38706;&#20102; <tt class="literal">java.util.List</tt> &#31867;&#22411;&#30340;&#23646;&#24615;&#32473;JSF&#39029;&#38754;&#26469;&#20316;&#20026; <tt class="literal">javax.faces.model.DataModel</tt> &#30340;&#23454;&#20363;&#12290;
								&#36825;&#20801;&#35768;&#25105;&#20204;&#22312;JSF <tt class="literal">&lt;h:dataTable&gt;</tt>&#30340;&#27599;&#19968;&#34892;&#20013;&#33021;&#20351;&#29992;&#21487;&#28857;&#20987;&#21015;&#34920;&#12290;&#22312;&#27492;&#20363;&#20013;&#65292;<tt class="literal">DataModel</tt> &#21487;&#22312;&#21464;&#37327;&#21517;&#20026; <tt class="literal">messageList</tt> &#30340;&#20250;&#35805;&#19978;&#19979;&#25991;&#20013;&#34987;&#20351;&#29992;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>
									<tt class="literal">@DataModelSelection</tt> &#27880;&#35299;&#21578;&#35785;&#20102;Seam&#26469;&#27880;&#20837; <tt class="literal">List</tt> &#20803;&#32032;&#21040;&#30456;&#24212;&#30340;&#34987;&#28857;&#20987;&#38142;&#25509;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>&#27880;&#35299; <tt class="literal">@Out</tt> &#30452;&#25509;&#26292;&#38706;&#20102;&#34987;&#36873;&#20013;&#30340;&#20540;&#32473;&#39029;&#38754;&#12290;
								&#36825;&#26679;&#19968;&#26469;&#65292;&#27599;&#27425;&#21487;&#28857;&#20987;&#21015;&#34920;&#19968;&#26086;&#34987;&#36873;&#20013;&#65292;<tt class="literal">Message</tt> &#23601;&#34987;&#20250;&#27880;&#20837;&#32473;&#26377;&#29366;&#24577;Bean&#30340;&#23646;&#24615;&#65292;&#32039;&#25509;&#30528; <span class="emphasis"><em>&#21521;&#22806;&#27880;&#20837;&#65288;outjected&#65289;</em></span>&#32473;&#21464;&#37327;&#21517;&#20026; <tt class="literal">message</tt> &#30340;&#20107;&#20214;&#19978;&#19979;&#25991;&#30340;&#23646;&#24615;&#12290;
                       </p></td></tr><tr><td width="5%" valign="top" align="left">(4)</td><td valign="top" align="left"><p>&#27492;&#26377;&#29366;&#24577;Bean&#26377;&#20010;EJB3&#30340; <span class="emphasis"><em>&#25193;&#23637;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65288;extended persistence context&#65289;</em></span>&#12290;&#21482;&#35201;Bean&#23384;&#22312;&#65292;&#26597;&#35810;&#20013;&#33719;&#21462;&#30340;&#28040;&#24687;&#23601;&#20250;&#20445;&#30041;&#22312;&#21463;&#31649;&#29702;&#30340;&#29366;&#24577;&#20013;&#12290;
                    &#36825;&#26679;&#19968;&#26469;&#65292;&#27492;&#21518;&#23545;&#26377;&#29366;&#24577;Bean&#30340;&#25152;&#26377;&#26041;&#27861;&#35843;&#29992;&#21247;&#38656;&#26174;&#24335;&#35843;&#29992; <tt class="literal">EntityManager</tt> &#23601;&#21487;&#26356;&#26032;&#36825;&#20123;&#28040;&#24687;&#20102;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(5)</td><td valign="top" align="left"><p>&#24403;&#25105;&#20204;&#31532;&#19968;&#27425;&#27983;&#35272;JSP&#39029;&#38754;&#26102;&#65292;<tt class="literal">messageList</tt> &#19978;&#19979;&#25991;&#21464;&#37327;&#23578;&#26410;&#34987;&#21021;&#22987;&#21270;&#65292;<tt class="literal">@Factory</tt> &#27880;&#35299;&#21578;&#35785;Seam&#26469;&#21019;&#24314; <tt class="literal">MessageManagerBean</tt> &#30340;&#23454;&#20363;&#24182;&#35843;&#29992; <tt class="literal">findMessages()</tt> &#26041;&#27861;&#26469;&#21021;&#22987;&#21270;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;
                       &#25105;&#20204;&#25226; <tt class="literal">findMessages()</tt> &#24403;&#20316; <tt class="literal">messages</tt> &#30340; <span class="emphasis"><em> &#24037;&#21378;&#26041;&#27861;</em></span>&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(6)</td><td valign="top" align="left"><p>
									<tt class="literal">select()</tt> &#23558;&#36873;&#20013;&#30340; <tt class="literal">Message</tt> &#26631;&#20026;&#24050;&#35835;&#65292;&#24182;&#21516;&#26102;&#26356;&#26032;&#25968;&#25454;&#24211;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(7)</td><td valign="top" align="left"><p>
									<tt class="literal">delete()</tt> &#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#23558;&#36873;&#20013;&#30340; <tt class="literal">Message</tt> &#20174;&#25968;&#25454;&#24211;&#20013;&#21024;&#38500;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(8)</td><td valign="top" align="left"><p>&#23545;&#20110;&#27599;&#20010;&#26377;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#65292;Seam&#32452;&#20214;&#30340;&#25152;&#26377;&#26041;&#27861;&#20013; <span class="emphasis"><em>&#24517;&#39035;</em></span> &#26377;&#19968;&#19981;&#24102;&#21442;&#25968;&#30340;&#26041;&#27861;&#34987;&#26631;&#20026; <tt class="literal">@Remove @Destroy</tt>
                    &#20197;&#30830;&#20445;&#22312;Seam&#30340;&#19978;&#19979;&#25991;&#32467;&#26463;&#26102;&#21024;&#38500;&#26377;&#29366;&#24577;Bean&#65292;&#24182;&#21516;&#26102;&#28165;&#38500;&#25152;&#26377;&#26381;&#21153;&#22120;&#31471;&#30340;&#29366;&#24577;&#12290;
                    </p></td></tr></table></div></div></div><p>&#35831;&#27880;&#24847;&#65292;&#36825;&#26159;&#20010;&#20250;&#35805;&#20316;&#29992;&#22495;&#30340;Seam&#32452;&#20214;&#12290;&#23427;&#19982;&#29992;&#25143;&#30331;&#20837;&#20250;&#35805;&#30456;&#20851;&#32852;&#65292;&#24182;&#19988;&#30331;&#20837;&#20250;&#35805;&#30340;&#25152;&#26377;&#35831;&#27714;&#20849;&#20139;&#21516;&#19968;&#20010;&#32452;&#20214;&#30340;&#23454;&#20363;&#12290;
				&#65288;&#22312;Seam&#30340;&#24212;&#29992;&#20013;&#65292;&#25105;&#20204;&#36890;&#24120;&#20351;&#29992;&#20250;&#35805;&#20316;&#29992;&#22495;&#30340;&#32452;&#20214;&#12290;&#65289;
       </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1472"></a>1.3.1.3.&nbsp;&#20250;&#35805;Bean&#30340;&#26412;&#22320;&#25509;&#21475;&#65306;<tt class="literal">MessageManager.java</tt>
				</h4></div></div><div></div></div><p>&#24403;&#28982;&#65292;&#27599;&#20010;&#20250;&#35805;Bean&#37117;&#26377;&#20010;&#19994;&#21153;&#25509;&#21475;&#12290;</p><pre class="programlisting">@Local
public interface MessageManager
{
   public void findMessages();
   public void select();
   public void delete();
   public void destroy();
}</pre><p>&#20174;&#29616;&#22312;&#36215;&#65292;&#25105;&#20204;&#22312;&#31034;&#20363;&#20195;&#30721;&#20013;&#23558;&#19981;&#20877;&#23545;&#26412;&#22320;&#25509;&#21475;&#20316;&#29305;&#21035;&#30340;&#35828;&#26126;&#12290;</p><p>&#30001;&#20110;XML&#25991;&#20214;&#19982;&#27492;&#21069;&#30340;&#31034;&#20363;&#20960;&#20046;&#37117;&#19968;&#26679;&#65292;&#22240;&#27492;&#25105;&#20204;&#30053;&#36807;&#20102; <tt class="literal">components.xml</tt>&#12289;<tt class="literal">persistence.xml</tt>&#12289;
           <tt class="literal">web.xml</tt>&#12289;<tt class="literal">ejb-jar.xml</tt>&#12289;<tt class="literal">faces-config.xml</tt> &#21450;<tt class="literal">application.xml</tt> &#30340;&#32454;&#33410;&#65292;&#30452;&#25509;&#26469;&#30475;&#19968;&#19979;JSP&#12290;
       </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1504"></a>1.3.1.4.&nbsp;&#35270;&#22270;&#65306;<tt class="literal">messages.jsp</tt></h4></div></div><div></div></div><p>JSP&#39029;&#38754;&#23601;&#26159;&#30452;&#25509;&#20351;&#29992;JSF <tt class="literal">&lt;h:dataTable&gt;</tt> &#30340;&#32452;&#20214;&#65292;&#24182;&#27809;&#26377;&#19982;Seam&#26377;&#20160;&#20040;&#20851;&#31995;&#12290;
       </p><div class="example"><a name="d0e1514"></a><p class="title"><b>Example&nbsp;1.12.&nbsp;</b></p><pre class="programlisting">&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f" %&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Messages&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;f:view&gt;
   &lt;h:form&gt;
     &lt;h2&gt;Message List&lt;/h2&gt;
     &lt;h:outputText value="No messages to display" rendered="#{messageList.rowCount==0}"/&gt;
     &lt;h:dataTable var="msg" value="#{messageList}" rendered="#{messageList.rowCount&gt;0}"&gt;
        &lt;h:column&gt;
           &lt;f:facet name="header"&gt;
              &lt;h:outputText value="Read"/&gt;
           &lt;/f:facet&gt;
           &lt;h:selectBooleanCheckbox value="#{msg.read}" disabled="true"/&gt;
        &lt;/h:column&gt;
        &lt;h:column&gt;
           &lt;f:facet name="header"&gt;
              &lt;h:outputText value="Title"/&gt;
           &lt;/f:facet&gt;
           &lt;h:commandLink value="#{msg.title}" action="#{messageManager.select}"/&gt;
        &lt;/h:column&gt;
        &lt;h:column&gt;
           &lt;f:facet name="header"&gt;
              &lt;h:outputText value="Date/Time"/&gt;
           &lt;/f:facet&gt;
           &lt;h:outputText value="#{msg.datetime}"&gt;
              &lt;f:convertDateTime type="both" dateStyle="medium" timeStyle="short"/&gt;
           &lt;/h:outputText&gt;
        &lt;/h:column&gt;
        &lt;h:column&gt;
           &lt;h:commandButton value="Delete" action="#{messageManager.delete}"/&gt;
        &lt;/h:column&gt;
     &lt;/h:dataTable&gt;
     &lt;h3&gt;&lt;h:outputText value="#{message.title}"/&gt;&lt;/h3&gt;
     &lt;div&gt;&lt;h:outputText value="#{message.text2}"/&gt;&lt;/div&gt;
   &lt;/h:form&gt;
  &lt;/f:view&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1517"></a>1.3.2.&nbsp;&#24037;&#20316;&#21407;&#29702;</h3></div></div><div></div></div><p>&#24403;&#25105;&#20204;&#39318;&#27425;&#27983;&#35272; <tt class="literal">messages.jsp</tt> &#39029;&#38754;&#26102;&#65292;&#26080;&#35770;&#26159;&#21542;&#30001;&#22238;&#20256;&#65288;postback&#65289;&#30340;JSF&#65288;&#39029;&#38754;&#35831;&#27714;&#65289;&#25110;&#27983;&#35272;&#22120;&#30452;&#25509;&#30340;GET&#35831;&#27714;&#65288;&#38750;&#39029;&#38754;&#35831;&#27714;&#65289;&#65292;&#27492;JSP&#39029;&#38754;&#23558;&#35774;&#27861;&#35299;&#26512; <tt class="literal">messagelist</tt> &#19978;&#19979;&#25991;&#21464;&#37327;&#12290;
			&#30001;&#20110;&#19978;&#19979;&#25991;&#21464;&#37327;&#23578;&#26410;&#34987;&#21021;&#22987;&#21270;&#65292;&#22240;&#27492;Seam&#23558;&#35843;&#29992;&#24037;&#21378;&#26041;&#27861; <tt class="literal">findmessages()</tt>&#65292;&#35813;&#26041;&#27861;&#25191;&#34892;&#20102;&#19968;&#27425;&#25968;&#25454;&#24211;&#26597;&#35810;&#24182;&#23548;&#33268; <tt class="literal">DataModel</tt> &#34987;&#21521;&#22806;&#27880;&#20837;&#12290;
            <tt class="literal">DataModel</tt> &#25552;&#20379;&#20102;&#28210;&#26579; <tt class="literal">&lt;h:dataTable&gt;</tt> &#25152;&#38656;&#30340;&#34892;&#25968;&#25454;&#12290;
         </p><p>&#24403;&#29992;&#25143;&#28857;&#20987; <tt class="literal">&lt;h:commandLink&gt;</tt> &#26102;&#65292;JSF&#23601;&#35843;&#29992; <tt class="literal">Select()</tt> &#21160;&#20316;&#30417;&#21548;&#22120;&#12290;
			Seam&#25318;&#25130;&#27492;&#35843;&#29992;&#24182;&#23558;&#25152;&#36873;&#34892;&#30340;&#25968;&#25454;&#27880;&#20837;&#32473; <tt class="literal">messageManager</tt> &#32452;&#20214;&#30340; <tt class="literal">message</tt> &#23646;&#24615;&#12290;
           &#32780;&#21160;&#20316;&#30417;&#21548;&#22120;&#23558;&#25152;&#36873;&#23450;&#30340; <tt class="literal">Message</tt> &#26631;&#20026;&#24050;&#35835;&#12290;&#22312;&#27492;&#35843;&#29992;&#32467;&#26463;&#26102;&#65292;Seam&#21521;&#22806;&#27880;&#20837;&#25152;&#36873;&#23450;&#30340; <tt class="literal">Message</tt> &#32473;&#21517;&#20026; <tt class="literal">message</tt> &#30340;&#21464;&#37327;&#12290;
           &#25509;&#30528;&#65292;EJB&#23481;&#22120;&#25552;&#20132;&#20107;&#21153;&#65292;&#23558; <tt class="literal">Message</tt> &#30340;&#24050;&#35835;&#26631;&#35760;&#20889;&#20837;&#25968;&#25454;&#24211;&#12290;
           &#26368;&#21518;&#65292;&#35813;&#32593;&#39029;&#37325;&#26032;&#28210;&#26579;&#65292;&#20877;&#27425;&#26174;&#31034;&#28040;&#24687;&#21015;&#34920;&#65292;&#24182;&#22312;&#21015;&#34920;&#19979;&#26041;&#26174;&#31034;&#25152;&#36873;&#28040;&#24687;&#30340;&#20869;&#23481;&#12290;
         </p><p>&#22914;&#26524;&#29992;&#25143;&#28857;&#20987;&#20102; <tt class="literal">&lt;h:commandButton&gt;</tt>&#65292;JSF&#23601;&#35843;&#29992; <tt class="literal">delete()</tt> &#21160;&#20316;&#30417;&#21548;&#22120;&#12290;
			Seam&#25318;&#25130;&#27492;&#35843;&#29992;&#24182;&#23558;&#25152;&#36873;&#34892;&#30340;&#25968;&#25454;&#27880;&#20837;&#32473; <tt class="literal">messageManager</tt> &#32452;&#20214;&#30340; <tt class="literal">message</tt> &#23646;&#24615;&#12290;
           &#35302;&#21457;&#21160;&#20316;&#30417;&#21548;&#22120;&#65292;&#23558;&#36873;&#23450;&#30340; <tt class="literal">Message</tt> &#20174;&#21015;&#34920;&#20013;&#21024;&#38500;&#24182;&#21516;&#26102;&#22312; <tt class="literal">EntityManager</tt> &#20013;&#35843;&#29992; <tt class="literal">remove()</tt> &#26041;&#27861;&#12290;&#22312;&#27492;&#35843;&#29992;&#30340;&#26368;&#21518;&#65292;Seam&#21047;&#26032; <tt class="literal">messageList</tt> &#19978;&#19979;&#25991;&#21464;&#37327;&#24182;&#28165;&#38500;&#21517;&#20026; <tt class="literal">message</tt> &#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;
           &#25509;&#30528;&#65292;EJB&#23481;&#22120;&#25552;&#20132;&#20107;&#21153;&#65292;&#23558; <tt class="literal">Message</tt> &#20174;&#25968;&#25454;&#24211;&#20013;&#21024;&#38500;&#12290;&#26368;&#21518;,&#35813;&#32593;&#39029;&#37325;&#26032;&#28210;&#26579;&#65292;&#20877;&#27425;&#26174;&#31034;&#28040;&#24687;&#21015;&#34920;&#12290;
         </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="todo"></a>1.4.&nbsp;Seam&#21644;jBPM&#65306;&#24453;&#21150;&#20107;&#39033;&#21015;&#34920;&#65288;todo list&#65289;&#31034;&#20363;</h2></div></div><div></div></div><p>jBPM&#25552;&#20379;&#20102;&#20808;&#36827;&#30340;&#24037;&#20316;&#27969;&#31243;&#21644;&#20219;&#21153;&#31649;&#29702;&#30340;&#21151;&#33021;&#12290;&#20026;&#20102;&#20307;&#39564;&#19968;&#19979;jBPM&#26159;&#22914;&#20309;&#19982;Seam&#38598;&#25104;&#22312;&#19968;&#36215;&#24037;&#20316;&#30340;&#65292;&#22312;&#27492;&#23558;&#32473;&#20320;&#19968;&#20010;&#31616;&#21333;&#30340;&#31649;&#29702;&#8220;&#24453;&#21150;&#20107;&#39033;&#21015;&#34920;&#8221;&#30340;&#24212;&#29992;&#12290;&#30001;&#20110;&#31649;&#29702;&#20219;&#21153;&#21015;&#34920;&#31561;&#21151;&#33021;&#26159;jBPM&#30340;&#26680;&#24515;&#21151;&#33021;&#65292;&#25152;&#20197;&#22312;&#27492;&#20363;&#20013;&#21482;&#29992;&#20102;&#24456;&#23569;&#30340;Java&#20195;&#30721;&#12290;
    </p><div class="mediaobject" align="center"><img src="images/todo.png" align="middle"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1608"></a>1.4.1.&nbsp;&#29702;&#35299;&#20195;&#30721;</h3></div></div><div></div></div><p>&#36825;&#20010;&#20363;&#23376;&#30340;&#26680;&#24515;&#26159;jBPM&#30340;&#27969;&#31243;&#23450;&#20041;&#65288;process definition&#65289;&#12290;&#27492;&#22806;&#65292;&#36824;&#26377;&#20004;&#20010;JSP&#39029;&#38754;&#21644;&#20004;&#20010;&#31616;&#21333;&#30340;JavaBeans&#65288;&#30001;&#20110;&#20182;&#20204;&#19981;&#29992;&#35775;&#38382;&#25968;&#25454;&#24211;&#65292;&#25110;&#26377;&#20854;&#23427;&#20107;&#21153;&#30456;&#20851;&#30340;&#34892;&#20026;&#65292;&#22240;&#27492;&#24182;&#27809;&#26377;&#29992;&#20250;&#35805;Bean&#65289;&#12290;&#35753;&#25105;&#20204;&#20808;&#20174;&#27969;&#31243;&#23450;&#20041;&#24320;&#22987;&#65306;</p><div class="example"><a name="d0e1613"></a><p class="title"><b>Example&nbsp;1.13.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">&lt;process-definition name="todo"&gt;

   &lt;start-state name="start"&gt;                                                            <span class="co">(1)</span>
      &lt;transition to="todo"/&gt;
   &lt;/start-state&gt;

   &lt;task-node name="todo"&gt;                                                               <span class="co">(2)</span>
      &lt;task name="todo" description="#{todoList.description}"&gt;                           <span class="co">(3)</span>
         &lt;assignment actor-id="#{actor.id}"/&gt;                                            <span class="co">(4)</span>
      &lt;/task&gt;
      &lt;transition to="done"/&gt;
   &lt;/task-node&gt;

   &lt;end-state name="done"/&gt;                                                              <span class="co">(5)</span>

&lt;/process-definition&gt;</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>&#33410;&#28857; <tt class="literal">&lt;start-state&gt;</tt> &#20195;&#34920;&#27969;&#31243;&#30340;&#36923;&#36753;&#24320;&#22987;&#12290;&#19968;&#26086;&#27969;&#31243;&#24320;&#22987;&#26102;&#65292;&#23427;&#23601;&#31435;&#21363;&#36716;&#20837; <tt class="literal">todo</tt>&#33410;&#28857;&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>
								<tt class="literal">&lt;task-node&gt;</tt> &#33410;&#28857;&#20195;&#34920; <span class="emphasis"><em>&#31561;&#24453;&#29366;&#24577;</em></span>&#65292;&#23601;&#26159;&#22312;&#25191;&#34892;&#19994;&#21153;&#27969;&#31243;&#26242;&#20572;&#26102;&#65292;&#31561;&#24453;&#19968;&#20010;&#25110;&#22810;&#20010;&#26410;&#23436;&#25104;&#30340;&#20219;&#21153;&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>
								<tt class="literal">&lt;task&gt;</tt> &#20803;&#32032;&#23450;&#20041;&#20102;&#29992;&#25143;&#38656;&#35201;&#23436;&#25104;&#30340;&#20219;&#21153;&#12290;
							&#30001;&#20110;&#22312;&#36825;&#20010;&#33410;&#28857;&#21482;&#26377;&#23450;&#20041;&#20102;&#19968;&#20010;&#20219;&#21153;&#65292;&#24403;&#23427;&#23436;&#25104;&#65292;&#25110;&#24674;&#22797;&#25191;&#34892;&#26102;&#25105;&#20204;&#23601;&#36716;&#20837;&#32467;&#26463;&#29366;&#24577;&#12290;
							&#27492;&#20219;&#21153;&#20174;Seam&#20013;&#21517;&#20026; <tt class="literal">todolist</tt> &#30340;&#32452;&#20214;&#65288;JavaBeans&#20043;&#19968;&#65289;&#33719;&#24471;&#20219;&#21153;description&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(4)</td><td valign="top" align="left"><p>&#20219;&#21153;&#22312;&#21019;&#24314;&#26102;&#23601;&#20250;&#34987;&#20998;&#37197;&#32473;&#19968;&#20010;&#29992;&#25143;&#25110;&#19968;&#32452;&#29992;&#25143;&#26102;&#12290;&#22312;&#27492;&#31034;&#20363;&#20013;&#65292;&#20219;&#21153;&#26159;&#20998;&#37197;&#32473;&#24403;&#21069;&#29992;&#25143;&#65292;&#35813;&#29992;&#25143;&#20174;&#19968;&#20010;&#20869;&#32622;&#30340;&#21517;&#20026; <tt class="literal">actor</tt> &#30340;Seam&#32452;&#20214;&#20013;&#33719;&#24471;&#12290;&#20219;&#20309;Seam&#32452;&#20214;&#37117;&#21487;&#29992;&#26469;&#25191;&#34892;&#20219;&#21153;&#25351;&#27966;&#12290;
							</p></td></tr><tr><td width="5%" valign="top" align="left">(5)</td><td valign="top" align="left"><p>
								<tt class="literal">&lt;end-state&gt;</tt>&#33410;&#28857;&#23450;&#20041;&#19994;&#21153;&#27969;&#31243;&#30340;&#36923;&#36753;&#32467;&#26463;&#12290;&#24403;&#25191;&#34892;&#21040;&#36798;&#36825;&#20010;&#33410;&#28857;&#26102;&#65292;&#27969;&#31243;&#23454;&#20363;&#23601;&#35201;&#34987;&#38144;&#27585;&#12290;</p></td></tr></table></div></div></div><p>&#22914;&#26524;&#25105;&#20204;&#29992;jBossIDE&#25152;&#25552;&#20379;&#30340;&#27969;&#31243;&#23450;&#20041;&#32534;&#36753;&#22120;&#26469;&#26597;&#30475;&#27492;&#27969;&#31243;&#23450;&#20041;&#65292;&#37027;&#23427;&#23601;&#20250;&#26159;&#36825;&#26679;&#65306;</p><div class="mediaobject" align="center"><img src="images/todo-process.png" align="middle"></div><p>&#36825;&#20010;&#25991;&#26723;&#23558;&#25105;&#20204;&#30340; <span class="emphasis"><em>&#19994;&#21153;&#27969;&#31243;</em></span> &#23450;&#20041;&#25104;&#33410;&#28857;&#22270;&#12290;
&#36825;&#21487;&#33021;&#26159;&#26368;&#24120;&#35265;&#30340;&#19994;&#21153;&#27969;&#31243;&#65306;&#21482;&#26377;&#19968;&#20010; <span class="emphasis"><em>&#20219;&#21153;</em></span> &#34987;&#25191;&#34892;&#65292;&#24403;&#36825;&#39033;&#20219;&#21153;&#23436;&#25104;&#20043;&#21518;&#65292;&#19994;&#21153;&#27969;&#31243;&#23601;&#32467;&#26463;&#20102;&#12290;</p><p>&#31532;&#19968;&#20010;JavaBean&#22788;&#29702;&#30331;&#20837;&#30028;&#38754; <tt class="literal">login.jsp</tt>&#12290;
        &#23427;&#30340;&#24037;&#20316;&#23601;&#26159;&#29992; <tt class="literal">actor</tt> &#32452;&#20214;&#21021;&#22987;&#21270;jBPM&#29992;&#25143;id&#65288;&#22312;&#23454;&#38469;&#30340;&#24212;&#29992;&#20013;&#65292;&#23427;&#20063;&#38656;&#35201;&#39564;&#35777;&#29992;&#25143;&#12290;&#65289;</p><div class="example"><a name="d0e1686"></a><p class="title"><b>Example&nbsp;1.14.&nbsp;</b></p><pre class="programlisting">@Name("login")
public class Login {

   @In
   private Actor actor;

   private String user;

   public String getUser() {
      return user;
   }

   public void setUser(String user) {
      this.user = user;
   }

   public String login()
   {
      actor.setId(user);
      return "/todo.jsp";
   }
}</pre></div><p>&#22312;&#27492;&#25105;&#20204;&#20351;&#29992;&#20102; <tt class="literal">@In</tt> &#26469;&#23558;actor&#23646;&#24615;&#20540;&#27880;&#20837;&#21040;Seam&#20869;&#32622;&#30340; <tt class="literal">Actor</tt> &#32452;&#20214;&#12290;</p><p>JSP&#39029;&#38754;&#26412;&#36523;&#24182;&#27809;&#26377;&#20160;&#20040;&#29305;&#21035;&#20043;&#22788;&#65306;</p><div class="example"><a name="d0e1699"></a><p class="title"><b>Example&nbsp;1.15.&nbsp;</b></p><pre class="programlisting">&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h"%&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Login&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Login&lt;/h1&gt;
&lt;f:view&gt;
    &lt;h:form&gt;
      &lt;div&gt;
        &lt;h:inputText value="#{login.user}"/&gt;
        &lt;h:commandButton value="Login" action="#{login.login}"/&gt;
      &lt;/div&gt;
    &lt;/h:form&gt;
&lt;/f:view&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>&#31532;&#20108;&#20010;JavaBean&#36127;&#36131;&#21551;&#21160;&#19994;&#21153;&#27969;&#31243;&#23454;&#20363;&#21450;&#32467;&#26463;&#20219;&#21153;&#12290;</p><div class="example"><a name="d0e1704"></a><p class="title"><b>Example&nbsp;1.16.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">@Name("todoList")
public class TodoList {

   private String description;

   public String getDescription()                                                        <span class="co">(1)</span>
   {
      return description;
   }

   public void setDescription(String description) {
      this.description = description;
   }

   @CreateProcess(definition="todo")                                                     <span class="co">(2)</span>
   public void createTodo() {}

   @StartTask @EndTask                                                                   <span class="co">(3)</span>
   public void done() {}

}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>description&#23646;&#24615;&#20174;JSP&#39029;&#25509;&#21463;&#29992;&#25143;&#36755;&#20837;&#65292;&#24182;&#23558;&#23427;&#26292;&#38706;&#32473;&#27969;&#31243;&#23450;&#20041;&#65292;&#36825;&#26679;&#23601;&#21487;&#35753;Seam&#26469;&#35774;&#23450;&#20219;&#21153;&#30340;descrption&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>Seam&#30340; <tt class="literal">@CreateProcess</tt> &#27880;&#35299;&#20026;&#25351;&#23450;&#21517;&#31216;&#30340;&#27969;&#31243;&#23450;&#20041;&#21019;&#24314;&#20102;&#19968;&#20010;&#26032;&#30340;jBPM&#27969;&#31243;&#23454;&#20363;&#12290;</p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>Seam&#30340; <tt class="literal">@StartTask</tt> &#27880;&#35299;&#29992;&#26469;&#21551;&#21160;&#20219;&#21153;&#65292;<tt class="literal">@EndTask</tt> &#29992;&#26469;&#32467;&#26463;&#20219;&#21153;&#65292;&#24182;&#20801;&#35768;&#24674;&#22797;&#25191;&#34892;&#19994;&#21153;&#27969;&#31243;&#12290;
                    </p></td></tr></table></div></div></div><p>&#22312;&#23454;&#38469;&#30340;&#24212;&#29992;&#20013;&#65292;<tt class="literal">@StartTask</tt> &#21450; <tt class="literal">@EndTask</tt> &#19981;&#20250;&#20986;&#29616;&#22312;&#21516;&#19968;&#20010;&#26041;&#27861;&#20013;&#65292;&#22240;&#20026;&#20026;&#20102;&#23436;&#25104;&#20219;&#21153;&#65292;&#36890;&#24120;&#29992;&#24212;&#29992;&#20013;&#26377;&#35768;&#22810;&#24037;&#20316;&#35201;&#20570;&#12290;</p><p>&#26368;&#21518;&#65292;&#35813;&#24212;&#29992;&#30340;&#20027;&#35201;&#20869;&#23481;&#22312; <tt class="literal">todo.jsp</tt> &#20013;&#65306;</p><div class="example"><a name="d0e1744"></a><p class="title"><b>Example&nbsp;1.17.&nbsp;</b></p><pre class="programlisting">&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f" %&gt;
&lt;%@ taglib uri="http://jboss.com/products/seam/taglib" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Todo List&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Todo List&lt;/h1&gt;
&lt;f:view&gt;
   &lt;h:form id="list"&gt;
      &lt;div&gt;
         &lt;h:outputText value="There are no todo items." rendered="#{empty taskInstanceList}"/&gt;
         &lt;h:dataTable value="#{taskInstanceList}" var="task" rendered="#{not empty taskInstanceList}"&gt;
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;
                    &lt;h:outputText value="Description"/&gt;
                &lt;/f:facet&gt;
                &lt;h:inputText value="#{task.description}"/&gt;
            &lt;/h:column&gt;
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;
                    &lt;h:outputText value="Created"/&gt;
                &lt;/f:facet&gt;
                &lt;h:outputText value="#{task.taskMgmtInstance.processInstance.start}"&gt;
                    &lt;f:convertDateTime type="date"/&gt;
                &lt;/h:outputText&gt;
            &lt;/h:column&gt;
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;
                    &lt;h:outputText value="Priority"/&gt;
                &lt;/f:facet&gt;
                &lt;h:inputText value="#{task.priority}" style="width: 30"/&gt;
            &lt;/h:column&gt;
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;
                    &lt;h:outputText value="Due Date"/&gt;
                &lt;/f:facet&gt;
                &lt;h:inputText value="#{task.dueDate}" style="width: 100"&gt;
                    &lt;f:convertDateTime type="date" dateStyle="short"/&gt;
                &lt;/h:inputText&gt;
            &lt;/h:column&gt;
            &lt;h:column&gt;
                &lt;s:button value="Done" action="#{todoList.done}" taskInstance="#{task}"/&gt;
            &lt;/h:column&gt;
         &lt;/h:dataTable&gt;
      &lt;/div&gt;
      &lt;div&gt;
      &lt;h:messages/&gt;
      &lt;/div&gt;
      &lt;div&gt;
         &lt;h:commandButton value="Update Items" action="update"/&gt;
      &lt;/div&gt;
   &lt;/h:form&gt;
   &lt;h:form id="new"&gt;
      &lt;div&gt;
         &lt;h:inputText value="#{todoList.description}"/&gt;
         &lt;h:commandButton value="Create New Item" action="#{todoList.createTodo}"/&gt;
      &lt;/div&gt;
   &lt;/h:form&gt;
&lt;/f:view&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>&#35753;&#25105;&#20204;&#23545;&#27492;&#36880;&#19968;&#21152;&#20197;&#35828;&#26126;&#12290;</p><p>&#35813;JSP&#39029;&#38754;&#23558;&#20174;Seam&#20869;&#32622;&#32452;&#20214; <tt class="literal">taskInstanceList</tt> &#33719;&#24471;&#30340;&#20219;&#21153;&#28210;&#26579;&#25104;&#20219;&#21153;&#21015;&#34920;&#65292;&#27492;&#21015;&#34920;&#22312;JSF&#34920;&#21333;&#20869;&#34987;&#23450;&#20041;&#12290;</p><pre class="programlisting">&lt;h:form id="list"&gt;
   &lt;div&gt;
      &lt;h:outputText value="There are no todo items." rendered="#{empty taskInstanceList}"/&gt;
      &lt;h:dataTable value="#{taskInstanceList}" var="task" rendered="#{not empty taskInstanceList}"&gt;
         ...
      &lt;/h:dataTable&gt;
   &lt;/div&gt;
&lt;/h:form&gt;</pre><p>&#21015;&#34920;&#20013;&#30340;&#27599;&#20010;&#20803;&#32032;&#23601;&#26159;&#19968;&#20010;jBPM&#31867; <tt class="literal">taskinstance</tt> &#30340;&#23454;&#20363;&#12290;
			&#20197;&#19979;&#20195;&#30721;&#31616;&#21333;&#22320;&#23637;&#31034;&#20102;&#21015;&#34920;&#20013;&#27599;&#19968;&#20219;&#21153;&#30340;&#26377;&#36259;&#29305;&#24615;&#12290;&#20026;&#20102;&#35753;&#29992;&#25143;&#33021;&#26356;&#25913;description&#12289;priority&#21450;due date&#30340;&#20540;&#65292;&#25105;&#20204;&#20351;&#29992;&#20102;&#36755;&#20837;&#25511;&#20214;&#12290;
			</p><pre class="programlisting">&lt;h:column&gt;
    &lt;f:facet name="header"&gt;
       &lt;h:outputText value="Description"/&gt;
    &lt;/f:facet&gt;
    &lt;h:inputText value="#{task.description}"/&gt;
&lt;/h:column&gt;
&lt;h:column&gt;
    &lt;f:facet name="header"&gt;
        &lt;h:outputText value="Created"/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value="#{task.taskMgmtInstance.processInstance.start}"&gt;
        &lt;f:convertDateTime type="date"/&gt;
    &lt;/h:outputText&gt;
&lt;/h:column&gt;
&lt;h:column&gt;
    &lt;f:facet name="header"&gt;
        &lt;h:outputText value="Priority"/&gt;
    &lt;/f:facet&gt;
    &lt;h:inputText value="#{task.priority}" style="width: 30"/&gt;
&lt;/h:column&gt;
&lt;h:column&gt;
    &lt;f:facet name="header"&gt;
        &lt;h:outputText value="Due Date"/&gt;
    &lt;/f:facet&gt;
    &lt;h:inputText value="#{task.dueDate}" style="width: 100"&gt;
        &lt;f:convertDateTime type="date" dateStyle="short"/&gt;
    &lt;/h:inputText&gt;
&lt;/h:column&gt;</pre><p>&#35813;&#25353;&#38062;&#36890;&#36807;&#35843;&#29992;&#34987;&#27880;&#35299;&#20026; <tt class="literal">@StartTask @EndTask</tt> &#30340;&#21160;&#20316;&#26041;&#27861;&#26469;&#32467;&#26463;&#20219;&#21153;&#12290;&#23427;&#25226;&#20219;&#21153;id&#20316;&#20026;&#35831;&#27714;&#21442;&#25968;&#20256;&#32473;Seam&#65306;</p><pre class="programlisting">&lt;h:column&gt;
    &lt;s:button value="Done" action="#{todoList.done}" taskInstance="#{task}"/&gt;
&lt;/h:column&gt;</pre><p>&#65288;&#35831;&#27880;&#24847;&#65292;&#36825;&#26159;&#22312;&#20351;&#29992;Seam <tt class="literal">seam-ui.jar</tt> &#21253;&#20013;&#30340;JSF <tt class="literal">&lt;s:button&gt;</tt> &#25511;&#20214;&#12290;&#65289;</p><p>&#36825;&#20010;&#25353;&#38062;&#26159;&#29992;&#26469;&#26356;&#26032;&#20219;&#21153;&#23646;&#24615;&#12290;&#24403;&#25552;&#20132;&#34920;&#21333;&#26102;&#65292;Seam&#21644;jBPM&#23558;&#30452;&#25509;&#26356;&#25913;&#20219;&#21153;&#30340;&#25345;&#20037;&#21270;&#65292;&#19981;&#38656;&#35201;&#20219;&#20309;&#30340;&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#65306;</p><pre class="programlisting">&lt;h:commandButton value="Update Items" action="update"/&gt;</pre><p>&#31532;&#20108;&#20010;&#34920;&#21333;&#36890;&#36807;&#35843;&#29992;&#27880;&#35299;&#20026; <tt class="literal">@CreateProcess</tt>&#30340;&#21160;&#20316;&#26041;&#27861;&#26469;&#21019;&#24314;&#26032;&#30340;&#39033;&#30446;&#65288;item&#65289;&#12290; </p><pre class="programlisting">&lt;h:form id="new"&gt;
    &lt;div&gt;
        &lt;h:inputText value="#{todoList.description}"/&gt;
        &lt;h:commandButton value="Create New Item" action="#{todoList.createTodo}"/&gt;
    &lt;/div&gt;
&lt;/h:form&gt;</pre><p>&#36825;&#20010;&#20363;&#23376;&#36824;&#38656;&#35201;&#21478;&#22806;&#20960;&#20010;&#25991;&#20214;&#65292;&#20294;&#23427;&#20204;&#21482;&#26159;&#26631;&#20934;&#30340;jBPM&#21644;Seam&#37197;&#32622;&#24182;&#19981;&#26159;&#24456;&#26377;&#36259;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1791"></a>1.4.2.&nbsp;&#24037;&#20316;&#21407;&#29702;</h3></div></div><div></div></div><p>&#24453;&#23436;&#25104;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="numberguess"></a>1.5.&nbsp;Seam&#39029;&#38754;&#27969;&#65306;&#29468;&#25968;&#23383;&#33539;&#20363;</h2></div></div><div></div></div><p>
          &#23545;&#26377;&#30456;&#23545;&#33258;&#30001;&#65288;&#29305;&#21035;&#65289;&#23548;&#33322;&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#32780;&#35328;&#65292;JSF/Seam&#23548;&#33322;&#35268;&#21017;&#26159;&#23450;&#20041;&#39029;&#38754;&#27969;&#30340;&#19968;&#20010;&#23436;&#32654;&#30340;&#26041;&#27861;&#12290;
          &#32780;&#23545;&#20110;&#37027;&#20123;&#24102;&#26377;&#26356;&#22810;&#32422;&#26463;&#30340;&#23548;&#33322;&#65292;&#29305;&#21035;&#26159;&#24102;&#29366;&#24577;&#30340;&#29992;&#25143;&#30028;&#38754;&#32780;&#35328;&#65292;&#23548;&#33322;&#35268;&#21017;&#21453;&#32780;&#20351;&#24471;&#31995;&#32479;&#27969;&#31243;&#21464;&#24471;&#38590;&#20197;&#29702;&#35299;&#12290;
          &#35201;&#29702;&#35299;&#25972;&#20010;&#27969;&#31243;&#65292;&#20320;&#38656;&#35201;&#20174;&#35270;&#22270;&#39029;&#38754;&#12289;&#21160;&#20316;&#21644;&#23548;&#33322;&#35268;&#21017;&#37324;&#19968;&#28857;&#28857;&#25226;&#23427;&#25340;&#20986;&#26469;&#12290;
      </p><p>
          Seam&#20801;&#35768;&#20320;&#20351;&#29992;&#19968;&#20010;jPDL&#27969;&#31243;&#23450;&#20041;&#26469;&#23450;&#20041;&#39029;&#38754;&#27969;&#12290;&#19979;&#38754;&#36825;&#20010;&#31616;&#21333;&#30340;&#29468;&#25968;&#23383;&#33539;&#20363;&#23558;&#28436;&#31034;&#36825;&#19968;&#20999;&#26159;&#22914;&#20309;&#23454;&#29616;&#30340;&#12290;
      </p><div class="mediaobject" align="center"><img src="images/numberguess.png" align="middle"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1808"></a>1.5.1.&nbsp;&#29702;&#35299;&#20195;&#30721;</h3></div></div><div></div></div><p>
              &#36825;&#20010;&#20363;&#23376;&#30001;&#19968;&#20010;JavaBean&#12289;&#19977;&#20010;JSP&#39029;&#38754;&#21644;&#19968;&#20010;jPDL&#39029;&#38754;&#27969;&#23450;&#20041;&#32452;&#25104;&#12290;&#35753;&#25105;&#20204;&#20174;&#39029;&#38754;&#27969;&#24320;&#22987;&#65306;
          </p><div class="example"><a name="d0e1813"></a><p class="title"><b>Example&nbsp;1.18.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">&lt;pageflow-definition name="numberGuess"&gt;

   &lt;start-page name="displayGuess" view-id="/numberGuess.jsp"&gt;
      &lt;redirect/&gt;
      &lt;transition name="guess" to="evaluateGuess"&gt;
          &lt;action expression="#{numberGuess.guess}" /&gt;
      &lt;/transition&gt;                                                                      <span class="co">(1)</span>
   &lt;/start-page&gt;                                                                         <span class="co">(2)</span>
                                                                                         <span class="co">(3)</span>
   &lt;decision name="evaluateGuess" expression="#{numberGuess.correctGuess}"&gt;
      &lt;transition name="true" to="win"/&gt;
      &lt;transition name="false" to="evaluateRemainingGuesses"/&gt;
   &lt;/decision&gt;                                                                           <span class="co">(4)</span>

   &lt;decision name="evaluateRemainingGuesses" expression="#{numberGuess.lastGuess}"&gt;
      &lt;transition name="true" to="lose"/&gt;
      &lt;transition name="false" to="displayGuess"/&gt;
   &lt;/decision&gt;

   &lt;page name="win" view-id="/win.jsp"&gt;
      &lt;redirect/&gt;
      &lt;end-conversation /&gt;
   &lt;/page&gt;

   &lt;page name="lose" view-id="/lose.jsp"&gt;
      &lt;redirect/&gt;
      &lt;end-conversation /&gt;
   &lt;/page&gt;

&lt;/pageflow-definition&gt;</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>
								<tt class="literal">&lt;page&gt;</tt>&#20803;&#32032;&#23450;&#20041;&#20102;&#19968;&#20010;&#31561;&#24453;&#29366;&#24577;&#65292;&#22312;&#35813;&#29366;&#24577;&#20013;&#31995;&#32479;&#26174;&#31034;&#19968;&#20010;JSF&#35270;&#22270;&#31561;&#24453;&#29992;&#25143;&#36755;&#20837;&#12290;
                        <tt class="literal">view-id</tt>&#19982;&#31616;&#21333;JSF&#23548;&#33322;&#35268;&#21017;&#20013;&#30340;view id&#19968;&#26679;&#12290;
                        <tt class="literal">redirect</tt>&#23646;&#24615;&#21578;&#35785;Seam&#22312;&#23548;&#33322;&#21040;&#39029;&#38754;&#26102;&#20351;&#29992;post-then-redirect&#12290;(&#36825;&#20250;&#24102;&#26469;&#21451;&#22909;&#30340;&#27983;&#35272;&#22120;URL&#12290;)
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>
								<tt class="literal">&lt;transition&gt;</tt> &#20803;&#32032;&#21629;&#21517;&#20102;&#19968;&#20010;JSF&#36755;&#20986;&#12290;&#24403;&#19968;&#20010;JSF&#21160;&#20316;&#23548;&#33268;&#37027;&#20010;&#36755;&#20986;&#26102;&#20250;&#35302;&#21457;&#36716;&#25442;&#12290;
                        &#22312;&#20219;&#20309;jBPM&#36716;&#25442;&#21160;&#20316;&#35843;&#29992;&#21518;&#65292;&#25191;&#34892;&#20250;&#36827;&#34892;&#21040;&#39029;&#38754;&#27969;&#31243;&#22270;&#30340;&#19979;&#19968;&#20010;&#33410;&#28857;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>
                        &#19968;&#20010;&#36716;&#25442;&#21160;&#20316; <tt class="literal">&lt;action&gt;</tt> &#23601;&#20687;JSF&#21160;&#20316;&#65292;&#19981;&#21516;&#30340;&#23601;&#26159;&#23427;&#21482;&#21457;&#29983;&#22312;&#19968;&#20010;jBPM&#36716;&#25442;&#21457;&#29983;&#26102;&#12290;
                        &#36716;&#25442;&#21160;&#20316;&#33021;&#35843;&#29992;&#20219;&#20309;Seam&#32452;&#20214;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(4)</td><td valign="top" align="left"><p>
								<tt class="literal">&lt;decision&gt;</tt> &#33410;&#28857;&#29992;&#26469;&#21010;&#20998;&#39029;&#38754;&#27969;&#65292;&#36890;&#36807;&#35745;&#31639;JSF EL&#34920;&#36798;&#24335;&#20915;&#23450;&#35201;&#25191;&#34892;&#30340;&#19979;&#19968;&#20010;&#33410;&#28857;&#12290;
                    </p></td></tr></table></div></div></div><p>
              &#36825;&#20010;&#39029;&#38754;&#27969;&#22312;JBossIDE&#39029;&#38754;&#27969;&#32534;&#36753;&#22120;&#37324;&#30475;&#19978;&#21435;&#26159;&#36825;&#20010;&#26679;&#23376;&#30340;&#65306;
          </p><div class="mediaobject" align="center"><img src="images/numberguess-pageflow.png" align="middle"></div><p>
              &#30475;&#36807;&#20102;&#39029;&#38754;&#27969;&#65292;&#29616;&#22312;&#20877;&#26469;&#29702;&#35299;&#21097;&#19979;&#30340;&#31243;&#24207;&#23601;&#21464;&#24471;&#21313;&#20998;&#31616;&#21333;&#20102;!
          </p><p>
              &#36825;&#26159;&#24212;&#29992;&#31243;&#24207;&#30340;&#20027;&#39029;&#38754;<tt class="literal">numberGuess.jspx</tt>&#65306;
          </p><div class="example"><a name="d0e1867"></a><p class="title"><b>Example&nbsp;1.19.&nbsp;</b></p><pre class="programlisting">&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h"%&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Guess a number...&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Guess a number...&lt;/h1&gt;
&lt;f:view&gt;
    &lt;h:form&gt;
        &lt;h:outputText value="Higher!" rendered="#{numberGuess.randomNumber&gt;numberGuess.currentGuess}" /&gt;
        &lt;h:outputText value="Lower!" rendered="#{numberGuess.randomNumber&lt;numberGuess.currentGuess}" /&gt;
        &lt;br /&gt;
        I'm thinking of a number between &lt;h:outputText value="#{numberGuess.smallest}" /&gt; and
        &lt;h:outputText value="#{numberGuess.biggest}" /&gt;. You have
        &lt;h:outputText value="#{numberGuess.remainingGuesses}" /&gt; guesses.
        &lt;br /&gt;
        Your guess:
        &lt;h:inputText value="#{numberGuess.currentGuess}" id="guess" required="true"&gt;
            &lt;f:validateLongRange
                maximum="#{numberGuess.biggest}"
                minimum="#{numberGuess.smallest}"/&gt;
        &lt;/h:inputText&gt;
        &lt;h:commandButton type="submit" value="Guess" action="guess" /&gt;
        &lt;br/&gt;
        &lt;h:message for="guess" style="color: red"/&gt;
    &lt;/h:form&gt;
&lt;/f:view&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>
              &#35831;&#27880;&#24847;&#21517;&#20026; <tt class="literal">guess</tt> &#30340;&#21629;&#20196;&#25353;&#38062;&#26159;&#22914;&#20309;&#36827;&#34892;&#36716;&#25442;&#32780;&#19981;&#26159;&#30452;&#25509;&#35843;&#29992;&#19968;&#20010;&#21160;&#20316;&#30340;&#12290;
          </p><p>
				<tt class="literal">win.jspx</tt> &#39029;&#38754;&#30340;&#20869;&#23481;&#26159;&#21487;&#24819;&#32780;&#30693;&#30340;&#65306;
          </p><div class="example"><a name="d0e1880"></a><p class="title"><b>Example&nbsp;1.20.&nbsp;</b></p><pre class="programlisting">&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h"%&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;You won!&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;You won!&lt;/h1&gt;
&lt;f:view&gt;
    Yes, the answer was &lt;h:outputText value="#{numberGuess.currentGuess}" /&gt;.
    It took you &lt;h:outputText value="#{numberGuess.guessCount}" /&gt; guesses.
    Would you like to &lt;a href="numberGuess.seam"&gt;play again&lt;/a&gt;?
  &lt;/f:view&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>
				<tt class="literal">lose.jsp</tt> &#20063;&#24046;&#19981;&#22810;&#65288;&#25105;&#23601;&#19981;&#37325;&#22797;&#22797;&#21046;/&#31896;&#36148;&#20102;&#65289;&#12290;&#26368;&#21518;&#65292;JavaBean Seam&#32452;&#20214;&#26159;&#36825;&#26679;&#30340;&#65306;
          </p><div class="example"><a name="d0e1888"></a><p class="title"><b>Example&nbsp;1.21.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">@Name("numberGuess")
@Scope(ScopeType.CONVERSATION)
public class NumberGuess {

   private int randomNumber;
   private Integer currentGuess;
   private int biggest;
   private int smallest;
   private int guessCount;
   private int maxGuesses;

   @Create                                                                               <span class="co">(1)</span>
   @Begin(pageflow="numberGuess")                                                        <span class="co">(2)</span>
   public void begin()
   {
      randomNumber = new Random().nextInt(100);
      guessCount = 0;
      biggest = 100;
      smallest = 1;
   }

   public void setCurrentGuess(Integer guess)
   {
      this.currentGuess = guess;
   }

   public Integer getCurrentGuess()
   {
      return currentGuess;
   }

   public void guess()
   {
      if (currentGuess&gt;randomNumber)
      {
         biggest = currentGuess - 1;
      }
      if (currentGuess&lt;randomNumber)
      {
         smallest = currentGuess + 1;
      }
      guessCount ++;
   }

   public boolean isCorrectGuess()
   {
      return currentGuess==randomNumber;
   }

   public int getBiggest()
   {
      return biggest;
   }

   public int getSmallest()
   {
      return smallest;
   }

   public int getGuessCount()
   {
      return guessCount;
   }

   public boolean isLastGuess()
   {
      return guessCount==maxGuesses;
   }

   public int getRemainingGuesses() {
      return maxGuesses-guessCount;
   }

   public void setMaxGuesses(int maxGuesses) {
      this.maxGuesses = maxGuesses;
   }

   public int getMaxGuesses() {
      return maxGuesses;
   }

   public int getRandomNumber() {
      return randomNumber;
   }
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>
                        &#19968;&#24320;&#22987;&#65292;JSP&#39029;&#38754;&#35831;&#27714;&#19968;&#20010; <tt class="literal">numberGuess</tt> &#32452;&#20214;&#65292;Seam&#20250;&#20026;&#35813;&#32452;&#20214;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#23454;&#20363;&#65292;&#24182;&#35843;&#29992; <tt class="literal">@Create</tt> &#26041;&#27861;&#65292;&#20801;&#35768;&#32452;&#20214;&#21021;&#22987;&#21270;&#33258;&#24049;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>
							<tt class="literal">@Begin</tt> &#27880;&#35299;&#21551;&#21160;&#20102;&#19968;&#20010;Seam <span class="emphasis"><em>&#19994;&#21153;&#20250;&#35805;(conversation)</em></span> &#65288;&#31245;&#21518;&#35814;&#32454;&#35828;&#26126;&#65289;&#65292;&#24182;&#25351;&#23450;&#19994;&#21153;&#20250;&#35805;&#39029;&#38754;&#27969;&#25152;&#35201;&#20351;&#29992;&#30340;&#39029;&#38754;&#27969;&#23450;&#20041;&#12290;
							</p></td></tr></table></div></div></div><p>
              &#22914;&#20320;&#25152;&#35265;&#65292;&#36825;&#20010;Seam&#32452;&#20214;&#26159;&#32431;&#19994;&#21153;&#36923;&#36753;&#30340;&#65281;&#23427;&#19981;&#38656;&#35201;&#30693;&#36947;&#20219;&#20309;&#20851;&#20110;&#29992;&#25143;&#20132;&#20114;&#30340;&#19996;&#35199;&#12290;&#36825;&#28857;&#20351;&#24471;&#32452;&#20214;&#26356;&#26131;&#34987;&#22797;&#29992;&#12290;
          </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1916"></a>1.5.2.&nbsp;&#24037;&#20316;&#21407;&#29702;</h3></div></div><div></div></div><p>TODO</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="booking"></a>1.6.&nbsp;&#19968;&#20010;&#23436;&#25972;&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#65306;&#23486;&#39302;&#39044;&#35746;&#33539;&#20363;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1924"></a>1.6.1.&nbsp;&#20171;&#32461;</h3></div></div><div></div></div><p>&#35813;&#31995;&#32479;&#26159;&#19968;&#20010;&#23436;&#25972;&#30340;&#23486;&#39302;&#23458;&#25151;&#39044;&#35746;&#31995;&#32479;&#65292;&#23427;&#30001;&#19979;&#21015;&#21151;&#33021;&#32452;&#25104;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#29992;&#25143;&#27880;&#20876;</p></li><li><p>&#30331;&#24405;</p></li><li><p>&#27880;&#38144;</p></li><li><p>&#35774;&#32622;&#23494;&#30721;</p></li><li><p>&#25628;&#32034;&#23486;&#39302;</p></li><li><p>&#36873;&#25321;&#23486;&#39302;</p></li><li><p>&#23458;&#25151;&#39044;&#35746;</p></li><li><p>&#39044;&#35746;&#30830;&#35748;</p></li><li><p>&#24403;&#21069;&#39044;&#35746;&#21015;&#34920;</p></li></ul></div><div class="screenshot"><div class="mediaobject" align="center"><img src="images/booking.png" align="middle"></div></div><p>&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;&#20102;JSF&#12289;EJB 3.0&#21644;Seam&#65292;&#35270;&#22270;&#37096;&#20998;&#32467;&#21512;&#20102;Facelets&#12290;&#20063;&#21487;&#20197;&#36873;&#25321;&#20351;&#29992;JSF&#12289;Facelets&#12289;Seam&#12289;JavaBeans&#21644;Hibernate3&#12290;</p><p>
          &#22312;&#20351;&#29992;&#36807;&#19968;&#27573;&#26102;&#38388;&#21518;&#20320;&#20250;&#21457;&#29616;&#35813;&#24212;&#29992;&#31243;&#24207;&#38750;&#24120; <span class="emphasis"><em>&#20581;&#22766;</em></span>&#12290;&#20320;&#33021;&#20351;&#29992;&#22238;&#36864;&#25353;&#38062;&#12289;&#21047;&#26032;&#27983;&#35272;&#22120;&#12289;&#25171;&#24320;&#22810;&#20010;&#31383;&#21475;&#65292;
          &#25110;&#32773;&#38190;&#20837;&#21508;&#31181;&#26080;&#24847;&#20041;&#30340;&#25968;&#25454;&#65292;&#20250;&#21457;&#29616;&#37117;&#24456;&#38590;&#35753;&#23427;&#23849;&#28291;&#12290;&#20320;&#20063;&#35768;&#20250;&#24819;&#25105;&#20204;&#33457;&#20102;&#20960;&#20010;&#26143;&#26399;&#27979;&#35797;&#20462;&#22797;&#35813;&#31995;&#32479;&#25165;&#36798;&#21040;&#20102;&#36825;&#20010;&#30446;&#26631;&#12290;
          &#20107;&#23454;&#21364;&#19981;&#26159;&#36825;&#26679;&#30340;&#65292;Seam&#30340;&#35774;&#35745;&#20351;&#20320;&#33021;&#22815;&#29992;&#23427;&#26041;&#20415;&#22320;&#26500;&#24314;&#20581;&#22766;&#30340;web&#24212;&#29992;&#31243;&#24207;&#65292;&#32780;&#19988;Seam&#36824;&#25552;&#20379;&#20102;&#24456;&#22810;&#20197;&#21069;&#38656;&#35201;&#36890;&#36807;&#32534;&#30721;&#25165;&#33021;&#23454;&#29616;&#30340;&#20581;&#22766;&#24615;&#12290;
      </p><p>
          &#22312;&#20320;&#27983;&#35272;&#33539;&#20363;&#31243;&#24207;&#20195;&#30721;&#30740;&#31350;&#23427;&#26159;&#22914;&#20309;&#36816;&#34892;&#26102;&#65292;&#27880;&#24847;&#35266;&#23519;&#22768;&#26126;&#24335;&#30340;&#29366;&#24577;&#31649;&#29702;&#21644;&#38598;&#25104;&#30340;&#39564;&#35777;&#26159;&#22914;&#20309;&#34987;&#29992;&#26469;&#23454;&#29616;&#36825;&#31181;&#20581;&#22766;&#24615;&#30340;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1974"></a>1.6.2.&nbsp;&#39044;&#35746;&#31995;&#32479;&#27010;&#20917;</h3></div></div><div></div></div><p>
          &#36825;&#20010;&#39033;&#30446;&#30340;&#32467;&#26500;&#21644;&#19978;&#19968;&#20010;&#19968;&#26679;&#65292;&#35201;&#23433;&#35013;&#37096;&#32626;&#35813;&#24212;&#29992;&#31243;&#24207;&#35831;&#21442;&#32771;<a href="#try-examples" title="1.1.&nbsp;&#35797;&#35797;&#30475;">Section&nbsp;1.1, &#8220;&#35797;&#35797;&#30475;&#8221;</a>&#12290;
          &#24403;&#24212;&#29992;&#31243;&#24207;&#21551;&#21160;&#21518;&#65292;&#21487;&#20197;&#36890;&#36807; <a href="http://localhost:8080/seam-booking/" target="_top"><tt class="literal">http://localhost:8080/seam-booking/</tt></a> &#36827;&#34892;&#35775;&#38382;&#12290;
      </p><p>
          &#21482;&#38656;&#35201;&#29992;9&#20010;&#31867;&#65288;&#21152;&#19978;6&#20010;Session Bean&#30340;&#26412;&#22320;&#25509;&#21475;&#65289;&#23601;&#33021;&#23454;&#29616;&#36825;&#20010;&#24212;&#29992;&#31243;&#24207;&#12290;6&#20010;Session Bean&#21160;&#20316;&#30417;&#21548;&#22120;&#21253;&#25324;&#20102;&#20197;&#19979;&#21151;&#33021;&#30340;&#25152;&#26377;&#19994;&#21153;&#36923;&#36753;&#12290;
      </p><div class="itemizedlist"><ul type="disc"><li><tt class="literal">BookingListAction</tt> &#33719;&#24471;&#24403;&#21069;&#30331;&#24405;&#29992;&#25143;&#30340;&#39044;&#35746;&#21015;&#34920;&#12290;
          </li><li><tt class="literal">ChangePasswordAction</tt> &#20462;&#25913;&#24403;&#21069;&#29992;&#25143;&#30340;&#23494;&#30721;&#12290;
          </li><li><tt class="literal">HotelBookingAction</tt> &#23454;&#29616;&#20102;&#24212;&#29992;&#31243;&#24207;&#30340;&#26680;&#24515;&#21151;&#33021;&#65306;&#23486;&#39302;&#23458;&#25151;&#25628;&#32034;&#12289;&#36873;&#25321;&#12289;&#39044;&#35746;&#21644;&#39044;&#35746;&#30830;&#35748;&#12290;
              &#36825;&#21151;&#33021;&#26159;&#20197; <span class="emphasis"><em>&#19994;&#21153;&#23545;&#35805;&#65288;conversation&#65289;</em></span> &#24418;&#24335;&#23454;&#29616;&#30340;&#65292;&#25152;&#20197;&#23427;&#26159;&#25972;&#20010;&#31243;&#24207;&#20013;&#26368;&#26377;&#24847;&#24605;&#30340;&#19968;&#20010;&#31867;&#12290;
          </li><li><tt class="literal">RegisterAction</tt> &#27880;&#20876;&#19968;&#20010;&#26032;&#29992;&#25143;&#12290;
          </li></ul></div><p>&#24212;&#29992;&#31243;&#24207;&#30340;&#25345;&#20037;&#21270;&#27169;&#22411;&#30001;&#19977;&#20010;&#23454;&#20307;bean&#23454;&#29616;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><tt class="literal">Hotel</tt> &#26159;&#34920;&#31034;&#19968;&#20010;&#23486;&#39302;&#30340;&#23454;&#20307;Bean
          </li><li><tt class="literal">Booking</tt> &#26159;&#34920;&#31034;&#19968;&#20010;&#39044;&#35746;&#30340;&#23454;&#20307;Bean
          </li><li><tt class="literal">User</tt> &#26159;&#34920;&#31034;&#19968;&#20010;&#33021;&#22815;&#36827;&#34892;&#23486;&#39302;&#39044;&#35746;&#30340;&#29992;&#25143;&#30340;&#23454;&#20307;Bean
          </li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2022"></a>1.6.3.&nbsp;&#29702;&#35299;Seam&#19994;&#21153;&#23545;&#35805;(Conversation)</h3></div></div><div></div></div><p>
            &#25105;&#20204;&#40723;&#21169;&#24744;&#38543;&#24847;&#27983;&#35272;&#28304;&#20195;&#30721;&#12290;&#22312;&#36825;&#20010;&#25945;&#31243;&#37324;&#25105;&#20204;&#23558;&#20851;&#27880;&#21151;&#33021;&#20013;&#30340;&#26576;&#19968;&#29305;&#23450;&#37096;&#20998;&#65306;&#23486;&#39302;&#25628;&#32034;&#12289;&#36873;&#25321;&#12289;&#39044;&#35746;&#21644;&#30830;&#35748;&#12290;
            &#20174;&#29992;&#25143;&#30340;&#35282;&#24230;&#26469;&#30475;&#65292;&#20174;&#36873;&#25321;&#23486;&#39302;&#21040;&#30830;&#35748;&#30340;&#27599;&#19968;&#27493;&#37117;&#26159;&#24037;&#20316;&#20013;&#30340;&#19968;&#20010;&#36830;&#32493;&#21333;&#20803;&#65292;&#23646;&#20110;&#19968;&#20010; <span class="emphasis"><em>&#19994;&#21153;&#23545;&#35805;</em></span>&#12290;
            &#28982;&#32780;&#25628;&#32034;&#21364; <span class="emphasis"><em>&#19981;</em></span> &#26159;&#35813;&#23545;&#35805;&#30340;&#19968;&#37096;&#20998;&#12290;&#29992;&#25143;&#33021;&#22312;&#19981;&#21516;&#27983;&#35272;&#22120;&#26631;&#31614;&#39029;&#20013;&#30340;&#30456;&#21516;&#25628;&#32034;&#32467;&#26524;&#39029;&#38754;&#20013;&#36873;&#25321;&#22810;&#20010;&#23486;&#39302;&#12290;
        </p><p>
            &#22823;&#22810;&#25968;Web&#24212;&#29992;&#31243;&#24207;&#26550;&#26500;&#27809;&#26377;&#25552;&#20379;&#34920;&#31034;&#19994;&#21153;&#23545;&#35805;&#30340;&#19968;&#32423;&#26500;&#20214;(first class construct)&#12290;&#36825;&#22312;&#31649;&#29702;&#19982;&#23545;&#35805;&#30456;&#20851;&#30340;&#29366;&#24577;&#26102;&#24102;&#26469;&#20102;&#24456;&#22810;&#40635;&#28902;&#12290;
            &#36890;&#24120;&#24773;&#20917;&#19979;&#65292;Java&#30340;Web&#24212;&#29992;&#31243;&#24207;&#32467;&#21512;&#20004;&#31181;&#25216;&#26415;&#26469;&#24212;&#23545;&#36825;&#19968;&#24773;&#20917;&#65306;&#19968;&#26159;&#23558;&#26576;&#20123;&#29366;&#24577;&#20002;&#20837; <tt class="literal">HttpSession</tt>&#65307;&#20108;&#26159;&#23558;&#21487;&#25345;&#20037;&#21270;&#30340;&#29366;&#24577;&#22312;&#27599;&#20010;&#35831;&#27714;&#65288;Request&#65289;&#21518;&#20889;&#20837;&#25968;&#25454;&#24211;&#65292;&#24182;&#22312;&#27599;&#20010;&#26032;&#35831;&#27714;&#30340;&#24320;&#22987;&#23558;&#20043;&#37325;&#24314;&#12290;
        </p><p>
            &#30001;&#20110;&#25968;&#25454;&#24211;&#26159;&#26368;&#19981;&#21487;&#25193;&#23637;&#30340;&#19968;&#23618;&#65292;&#22240;&#27492;&#36825;&#20040;&#20570;&#24448;&#24448;&#23548;&#33268;&#23436;&#20840;&#26080;&#27861;&#25509;&#21463;&#30340;&#25193;&#23637;&#24615;&#20302;&#19979;&#12290;&#22312;&#27599;&#27425;&#35831;&#27714;&#26102;&#35775;&#38382;&#25968;&#25454;&#24211;&#25152;&#36896;&#25104;&#30340;&#39069;&#22806;&#27969;&#37327;&#21644;&#31561;&#24453;&#26102;&#38388;&#20063;&#26159;&#19968;&#20010;&#38382;&#39064;&#12290;
            &#35201;&#38477;&#20302;&#20887;&#20313;&#27969;&#37327;&#65292;Java&#24212;&#29992;&#31243;&#24207;&#24120;&#24341;&#20837;&#19968;&#20010;(&#20108;&#32423;)&#25968;&#25454;&#32531;&#23384;&#26469;&#20445;&#23384;&#34987;&#32463;&#24120;&#35775;&#38382;&#30340;&#25968;&#25454;&#12290;
            &#28982;&#32780;&#36825;&#20010;&#32531;&#23384;&#26159;&#24456;&#20302;&#25928;&#30340;&#65292;&#22240;&#20026;&#23427;&#30340;&#22833;&#25928;&#31639;&#27861;&#26159;&#22522;&#20110;LRU&#65288;&#26368;&#36817;&#26368;&#23569;&#20351;&#29992;&#65289;&#31574;&#30053;&#65292;&#32780;&#19981;&#26159;&#22522;&#20110;&#29992;&#25143;&#20309;&#26102;&#32467;&#26463;&#19982;&#35813;&#25968;&#25454;&#30456;&#20851;&#30340;&#24037;&#20316;&#12290;
            &#27492;&#22806;&#65292;&#30001;&#20110;&#35813;&#32531;&#23384;&#34987;&#35768;&#22810;&#24182;&#21457;&#20107;&#21153;&#20849;&#20139;&#65292;&#35201;&#20445;&#25345;&#32531;&#23384;&#19982;&#25968;&#25454;&#24211;&#30340;&#29366;&#24577;&#19968;&#33268;&#65292;&#25105;&#20204;&#38656;&#35201;&#24341;&#20837;&#20102;&#19968;&#22871;&#23436;&#25972;&#30340;&#26426;&#21046;&#12290;
        </p><p>
            &#29616;&#22312;&#20877;&#35753;&#25105;&#20204;&#32771;&#34385;&#23558;&#29366;&#24577;&#20445;&#23384;&#22312; <tt class="literal">HttpSession</tt> &#37324;&#12290;&#36890;&#36807;&#31934;&#24515;&#35774;&#35745;&#30340;&#32534;&#31243;&#65292;&#25105;&#20204;&#20063;&#35768;&#33021;&#25511;&#21046;session&#25968;&#25454;&#30340;&#22823;&#23567;&#12290;
            &#20294;&#36825;&#36828;&#27604;&#21548;&#36215;&#26469;&#35201;&#40635;&#28902;&#30340;&#22810;&#65292;&#22240;&#20026;Web&#27983;&#35272;&#22120;&#20801;&#35768;&#29305;&#27530;&#30340;&#38750;&#32447;&#24615;&#23548;&#33322;&#12290;
            &#20294;&#20551;&#35774;&#25105;&#20204;&#22312;&#31995;&#32479;&#24320;&#21457;&#21040;&#19968;&#21322;&#30340;&#26102;&#20505;&#31361;&#28982;&#21457;&#29616;&#19968;&#20010;&#38656;&#27714;&#65292;&#23427;&#35201;&#27714;&#29992;&#25143;&#21487;&#20197;&#25317;&#26377; <span class="emphasis"><em>&#22810;&#24182;&#21457;&#19994;&#21153;&#23545;&#35805;</em></span>&#65288;&#25105;&#23601;&#30896;&#21040;&#36807;&#65289;&#12290;
            &#35201;&#24320;&#21457;&#19968;&#20123;&#26426;&#21046;&#65292;&#20197;&#20998;&#31163;&#19982;&#19981;&#21516;&#24182;&#21457;&#19994;&#21153;&#20250;&#35805;&#30456;&#20851;&#30340;session&#29366;&#24577;&#65292;&#24182;&#24341;&#20837;&#25925;&#38556;&#20445;&#25252;&#65292;&#22312;&#29992;&#25143;&#20851;&#38381;&#27983;&#35272;&#22120;&#31383;&#21475;&#25110;&#26631;&#31614;&#39029;&#26102;&#38144;&#27585;&#19994;&#21153;&#20250;&#35805;&#29366;&#24577;&#12290;
            &#36825;&#23545;&#26222;&#36890;&#20154;&#26469;&#35828;&#21487;&#19981;&#26159;&#19968;&#20214;&#36731;&#26494;&#30340;&#20107;&#24773;&#65288;&#25105;&#23601;&#23454;&#29616;&#36807;&#20004;&#27425;&#65292;&#19968;&#27425;&#26159;&#20026;&#19968;&#20010;&#23458;&#25143;&#24212;&#29992;&#31243;&#24207;&#65292;&#21478;&#19968;&#27425;&#26159;&#20026;Seam&#65292;&#24184;&#22909;&#25105;&#26159;&#20986;&#20102;&#21517;&#30340;&#30127;&#23376;&#65289;&#12290;
        </p><p>
            &#29616;&#22312;&#25552;&#20379;&#19968;&#20010;&#26356;&#22909;&#30340;&#26041;&#27861;&#12290;
        </p><p>
            Seam&#24341;&#20837;&#20102; <span class="emphasis"><em>&#23545;&#35805;&#19978;&#19979;&#25991;</em></span> &#26469;&#20316;&#20026;&#19968;&#32423;&#26500;&#20214;&#12290;&#20320;&#33021;&#22312;&#20854;&#20013;&#23433;&#20840;&#22320;&#20445;&#23384;&#19994;&#21153;&#23545;&#35805;&#29366;&#24577;&#65292;&#23427;&#20250;&#20445;&#35777;&#29366;&#24577;&#26377;&#19968;&#20010;&#23450;&#20041;&#33391;&#22909;&#30340;&#29983;&#21629;&#21608;&#26399;&#12290;
            &#32780;&#19988;&#65292;&#20320;&#19981;&#29992;&#20877;&#19981;&#20572;&#22320;&#22312;&#24212;&#29992;&#26381;&#21153;&#22120;&#21644;&#25968;&#25454;&#24211;&#38388;&#20256;&#36882;&#25968;&#25454;&#65292;&#22240;&#20026;&#19994;&#21153;&#23545;&#35805;&#19978;&#19979;&#25991;&#23601;&#26159;&#19968;&#20010;&#22825;&#28982;&#30340;&#32531;&#23384;&#65292;&#29992;&#26469;&#32531;&#23384;&#29992;&#25143;&#30340;&#25968;&#25454;&#12290;
        </p><p>
            &#36890;&#24120;&#24773;&#20917;&#19979;&#65292;&#25105;&#20204;&#20445;&#23384;&#22312;&#19994;&#21153;&#23545;&#35805;&#19978;&#19979;&#25991;&#20013;&#30340;&#32452;&#20214;&#26159;&#26377;&#29366;&#24577;&#30340;Session Bean&#12290;&#65288;&#25105;&#20204;&#20063;&#22312;&#20854;&#20013;&#20445;&#23384;&#23454;&#20307;Bean&#21644;JavaBeans&#12290;&#65289;
            &#22312;Java&#31038;&#21306;&#20013;&#19968;&#30452;&#26377;&#19968;&#20010;&#35875;&#20256;&#65292;&#35748;&#20026;&#26377;&#29366;&#24577;&#30340;Session Bean&#26159;&#25193;&#23637;&#24615;&#30340;&#26432;&#25163;&#12290;&#22312;1998&#24180;WebFoobar 1.0&#21457;&#24067;&#26102;&#30340;&#30830;&#22914;&#27492;&#12290;
            &#20294;&#20170;&#22825;&#30340;&#24773;&#20917;&#24050;&#32463;&#21464;&#20102;&#12290;&#20687;JBoss 4.0&#36825;&#26679;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;&#37117;&#26377;&#24456;&#25104;&#29087;&#30340;&#26426;&#21046;&#22788;&#29702;&#26377;&#29366;&#24577;Session Bean&#30340;&#29366;&#24577;&#22797;&#21046;&#12290;
            &#65288;&#20363;&#22914;&#65292;JBoss EJB3&#23481;&#22120;&#21487;&#20197;&#25191;&#34892;&#24456;&#32454;&#33268;&#30340;&#22797;&#21046;&#65292;&#21482;&#22797;&#21046;&#37027;&#20123;&#23646;&#24615;&#20540;&#34987;&#25913;&#21464;&#36807;&#30340;bean&#12290;&#65289;
            &#35831;&#27880;&#24847;&#65292;&#25152;&#26377;&#37027;&#20123;&#20256;&#32479;&#25216;&#26415;&#20013;&#20851;&#20110;&#26377;&#29366;&#24577;Bean&#26159;&#20302;&#25928;&#30340;&#20105;&#35770;&#20063;&#21516;&#26679;&#21457;&#29983;&#22312; <tt class="literal">HttpSession</tt> &#19978;&#65292;&#25152;&#20197;&#35828;&#23558;&#29366;&#24577;&#20174;&#19994;&#21153;&#23618;&#30340;&#26377;&#29366;&#24577;Session Bean&#36801;&#31227;&#21040;Web Session&#20013;&#20197;&#25552;&#39640;&#24615;&#33021;&#30340;&#20570;&#27861;&#27627;&#26080;&#30097;&#38382;&#26159;&#34987;&#35823;&#23548;&#30340;&#12290;
            &#19981;&#27491;&#30830;&#22320;&#20351;&#29992;&#26377;&#29366;&#24577;&#30340;Bean&#65292;&#25110;&#32773;&#26159;&#23558;&#23427;&#20204;&#29992;&#22312;&#38169;&#35823;&#30340;&#22320;&#26041;&#19978;&#37117;&#20250;&#20351;&#24212;&#29992;&#31243;&#24207;&#21464;&#24471;&#26080;&#27861;&#25193;&#23637;&#12290;
            &#20294;&#36825;&#24182;&#19981;&#24847;&#21619;&#30528;&#20320;&#24212;&#35813; <span class="emphasis"><em>&#27704;&#36828;&#19981;&#35201;</em></span> &#20351;&#29992;&#23427;&#20204;&#12290;&#24635;&#20043;&#65292;Seam&#20250;&#21578;&#35785;&#20320;&#19968;&#20010;&#23433;&#20840;&#20351;&#29992;&#30340;&#27169;&#22411;&#12290;&#27426;&#36814;&#26469;&#21040;2005&#24180;&#12290;
        </p><p>
            OK&#65292;&#19981;&#20877;&#22810;&#35828;&#20102;&#65292;&#35805;&#39064;&#22238;&#21040;&#36825;&#20010;&#25351;&#21335;&#19978;&#21543;&#12290;
        </p><p>
            &#23486;&#39302;&#39044;&#35746;&#33539;&#20363;&#28436;&#31034;&#20102;&#19981;&#21516;&#20316;&#29992;&#22495;&#30340;&#26377;&#29366;&#24577;&#32452;&#20214;&#26159;&#22914;&#20309;&#21327;&#21516;&#24037;&#20316;&#23454;&#29616;&#22797;&#26434;&#30340;&#34892;&#20026;&#30340;&#12290;
            &#23427;&#30340;&#20027;&#39029;&#38754;&#20801;&#35768;&#29992;&#25143;&#25628;&#32034;&#23486;&#39302;&#12290;&#25628;&#32034;&#30340;&#32467;&#26524;&#34987;&#20445;&#23384;&#22312;Seam&#30340;session&#22495;&#20013;&#12290;
            &#24403;&#29992;&#25143;&#23548;&#33322;&#21040;&#20854;&#20013;&#19968;&#20010;&#23486;&#39302;&#26102;&#65292;&#19968;&#20010;&#19994;&#21153;&#20250;&#35805;&#20415;&#24320;&#22987;&#20102;&#65292;&#19968;&#20010;&#19994;&#21153;&#20250;&#35805;&#22495;&#32452;&#20214;&#22238;&#35843;session&#22495;&#32452;&#20214;&#20197;&#33719;&#24471;&#36873;&#20013;&#30340;&#23486;&#39302;&#12290;
        </p><p>
            &#23486;&#39302;&#39044;&#35746;&#33539;&#20363;&#36824;&#28436;&#31034;&#20102;&#22914;&#20309;&#20351;&#29992;Ajax4JSF&#22312;&#19981;&#29992;&#25163;&#24037;&#32534;&#20889;JavaScript&#30340;&#24773;&#20917;&#19979;&#23454;&#29616;&#23500;&#23458;&#25143;&#31471;&#65288;Rich Client&#65289;&#34892;&#20026;&#12290;
        </p><p>
            &#25628;&#32034;&#21151;&#33021;&#29992;&#20102;&#19968;&#20010;Session&#22495;&#30340;&#26377;&#29366;&#24577;Session Bean&#26469;&#23454;&#29616;&#65292;&#26377;&#28857;&#31867;&#20284;&#20110;&#25105;&#20204;&#22312;&#19978;&#38754;&#30340;&#28040;&#24687;&#21015;&#34920;&#33539;&#20363;&#37324;&#30475;&#21040;&#30340;&#37027;&#20010;Session Bean&#12290;
        </p><div class="example"><a name="d0e2071"></a><p class="title"><b>Example&nbsp;1.22.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">@Stateful                                                                                <span class="co">(1)</span>
@Name("hotelSearch")
@Scope(ScopeType.SESSION)
@Restrict("#{identity.loggedIn}")                                                        <span class="co">(2)</span>
public class HotelSearchingAction implements HotelSearching
{

   @PersistenceContext
   private EntityManager em;

   private String searchString;
   private int pageSize = 10;
   private int page;

   @DataModel
   private List&lt;Hotel&gt; hotels;                                                           <span class="co">(3)</span>

   public String find()
   {
      page = 0;
      queryHotels();
      return "main";
   }

   public String nextPage()
   {
      page++;
      queryHotels();
      return "main";
   }

   private void queryHotels()
   {
      String searchPattern = searchString==null ? "%" : '%' + searchString.toLowerCase().replace('*', '%') + '%';
      hotels = em.createQuery("select h from Hotel h where lower(h.name) like :search or lower(h.city) like :search or lower(h.zip) like :search or lower(h.address) like :search")
            .setParameter("search", searchPattern)
            .setMaxResults(pageSize)
            .setFirstResult( page * pageSize )
            .getResultList();
   }

   public boolean isNextPageAvailable()
   {
      return hotels!=null &amp;&amp; hotels.size()==pageSize;
   }

   public int getPageSize() {
      return pageSize;
   }

   public void setPageSize(int pageSize) {
      this.pageSize = pageSize;
   }

   public String getSearchString()
   {
      return searchString;
   }

   public void setSearchString(String searchString)
   {
      this.searchString = searchString;
   }

   @Destroy @Remove
   public void destroy() {}                                                              <span class="co">(4)</span>

}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>
                        EJB&#26631;&#20934;&#20013;&#30340; <tt class="literal">@Stateful</tt> &#27880;&#35299;&#34920;&#26126;&#36825;&#20010;&#31867;&#26159;&#19968;&#20010;&#26377;&#29366;&#24577;&#30340;Session Bean&#12290;&#23427;&#20204;&#30340;&#40664;&#35748;&#20316;&#29992;&#22495;&#26159;&#19994;&#21153;&#23545;&#35805;&#19978;&#19979;&#25991;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>
								<tt class="literal">@Restrict</tt>&#27880;&#35299;&#32473;&#32452;&#20214;&#21152;&#19978;&#20102;&#19968;&#20010;&#23433;&#20840;&#38480;&#21046;&#12290;&#21482;&#26377;&#30331;&#24405;&#36807;&#30340;&#29992;&#25143;&#25165;&#33021;&#35775;&#38382;&#35813;&#32452;&#20214;&#12290;&#23433;&#20840;&#31456;&#33410;&#20013;&#26356;&#35814;&#32454;&#22320;&#35752;&#35770;&#20102;Seam&#30340;&#23433;&#20840;&#38382;&#39064;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>
                        <a href="#datamodel-annotation"><tt class="literal">@DataModel</tt></a> &#27880;&#35299;&#23558;&#19968;&#20010; <tt class="literal">List</tt> &#20316;&#20026;JSF <tt class="literal">ListDataModel</tt> &#26292;&#38706;&#20986;&#21435;&#12290;
                        &#36825;&#31616;&#21270;&#20102;&#25628;&#32034;&#30028;&#38754;&#30340;&#21487;&#21333;&#20987;&#21015;&#34920;&#30340;&#23454;&#29616;&#12290;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#23486;&#39302;&#30340;&#21015;&#34920;&#26159;&#20197;&#21517;&#20026; <tt class="literal">hotels</tt> &#30340; <tt class="literal">ListDataModel</tt> &#19994;&#21153;&#23545;&#35805;&#21464;&#37327;&#26292;&#38706;&#32473;&#39029;&#38754;&#30340;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(4)</td><td valign="top" align="left"><p>
                        EJB&#26631;&#20934;&#20013;&#30340; <tt class="literal">@Remove</tt> &#27880;&#35299;&#25351;&#23450;&#20102;&#19968;&#20010;&#26377;&#29366;&#24577;&#30340;Session Bean&#24212;&#35813;&#22312;&#27880;&#35299;&#30340;&#26041;&#27861;&#34987;&#35843;&#29992;&#21518;&#34987;&#21024;&#38500;&#19988;&#20854;&#29366;&#24577;&#24212;&#35813;&#34987;&#38144;&#27585;&#12290;
                        &#22312;Seam&#37324;&#65292;&#25152;&#26377;&#26377;&#29366;&#24577;&#30340;Session Bean&#37117;&#24212;&#35813;&#23450;&#20041;&#19968;&#20010;&#26631;&#26377; <tt class="literal">@Destroy @Remove</tt> &#30340;&#26041;&#27861;&#12290;
                        &#36825;&#26159;Seam&#22312;&#38144;&#27585;Session&#19978;&#19979;&#25991;&#26102;&#35201;&#35843;&#29992;&#30340;EJB&#21024;&#38500;&#26041;&#27861;&#12290;&#23454;&#38469;&#19978; <a href="#destroy-annotation"><tt class="literal">@Destroy</tt></a> &#27880;&#35299;&#26356;&#26377;&#29992;&#65292;&#22240;&#20026;&#23427;&#33021;&#22312;Seam&#19978;&#19979;&#25991;&#32467;&#26463;&#26102;&#34987;&#29992;&#26469;&#20570;&#21508;&#31181;&#21508;&#26679;&#30340;&#28165;&#29702;&#24037;&#20316;&#12290;&#22914;&#26524;&#27809;&#26377;&#19968;&#20010; <tt class="literal">@Destroy @Remove</tt> &#26041;&#27861;&#65292;&#37027;&#20040;&#29366;&#24577;&#20250;&#27844;&#38706;&#65292;&#20320;&#23601;&#20250;&#30896;&#21040;&#24615;&#33021;&#19978;&#30340;&#38382;&#39064;&#12290;
                    </p></td></tr></table></div></div></div><p>
            &#24212;&#29992;&#31243;&#24207;&#30340;&#20027;&#39029;&#38754;&#26159;&#19968;&#20010;Facelets&#39029;&#38754;&#12290;&#35753;&#25105;&#20204;&#26469;&#30475;&#19979;&#19982;&#23486;&#39302;&#25628;&#32034;&#30456;&#20851;&#30340;&#37096;&#20998;&#65306;
        </p><div class="example"><a name="d0e2130"></a><p class="title"><b>Example&nbsp;1.23.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">&lt;div class="section"&gt;
&lt;h:form&gt;

  &lt;span class="errors"&gt;
    &lt;h:messages globalOnly="true"/&gt;
  &lt;/span&gt;

  &lt;h1&gt;Search Hotels&lt;/h1&gt;
  &lt;fieldset&gt;
     &lt;h:inputText value="#{hotelSearch.searchString}" style="width: 165px;"&gt;
        &lt;a:support event="onkeyup" actionListener="#{hotelSearch.find}"                  <span class="co">(1)</span>
                   reRender="searchResults" /&gt;
     &lt;/h:inputText&gt;
     &amp;#160;
     &lt;a:commandButton value="Find Hotels" action="#{hotelSearch.find}"
                      styleClass="button" reRender="searchResults"/&gt;
     &amp;#160;
     &lt;a:status&gt;                                                                          <span class="co">(2)</span>
        &lt;f:facet name="start"&gt;
           &lt;h:graphicImage value="/img/spinner.gif"/&gt;
        &lt;/f:facet&gt;
     &lt;/a:status&gt;
     &lt;br/&gt;
     &lt;h:outputLabel for="pageSize"&gt;Maximum results:&lt;/h:outputLabel&gt;&amp;#160;
     &lt;h:selectOneMenu value="#{hotelSearch.pageSize}" id="pageSize"&gt;
        &lt;f:selectItem itemLabel="5" itemValue="5"/&gt;
        &lt;f:selectItem itemLabel="10" itemValue="10"/&gt;
        &lt;f:selectItem itemLabel="20" itemValue="20"/&gt;
     &lt;/h:selectOneMenu&gt;
  &lt;/fieldset&gt;

&lt;/h:form&gt;
&lt;/div&gt;

&lt;a:outputPanel id="searchResults"&gt;                                                       <span class="co">(3)</span>
  &lt;div class="section"&gt;
  &lt;h:outputText value="No Hotels Found"
                rendered="#{hotels != null and hotels.rowCount==0}"/&gt;
  &lt;h:dataTable value="#{hotels}" var="hot" rendered="#{hotels.rowCount&gt;0}"&gt;
    &lt;h:column&gt;
      &lt;f:facet name="header"&gt;Name&lt;/f:facet&gt;
      #{hot.name}
    &lt;/h:column&gt;
    &lt;h:column&gt;
      &lt;f:facet name="header"&gt;Address&lt;/f:facet&gt;
      #{hot.address}
    &lt;/h:column&gt;
    &lt;h:column&gt;
      &lt;f:facet name="header"&gt;City, State&lt;/f:facet&gt;
      #{hot.city}, #{hot.state}, #{hot.country}
    &lt;/h:column&gt;
    &lt;h:column&gt;
      &lt;f:facet name="header"&gt;Zip&lt;/f:facet&gt;
      #{hot.zip}
    &lt;/h:column&gt;
    &lt;h:column&gt;
      &lt;f:facet name="header"&gt;Action&lt;/f:facet&gt;
      &lt;s:link value="View Hotel" action="#{hotelBooking.selectHotel(hot)}"/&gt;             <span class="co">(4)</span>
    &lt;/h:column&gt;
  &lt;/h:dataTable&gt;
  &lt;s:link value="More results" action="#{hotelSearch.nextPage}"
          rendered="#{hotelSearch.nextPageAvailable}"/&gt;
  &lt;/div&gt;
&lt;/a:outputPanel&gt;</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>
                        Ajax4JSF&#30340; <tt class="literal">&lt;a:support&gt;</tt> &#26631;&#31614;&#20801;&#35768;&#19968;&#20010;JSF&#21160;&#20316;&#20107;&#20214;&#30417;&#21548;&#22120;&#22312;&#31867;&#20284; <tt class="literal">onkeyup</tt> &#36825;&#26679;&#30340;JavaScript&#20107;&#20214;&#21457;&#29983;&#26102;&#34987;&#24322;&#27493;&#30340; <tt class="literal">XMLHttpRequest</tt> &#35843;&#29992;&#12290;
                        &#26356;&#26834;&#30340;&#26159;&#65292;<tt class="literal">reRender</tt> &#23646;&#24615;&#35753;&#25105;&#20204;&#21487;&#20197;&#22312;&#25910;&#21040;&#24322;&#27493;&#21709;&#24212;&#26102;&#28210;&#26579;&#19968;&#20010;JSF&#39029;&#38754;&#30340;&#29255;&#27573;&#24182;&#25191;&#34892;&#19968;&#20010;&#39029;&#38754;&#30340;&#23616;&#37096;&#20462;&#25913;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>Ajax4JSF&#30340; <tt class="literal">&lt;a:status&gt;</tt> &#26631;&#31614;&#20351;&#25105;&#20204;&#33021;&#22312;&#31561;&#24453;&#24322;&#27493;&#35831;&#27714;&#36820;&#22238;&#26102;&#26174;&#31034;&#19968;&#20010;&#31616;&#21333;&#30340;&#21160;&#30011;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>Ajax4JSF&#30340; <tt class="literal">&lt;a:outputPanel&gt;</tt> &#26631;&#31614;&#23450;&#20041;&#20102;&#19968;&#22359;&#33021;&#34987;&#24322;&#27493;&#35831;&#27714;&#20462;&#25913;&#30340;&#39029;&#38754;&#21306;&#22495;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(4)</td><td valign="top" align="left"><p>
                        Seam&#30340;<tt class="literal">&lt;s:link&gt;</tt> &#26631;&#31614;&#20351;&#25105;&#20204;&#33021;&#23558;&#19968;&#20010;JSF&#21160;&#20316;&#30417;&#21548;&#22120;&#38468;&#21152;&#22312;&#19968;&#20010;&#26222;&#36890;&#30340;&#65288;&#38750;JavaScript&#65289;HTML&#38142;&#25509;&#19978;&#12290;
                        &#29992;&#23427;&#21462;&#20195;&#26631;&#20934;JSF&#30340; <tt class="literal">&lt;h:commandLink&gt;</tt> &#30340;&#22909;&#22788;&#23601;&#26159;&#23427;&#22312;&#8220;&#22312;&#26032;&#31383;&#21475;&#20013;&#25171;&#24320;&#8221;&#21644;&#8220;&#22312;&#26032;&#26631;&#31614;&#39029;&#20013;&#25171;&#24320;&#8221;&#26102;&#20173;&#28982;&#26377;&#25928;&#12290;
                        &#20540;&#24471;&#27880;&#24847;&#30340;&#21478;&#19968;&#28857;&#23601;&#26159;&#25105;&#20204;&#29992;&#20102;&#19968;&#20010;&#32465;&#23450;&#20102;&#21442;&#25968;&#30340;&#26041;&#27861;&#65306;<tt class="literal">#{hotelBooking.selectHotel(hot)}</tt>&#12290;
                        &#22312;&#26631;&#20934;&#30340;&#32479;&#19968;EL&#20013;&#36825;&#26159;&#19981;&#20801;&#35768;&#30340;&#65292;&#20294;Seam&#23545;EL&#30340;&#25193;&#23637;&#36827;&#34892;&#20102;&#25193;&#23637;&#65292;&#20351;&#34920;&#36798;&#24335;&#33021;&#22815;&#25903;&#25345;&#24102;&#21442;&#25968;&#30340;&#26041;&#27861;&#12290;
                    </p></td></tr></table></div></div></div><p>
            &#36825;&#20010;&#39029;&#38754;&#26681;&#25454;&#25105;&#20204;&#30340;&#38190;&#20837;&#21160;&#24577;&#22320;&#26174;&#31034;&#25628;&#32034;&#32467;&#26524;&#65292;&#35753;&#25105;&#20204;&#36873;&#25321;&#19968;&#23478;&#23486;&#39302;&#24182;&#23558;&#23427;&#20256;&#32473; <tt class="literal">HotelBookingAction</tt> &#30340; <tt class="literal">selectHotel()</tt> &#26041;&#27861;&#65292;&#36825;&#20010;&#23545;&#35937;&#25165;&#26159; <span class="emphasis"><em>&#30495;&#27491;</em></span> &#26377;&#36259;&#30340;&#22320;&#26041;&#12290;
        </p><p>
            &#29616;&#22312;&#35753;&#25105;&#20204;&#26469;&#30475;&#30475;&#23486;&#39302;&#39044;&#23450;&#33539;&#20363;&#31243;&#24207;&#26159;&#22914;&#20309;&#20351;&#29992;&#19968;&#20010;&#23545;&#35805;&#22495;&#30340;&#26377;&#29366;&#24577;&#30340;Session Bean&#30340;&#65292;&#36825;&#20010;Session Bean&#23454;&#29616;&#20102;&#19994;&#21153;&#20250;&#35805;&#30456;&#20851;&#25345;&#20037;&#21270;&#25968;&#25454;&#30340;&#22825;&#28982;&#32531;&#23384;&#12290;
            &#19979;&#38754;&#30340;&#20195;&#30721;&#24456;&#38271;&#12290;&#20294;&#22914;&#26524;&#20320;&#25226;&#23427;&#29702;&#35299;&#20026;&#23454;&#29616;&#19994;&#21153;&#20250;&#35805;&#30340;&#22810;&#20010;&#27493;&#39588;&#30340;&#19968;&#31995;&#21015;&#21160;&#20316;&#30340;&#35805;&#65292;&#23427;&#26159;&#19981;&#38590;&#29702;&#35299;&#30340;&#12290;&#25105;&#20204;&#25226;&#36825;&#20010;&#31867;&#24403;&#20316;&#25925;&#20107;&#19968;&#26679;&#20174;&#22836;&#24320;&#22987;&#38405;&#35835;&#12290;
        </p><div class="example"><a name="d0e2192"></a><p class="title"><b>Example&nbsp;1.24.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">@Stateful
@Name("hotelBooking")
@Restrict("#{identity.loggedIn}")
public class HotelBookingAction implements HotelBooking
{

   @PersistenceContext(type=EXTENDED)                                                    <span class="co">(1)</span>
   private EntityManager em;

   @In                                                                                   <span class="co">(2)</span>
   private User user;

   @In(required=false) @Out
   private Hotel hotel;

   @In(required=false)
   @Out(required=false)
   private Booking booking;

   @In
   private FacesMessages facesMessages;

   @In
   private Events events;

   @Logger
   private Log log;

   @Begin                                                                                <span class="co">(3)</span>
   public String selectHotel(Hotel selectedHotel)
   {
      hotel = em.merge(selectedHotel);
      return "hotel";
   }

   public String bookHotel()
   {
      booking = new Booking(hotel, user);
      Calendar calendar = Calendar.getInstance();
      booking.setCheckinDate( calendar.getTime() );
      calendar.add(Calendar.DAY_OF_MONTH, 1);
      booking.setCheckoutDate( calendar.getTime() );

      return "book";
   }

   public String setBookingDetails()
   {
      if (booking==null || hotel==null) return "main";
      if ( !booking.getCheckinDate().before( booking.getCheckoutDate() ) )
      {
         facesMessages.add("Check out date must be later than check in date");
         return null;
      }
      else
      {
         return "confirm";
      }
   }

   @End                                                                                  <span class="co">(4)</span>
   public String confirm()
   {
      if (booking==null || hotel==null) return "main";
      em.persist(booking);
      facesMessages.add("Thank you, #{user.name}, your confimation number for #{hotel.name} is #{booking.id}");
      log.info("New booking: #{booking.id} for #{user.username}");
      events.raiseEvent("bookingConfirmed");
      return "confirmed";
   }

   @End
   public String cancel()
   {
      return "main";
   }

   @Destroy @Remove                                                                      <span class="co">(5)</span>
   public void destroy() {}

}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>
                        &#36825;&#20010;bean&#20351;&#29992;EJB3&#30340; <span class="emphasis"><em>&#25193;&#23637;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</em></span>&#65292;&#25152;&#20197;&#20219;&#24847;&#23454;&#20307;&#23454;&#20363;&#22312;&#25972;&#20010;&#26377;&#29366;&#24577;Session Bean&#30340;&#29983;&#21629;&#21608;&#26399;&#20013;&#19968;&#30452;&#21463;&#21040;&#31649;&#29702;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>
                        <a href="#out-annotation"><tt class="literal">@Out</tt></a> &#27880;&#35299;&#22768;&#26126;&#20102;&#19968;&#20010;&#23646;&#24615;&#20540;&#22312;&#26041;&#27861;&#35843;&#29992;&#21518;&#20250; <span class="emphasis"><em>&#21521;&#22806;&#27880;&#20837;</em></span> &#21040;&#19968;&#20010;&#19978;&#19979;&#25991;&#21464;&#37327;&#20013;&#30340;&#12290;
                        &#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#21517;&#20026; <tt class="literal">hotel</tt> &#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#20250;&#22312;&#27599;&#20010;&#21160;&#20316;&#30417;&#21548;&#22120;&#35843;&#29992;&#23436;&#25104;&#21518;&#34987;&#35774;&#32622;&#20026; <tt class="literal">hotel</tt> &#23454;&#20363;&#21464;&#37327;&#30340;&#20540;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(3)</td><td valign="top" align="left"><p>
                        <a href="#begin-annotation"><tt class="literal">@Begin</tt></a> &#27880;&#35299;&#34920;&#26126;&#34987;&#27880;&#35299;&#30340;&#26041;&#27861;&#24320;&#22987;&#19968;&#20010; <span class="emphasis"><em>&#38271;&#26399;&#19994;&#21153;&#23545;&#35805;</em></span>&#65292;&#22240;&#27492;&#24403;&#21069;&#19994;&#21153;&#23545;&#35805;&#19978;&#19979;&#25991;&#22312;&#35831;&#27714;&#32467;&#26463;&#21518;&#19981;&#20250;&#34987;&#38144;&#27585;&#12290;&#30456;&#21453;&#65292;&#23427;&#20250;&#34987;&#20851;&#32852;&#32473;&#24403;&#21069;&#31383;&#21475;&#30340;&#27599;&#27425;&#35831;&#27714;&#65292;&#22312;&#19994;&#21153;&#23545;&#35805;&#36229;&#26102;&#26102;&#25110;&#32773;&#19968;&#20010; <tt class="literal">@End</tt> &#26041;&#27861;&#34987;&#35843;&#29992;&#21518;&#38144;&#27585;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(4)</td><td valign="top" align="left"><p>
                        <a href="#end-annotation"><tt class="literal">@End</tt></a> &#27880;&#35299;&#34920;&#26126;&#34987;&#27880;&#35299;&#30340;&#26041;&#27861;&#34987;&#29992;&#26469;&#32467;&#26463;&#19968;&#20010;&#38271;&#26399;&#19994;&#21153;&#23545;&#35805;&#65292;&#25152;&#20197;&#24403;&#21069;&#19994;&#21153;&#23545;&#35805;&#19978;&#19979;&#25991;&#20250;&#22312;&#35831;&#27714;&#32467;&#26463;&#21518;&#34987;&#38144;&#27585;&#12290;
                    </p></td></tr><tr><td width="5%" valign="top" align="left">(5)</td><td valign="top" align="left"><p>
                        &#36825;&#20010;EJB&#21024;&#38500;&#26041;&#27861;&#20250;&#22312;Seam&#38144;&#27585;&#19994;&#21153;&#23545;&#35805;&#19978;&#19979;&#25991;&#26102;&#34987;&#35843;&#29992;&#12290;&#19981;&#35201;&#24536;&#35760;&#23450;&#20041;&#35813;&#26041;&#27861;&#65281;
                    </p></td></tr></table></div></div></div><p>
				<tt class="literal">HotelBookingAction</tt> &#21253;&#21547;&#20102;&#23454;&#29616;&#36873;&#25321;&#12289;&#39044;&#35746;&#21644;&#39044;&#35746;&#30830;&#35748;&#30340;&#25152;&#26377;&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#65292;&#24182;&#22312;&#23427;&#30340;&#23454;&#20363;&#21464;&#37327;&#20013;&#20445;&#23384;&#19982;&#20043;&#30456;&#20851;&#30340;&#29366;&#24577;&#12290;
            &#25105;&#20204;&#35748;&#20026;&#20320;&#19968;&#23450;&#20250;&#21516;&#24847;&#36825;&#20010;&#20195;&#30721;&#27604;&#36215;&#33719;&#21462;&#21644;&#35774;&#32622; <tt class="literal">HttpSession</tt> &#30340;&#23646;&#24615;&#26469;&#35828;&#35201;&#31616;&#27905;&#30340;&#22810;&#12290;
        </p><p>
            &#32780;&#19988;&#65292;&#19968;&#20010;&#29992;&#25143;&#33021;&#22312;&#27599;&#20010;&#30331;&#24405;Session&#20013;&#25317;&#26377;&#22810;&#20010;&#29420;&#31435;&#30340;&#19994;&#21153;&#23545;&#35805;&#12290;&#35797;&#35797;&#21543;&#65281;&#30331;&#24405;&#31995;&#32479;&#65292;&#25191;&#34892;&#25628;&#32034;&#65292;&#22312;&#22810;&#20010;&#27983;&#35272;&#22120;&#26631;&#31614;&#39029;&#20013;&#23548;&#33322;&#21040;&#19981;&#21516;&#30340;&#23486;&#39302;&#39029;&#38754;&#12290;
            &#20320;&#33021;&#22312;&#21516;&#19968;&#26102;&#38388;&#24314;&#31435;&#20004;&#20010;&#19981;&#21516;&#30340;&#23486;&#39302;&#39044;&#32422;&#12290;&#22914;&#26524;&#26576;&#20010;&#19994;&#21153;&#23545;&#35805;&#34987;&#38386;&#32622;&#22826;&#38271;&#26102;&#38388;&#65292;Seam&#26368;&#32456;&#20250;&#21028;&#20854;&#36229;&#26102;&#24182;&#38144;&#27585;&#23427;&#30340;&#29366;&#24577;&#12290;&#22914;&#26524;&#22312;&#32467;&#26463;&#19994;&#21153;&#23545;&#35805;&#21518;&#65292;
            &#20320;&#25353;&#20102;&#36864;&#22238;&#25353;&#38062;&#22238;&#21040;&#37027;&#20010;&#20250;&#35805;&#30340;&#26576;&#19968;&#39029;&#65292;&#23581;&#35797;&#25191;&#34892;&#19968;&#20010;&#21160;&#20316;&#65292;Seam&#20250;&#26816;&#27979;&#21040;&#37027;&#20010;&#19994;&#21153;&#23545;&#35805;&#24050;&#32463;&#34987;&#32467;&#26463;&#20102;&#65292;&#24182;&#23558;&#20320;&#37325;&#23450;&#21521;&#21040;&#25628;&#32034;&#39029;&#38754;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2258"></a>1.6.4.&nbsp;Seam&#30340;UI&#25511;&#21046;&#24211;</h3></div></div><div></div></div><p>
            &#22914;&#26524;&#20320;&#26597;&#30475;&#19979;&#39044;&#35746;&#31995;&#32479;&#30340;WAR&#25991;&#20214;&#65292;&#20320;&#20250;&#22312; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#20013;&#25214;&#21040; <tt class="literal">seam-ui.jar</tt>&#12290;
            &#36825;&#20010;&#21253;&#37324;&#26377;&#35768;&#22810;Seam&#30340;JSF&#33258;&#23450;&#20041;&#25511;&#20214;&#12290;&#26412;&#24212;&#29992;&#31243;&#24207;&#22312;&#20174;&#25628;&#32034;&#30028;&#38754;&#23548;&#33322;&#21040;&#23486;&#39302;&#39029;&#38754;&#26102;&#20351;&#29992;&#20102; <tt class="literal">&lt;s:link&gt;</tt> &#25511;&#20214;&#65306;
        </p><pre class="programlisting">&lt;s:link value="View Hotel" action="#{hotelBooking.selectHotel}"/&gt;</pre><p>
            &#36825;&#37324;&#30340; <tt class="literal">&lt;s:link&gt;</tt> &#20801;&#35768;&#25105;&#20204;&#22312;&#19981;&#25171;&#26029;&#27983;&#35272;&#22120;&#30340;&#8220;&#22312;&#26032;&#31383;&#21475;&#25171;&#24320;&#8221;&#21151;&#33021;&#30340;&#24773;&#20917;&#19979;&#32473;HTML&#38142;&#25509;&#38468;&#21152;&#19978;&#19968;&#20010;&#21160;&#20316;&#30417;&#21548;&#22120;&#12290;
            &#26631;&#20934;&#30340;JSF <tt class="literal">&lt;h:commandLink&gt;</tt> &#26080;&#27861;&#22312;&#8220;&#22312;&#26032;&#31383;&#21475;&#25171;&#24320;&#8221;&#30340;&#24773;&#20917;&#19979;&#27491;&#24120;&#24037;&#20316;&#12290;
            &#31245;&#21518;&#25105;&#20204;&#20250;&#30475;&#21040; <tt class="literal">&lt;s:link&gt;</tt> &#36824;&#33021;&#25552;&#20379;&#24456;&#22810;&#20854;&#20182;&#26377;&#29992;&#30340;&#29305;&#24615;&#65292;&#21253;&#25324;&#19994;&#21153;&#20250;&#35805;&#20256;&#25773;&#35268;&#21017;&#12290;
        </p><p>
            &#23486;&#39302;&#39044;&#35746;&#31995;&#32479;&#37324;&#36824;&#29992;&#20102;&#20123;&#21035;&#30340;Seam&#21644;Ajax4JSF&#25511;&#20214;&#65292;&#29305;&#21035;&#26159;&#22312; <tt class="literal">/book.xhtml</tt> &#39029;&#38754;&#37324;&#12290;&#25105;&#20204;&#22312;&#36825;&#37324;&#19981;&#28145;&#20837;&#35752;&#35770;&#36825;&#20123;&#25511;&#20214;&#65292;&#22914;&#26524;&#20320;&#24819;&#30475;&#25026;&#36825;&#20123;&#20195;&#30721;&#65292;&#35831;&#21442;&#32771;&#20171;&#32461;Seam&#30340;JSF&#34920;&#21333;&#39564;&#35777;&#21151;&#33021;&#30340;&#31456;&#33410;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2290"></a>1.6.5.&nbsp;Seam&#35843;&#35797;&#39029;&#38754;</h3></div></div><div></div></div><p>
            WAR&#25991;&#20214;&#36824;&#21253;&#25324;&#20102; <tt class="literal">seam-debug.jar</tt>&#12290;&#22914;&#26524;&#25226;&#36825;&#20010;jar&#37096;&#23646;&#22312; <tt class="literal">WEB-INF/lib</tt> &#19979;&#65292;&#32467;&#21512;Facelets&#65292;&#20320;&#33021;&#22312; <tt class="literal">web.xml</tt> &#25110;&#32773; <tt class="literal">seam.properties</tt> &#37324;&#35774;&#32622;&#22914;&#19979;&#30340;Seam&#23646;&#24615;&#65306;
        </p><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;org.jboss.seam.core.init.debug&lt;/param-name&gt;
    &lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;</pre><p>
            &#36825;&#26679;&#23601;&#33021;&#35775;&#38382;Seam&#35843;&#35797;&#39029;&#38754;&#20102;&#12290;&#36825;&#20010;&#39029;&#38754;&#21487;&#20197;&#35753;&#20320;&#27983;&#35272;&#24182;&#26816;&#26597;&#20219;&#24847;&#19982;&#20320;&#24403;&#21069;&#30331;&#24405;Session&#30456;&#20851;&#30340;Seam&#19978;&#19979;&#25991;&#20013;&#30340;Seam&#32452;&#20214;&#12290;
            &#21482;&#38656;&#27983;&#35272; <a href="http://localhost:8080/seam-booking/debug.seam" target="_top"><tt class="literal">http://localhost:8080/seam-booking/debug.seam</tt></a> &#21363;&#21487;&#12290;
        </p><div class="mediaobject" align="center"><img src="images/debug.png" align="middle"></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dvdstore"></a>1.7.&nbsp;&#19968;&#20010;&#20351;&#29992;Seam&#21644;jBPM&#30340;&#23436;&#25972;&#33539;&#20363;&#65306;DVD&#21830;&#24215;</h2></div></div><div></div></div><p>
          DVD&#21830;&#24215;&#31243;&#24207;&#28436;&#31034;&#20102;&#22914;&#20309;&#22312;&#20219;&#21153;&#31649;&#29702;&#21644;&#39029;&#38754;&#27969;&#20013;&#20351;&#29992;jBPM&#12290;
      </p><p>
          &#29992;&#25143;&#30028;&#38754;&#24212;&#29992;jPDL&#39029;&#38754;&#27969;&#23454;&#29616;&#20102;&#25628;&#32034;&#21644;&#36141;&#29289;&#36710;&#21151;&#33021;&#12290;
      </p><div class="screenshot"><div class="mediaobject" align="center"><img src="images/dvdsearch.png" align="middle"></div></div><p>
          &#31649;&#29702;&#21592;&#30028;&#38754;&#20351;&#29992;jBPM&#26469;&#31649;&#29702;&#35746;&#21333;&#30340;&#23457;&#25209;&#21644;&#36865;&#36135;&#21608;&#26399;&#12290;&#19994;&#21153;&#27969;&#31243;&#21487;&#20197;&#36890;&#36807;&#36873;&#25321;&#19981;&#21516;&#30340;&#27969;&#31243;&#23450;&#20041;&#23454;&#29616;&#21160;&#24577;&#25913;&#21464;&#12290;
      </p><div class="screenshot"><div class="mediaobject" align="center"><img src="images/dvdtasks.png" align="middle"></div></div><p>TODO</p><p>&#35265;<tt class="literal">dvdstore</tt>&#30446;&#24405;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="hibernate"></a>1.8.&nbsp;&#32467;&#21512;Seam&#21644;Hibernate&#30340;&#33539;&#20363;&#65306;Hibernate&#39044;&#35746;&#31995;&#32479;</h2></div></div><div></div></div><p>
          Hibernate&#39044;&#35746;&#31995;&#32479;&#26159;&#20043;&#21069;&#23458;&#25151;&#39044;&#35746;&#31995;&#32479;&#30340;&#21478;&#19968;&#20010;&#29256;&#26412;&#65292;&#23427;&#20351;&#29992;Hibernate&#21644;JavaBeans&#20195;&#26367;&#20102;&#20250;&#35805;Bean&#23454;&#29616;&#25345;&#20037;&#21270;&#12290;
      </p><p>TODO</p><p>&#35265;<tt class="literal">hibernate</tt>&#30446;&#24405;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="blog"></a>1.9.&nbsp;&#19968;&#20010;RESTful&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#65306;Blog&#33539;&#20363;</h2></div></div><div></div></div><p>
          Seam&#21487;&#20197;&#24456;&#26041;&#20415;&#22320;&#23454;&#29616;&#22312;&#26381;&#21153;&#22120;&#31471;&#20445;&#23384;&#29366;&#24577;&#30340;&#24212;&#29992;&#31243;&#24207;&#12290;
          &#28982;&#32780;&#65292;&#26381;&#21153;&#22120;&#31471;&#29366;&#24577;&#22312;&#26377;&#20123;&#24773;&#20917;&#19979;&#24182;&#19981;&#21512;&#36866;&#65292;&#29305;&#21035;&#26159;&#23545;&#37027;&#20123;&#29992;&#26469;&#25552;&#20379;<span class="emphasis"><em>&#20869;&#23481;</em></span>&#30340;&#21151;&#33021;&#12290;
          &#38024;&#23545;&#36825;&#31867;&#38382;&#39064;&#65292;&#25105;&#20204;&#24120;&#38656;&#35201;&#35753;&#29992;&#25143;&#33021;&#22815;&#25910;&#34255;&#39029;&#38754;&#65292;&#26377;&#19968;&#20010;&#30456;&#23545;&#26080;&#29366;&#24577;&#30340;&#26381;&#21153;&#22120;&#65292;&#36825;&#26679;&#19968;&#26469;&#33021;&#22815;&#22312;&#20219;&#20309;&#26102;&#38388;&#36890;&#36807;&#20070;&#31614;&#26469;&#35775;&#38382;&#37027;&#20123;&#34987;&#25910;&#34255;&#30340;&#39029;&#38754;&#12290;
          Blog&#33539;&#20363;&#28436;&#31034;&#20102;&#22914;&#20309;&#29992;Seam&#26469;&#23454;&#29616;&#19968;&#20010;RESTful&#30340;&#24212;&#29992;&#31243;&#24207;&#12290;&#24212;&#29992;&#31243;&#24207;&#20013;&#30340;&#27599;&#20010;&#39029;&#38754;&#37117;&#33021;&#34987;&#25910;&#34255;&#65292;&#21253;&#25324;&#25628;&#32034;&#32467;&#26524;&#39029;&#38754;&#12290;
      </p><div class="screenshot"><div class="mediaobject" align="center"><img src="images/blog.png" align="middle"></div></div><p>
          Blog&#33539;&#20363;&#28436;&#31034;&#20102;&#8220;&#25289;&#8221;&#39118;&#26684;&#65288;"pull"-style&#65289;&#30340;MVC&#65292;&#23427;&#19981;&#20351;&#29992;&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#26469;&#33719;&#21462;&#25968;&#25454;&#21644;&#20026;&#35270;&#22270;&#20934;&#22791;&#25968;&#25454;&#65292;&#32780;&#26159;&#35270;&#22270;&#22312;&#34987;&#26174;&#31034;&#26102;&#20174;&#32452;&#20214;&#20013;&#25289;&#25968;&#25454;&#12290;
      </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2383"></a>1.9.1.&nbsp;&#20351;&#29992;&#8220;&#25289;&#8221;&#39118;&#26684;&#30340;MVC</h3></div></div><div></div></div><p>
          &#20174; <tt class="literal">index.xhtml</tt> Facelets&#39029;&#38754;&#20013;&#21462;&#20986;&#30340;&#29255;&#26029;&#26174;&#31034;&#20102;blog&#30340;&#26368;&#36817;&#25991;&#31456;&#21015;&#34920;&#65306;
      </p><div class="example"><a name="d0e2391"></a><p class="title"><b>Example&nbsp;1.25.&nbsp;</b></p><pre class="programlisting">&lt;h:dataTable value="#{blog.recentBlogEntries}" var="blogEntry" rows="3"&gt;
   &lt;h:column&gt;
      &lt;div class="blogEntry"&gt;
         &lt;h3&gt;#{blogEntry.title}&lt;/h3&gt;
         &lt;div&gt;
            &lt;h:outputText escape="false"
                  value="#{blogEntry.excerpt==null ? blogEntry.body : blogEntry.excerpt}"/&gt;
         &lt;/div&gt;
         &lt;p&gt;
            &lt;h:outputLink value="entry.seam" rendered="#{blogEntry.excerpt!=null}"&gt;
               &lt;f:param name="blogEntryId" value="#{blogEntry.id}"/&gt;
               Read more...
            &lt;/h:outputLink&gt;
         &lt;/p&gt;
         &lt;p&gt;
            [Posted on
            &lt;h:outputText value="#{blogEntry.date}"&gt;
               &lt;f:convertDateTime timeZone="#{blog.timeZone}" locale="#{blog.locale}" type="both"/&gt;
            &lt;/h:outputText&gt;]
            &amp;#160;
            &lt;h:outputLink value="entry.seam"&gt;[Link]
               &lt;f:param name="blogEntryId" value="#{blogEntry.id}"/&gt;
            &lt;/h:outputLink&gt;
         &lt;/p&gt;
      &lt;/div&gt;
   &lt;/h:column&gt;
&lt;/h:dataTable&gt;</pre></div><p>
          &#22914;&#26524;&#25105;&#20204;&#36890;&#36807;&#25910;&#34255;&#22841;&#35775;&#38382;&#36825;&#20010;&#39029;&#38754;&#65292;&#37027;&#20040; <tt class="literal">&lt;h:dataTable&gt;</tt> &#30340;&#25968;&#25454;&#26159;&#24590;&#20040;&#34987;&#21021;&#22987;&#21270;&#30340;&#21602;&#65311;
          &#20107;&#23454;&#19978;&#65292;<tt class="literal">Blog</tt> &#26159;&#24310;&#36831;&#21152;&#36733;&#30340;&#65292;&#21363;&#22312;&#38656;&#35201;&#26102;&#25165;&#34987;&#21517;&#20026; <tt class="literal">blog</tt> &#30340;Seam&#32452;&#20214;&#8220;&#25289;&#8221;&#20986;&#26469;&#12290;
          &#36825;&#19982;&#20256;&#32479;&#30340;&#22522;&#20110;&#21160;&#20316;&#30340;web&#26694;&#26550;&#65288;&#20363;&#22914;Struts&#65289;&#30340;&#25511;&#21046;&#27969;&#31243;&#27491;&#22909;&#30456;&#21453;&#12290;
      </p><div class="example"><a name="d0e2405"></a><p class="title"><b>Example&nbsp;1.26.&nbsp;</b></p><div class="programlistingco"><pre class="programlisting">@Name("blog")
@Scope(ScopeType.STATELESS)
public class BlogService
{

   @In                                                                                   <span class="co">(1)</span>
   private EntityManager entityManager;

   @Unwrap                                                                               <span class="co">(2)</span>
   public Blog getBlog()
   {
      return (Blog) entityManager.createQuery("from Blog b left join fetch b.blogEntries")
            .setHint("org.hibernate.cacheable", true)
            .getSingleResult();
   }

}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left">(1)</td><td valign="top" align="left"><p>
                        &#36825;&#20010;&#32452;&#20214;&#20351;&#29992;&#20102;&#19968;&#20010; <span class="emphasis"><em>&#21463;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65288;seam-managed persistence context&#65289;</em></span>&#12290;
                        &#19982;&#25105;&#20204;&#30475;&#36807;&#30340;&#20854;&#20182;&#20363;&#23376;&#19981;&#21516;&#65292;&#36825;&#20010;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#26159;&#30001;Seam&#31649;&#29702;&#30340;&#65292;&#32780;&#19981;&#26159;EJB3&#23481;&#22120;&#12290;
                        &#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#36143;&#31359;&#20110;&#25972;&#20010;Web&#35831;&#27714;&#20013;&#65292;&#36825;&#20351;&#24471;&#22312;&#35270;&#22270;&#37324;&#35775;&#38382;&#26410;&#25235;&#21462;&#30340;&#20851;&#32852;&#25968;&#25454;&#26102;&#21487;&#20197;&#36991;&#20813;&#21457;&#29983;&#20219;&#20309;&#24322;&#24120;&#12290;
                  </p></td></tr><tr><td width="5%" valign="top" align="left">(2)</td><td valign="top" align="left"><p>
								<tt class="literal">@Unwrap</tt> &#27880;&#35299;&#21578;&#35785;Seam&#23558; <tt class="literal">Blog</tt> &#32780;&#19981;&#26159; <tt class="literal">BlogService</tt> &#32452;&#20214;&#20316;&#20026;&#26041;&#27861;&#30340;&#36820;&#22238;&#20540;&#25552;&#20379;&#32473;&#23458;&#25143;&#31471;&#12290;
                        &#36825;&#26159;Seam&#30340; <span class="emphasis"><em>&#31649;&#29702;&#21592;&#32452;&#20214;&#27169;&#24335;&#65288;manager component pattern&#65289;</em></span>
							</p></td></tr></table></div></div></div><p>
          &#36825;&#20123;&#30475;&#36215;&#26469;&#24050;&#32463;&#24456;&#19981;&#38169;&#20102;&#65292;&#37027;&#22914;&#20309;&#26469;&#25910;&#34255;&#35832;&#22914;&#25628;&#32034;&#32467;&#26524;&#39029;&#36825;&#26679;&#30340;&#34920;&#21333;&#25552;&#20132;&#32467;&#26524;&#39029;&#38754;&#21602;&#65311;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2436"></a>1.9.2.&nbsp;&#21487;&#25910;&#34255;&#30340;&#25628;&#32034;&#32467;&#26524;&#39029;&#38754;</h3></div></div><div></div></div><p>
          Blog&#33539;&#20363;&#22312;&#27599;&#20010;&#39029;&#38754;&#30340;&#21491;&#19978;&#26041;&#37117;&#26377;&#19968;&#20010;&#24456;&#23567;&#30340;&#34920;&#21333;&#65292;&#36825;&#20010;&#34920;&#21333;&#20801;&#35768;&#29992;&#25143;&#25628;&#32034;&#25991;&#31456;&#12290;
          &#36825;&#26159;&#23450;&#20041;&#22312;&#19968;&#20010;&#21517;&#20026; <tt class="literal">menu.xhtml</tt> &#30340;&#25991;&#20214;&#37324;&#30340;&#65292;&#23427;&#34987;Facelets&#27169;&#26495; <tt class="literal">template.xhtml</tt> &#25152;&#24341;&#29992;&#65306;
      </p><div class="example"><a name="d0e2447"></a><p class="title"><b>Example&nbsp;1.27.&nbsp;</b></p><pre class="programlisting">&lt;div id="search"&gt;
   &lt;h:form&gt;
      &lt;h:inputText value="#{searchAction.searchPattern}"/&gt;
      &lt;h:commandButton value="Search" action="/search.xhtml"/&gt;
   &lt;/h:form&gt;
&lt;/div&gt;</pre></div><p>
          &#35201;&#23454;&#29616;&#19968;&#20010;&#21487;&#25910;&#34255;&#30340;&#25628;&#32034;&#32467;&#26524;&#39029;&#38754;&#65292;&#25105;&#20204;&#38656;&#35201;&#22312;&#22788;&#29702;&#25628;&#32034;&#34920;&#21333;&#25552;&#20132;&#21518;&#25191;&#34892;&#19968;&#20010;&#27983;&#35272;&#22120;&#37325;&#23450;&#21521;&#12290;
          &#22240;&#20026;&#25105;&#20204;&#29992;JSF&#35270;&#22270;id&#20316;&#20026;&#21160;&#20316;&#36755;&#20986;&#65292;&#25152;&#20197;Seam&#20250;&#22312;&#34920;&#21333;&#25552;&#20132;&#21518;&#33258;&#21160;&#37325;&#23450;&#21521;&#21040;&#35813;&#34920;&#21333;id&#12290;&#38500;&#27492;&#20043;&#22806;&#65292;&#25105;&#20204;&#20063;&#33021;&#20687;&#36825;&#26679;&#26469;&#23450;&#20041;&#19968;&#20010;&#23548;&#33322;&#35268;&#21017;&#65306;
      </p><div class="example"><a name="d0e2452"></a><p class="title"><b>Example&nbsp;1.28.&nbsp;</b></p><pre class="programlisting">&lt;navigation-rule&gt;
   &lt;navigation-case&gt;
      &lt;from-outcome&gt;searchResults&lt;/from-outcome&gt;
      &lt;to-view-id&gt;/search.xhtml&lt;/to-view-id&gt;
      &lt;redirect/&gt;
   &lt;/navigation-case&gt;
&lt;/navigation-rule&gt;</pre></div><p>
          &#28982;&#21518;&#34920;&#21333;&#30475;&#36215;&#26469;&#20250;&#26159;&#36825;&#20010;&#26679;&#23376;&#30340;&#65306;
      </p><div class="example"><a name="d0e2457"></a><p class="title"><b>Example&nbsp;1.29.&nbsp;</b></p><pre class="programlisting">&lt;div id="search"&gt;
   &lt;h:form&gt;
      &lt;h:inputText value="#{searchAction.searchPattern}"/&gt;
      &lt;h:commandButton value="Search" action="searchResults"/&gt;
   &lt;/h:form&gt;
&lt;/div&gt;</pre></div><p>
          &#22312;&#37325;&#23450;&#21521;&#26102;&#65292;&#25105;&#20204;&#38656;&#35201;&#23558;&#34920;&#21333;&#30340;&#20540;&#20316;&#20026;&#35831;&#27714;&#21442;&#25968;&#21253;&#25324;&#36827;&#26469;&#65292;&#24471;&#21040;&#30340;&#20070;&#31614;URL&#20250;&#26159;&#36825;&#20010;&#26679;&#23376;&#65306;
          <tt class="literal">http://localhost:8080/seam-blog/search.seam?searchPattern=seam</tt>&#12290;
          JSF&#27809;&#26377;&#20026;&#27492;&#25552;&#20379;&#19968;&#20010;&#31616;&#21333;&#30340;&#36884;&#24452;&#65292;&#20294;Seam&#21364;&#26377;&#12290;&#25105;&#20204;&#33021;&#22312; <tt class="literal">WEB-INF/pages.xml</tt> &#20013;&#23450;&#20041;&#19968;&#20010; <span class="emphasis"><em>&#39029;&#38754;&#21442;&#25968;</em></span>&#65306;
      </p><div class="example"><a name="d0e2471"></a><p class="title"><b>Example&nbsp;1.30.&nbsp;</b></p><pre class="programlisting">&lt;pages&gt;
   &lt;page view-id="/search.xhtml"&gt;
      &lt;param name="searchPattern" value="#{searchService.searchPattern}"/&gt;
   &lt;/page&gt;
   ...
&lt;/pages&gt;</pre></div><p>
          &#36825;&#21578;&#35785;Seam&#22312;&#37325;&#23450;&#21521;&#26102;&#23558; <tt class="literal">#{searchService.searchPattern}</tt> &#30340;&#20540;&#20316;&#20026;&#21517;&#23383;&#26159; <tt class="literal">searchPattern</tt> &#30340;&#35831;&#27714;&#21442;&#25968;&#21253;&#25324;&#36827;&#21435;&#65292;&#24182;&#22312;&#26174;&#31034;&#39029;&#38754;&#21069;&#37325;&#26032;&#23558;&#36825;&#20010;&#20540;&#36171;&#19978;&#12290;
      </p><p>
          &#37325;&#23450;&#21521;&#20250;&#25226;&#25105;&#20204;&#24102;&#21040; <tt class="literal">search.xhtml</tt> &#39029;&#38754;&#65306;
      </p><div class="example"><a name="d0e2487"></a><p class="title"><b>Example&nbsp;1.31.&nbsp;</b></p><pre class="programlisting">&lt;h:dataTable value="#{searchResults}" var="blogEntry"&gt;
   &lt;h:column&gt;
      &lt;div&gt;
         &lt;h:outputLink value="entry.seam"&gt;
            &lt;f:param name="blogEntryId" value="#{blogEntry.id}"/&gt;
            #{blogEntry.title}
         &lt;/h:outputLink&gt;
         posted on
         &lt;h:outputText value="#{blogEntry.date}"&gt;
            &lt;f:convertDateTime timeZone="#{blog.timeZone}" locale="#{blog.locale}" type="both"/&gt;
         &lt;/h:outputText&gt;
      &lt;/div&gt;
   &lt;/h:column&gt;
&lt;/h:dataTable&gt;</pre></div><p>
          &#27492;&#22788;&#21516;&#26679;&#20351;&#29992;&#8220;&#25289;&#8221;&#39118;&#26684;&#30340;MVC&#26469;&#33719;&#24471;&#23454;&#38469;&#25628;&#32034;&#32467;&#26524;&#65306;
      </p><div class="example"><a name="d0e2492"></a><p class="title"><b>Example&nbsp;1.32.&nbsp;</b></p><pre class="programlisting">@Name("searchService")
public class SearchService
{

   @In
   private EntityManager entityManager;

   private String searchPattern;

   @Factory("searchResults")
   public List&lt;BlogEntry&gt; getSearchResults()
   {
      if (searchPattern==null)
      {
         return null;
      }
      else
      {
         return entityManager.createQuery("select be from BlogEntry be where lower(be.title) like :searchPattern or lower(be.body) like :searchPattern order by be.date desc")
               .setParameter( "searchPattern", getSqlSearchPattern() )
               .setMaxResults(100)
               .getResultList();
      }
   }

   private String getSqlSearchPattern()
   {
      return searchPattern==null ? "" : '%' + searchPattern.toLowerCase().replace('*', '%').replace('?', '_') + '%';
   }

   public String getSearchPattern()
   {
      return searchPattern;
   }

   public void setSearchPattern(String searchPattern)
   {
      this.searchPattern = searchPattern;
   }

}</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2495"></a>1.9.3.&nbsp;&#22312;RESTful&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;&#8220;&#25512;&#8221;&#39118;&#26684;&#65288;"push"-style&#65289;&#30340;MVC</h3></div></div><div></div></div><p>
          &#26377;&#20123;&#26102;&#20505;&#65292;&#29992;&#8220;&#25512;&#8221;&#39118;&#26684;&#30340;MVC&#26469;&#22788;&#29702;RESTful&#39029;&#38754;&#26356;&#26377;&#24847;&#20041;&#65292;&#20026;&#27492;Seam&#25552;&#20379;&#20102; <span class="emphasis"><em>&#39029;&#38754;&#21160;&#20316;</em></span>&#12290;
          Blog&#33539;&#20363;&#22312;&#25991;&#31456;&#39029;&#38754; <tt class="literal">entry.xhtml</tt> &#37324;&#20351;&#29992;&#20102;&#39029;&#38754;&#21160;&#20316;&#12290;&#35831;&#27880;&#24847;&#36825;&#37324;&#26159;&#25925;&#24847;&#36825;&#20040;&#20570;&#30340;&#65292;&#22240;&#20026;&#27492;&#22788;&#20351;&#29992;&#8220;&#25289;&#8221;&#39118;&#26684;&#30340;MVC&#20250;&#26356;&#23481;&#26131;&#12290;
      </p><p>
				<tt class="literal">entryAction</tt> &#32452;&#20214;&#24037;&#20316;&#36215;&#26469;&#38750;&#24120;&#20687;&#20256;&#32479;&#8220;&#25512;&#8221;&#39118;&#26684;MVC&#30340;&#38754;&#21521;&#21160;&#20316;&#26694;&#26550;&#20363;&#22914;Struts&#37324;&#30340;&#21160;&#20316;&#31867;&#65288;action class&#65289;&#65306;
      </p><div class="example"><a name="d0e2511"></a><p class="title"><b>Example&nbsp;1.33.&nbsp;</b></p><pre class="programlisting">@Name("entryAction")
@Scope(STATELESS)
public class EntryAction
{
   @In(create=true)
   private Blog blog;

   @Out
   private BlogEntry blogEntry;

   public void loadBlogEntry(String id) throws EntryNotFoundException
   {
      blogEntry = blog.getBlogEntry(id);
      if (blogEntry==null) throw new EntryNotFoundException(id);
   }

}</pre></div><p>
          &#22312; <tt class="literal">pages.xml</tt> &#37324;&#20063;&#23450;&#20041;&#20102;&#39029;&#38754;&#21160;&#20316;&#65306;
      </p><div class="example"><a name="d0e2519"></a><p class="title"><b>Example&nbsp;1.34.&nbsp;</b></p><pre class="programlisting">&lt;pages&gt;
   ...

   &lt;page view-id="/entry.xhtml" action="#{entryAction.loadBlogEntry(blogEntry.id)}"&gt;
      &lt;param name="blogEntryId" value="#{blogEntry.id}"/&gt;
   &lt;/page&gt;

   &lt;page view-id="/post.xhtml" action="#{loginAction.challenge}"/&gt;

   &lt;page view-id="*" action="#{blog.hitCount.hit}"/&gt;

&lt;/pages&gt;</pre></div><p>
          &#33539;&#20363;&#20013;&#36824;&#23558;&#39029;&#38754;&#21160;&#20316;&#36816;&#29992;&#20110;&#19968;&#20123;&#20854;&#20182;&#30340;&#21151;&#33021;&#19978; &#8212; &#30331;&#24405;&#21644;&#39029;&#38754;&#35775;&#38382;&#35760;&#25968;&#22120;&#12290;&#21478;&#22806;&#19968;&#28857;&#20540;&#24471;&#27880;&#24847;&#30340;&#26159;&#22312;&#39029;&#38754;&#21160;&#20316;&#32465;&#23450;&#20013;&#20351;&#29992;&#20102;&#19968;&#20010;&#21442;&#25968;&#12290;
          &#36825;&#19981;&#26159;&#26631;&#20934;&#30340;JSF EL&#65292;&#26159;Seam&#20026;&#20320;&#25552;&#20379;&#30340;&#65292;&#20320;&#19981;&#20165;&#33021;&#22312;&#39029;&#38754;&#21160;&#20316;&#20013;&#20351;&#29992;&#23427;&#65292;&#36824;&#21487;&#20197;&#23558;&#23427;&#20351;&#29992;&#22312;JSF&#26041;&#27861;&#32465;&#23450;&#20013;&#12290;
      </p><p>
          &#24403; <tt class="literal">entry.xhtml</tt> &#39029;&#38754;&#34987;&#35831;&#27714;&#26102;&#65292;Seam&#20808;&#20026;&#27169;&#22411;&#32465;&#23450;&#19978;&#39029;&#38754;&#21442;&#25968; <tt class="literal">blogEntryId</tt>&#65292;&#28982;&#21518;&#36816;&#34892;&#39029;&#38754;&#21160;&#20316;&#65292;&#35813;&#21160;&#20316;&#33719;&#21462;&#25152;&#38656;&#30340;&#25968;&#25454; &#8212; <tt class="literal">blogEntry</tt> &#8212; &#24182;&#23558;&#23427;&#25918;&#22312;Seam&#20107;&#20214;&#19978;&#19979;&#25991;&#20013;&#12290;&#26368;&#21518;&#26174;&#31034;&#20197;&#19979;&#20869;&#23481;&#65306;
      </p><div class="example"><a name="d0e2535"></a><p class="title"><b>Example&nbsp;1.35.&nbsp;</b></p><pre class="programlisting">&lt;div class="blogEntry"&gt;
   &lt;h3&gt;#{blogEntry.title}&lt;/h3&gt;
   &lt;div&gt;
      &lt;h:outputText escape="false" value="#{blogEntry.body}"/&gt;
   &lt;/div&gt;
   &lt;p&gt;
      [Posted on&amp;#160;
      &lt;h:outputText value="#{blogEntry.date}"&gt;
         &lt;f:convertDateTime timezone="#{blog.timeZone}" locale="#{blog.locale}" type="both"/&gt;
      &lt;/h:outputText&gt;]
   &lt;/p&gt;
&lt;/div&gt;</pre></div><p>
          &#22914;&#26524;&#22312;&#25968;&#25454;&#24211;&#20013;&#27809;&#26377;&#25214;&#21040;blog entry&#65292;&#23601;&#20250;&#25243;&#20986; <tt class="literal">EntryNotFoundException</tt> &#24322;&#24120;&#12290;
          &#25105;&#20204;&#24819;&#35753;&#35813;&#24322;&#24120;&#24341;&#36215;&#19968;&#20010;404&#38169;&#35823;&#65292;&#32780;&#38750;505&#65292;&#25152;&#20197;&#20026;&#36825;&#20010;&#24322;&#24120;&#31867;&#28155;&#21152;&#20010;&#27880;&#35299;&#65306;
      </p><div class="example"><a name="d0e2543"></a><p class="title"><b>Example&nbsp;1.36.&nbsp;</b></p><pre class="programlisting">@ApplicationException(rollback=true)
@HttpError(errorCode=HttpServletResponse.SC_NOT_FOUND)
public class EntryNotFoundException extends Exception
{
   EntryNotFoundException(String id)
   {
      super("entry not found: " + id);
   }
}</pre></div><p>
          &#35813;&#33539;&#20363;&#30340;&#21478;&#19968;&#20010;&#23454;&#29616;&#22312;&#26041;&#27861;&#32465;&#23450;&#20013;&#27809;&#26377;&#20351;&#29992;&#21442;&#25968;&#65306;
      </p><div class="example"><a name="d0e2548"></a><p class="title"><b>Example&nbsp;1.37.&nbsp;</b></p><pre class="programlisting">@Name("entryAction")
@Scope(STATELESS)
public class EntryAction
{
   @In(create=true)
   private Blog blog;

   @In @Out
   private BlogEntry blogEntry;

   public void loadBlogEntry() throws EntryNotFoundException
   {
      blogEntry = blog.getBlogEntry( blogEntry.getId() );
      if (blogEntry==null) throw new EntryNotFoundException(id);
   }

}</pre><pre class="programlisting">&lt;pages&gt;
   ...

   &lt;page view-id="/entry.xhtml" action="#{entryAction.loadBlogEntry}"&gt;
      &lt;param name="blogEntryId" value="#{blogEntry.id}"/&gt;
   &lt;/page&gt;

   ...
&lt;/pages&gt;</pre></div><p>
          &#20320;&#21487;&#20197;&#26681;&#25454;&#33258;&#24049;&#30340;&#21916;&#22909;&#26469;&#36873;&#25321;&#23454;&#29616;&#12290;
      </p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="gettingstarted"></a>Chapter&nbsp;2.&nbsp;&#29992;Seam-gen&#36215;&#27493;</h2></div></div><div></div></div><p>
		Seam&#30340;&#21457;&#24067;&#21253;&#37324;&#24050;&#21253;&#21547;&#20102;&#21629;&#20196;&#34892;&#24037;&#20855;&#65292;&#29992;&#23427;&#21487;&#20197;&#24456;&#26041;&#20415;&#22320;&#25645;&#24314;Eclipse&#39033;&#30446;&#65292;&#20197;&#21450;&#29983;&#25104;&#19968;&#20123;&#31616;&#21333;&#30340;Seam&#39592;&#26550;&#20195;&#30721;&#65292;&#24182;&#33021;&#20174;&#24050;&#23384;&#22312;&#30340;&#25968;&#25454;&#24211;&#21453;&#21521;&#24037;&#31243;&#21040;&#24212;&#29992;&#31243;&#24207;&#12290;
	</p><p>
		&#23427;&#33021;&#35753;&#20320;&#24863;&#21463;&#21040;Seam&#32473;&#24320;&#21457;&#25152;&#24102;&#26469;&#30340;&#24555;&#25463;&#65292;&#24403;&#20320;&#22312;&#30005;&#26799;&#37324;&#30475;&#21040;&#37027;&#20123;&#20196;&#20154;&#21388;&#28902;&#30340;Ruby&#23478;&#20249;&#22312;&#21561;&#22040;&#20182;&#20204;&#30340;&#26032;&#29609;&#33402;&#20799;&#26159;&#22914;&#20309;&#20248;&#32654;&#22320;&#22312;&#24212;&#29992;&#20013;
		&#23558;&#32321;&#29712;&#30340;&#25968;&#25454;&#25918;&#36827;&#25968;&#25454;&#24211;&#26102;&#65292;&#20320;&#23601;&#21487;&#20197;&#21462;&#31505;&#20182;&#20204;&#20102;&#12290;
	</p><p>
		&#22312;&#27492;&#29256;&#26412;&#20013;&#65292;seam-gen&#33021;&#24456;&#22909;&#22320;&#19982;JBoss AS&#19968;&#36215;&#24037;&#20316;&#12290;&#36890;&#36807;&#23545;&#39033;&#30446;&#37197;&#32622;&#36827;&#34892;&#20123;&#35768;&#30340;&#25163;&#24037;&#20462;&#25913;&#65292;seam-gen&#29983;&#25104;&#30340;&#39033;&#30446;&#23601;&#21487;&#19982;&#20854;&#23427;J2EE&#25110;Java EE 5&#24212;&#29992;&#26381;&#21153;&#22120;&#19968;&#36215;&#24037;&#20316;&#12290;
	</p><p>
		&#35831;&#27880;&#24847;&#65292;&#24182;&#19981;&#21482;&#38480;&#22312;Eclipse&#20013;&#20351;&#29992;seam-gen&#12290;&#20294;&#22312;&#26412;&#25945;&#31243;&#20013;&#65292;&#25105;&#20204;&#23558;&#20026;&#20320;&#28436;&#31034;&#22914;&#20309;&#22312;Eclipse&#20013;&#29992;&#23427;&#26469;&#23436;&#25104;&#35843;&#35797;&#19982;&#38598;&#25104;&#27979;&#35797;&#12290;
		&#33509;&#20320;&#19981;&#24819;&#23433;&#35013;Eclipse&#65292;&#20320;&#20173;&#21487;&#36319;&#38543;&#25945;&#31243;&#30340;&#27493;&#39588;&#65292;&#22240;&#20026;&#25152;&#26377;&#30340;&#25805;&#20316;&#37117;&#26159;&#22312;&#21629;&#20196;&#34892;&#20013;&#23436;&#25104;&#30340;&#12290;
	</p><p>
		Seam-gen&#30340;Ant&#33050;&#26412;&#19982;Hibernate&#24037;&#20855;&#21253;&#25918;&#19968;&#36215;&#65292;&#24182;&#21516;&#26102;&#25552;&#20379;&#20102;&#19968;&#20123;&#27169;&#26495;&#12290;&#36825;&#26679;&#25105;&#20204;&#23601;&#24456;&#23481;&#26131;&#22320;&#26681;&#25454;&#33258;&#24049;&#39033;&#30446;&#30340;&#38656;&#35201;&#26469;&#20316;&#20123;&#20462;&#25913;&#12290;
	</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2569"></a>2.1.&nbsp;&#20934;&#22791;&#27963;&#21160;</h2></div></div><div></div></div><p>
			&#35831;&#30830;&#20445;&#24050;&#23433;&#35013;&#20102;JDK 5&#25110;&#32773;JDK6&#65292;JBoss AS 4.2&#21644;Ant 1.6&#65292;&#20197;&#21450;&#36739;&#26032;&#29256;&#30340;Eclipse&#12289;JBoss IDE&#21644;TestNG&#30340;Eclipse &#25554;&#20214;&#12290;
			&#22312;Eclipse&#30340;JBoss Server View&#20013;&#23558;JBoss&#23433;&#35013;&#36335;&#24452;&#28155;&#21152;&#36827;&#21435;&#12290;&#28982;&#21518;&#20197;debug&#27169;&#24335;&#21551;&#21160;JBoss&#65292;&#24182;&#22312;&#24377;&#20986;&#24335;&#21629;&#20196;&#31383;&#21475;&#20013;&#36827;&#20837;Seam&#30340;&#30446;&#24405;&#12290;
		</p><p>
			JBoss&#24456;&#22909;&#22320;&#25903;&#25345;WAR&#21644;EAR&#30340;&#28909;&#37325;&#37096;&#32626;&#65292;&#20294;&#40635;&#28902;&#30340;&#26159;&#65292;&#30001;&#20110;&#22312;JVM&#20013;&#23384;&#22312;&#30528;&#22810;&#20010;Bug&#65292;&#22312;&#24320;&#21457;&#36827;&#31243;&#20013;&#22810;&#27425;&#30340;&#37325;&#37096;&#32626;EAR&#26159;&#24120;&#35265;&#30340;&#20107;&#65292;&#20294;&#36825;&#26368;&#32456;&#20250;&#32791;&#23613;PermGen &#31354;&#38388;&#65288;Permanent Generation Space&#65289;&#12290;
			&#22240;&#27492;&#24314;&#35758;&#20320;&#22312;&#24320;&#21457;&#30340;&#36807;&#31243;&#20013;&#21152;&#22823;perm gen&#31354;&#38388;&#12290;&#33509;&#20320;&#26159;&#22312;JBoss IDE&#20013;&#36816;&#34892;JBoss&#65292;&#37027;&#20320;&#23601;&#21487;&#20197;&#22312;&#26381;&#21153;&#22120;&#36816;&#34892;&#37197;&#32622;&#20013;&#30340;VM arguments&#36827;&#34892;&#37197;&#32622;&#65292;&#24314;&#35758;&#20381;&#27492;&#20462;&#25913;&#65306;
		</p><pre class="programlisting">-Xms512m -Xmx1024m -XX:PermSize=256m -XX:MaxPermSize=512</pre><p>
			&#22914;&#26524;&#20320;&#27809;&#26377;&#37027;&#20040;&#22810;&#30340;&#21487;&#29992;&#20869;&#23384;&#65292;&#20320;&#21482;&#22909;&#29992;&#25105;&#20204;&#25512;&#33616;&#30340;&#26368;&#23567;&#20869;&#23384;&#20102;&#65306;
		</p><pre class="programlisting">-Xms256m -Xmx512m -XX:PermSize=128m -XX:MaxPermSize=256</pre><p>
			&#33509;&#26159;&#22312;&#21629;&#20196;&#34892;&#27169;&#24335;&#20013;&#36816;&#34892;JBoss&#65292;&#37027;&#20320;&#23601;&#35201;&#22312; <tt class="literal">bin/run.conf</tt> &#25991;&#20214;&#20013;&#23545;JVM&#36873;&#39033;&#20316;&#20462;&#25913;&#20102;&#12290;
		</p><p>
			&#24403;&#28982;&#65292;&#25105;&#20204;&#21487;&#20197;&#20808;&#19981;&#29702;&#20250;&#36825;&#20123;&#12290;&#24403;&#20320;&#22312;&#24320;&#21457;&#20013;&#31532;&#19968;&#27425;&#30896;&#21040; <tt class="literal">OutOfMemoryException</tt> &#24322;&#24120;&#26102;&#20877;&#22238;&#36807;&#22836;&#26469;&#20316;&#27492;&#20462;&#25913;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2592"></a>2.2.&nbsp;&#24314;&#31435;&#19968;&#20010;&#26032;&#30340;Eclipse&#39033;&#30446;</h2></div></div><div></div></div><p>
			&#39318;&#20808;&#65292;&#25105;&#20204;&#38656;&#35201;&#26681;&#25454;&#29616;&#26377;&#30340;&#24320;&#21457;&#29615;&#22659;&#23545;seam-gen&#36827;&#34892;&#37197;&#32622;&#65306;JBoss AS&#23433;&#35013;&#30446;&#24405;&#12289;Eclipse workspace&#21450;&#25968;&#25454;&#24211;&#36830;&#25509;&#12290;&#36825;&#20123;&#37117;&#24456;&#23481;&#26131;&#65292;&#21482;&#35201;&#25970;&#20837;&#65306;
		</p><pre class="programlisting">cd jboss-seam-2.0.x
seam setup</pre><p>
			&#26681;&#25454;&#24377;&#20986;&#30340;&#25552;&#31034;&#36755;&#20837;&#24320;&#21457;&#29615;&#22659;&#30340;&#30456;&#20851;&#20449;&#24687;:
		</p><pre class="programlisting">C:\Projects\jboss-seam&gt;seam setup
Buildfile: build.xml

setup:
    [echo] Welcome to seam-gen :-)
    [input] Enter your Java project workspace [C:/Projects]

    [input] Enter your JBoss home directory [C:/Program Files/jboss-4.2.0.GA]

    [input] Enter the project name [myproject]
helloworld
    [input] Is this project deployed as an EAR (with EJB components) or a WAR (with no EJB support) [ear] (ear,war,)

    [input] Enter the Java package name for your session beans [com.mydomain.helloworld]
org.jboss.helloworld
    [input] Enter the Java package name for your entity beans [org.jboss.helloworld]

    [input] Enter the Java package name for your test cases [org.jboss.helloworld.test]

    [input] What kind of database are you using? [hsql] (hsql,mysql,oracle,postgres,mssql,db2,sybase,)
mysql
    [input] Enter the Hibernate dialect for your database [org.hibernate.dialect.MySQLDialect]

    [input] Enter the filesystem path to the JDBC driver jar [lib/hsqldb.jar]
../../mysql-connector.jar
    [input] Enter JDBC driver class for your database [com.mysql.jdbc.Driver]

    [input] Enter the JDBC URL for your database [jdbc:mysql:///test]

    [input] Enter database username [sa]
gavin
    [input] Enter database password []

    [input] skipping input as property hibernate.default_schema.new has already been set.
    [input] Enter the database catalog name (it is OK to leave this blank) []

    [input] Are you working with tables that already exist in the database? [n] (y,n,)
y
    [input] Do you want to drop and recreate the database tables and data in import.sql each time you deploy? [n] (y,n,)
n
[propertyfile] Creating new property file: C:\Projects\jboss-seam\seam-gen\build.properties
     [echo] Installing JDBC driver jar to JBoss server
     [echo] Type 'seam new-project' to create the new project

BUILD SUCCESSFUL
Total time: 1 minute 17 seconds
C:\Projects\jboss-seam&gt;</pre><p>
			&#35813;&#24037;&#20855;&#25552;&#20379;&#20102;&#30456;&#24212;&#30340;&#40664;&#35748;&#20540;&#65292;&#22240;&#27492;&#20320;&#21487;&#20197;&#30452;&#25509;&#25353;Enter&#38190;&#12290;
		</p><p>
			&#26368;&#37325;&#35201;&#30340;&#26159;&#20320;&#35201;&#23545;EAR&#37096;&#32626;&#36824;&#26159;WAR&#37096;&#32626;&#36827;&#34892;&#36873;&#25321;&#12290;EAR&#39033;&#30446;&#25903;&#25345;EJB 3.0 &#24182;&#38656;&#35201;Java EE 5&#12290;&#32780;WAR&#21253;&#19981;&#25903;&#25345;EJB 3.0&#65292;&#20294;&#21487;&#22312;J2EE&#29615;&#22659;&#20013;&#37096;&#32626;&#12290;
			&#21478;&#22806;WAR&#20063;&#26356;&#36739;&#31616;&#21333;&#65292;&#20415;&#20110;&#29702;&#35299;&#12290;&#20551;&#33509;&#20320;&#24050;&#23433;&#35013;&#20102;EJB3 profile&#65292;&#37027;&#20320;&#23601;&#29992;<tt class="literal">ear</tt>&#22909;&#20102;&#65292;&#21542;&#21017;&#65292;&#23601;&#21482;&#22909;&#29992; <tt class="literal">war</tt>&#12290; &#22312;&#27492;&#20551;&#35774;&#25105;&#20204;&#36873;&#25321;&#20102;EAR&#37096;&#32626;&#65292;&#24403;&#28982;&#27492;&#25945;&#31243;&#20063;&#36866;&#29992;&#20110;WAR&#37096;&#32626;&#12290;
		</p><p>
			&#22914;&#26524;&#20320;&#25163;&#19978;&#26377;&#29616;&#25104;&#30340;&#25968;&#25454;&#27169;&#22411;&#65292;&#35831;&#30830;&#20445;&#20320;&#24050;&#36755;&#20837;&#29616;&#26377;&#25968;&#25454;&#24211;&#30340;&#34920;&#21517;&#12290;
		</p><p>
			&#36825;&#20123;&#35774;&#32622;&#20445;&#23384;&#22312; <tt class="literal">seam-gen/build.properties</tt> &#25991;&#20214;&#20013;&#65292;&#20294;&#20320;&#21487;&#36890;&#36807;&#36816;&#34892; <tt class="literal">seam setup</tt> &#26469;&#20877;&#27425;&#20462;&#25913;&#12290;
		</p><p>
			&#29616;&#22312;&#25105;&#20204;&#23601;&#21487;&#20197;&#22312;Eclipse workspace&#30446;&#24405;&#20013;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#39033;&#30446;&#65292;&#21482;&#38656;&#36755;&#20837;&#65306;
		</p><pre class="programlisting">seam new-project</pre><pre class="programlisting">C:\Projects\jboss-seam&gt;seam new-project
Buildfile: build.xml

validate-workspace:

validate-project:

copy-lib:
     [echo] Copying project jars ...
     [copy] Copying 58 files to C:\Projects\helloworld\lib
     [copy] Copying 9 files to C:\Projects\helloworld\embedded-ejb

file-copy-war:

file-copy-ear:
     [echo] Copying resources needed for EAR deployment to the C:\Projects\helloworld/resources directory...

new-project:
     [echo] A new Seam project named 'helloworld' was created in the C:\Projects directory
     [echo] Type 'seam explode' and go to http://localhost:8080/helloworld
     [echo] Eclipse Users: Add the project into Eclipse using File &gt; New &gt; Project and select General &gt; Project (not Java Project)
     [echo] NetBeans Users: Open the project in NetBeans

BUILD SUCCESSFUL
Total time: 7 seconds
C:\Projects\jboss-seam&gt;</pre><p>
			&#36825;&#32452;&#25805;&#20316;&#22797;&#21046;&#20102;Seam jar&#25991;&#20214;&#21450;&#30456;&#24212;&#30340;jar&#25991;&#20214;&#19982;JDBC&#39537;&#21160;jar&#21040;&#26032;&#24314;&#30340;Eclipse&#39033;&#30446;&#20013;&#65292;&#24182;&#29983;&#25104;&#20102;&#25152;&#38656;&#30340;&#28304;&#25991;&#20214;&#21450;&#20854;&#37197;&#32622;&#25991;&#20214;&#12289;&#19968;&#20010;&#27169;&#26495;&#25991;&#20214;&#21644;&#26679;&#24335;&#25991;&#20214;&#65292;&#21450;&#30456;&#24212;&#30340;Eclipse&#20803;&#25968;&#25454;&#21450;Ant&#26500;&#24314;&#33050;&#26412;&#12290;
			&#21482;&#35201;&#20320;&#20381;&#27492;&#25805;&#20316; <tt class="literal">New -&gt; Project... -&gt; General -&gt; Project -&gt; Next</tt>&#65292;&#36755;&#20837;<tt class="literal">Project name</tt> &#65288;&#27492;&#20363;&#20026;<tt class="literal">helloworld</tt>&#65289;&#65292;&#24182;&#25509;&#30528;&#28857;&#20987; <tt class="literal">Finish</tt>&#65292;&#23601;&#21487;&#23558;Eclipse&#39033;&#30446;&#33258;&#21160;&#37096;&#32626;&#21040;JBoss AS&#20998;&#35299;&#24335;&#30340;&#65288;exploded&#65289;&#30446;&#24405;&#32467;&#26500;&#20013;&#65292;&#35831;&#19981;&#35201;&#22312;&#26032;&#39033;&#30446;&#21521;&#23548;&#20013;&#36873;&#25321; <tt class="literal">Java Project</tt>&#12290;
		</p><p>
			&#33509;Eclipse&#20013;&#30340;&#40664;&#35748;&#30340;JDK&#19981;&#26159;Java SE 5 &#25110;Java SE 6&#65292;&#20320;&#23601;&#24471;&#36890;&#36807; <tt class="literal">Project -&gt; Properties -&gt; Java Compiler</tt> &#26469;&#36873;&#25321;&#19982;Java SE 5 &#20860;&#23481;&#30340;JDK&#12290;
		</p><p>
			&#21478;&#22806;&#65292;&#21487;&#22312;Eclipse&#20043;&#22806;&#36755;&#20837; <tt class="literal">seam explode</tt> &#26469;&#37096;&#32626;&#39033;&#30446;&#12290;
		</p><p>
			&#22312; <tt class="literal">http://localhost:8080/helloworld</tt> &#20013;&#26597;&#30475;&#27492;&#24212;&#29992;&#30340;&#39318;&#39029;&#12290;
			<tt class="literal">view/home.xhtml</tt> &#26159;&#20010;&#20351;&#29992; <tt class="literal">view/layout/template.xhtml</tt> &#27169;&#26495;&#29983;&#25104;&#30340;Facelets &#39029;&#38754;&#65292;&#35797;&#30528;&#22312;Eclipse&#20013;&#32534;&#36753;&#27492;&#39029;&#38754;&#25110;&#35813;&#27169;&#26495;&#65292;&#24182;&#22312;&#27983;&#35272;&#22120;&#20013;&#21047;&#26032;&#39029;&#38754;&#65292;&#31435;&#21363;&#30475;&#21040;&#32467;&#26524;&#12290;
		</p><p>
			&#21035;&#34987;&#22312;&#39033;&#30446;&#30446;&#24405;&#20013;&#30340;&#22914;&#27492;&#22810;&#30340;XML&#37197;&#32622;&#25991;&#20214;&#32473;&#21523;&#26197;&#20102;&#12290;&#37027;&#37117;&#26159;&#20123;&#26631;&#20934;&#30340;Java EE&#30340;&#19996;&#35199;&#65292;&#23427;&#20204;&#21482;&#38656;&#29983;&#25104;&#19968;&#27425;&#23601;&#19981;&#29992;&#20877;&#21435;&#29702;&#20250;&#20102;&#12290;
			&#22312;&#25152;&#26377;&#30340;Seam&#39033;&#30446;&#20013;&#65292;90%&#30340;&#37197;&#32622;&#20869;&#23481;&#37117;&#26159;&#19968;&#26679;&#30340;&#65288;&#36825;&#20123;&#21487;&#30001;seam-gen&#26469;&#24110;&#25105;&#20204;&#23436;&#25104;&#65289;&#12290;
		</p><p>
			&#26032;&#29983;&#25104;&#30340;&#39033;&#30446;&#21253;&#21547;&#20102;&#19977;&#20010;&#25968;&#25454;&#24211;&#21450;&#25345;&#20037;&#21270;&#37197;&#32622;&#25991;&#20214;&#12290;<tt class="literal">jboss-beans.xml</tt>&#12289;<tt class="literal">persistence-test.xml</tt> &#21450; <tt class="literal">import-test.sql</tt> &#25991;&#20214;&#26159;&#29992;&#22312;&#24403;TestNG&#23545;HSQLDB&#36827;&#34892;&#21333;&#20803;&#27979;&#35797;&#26102;&#12290;
			&#22312; <tt class="literal">import-test.sql</tt> &#20013;&#30340;&#25968;&#25454;&#24211;Schema&#21450;&#20854;&#27979;&#35797;&#25968;&#25454;&#24635;&#26159;&#22312;&#27979;&#35797;&#21069;&#23601;&#24050;&#36716;&#20837;&#25968;&#25454;&#24211;&#20013;&#12290;
			<tt class="literal">myproject-dev-ds.xml</tt>&#12289;<tt class="literal">persistence-dev.xml</tt> &#21450; <tt class="literal">import-dev.sql</tt> &#25991;&#20214;&#26159;&#22312;&#37096;&#32626;&#24212;&#29992;&#21040;&#24320;&#21457;&#25968;&#25454;&#24211;&#26102;&#20351;&#29992;&#30340;&#12290;
			&#25968;&#25454;&#24211;schema&#26159;&#21542;&#21487;&#22312;&#37096;&#32626;&#26102;&#33258;&#21160;&#23548;&#20986;&#65292;&#21462;&#20915;&#20110;&#20320;&#26159;&#21542;&#22312;&#35774;&#32622;seam-gen&#29615;&#22659;&#26102;&#37197;&#32622;&#20102;&#24050;&#23384;&#22312;&#30340;&#25968;&#25454;&#24211;&#12290;
			<tt class="literal">myproject-prod-ds.xml</tt>&#12289;<tt class="literal">persistence-prod.xml</tt> &#21450; <tt class="literal">import-prod.sql</tt> &#25991;&#20214;&#26159;&#22312;&#37096;&#32626;&#24212;&#29992;&#21040;&#29983;&#20135;&#25968;&#25454;&#24211;&#26102;&#20351;&#29992;&#30340;&#12290;&#22312;&#37096;&#32626;&#26102;&#25968;&#25454;&#24211;schema&#24182;&#19981;&#33258;&#21160;&#23548;&#20986;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2701"></a>2.3.&nbsp;&#21019;&#24314;&#26032;&#21160;&#20316;</h2></div></div><div></div></div><p>
			&#33509;&#20320;&#29087;&#30693;&#20256;&#32479;&#30340;action-style Web&#26694;&#26550;&#65292;&#20320;&#25110;&#35768;&#24819;&#30693;&#36947;&#22312;Java&#20013;&#22914;&#20309;&#26469;&#21019;&#24314;&#26080;&#29366;&#24577;action&#26041;&#27861;&#30340;&#31616;&#21333;Web&#39029;&#38754;&#12290;&#22914;&#26524;&#20320;&#36755;&#20837;&#65306;
		</p><pre class="programlisting">seam new-action</pre><p>
			&#21017;Seam&#23558;&#24377;&#20986;&#19968;&#20123;&#20449;&#24687;&#24182;&#20026;&#20320;&#30340;&#39033;&#30446;&#29983;&#25104;&#26032;&#30340;Facelets&#39029;&#38754;&#21450;Seam&#32452;&#20214;&#12290;
		</p><pre class="programlisting">C:\Projects\jboss-seam&gt;seam new-action
Buildfile: build.xml

validate-workspace:

validate-project:

action-input:
    [input] Enter the Seam component name
ping
    [input] Enter the local interface name [Ping]

    [input] Enter the bean class name [PingBean]

    [input] Enter the action method name [ping]

    [input] Enter the page name [ping]


setup-filters:

new-action:
     [echo] Creating a new stateless session bean component with an action method
     [copy] Copying 1 file to C:\Projects\helloworld\src\action\org\jboss\helloworld
     [copy] Copying 1 file to C:\Projects\helloworld\src\action\org\jboss\helloworld
     [copy] Copying 1 file to C:\Projects\helloworld\src\action\org\jboss\helloworld\test
     [copy] Copying 1 file to C:\Projects\helloworld\src\action\org\jboss\helloworld\test
     [copy] Copying 1 file to C:\Projects\helloworld\view
     [echo] Type 'seam restart' and go to http://localhost:8080/helloworld/ping.seam

BUILD SUCCESSFUL
Total time: 13 seconds
C:\Projects\jboss-seam&gt;</pre><p>
			&#26032;&#22686;Seam&#32452;&#20214;&#21518;&#65292;&#25105;&#20204;&#38656;&#35201;&#37325;&#21551;&#20998;&#35299;&#24335;&#30446;&#24405;&#37096;&#32626;&#65288;exploded directory deployment&#65289;&#12290;
			&#36755;&#20837;<tt class="literal">seam restart</tt>&#65292;&#25110;&#22312;Eclipse&#20013;&#24050;&#29983;&#25104;&#39033;&#30446;&#30340; <tt class="literal">build.xml</tt> &#20013;&#36816;&#34892; <tt class="literal">restart</tt> target&#23601;&#21487;&#23436;&#25104;&#12290;
			&#21478;&#19968;&#31181;&#26041;&#24335;&#26159;&#22312;Eclipse&#20013;&#36890;&#36807;&#32534;&#36753; <tt class="literal">resources/META-INF/application.xml</tt> &#25991;&#20214;&#26469;&#24378;&#21046;&#37325;&#21551;&#12290;
			<span class="emphasis"><em>&#35831;&#27880;&#24847;&#65292;&#22312;&#27599;&#27425;&#20462;&#25913;&#24212;&#29992;&#31243;&#24207;&#26102;&#24182;&#19981;&#38656;&#35201;&#37325;&#21551;JBoss&#12290;</em></span>
		</p><p>
			&#35797;&#30528;&#22312;&#27983;&#35272;&#22120;&#20013;&#36755;&#20837; <tt class="literal">http://localhost:8080/helloworld/ping.seam</tt> &#22320;&#22336;&#24182;&#28857;&#20987;&#25353;&#38062;&#65292;&#30475;&#30475;&#21457;&#29983;&#20102;&#20160;&#20040;&#12290;
			&#22312;&#39033;&#30446;&#30340; <tt class="literal">src</tt> &#30446;&#24405;&#20013;&#21487;&#30475;&#21040;&#23436;&#25104;&#27492;&#21160;&#20316;&#30340;&#28304;&#20195;&#30721;&#12290;
			&#35797;&#30528;&#22312; <tt class="literal">ping()</tt> &#26041;&#27861;&#20013;&#35774;&#32622;&#20010;&#26029;&#28857;&#65292;&#20877;&#27425;&#28857;&#20987;&#25353;&#38062;&#65292;&#21448;&#21457;&#29983;&#20102;&#20160;&#20040;&#65311;
		</p><p>
			&#26368;&#21518;&#65292;&#22312;&#27979;&#35797;&#21253;&#20013;&#25214;&#21040; <tt class="literal">PingTest.xml</tt> &#25991;&#20214;&#65292;&#24182;&#29992;Eclipse&#30340;TestNG&#25554;&#20214;&#26469;&#36816;&#34892;&#27979;&#35797;&#12290;
			&#27492;&#22806;&#65292;&#36824;&#21487;&#29992; <tt class="literal">seam test</tt> &#25110;&#29983;&#25104;&#30340;build&#25991;&#20214;&#20013;&#30340; <tt class="literal">test</tt> target&#26469;&#36816;&#34892;&#27979;&#35797;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2751"></a>2.4.&nbsp;&#21019;&#24314;&#26377;&#21160;&#20316;&#30340;&#34920;&#21333;&#65288;form&#65289;</h2></div></div><div></div></div><p>
			&#19979;&#19968;&#27493;&#23601;&#26159;&#26469;&#21019;&#24314;&#34920;&#21333;&#20102;&#12290;&#35831;&#36755;&#20837;&#65306;
		</p><pre class="programlisting">seam new-form</pre><pre class="programlisting">C:\Projects\jboss-seam&gt;seam new-form
Buildfile: C:\Projects\jboss-seam\seam-gen\build.xml

validate-workspace:

validate-project:

action-input:
    [input] Enter the Seam component name
hello
    [input] Enter the local interface name [Hello]

    [input] Enter the bean class name [HelloBean]

    [input] Enter the action method name [hello]

    [input] Enter the page name [hello]


setup-filters:

new-form:
     [echo] Creating a new stateful session bean component with an action method
     [copy] Copying 1 file to C:\Projects\hello\src\com\hello
     [copy] Copying 1 file to C:\Projects\hello\src\com\hello
     [copy] Copying 1 file to C:\Projects\hello\src\com\hello\test
     [copy] Copying 1 file to C:\Projects\hello\view
     [copy] Copying 1 file to C:\Projects\hello\src\com\hello\test
     [echo] Type 'seam restart' and go to http://localhost:8080/hello/hello.seam

BUILD SUCCESSFUL
Total time: 5 seconds
C:\Projects\jboss-seam&gt;</pre><p>
			&#20877;&#27425;&#37325;&#21551;&#24212;&#29992;&#31243;&#24207;&#65292;&#24182;&#22312;&#27983;&#35272;&#22120;&#20013;&#36755;&#20837; <tt class="literal">http://localhost:8080/helloworld/hello.seam</tt> &#23601;&#21487;&#30475;&#21040;&#32467;&#26524;&#20102;&#12290;
			&#25509;&#30528;&#30475;&#19979;&#25152;&#29983;&#25104;&#30340;&#20195;&#30721;&#65292;&#24182;&#36816;&#34892;&#27979;&#35797;&#12290;&#35797;&#30528;&#32473;&#34920;&#21333;&#21152;&#20837;&#19968;&#20123;&#23383;&#27573;&#21450;Seam&#32452;&#20214;&#65288;&#35760;&#30528;&#22312;&#27599;&#27425;&#26356;&#25913;Java&#20195;&#30721;&#26102;&#37325;&#26032;&#37096;&#32626;&#65289;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2765"></a>2.5.&nbsp;&#20174;&#29616;&#26377;&#25968;&#25454;&#24211;&#29983;&#25104;&#24212;&#29992;&#31243;&#24207;</h2></div></div><div></div></div><p>
			&#22312;&#25968;&#25454;&#24211;&#20013;&#25163;&#24037;&#21019;&#24314;&#19968;&#20123;&#34920;&#12290;&#65288;&#22914;&#26524;&#20320;&#38656;&#35201;&#20999;&#25442;&#19981;&#21516;&#30340;&#25968;&#25454;&#24211;&#65292;&#21482;&#38656;&#20877;&#27425;&#36816;&#34892; <tt class="literal">seam setup</tt> &#21363;&#21487;&#12290;&#65289;&#29616;&#35831;&#36755;&#20837;&#65306;
		</p><pre class="programlisting">seam generate-entities</pre><p>
			&#25509;&#30528;&#37325;&#26032;&#37096;&#32626;&#65292;&#24182;&#22312;&#27983;&#35272;&#22120;&#20013;&#36755;&#20837; <tt class="literal">http://localhost:8080/helloworld</tt> &#23601;&#21487;&#30475;&#21040;&#32467;&#26524;&#20102;&#12290;
			&#20320;&#21487;&#20197;&#35797;&#30528;&#27983;&#35272;&#25968;&#25454;&#24211;&#65292;&#32534;&#36753;&#29616;&#26377;&#30340;&#23545;&#35937;&#65292;&#24182;&#21019;&#24314;&#26032;&#30340;&#23545;&#35937;&#12290;&#22914;&#26524;&#20320;&#30475;&#19979;&#25152;&#29983;&#25104;&#30340;&#20195;&#30721;&#65292;&#20320;&#21487;&#33021;&#20250;&#23545;&#22914;&#27492;&#31616;&#21333;&#30340;&#20195;&#30721;&#24863;&#21040;&#24778;&#35766;&#12290;
			&#35753;&#24320;&#21457;&#20154;&#21592;&#65292;&#23588;&#20854;&#26159;&#37027;&#20123;&#19981;&#29976;&#20110;&#21463;Seam-gen&#25670;&#24067;&#30340;&#24320;&#21457;&#20154;&#21592;&#65292;&#31616;&#21333;&#22320;&#25163;&#24037;&#32534;&#20889;&#25968;&#25454;&#35775;&#38382;&#20195;&#30721;&#65292;&#26159;Seam&#30340;&#35774;&#35745;&#30446;&#26631;&#20043;&#19968;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2780"></a>2.6.&nbsp;&#23558;&#24212;&#29992;&#37096;&#32626;&#20026;EAR</h2></div></div><div></div></div><p>
			&#26368;&#21518;&#65292;&#25105;&#20204;&#24819;&#30693;&#36947;&#33021;&#21542;&#29992;&#26631;&#20934;&#30340;Java EE&#21253;&#26469;&#37096;&#32626;&#24212;&#29992;&#12290;&#39318;&#20808;&#65292;&#36890;&#36807;&#36816;&#34892; <tt class="literal">seam unexplode</tt> &#26469;&#31227;&#36208;&#20998;&#35299;&#24335;&#30446;&#24405;&#65288;exploded directory)&#12290;
			&#22312;&#21629;&#20196;&#34892;&#20013;&#36755;&#20837; <tt class="literal">seam deploy</tt> &#25110;&#36816;&#34892;&#29983;&#25104;&#30340;Build&#33050;&#26412;&#25991;&#20214;&#20013;&#30340; <tt class="literal">deploy</tt> target&#23601;&#21487;&#23436;&#25104;EAR&#30340;&#37096;&#32626;&#65292;&#29992; <tt class="literal">seam undeploy</tt> &#21629;&#20196;&#25110;&#36816;&#34892; <tt class="literal">undeploy</tt> &#30446;&#26631;&#21487;&#21368;&#19979;EAR&#12290;
		</p><p>
			&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#24212;&#29992;&#31243;&#24207;&#20250;&#29992; <span class="emphasis"><em>dev profile</em></span> &#26469;&#37096;&#32626;&#65292;EAR&#23558;&#21253;&#21547;<tt class="literal">persistence-dev.xml</tt>&#21450;<tt class="literal">import-dev.sql</tt>&#25991;&#20214;&#65292;<tt class="literal">myproject-dev-ds.xml</tt> &#25991;&#20214;&#20063;&#20250;&#34987;&#37096;&#32626;&#12290;
			&#36890;&#36807;&#36755;&#20837;&#20197;&#19979;&#30340;&#21629;&#20196;&#20320;&#23601;&#21487;&#20197;&#26356;&#25913;profile, &#24182;&#21487;&#20351;&#29992; <span class="emphasis"><em>prod profile</em></span>&#65306;
		</p><pre class="programlisting">seam -Dprofile=prod deploy</pre><p>
		&#20320;&#29978;&#33267;&#21487;&#20197;&#32473;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#23450;&#20041;&#26032;&#30340;&#37096;&#32626;profile&#65292;&#21482;&#38656;&#22312;&#39033;&#30446;&#20013;&#21152;&#20837;&#21512;&#36866;&#30340;&#25991;&#20214;&#65292;
		&#20363;&#22914;&#65306;<tt class="literal">persistence-staging.xml</tt>&#12289;<tt class="literal">import-staging.sql</tt> &#21450; <tt class="literal">myproject-staging-ds.xml</tt> &#8212; &#24182;&#36873;&#25321;&#20351;&#29992;&#20102; <tt class="literal">-Dprofile=staging</tt> &#21517;&#23383;&#30340;profile&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gettingstarted-hotdeployment"></a>2.7.&nbsp;Seam&#19982;&#22686;&#37327;&#28909;&#37096;&#32626;</h2></div></div><div></div></div><p>
			&#23558;Seam&#24212;&#29992;&#37096;&#32626;&#25104;exploded&#30446;&#24405;&#30340;&#22909;&#22788;&#26159;&#65292;&#20320;&#33021;&#22312;&#24320;&#21457;&#26102;&#24471;&#21040;&#22686;&#37327;&#28909;&#37096;&#32626;&#30340;&#25903;&#25345;&#12290;
			&#20320;&#21482;&#38656;&#22312; <tt class="literal">components.xml</tt> &#20013;&#28155;&#21152;&#36825;&#19968;&#34892;&#26469;&#21551;&#29992;Seam&#21644;Facelet&#20013;&#30340;debug&#27169;&#24335;&#21363;&#21487;:
		</p><pre class="programlisting">&lt;core:init debug="true"/&gt;</pre><p>
			&#36825;&#26679;&#19968;&#26469;&#65292;&#37325;&#26032;&#37096;&#32626;&#20197;&#19979;&#25991;&#20214;&#26102;&#23601;&#19981;&#19968;&#23450;&#35201;&#23436;&#20840;&#22320;&#37325;&#21551;web&#24212;&#29992;&#20102;&#65306;
		</p><div class="itemizedlist"><ul type="disc"><li><p>&#20219;&#24847;Facelet&#39029;&#38754;</p></li><li><p>&#20219;&#24847; <tt class="literal">pages.xml</tt> &#25991;&#20214;</p></li></ul></div><p>
			&#33509;&#24819;&#23545;Java&#20195;&#30721;&#36827;&#34892;&#21464;&#26356;&#65292;&#23601;&#38656;&#35201;&#23436;&#20840;&#30340;&#24212;&#29992;&#37325;&#21551;&#12290;
			&#65288;&#22312;JBoss&#20013;&#65292;&#23545;&#20110;EAR&#37096;&#32626;&#65292;&#36825;&#38656;&#35201;&#29992;touch&#21629;&#20196;&#25913;&#21464;&#39030;&#23618;&#30340;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;&#23545;&#20110;EAR&#37096;&#32626;&#65292;&#21017;&#26159;<tt class="literal">application.xml</tt>&#65292;&#32780;&#23545;&#20110;WAR&#37096;&#32626;&#65292;&#21017;&#26159;<tt class="literal">web.xml</tt> &#12290;&#65289;
		</p><p>
			&#20294;&#20320;&#30495;&#27491;&#24819;&#21152;&#24555;&#32534;&#36753;/&#32534;&#35793;/&#27979;&#35797;&#30340;&#27969;&#31243;&#65292;Seam&#25903;&#25345;&#23545;JavaBean&#32452;&#20214;&#36827;&#34892;&#22686;&#37327;&#24335;&#37325;&#37096;&#32626;&#12290;
			&#20026;&#20102;&#29992;&#19978;&#27492;&#21151;&#33021;&#65292;&#20320;&#24517;&#39035;&#25226;JavaBean&#32452;&#20214;&#37096;&#32626;&#21040; <tt class="literal">WEB-INF/dev</tt> &#30446;&#24405;&#20013;&#65292;&#20197;&#20415;&#23427;&#20204;&#33021;&#34987;&#29305;&#27530;&#30340;Seam&#31867;&#21152;&#36733;&#22120;&#21152;&#36733;&#65292;&#32780;&#19981;&#26159;WAR&#25110;EAR&#31867;&#21152;&#36733;&#22120;&#12290;
		</p><p>
			&#35831;&#27880;&#24847;&#20197;&#19979;&#30340;&#38480;&#21046;&#65306;
		</p><div class="itemizedlist"><ul type="disc"><li><p>
					&#24517;&#39035;&#26159;JavaBean&#32452;&#20214;&#65292;&#32780;&#19981;&#33021;&#26159;EJB3 Beans&#65288;&#27492;&#38480;&#21046;&#27491;&#22312;&#35299;&#20915;&#20013;&#65289;
				</p></li><li><p>
					&#23454;&#20307;Bean&#19981;&#21487;&#28909;&#37096;&#32626;
				</p></li><li><p>
					&#36890;&#36807; <tt class="literal">components.xml</tt> &#37096;&#32626;&#30340;&#32452;&#20214;&#21487;&#33021;&#26080;&#27861;&#28909;&#37096;&#32626;
				</p></li><li><p>
					&#22312; <tt class="literal">WEB-INF/dev</tt> &#20043;&#22806;&#37096;&#32626;&#30340;&#20219;&#20309;&#31867;&#37117;&#26080;&#27861;&#35775;&#38382;&#21487;&#28909;&#37096;&#32626;&#30340;&#32452;&#20214;
				</p></li><li><p>
					&#39035;&#21551;&#29992;Seam&#30340;debug&#27169;&#24335;
				</p></li></ul></div><p>
			&#22914;&#26524;&#20320;&#29992;Seam-gen&#21019;&#24314;WAR&#39033;&#30446;&#65292;&#22686;&#37327;&#28909;&#37096;&#32626;&#23545;&#20110;src/action&#30446;&#24405;&#19979;&#30340;&#31867;&#26159;&#30452;&#25509;&#21487;&#29992;&#30340;&#65292;&#20294;&#26159;&#23545;&#20110;EAR&#39033;&#30446;&#19981;&#34892;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2894"></a>2.8.&nbsp;&#22312;Jboss 4.0&#19979;&#20351;&#29992;Seam</h2></div></div><div></div></div><p>
			Seam 2.0&#26159;&#38024;&#23545;JavaServer Faces 1.2&#24320;&#21457;&#30340;&#65292;&#25152;&#20197;&#25105;&#20204;&#25512;&#33616;&#22312;JBoss 4.2&#19979;&#20351;&#29992;Seam&#65292;&#22240;&#20026;&#23427;&#21253;&#21547;&#20102;JSF 1.2&#21442;&#32771;&#23454;&#29616;&#12290;
			&#28982;&#32780;&#20173;&#28982;&#26377;&#21150;&#27861;&#22312;Jboss 4.0&#19979;&#20351;&#29992;Seam&#12290;&#38656;&#35201;&#20004;&#20010;&#27493;&#39588;&#65306;&#23433;&#35013;&#21551;&#29992;&#20102;EJB3&#30340;Jboss 4.0&#29256;&#26412;&#24182;&#19988;&#25226;MyFaces&#26367;&#25442;&#20026;JSF1.2&#21442;&#32771;&#23454;&#29616;&#12290;
			&#20320;&#23436;&#25104;&#36825;&#20004;&#20010;&#27493;&#39588;&#21518;&#65292;Seam2.0&#23601;&#21487;&#20197;&#22312;JBoss 4.0&#19979;&#37096;&#32626;&#20102;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2899"></a>2.8.1.&nbsp;&#23433;&#35013;JBoss 4.0</h3></div></div><div></div></div><p>
				JBoss 4.0&#27809;&#26377;&#38024;&#23545;Seam&#30340;&#40664;&#35748;&#37197;&#32622;&#12290;&#24819;&#35201;&#36816;&#34892;Seam&#65292;&#20320;&#24517;&#39035;&#29992;JEMS 1.2&#23433;&#35013;&#22120;&#24182;&#19988;&#36873;&#25321;EJB3 profile&#12290;
				&#22914;&#26524;&#27809;&#26377;EJB3&#25903;&#25345;Seam&#26159;&#19981;&#33021;&#27491;&#24120;&#36816;&#34892;&#30340;&#12290;JEMS&#23433;&#35013;&#22120;&#21487;&#20197;&#22312;&#36825;&#37324;&#19979;&#36733;&#65306;
				<a href="http://labs.jboss.com/jemsinstaller/downloads" target="_top">http://labs.jboss.com/jemsinstaller/downloads</a>&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2907"></a>2.8.2.&nbsp;&#23433;&#35013;JSF 1.2 RI</h3></div></div><div></div></div><p>
				JBoss 4.0&#30340;&#37197;&#32622;&#21487;&#20197;&#22312; <tt class="literal">server/default/deploy/jbossweb-tomcat55.sar</tt> &#25214;&#21040;&#12290;
				&#20320;&#38656;&#35201;&#20174; <tt class="literal">jsf-libs</tt> &#30446;&#24405;&#21024;&#38500; <tt class="literal">myfaces-api.jar</tt> &#21644; <tt class="literal">myfaces-impl.jar</tt>&#25991;&#20214;&#12290;
				&#20320;&#36824;&#38656;&#35201;&#25226; <tt class="literal">jsf-api.jar</tt>&#12289;<tt class="literal">jsf-impl.jar</tt>&#12289;<tt class="literal">el-api.jar</tt> &#21644; <tt class="literal">el-ri.jar</tt> &#22797;&#21046;&#21040;&#37027;&#20010;&#30446;&#24405;&#19979;&#12290;&#20320;&#21487;&#20197;&#22312;Seam&#30340;lib&#25991;&#20214;&#22841;&#19979;&#25214;&#21040;&#36825;&#20123;JAR&#25991;&#20214;&#12290;EL JAR&#25991;&#20214;&#21487;&#20197;&#20174;Seam 1.2&#21457;&#34892;&#29256;&#20013;&#33719;&#21462;&#12290;
			</p><p>
				&#20320;&#36824;&#38656;&#35201;&#32534;&#36753; <tt class="literal">conf/web.xml</tt> &#25991;&#20214;&#65292;&#25226; <tt class="literal">myfaces-impl.jar</tt> &#26367;&#25442;&#20026; <tt class="literal">jsf-impl.jar</tt>&#12290;
			</p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="concepts"></a>Chapter&nbsp;3.&nbsp;&#19978;&#19979;&#25991;&#30456;&#20851;&#30340;&#32452;&#20214;&#27169;&#22411;</h2></div></div><div></div></div><p>
        Seam&#20013;&#30340;&#20004;&#20010;&#26680;&#24515;&#27010;&#24565;&#26159; <span class="emphasis"><em>context&#65288;&#19978;&#19979;&#25991;&#65289;&#24605;&#24819;</em></span>&#21644; <span class="emphasis"><em>component&#65288;&#32452;&#20214;&#65289;&#24605;&#24819;</em></span>&#12290;&#32452;&#20214;&#26159;&#20855;&#26377;&#29366;&#24577;&#30340;&#23545;&#35937;&#65292;&#36890;&#24120;&#26159;EJB&#65292;&#32452;&#20214;&#30340;&#23454;&#20363;&#20250;&#21644;&#19978;&#19979;&#25991;&#32465;&#23450;&#65292;&#22312;&#27492;&#19978;&#19979;&#25991;&#20013;&#20855;&#26377;&#19968;&#20010;&#21517;&#23383;&#12290;<span class="emphasis"><em>Bijection&#65288;&#21452;&#21521;&#27880;&#20837;&#65289;</em></span>&#21487;&#20197;&#23558;&#20869;&#37096;&#30340;&#32452;&#20214;&#21517;&#65288;&#23454;&#20363;&#21464;&#37327;&#21517;&#65289;&#21035;&#21517;&#20026;&#19978;&#19979;&#25991;&#30456;&#20851;&#30340;&#21517;&#23383;&#65292;&#20801;&#35768;Seam&#21160;&#24577;&#32452;&#35013;&#32452;&#20214;&#26641;&#65292;&#36824;&#21487;&#20197;&#37325;&#26032;&#32452;&#35013;&#12290;
   </p><p>
        &#35753;&#25105;&#20204;&#20174;&#20102;&#35299;Seam&#20869;&#32622;&#30340;&#19978;&#19979;&#25991;&#24320;&#22987;&#12290;
   </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2963"></a>3.1.&nbsp;Seam&#19978;&#19979;&#25991;</h2></div></div><div></div></div><p>
            Seam&#19978;&#19979;&#25991;&#26159;&#30001;&#26694;&#26550;&#21019;&#24314;&#21644;&#38144;&#27585;&#30340;&#12290;&#24212;&#29992;&#31243;&#24207;&#19981;&#33021;&#36890;&#36807;&#26174;&#24335;&#30340;Java API&#35843;&#29992;&#26469;&#25511;&#21046;&#19978;&#19979;&#25991;&#21010;&#20998;&#12290;&#19978;&#19979;&#25991;&#36890;&#24120;&#26159;&#38544;&#21547;&#30340;&#12290;&#28982;&#32780;&#65292;&#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#65292;&#19978;&#19979;&#25991;&#21487;&#20197;&#36890;&#36807;annotation&#65288;&#27880;&#35299;&#65289;&#21010;&#20998;&#12290;
           </p><p>&#22522;&#26412;&#30340;Seam&#19978;&#19979;&#25991;&#26377;:</p><div class="itemizedlist"><ul type="disc"><li><p>Stateless context</p></li><li><p>Event &#65288;or request&#65289; context</p></li><li><p>Page context</p></li><li><p>Conversation context</p></li><li><p>Session context</p></li><li><p>Business process context</p></li><li><p>Application context</p></li></ul></div><p>
            &#20320;&#21487;&#33021;&#22312;servlet&#21450;&#30456;&#20851;&#35268;&#33539;&#20013;&#24050;&#32463;&#35265;&#36807;&#20854;&#20013;&#19968;&#20123;&#19978;&#19979;&#25991;&#20102;&#65292;&#20294;&#20854;&#20013;&#26377;&#20004;&#20010;&#21487;&#33021;&#20174;&#26410;&#35265;&#36807;&#65306;<span class="emphasis"><em>conversation context&#65288;&#19994;&#21153;&#23545;&#35805;&#19978;&#19979;&#25991;&#65289;</em></span>&#65292;&#21644; <span class="emphasis"><em>business process context&#65288;&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;&#65289;</em></span>&#12290;
            &#22312;Web&#24212;&#29992;&#31243;&#24207;&#20013;&#65292;&#29366;&#24577;&#31649;&#29702;&#22914;&#27492;&#20940;&#20081;&#21644;&#23481;&#26131;&#20986;&#38169;&#30340;&#21407;&#22240;&#23601;&#26159;&#65292;&#20869;&#32622;&#30340;&#19977;&#20010;&#19978;&#19979;&#25991;&#65288;request, session &#21644;application&#65289;&#20174;&#19994;&#21153;&#36923;&#36753;&#30340;&#35282;&#24230;&#26469;&#30475;&#19981;&#26159;&#24456;&#26377;&#24847;&#20041;&#12290;
            &#20363;&#22914;&#65292;&#29992;&#25143;&#30331;&#24405;session&#30340;&#26500;&#24314;&#65292;&#23545;&#24212;&#29992;&#23454;&#38469;&#30340;&#24037;&#20316;&#27969;&#31243;&#26469;&#35828;&#23601;&#26159;&#30456;&#24403;&#38543;&#24847;&#30340;&#12290;
            &#22240;&#27492;&#65292;&#22823;&#37096;&#20998;&#30340;Seam&#32452;&#20214;&#34987;&#38480;&#23450;&#22312;&#19994;&#21153;&#20250;&#35805;&#25110;&#32773;&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;&#20013;&#65292;&#22240;&#20026;&#36825;&#20123;&#19978;&#19979;&#25991;&#20174;&#24212;&#29992;&#30340;&#35282;&#24230;&#26469;&#35828;&#26368;&#26377;&#24847;&#20041;&#12290;
       </p><p>
            &#35753;&#25105;&#20204;&#25353;&#39034;&#24207;&#26469;&#32771;&#23519;&#27599;&#20010;context&#65288;&#19978;&#19979;&#25991;&#65289;&#12290;
       </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3002"></a>3.1.1.&nbsp;Stateless context&#65288;&#26080;&#29366;&#24577;&#19978;&#19979;&#25991;&#65289;</h3></div></div><div></div></div><p>
                &#37027;&#20123;&#30830;&#23454;&#27809;&#26377;&#29366;&#24577;&#30340;&#32452;&#20214;&#65288;&#20027;&#35201;&#26159;&#26080;&#29366;&#24577;Session Bean&#65289;&#24635;&#26159;&#36816;&#34892;&#22312;&#26080;&#29366;&#24577;&#19978;&#19979;&#25991;&#20013;&#65288;&#23454;&#38469;&#19978;&#23601;&#26159;&#19978;&#19979;&#25991;&#26080;&#20851;&#65289;&#12290;
                &#26080;&#29366;&#24577;&#32452;&#20214;&#27809;&#20160;&#20040;&#22826;&#22823;&#30340;&#24847;&#24605;&#65292;&#20063;&#26377;&#20105;&#35758;&#35748;&#20026;&#23427;&#20204;&#19981;&#21313;&#20998;&#38754;&#21521;&#23545;&#35937;&#12290;&#20294;&#19981;&#31649;&#24590;&#20040;&#26679;&#65292;&#23427;&#20204;&#36824;&#26159;&#24456;&#37325;&#35201;&#65292;&#24182;&#19988;&#36890;&#24120;&#24456;&#26377;&#29992;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3007"></a>3.1.2.&nbsp;Event context&#65288;&#20107;&#20214;&#19978;&#19979;&#25991;&#65289;</h3></div></div><div></div></div><p>
                &#20107;&#20214;&#19978;&#19979;&#25991;&#26159;&#8220;&#26368;&#31364;&#8221;&#30340;&#26377;&#29366;&#24577;&#19978;&#19979;&#25991;&#65292;&#26159;Web Request &#19978;&#19979;&#25991;&#30340;&#27867;&#21270;&#65292;&#29992;&#20197;&#21253;&#21547;&#20854;&#20182;&#31181;&#31867;&#30340;&#20107;&#20214;&#12290;
                &#28982;&#32780;&#65292;&#19982;JSF&#35831;&#27714;&#30340;&#29983;&#21629;&#21608;&#26399;&#30456;&#20851;&#32852;&#30340;&#20107;&#20214;&#19978;&#19979;&#25991;&#26159;&#20107;&#20214;&#19978;&#19979;&#25991;&#26368;&#37325;&#35201;&#30340;&#23454;&#20363;&#65292;&#24182;&#19988;&#20063;&#26159;&#20320;&#26368;&#24120;&#25171;&#20132;&#36947;&#30340;&#12290;
                &#19982;&#20107;&#20214;&#19978;&#19979;&#25991;&#30456;&#20851;&#32852;&#30340;&#32452;&#20214;&#22312;&#35831;&#27714;&#32467;&#26463;&#26102;&#34987;&#38144;&#27585;&#65292;&#20294;&#26159;&#23427;&#20204;&#30340;&#29366;&#24577;&#33267;&#23569;&#22312;&#35831;&#27714;&#30340;&#29983;&#21629;&#21608;&#26399;&#20013;&#26159;&#23384;&#22312;&#24182;&#19988;&#26159;&#23450;&#20041;&#33391;&#22909;&#30340;&#12290;
           </p><p>
                &#24403;&#20320;&#36890;&#36807;RMI&#25110;&#32773;Seam Remoting&#35843;&#29992;Seam&#32452;&#20214;&#30340;&#26102;&#20505;&#65292;&#19968;&#20010;&#20107;&#20214;&#19978;&#19979;&#25991;&#23558;&#20026;&#36825;&#20010;&#35843;&#29992;&#32780;&#34987;&#21019;&#24314;&#21644;&#38144;&#27585;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3014"></a>3.1.3.&nbsp;Page context&#65288;&#39029;&#38754;&#19978;&#19979;&#25991;&#65289;</h3></div></div><div></div></div><p>
                &#39029;&#38754;&#19978;&#19979;&#25991;&#20801;&#35768;&#20320;&#23558;&#29366;&#24577;&#19982;&#19968;&#20010;&#28210;&#26579;&#39029;&#38754;&#30340;&#23454;&#20363;&#30456;&#20851;&#32852;&#12290;
                &#20320;&#21487;&#20197;&#22312;Event Listener&#20013;&#21021;&#22987;&#21270;&#29366;&#24577;&#65292;&#25110;&#32773;&#22312;&#23454;&#38469;&#28210;&#26579;&#39029;&#38754;&#30340;&#26102;&#20505;&#21021;&#22987;&#21270;&#29366;&#24577;&#65292;&#20219;&#20309;&#28304;&#20110;&#35813;&#39029;&#38754;&#30340;&#20107;&#20214;&#37117;&#21487;&#20197;&#35775;&#38382;&#21040;&#36825;&#20123;&#29366;&#24577;&#12290;
                &#36825;&#22312;&#25903;&#25345;&#20687;&#21487;&#28857;&#20987;&#21015;&#34920;&#36825;&#31181;&#30340;&#21151;&#33021;&#26102;&#29305;&#21035;&#26377;&#29992;&#65292;&#21015;&#34920;&#30340;&#20869;&#23481;&#36890;&#36807;&#26381;&#21153;&#22120;&#31471;&#30340;&#25968;&#25454;&#21464;&#21270;&#20135;&#29983;&#12290;
                &#23454;&#38469;&#19978;&#29366;&#24577;&#34987;&#24207;&#21015;&#21270;&#21040;&#20102;&#23458;&#25143;&#31471;&#65292;&#22240;&#27492;&#22312;&#22810;&#31383;&#21475;&#25805;&#20316;&#25110;&#32773;&#22238;&#36864;&#25353;&#38062;&#30340;&#26102;&#20505;&#65292;&#36825;&#31181;&#32467;&#26500;&#26159;&#38750;&#24120;&#20581;&#22766;&#30340;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3019"></a>3.1.4.&nbsp;Conversation context&#65288;&#19994;&#21153;&#20250;&#35805;&#19978;&#19979;&#25991;&#65289;</h3></div></div><div></div></div><p>
                &#19994;&#21153;&#20250;&#35805;&#19978;&#19979;&#25991;&#26159;Seam&#20013;&#26368;&#26680;&#24515;&#30340;&#27010;&#24565;&#12290;<span class="emphasis"><em>conversation&#65288;&#19994;&#21153;&#20250;&#35805;&#65289;</em></span>&#26159;&#20174;&#29992;&#25143;&#30340;&#35270;&#35282;&#30475;&#24453;&#30340;&#19968;&#20010;&#24037;&#20316;&#21333;&#20803;&#12290;
                &#23427;&#21487;&#33021;&#36328;&#36234;&#19982;&#29992;&#25143;&#20132;&#20114;&#30340;&#22810;&#20010;Servlet&#12289;&#22810;&#20010;&#35831;&#27714;&#65292;&#21644;&#22810;&#20010;&#25968;&#25454;&#24211;&#20107;&#21153;&#12290;&#20294;&#26159;&#23545;&#29992;&#25143;&#26469;&#35828;&#65292;&#19968;&#20010;&#19994;&#21153;&#20250;&#35805;&#35299;&#20915;&#19968;&#20010;&#21333;&#19968;&#30340;&#38382;&#39064;&#12290;
                &#20363;&#22914;&#35828;&#65306;&#8220;&#39044;&#35746;&#37202;&#24215;&#8221;&#65292;&#8220;&#25209;&#20934;&#21512;&#21516;&#8221;&#65292;&#8220;&#21019;&#24314;&#35746;&#21333;&#8221;&#37117;&#26159;&#19994;&#21153;&#20250;&#35805;&#12290;
                &#20320;&#21487;&#20197;&#23558;&#19994;&#21153;&#20250;&#35805;&#29702;&#35299;&#25104;&#23545;&#19968;&#20010;&#8220;use case&#65288;&#29992;&#20363;&#65289;&#8221;&#25110;&#8220;user story&#65288;&#29992;&#25143;&#25925;&#20107;&#65289;&#8221;&#30340;&#23454;&#29616;&#65292;&#24403;&#28982;&#29305;&#23450;&#30340;&#19994;&#21153;&#20851;&#32852;&#24182;&#38750;&#19982;&#27492;&#31867;&#20363;&#23376;&#23436;&#20840;&#19968;&#33268;&#12290; 
           </p><p>
                &#19994;&#21153;&#20250;&#35805;&#20445;&#23384;&#20851;&#20110;&#8220;&#22312;&#27492;&#31383;&#21475;&#20013;&#65292;&#29992;&#25143;&#27491;&#22312;&#24178;&#20160;&#20040;&#8221;&#30340;&#29366;&#24577;&#12290;&#22312;&#20219;&#20309;&#26102;&#38388;&#65292;&#19968;&#20010;&#29992;&#25143;&#21487;&#33021;&#21516;&#26102;&#20301;&#20110;&#22810;&#20010;&#19994;&#21153;&#20250;&#35805;&#27963;&#21160;&#20013;&#65292;&#19968;&#33324;&#26159;&#22312;&#20960;&#20010;&#19981;&#21516;&#31383;&#21475;&#20013;&#12290;
                &#19994;&#21153;&#20250;&#35805;&#19978;&#19979;&#25991;&#35753;&#25105;&#20204;&#21487;&#20197;&#30830;&#20445;&#19981;&#21516;&#19994;&#21153;&#20250;&#35805;&#30340;&#29366;&#24577;&#19981;&#20250;&#20114;&#30456;&#24178;&#25200;&#65292;&#19981;&#20250;&#23548;&#33268;Bug&#12290;
           </p><p>
                &#20320;&#21487;&#33021;&#35201;&#33457;&#19978;&#19968;&#28857;&#26102;&#38388;&#25165;&#33021;&#20064;&#24815;&#20197;&#36825;&#19968;&#19994;&#21153;&#20250;&#35805;&#30340;&#35266;&#28857;&#26469;&#24605;&#32771;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#12290;
                &#20294;&#19968;&#26086;&#20320;&#20064;&#24815;&#20110;&#23427;&#65292;&#20320;&#20250;&#21916;&#27426;&#19978;&#36825;&#20010;&#26415;&#35821;&#65292;&#24182;&#19988;&#20877;&#19981;&#20250;&#19981;&#29992;&#19994;&#21153;&#20250;&#35805;&#26469;&#24605;&#32771;&#20102;&#65281;
           </p><p>
                &#19968;&#20123;&#19994;&#21153;&#20250;&#35805;&#20165;&#23384;&#22312;&#22312;&#19968;&#27425;&#35831;&#27714;&#20013;&#12290;&#36328;&#22495;&#22810;&#20010;&#35831;&#27714;&#30340;&#19994;&#21153;&#20250;&#35805;&#24517;&#39035;&#36890;&#36807;Seam&#25552;&#20379;&#30340;annotation&#27880;&#35299;&#26469;&#21010;&#20998;&#12290;
           </p><p>
                &#19968;&#20123;&#19994;&#21153;&#20250;&#35805;&#21516;&#26102;&#20063;&#26159;<span class="emphasis"><em>tasks&#65288;&#20219;&#21153;&#65289;</em></span>&#12290;&#20219;&#21153;&#26159;&#19968;&#31181;&#19994;&#21153;&#20250;&#35805;&#65292;&#23427;&#29305;&#25351;&#19968;&#20010;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#19994;&#21153;&#27969;&#31243;&#65292;&#24403;&#27491;&#30830;&#23436;&#25104;&#21518;&#65292;&#21487;&#33021;&#20250;&#35302;&#21457;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#29366;&#24577;&#30340;&#36716;&#25442;&#12290;Seam&#20026;&#20219;&#21153;&#21010;&#20998;&#25552;&#20379;&#20102;&#19987;&#38376;&#30340;&#27880;&#35299;&#12290;
           </p><p>
                &#19994;&#21153;&#23545;&#35805;&#21487;&#20197;&#26159;<span class="emphasis"><em>nested&#65288;&#23884;&#22871;&#65289;</em></span>&#30340;&#65292;&#19968;&#20010;&#19994;&#21153;&#23545;&#35805;&#23884;&#22871;&#8220;&#22312;&#8221;&#19968;&#20010;&#26356;&#22823;&#30340;&#19994;&#21153;&#23545;&#35805;&#20013;&#12290;&#36825;&#26159;&#19968;&#39033;&#39640;&#32423;&#29305;&#24615;&#12290;
           </p><p>
                &#36890;&#24120;&#65292;&#19994;&#21153;&#23545;&#35805;&#29366;&#24577;&#23454;&#38469;&#19978;&#30001;Seam&#20445;&#23384;&#22312;Servlet Session &#20013;&#65292;&#36328;&#36234;&#35831;&#27714;&#12290;Seam&#23454;&#29616;&#20102;&#21487;&#37197;&#32622;&#30340; <span class="emphasis"><em>conversation timeout</em></span>&#65292;&#21487;&#20197;&#33258;&#21160;&#38144;&#27585;&#19981;&#27963;&#21160;&#30340;&#19994;&#21153;&#20250;&#35805;&#65292;&#36825;&#23601;&#21487;&#20197;&#30830;&#20445;&#65292;&#22914;&#26524;&#29992;&#25143;&#21462;&#28040;&#23545;&#35805;&#65292;&#29992;&#25143;&#30340;&#30331;&#24405;Session&#20013;&#20445;&#23384;&#30340;&#29366;&#24577;&#19981;&#20250;&#26080;&#38480;&#22686;&#38271;&#12290;
           </p><p>
                &#23545;&#20110;&#22312;&#19968;&#20010;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#19994;&#21153;&#20250;&#35805;&#20013;&#25152;&#20135;&#29983;&#30340;&#24182;&#21457;&#35831;&#27714;&#65292;Seam&#25353;&#39034;&#24207;&#25191;&#34892;&#12290;
           </p><p>
                &#38500;&#27492;&#20043;&#22806;&#65292;Seam&#20063;&#21487;&#20197;&#37197;&#32622;&#25104;&#25226;&#23545;&#35805;&#29366;&#24577;&#20445;&#23384;&#22312;&#23458;&#25143;&#31471;&#27983;&#35272;&#22120;&#20013;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3052"></a>3.1.5.&nbsp;Session context&#65288;Session&#19978;&#19979;&#25991;&#65289;</h3></div></div><div></div></div><p>
                Session&#19978;&#19979;&#25991;&#20445;&#23384;&#19982;&#29992;&#25143;&#30331;&#24405;session&#30456;&#20851;&#32852;&#30340;&#29366;&#24577;&#12290;&#34429;&#28982;&#24403;&#38656;&#35201;&#22312;&#22810;&#20010;&#19994;&#21153;&#20250;&#35805;&#20013;&#20132;&#25442;&#29366;&#24577;&#30340;&#26102;&#20505;&#36825;&#24456;&#26377;&#29992;&#65292;&#20294;&#25105;&#20204;&#19968;&#33324;&#19981;&#24314;&#35758;&#20351;&#29992;Session &#19978;&#19979;&#25991;&#20445;&#23384;&#32452;&#20214;&#65292;&#38500;&#38750;&#26159;&#20445;&#23384;&#26377;&#20851;&#30331;&#24405;&#29992;&#25143;&#30340;&#20840;&#23616;&#20449;&#24687;&#12290;
           </p><p>
                &#22312;JSR-168 Portal&#29615;&#22659;&#19979;&#65292;Session&#19978;&#19979;&#25991;&#20195;&#34920;Portlet&#19978;&#19979;&#25991;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3059"></a>3.1.6.&nbsp;Business process context &#65288;&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;&#65289;</h3></div></div><div></div></div><p>
                &#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;&#20445;&#23384;&#20102;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#19994;&#21153;&#27969;&#31243;&#30456;&#20851;&#30340;&#29366;&#24577;&#12290;&#36825;&#31181;&#29366;&#24577;&#30001;BPM&#24341;&#25806;&#65288;jBPM&#65289;&#31649;&#29702;&#21644;&#25345;&#20037;&#21270;&#12290;
                &#19994;&#21153;&#27969;&#31243;&#36328;&#36234;&#22810;&#20010;&#29992;&#25143;&#30340;&#20132;&#20114;&#65292;&#22240;&#27492;&#29366;&#24577;&#22312;&#22810;&#20010;&#29992;&#25143;&#20043;&#38388;&#36890;&#36807;&#33391;&#22909;&#23450;&#20041;&#30340;&#26041;&#24335;&#20849;&#20139;&#12290;
                &#24403;&#21069;&#30340;&#20219;&#21153;&#20915;&#23450;&#24403;&#21069;&#30340;&#19994;&#21153;&#27969;&#31243;&#23454;&#20363;&#65292;&#19994;&#21153;&#27969;&#31243;&#30340;&#29983;&#21629;&#21608;&#26399;&#36890;&#36807;&#22806;&#32622;&#30340; <span class="emphasis"><em>process definition language&#65288;&#27969;&#31243;&#23450;&#20041;&#35821;&#35328;&#65289;</em></span> &#26469;&#23450;&#20041;&#65292;&#22240;&#27492;&#27809;&#26377;&#29305;&#21035;&#30340;annotation&#27880;&#35299;&#29992;&#20110;&#21010;&#20998;&#19994;&#21153;&#27969;&#31243;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3067"></a>3.1.7.&nbsp;Application context&#65288;&#24212;&#29992;&#19978;&#19979;&#25991;&#65289;</h3></div></div><div></div></div><p>
                Application&#19978;&#19979;&#25991;&#23601;&#26159;Servlet&#35268;&#33539;&#20013;&#30340;Servlet&#19978;&#19979;&#25991;&#12290;&#24212;&#29992;&#31243;&#24207;&#19978;&#19979;&#25991;&#22312;&#20445;&#23384;&#38745;&#24577;&#20449;&#24687;&#26041;&#38754;&#26377;&#29992;&#65292;&#20363;&#22914;&#37197;&#32622;&#25968;&#25454;&#65292;&#24341;&#29992;&#25968;&#25454;&#25110;&#32773;&#20803;&#27169;&#22411;&#12290;
                &#20363;&#22914;&#65292;Seam&#25226;&#33258;&#24049;&#30340;&#37197;&#32622;&#21644;&#20803;&#27169;&#22411;&#20445;&#23384;&#22312;&#24212;&#29992;&#31243;&#24207;&#19978;&#19979;&#25991;&#20013;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3072"></a>3.1.8.&nbsp;Context variables&#65288;&#19978;&#19979;&#25991;&#21464;&#37327;&#65289;</h3></div></div><div></div></div><p>
                &#19978;&#19979;&#25991;&#23450;&#20041;&#20102;&#21629;&#21517;&#31354;&#38388;&#65292;&#19968;&#32452; <span class="emphasis"><em>context variables&#65288;&#19978;&#19979;&#25991;&#21464;&#37327;&#65289;</em></span>&#12290;
                &#36825;&#20123;&#24037;&#20316;&#24456;&#31867;&#20284;Servlet&#35268;&#33539;&#20013;&#23545;Session&#25110;Request attributes&#30340;&#23450;&#20041;&#12290;
                &#20320;&#21487;&#20197;&#32465;&#23450;&#20219;&#20309;&#20320;&#21916;&#27426;&#30340;&#20540;&#21040;Context Variable&#65292;&#20294;&#36890;&#24120;&#25105;&#20204;&#20250;&#32465;&#23450;Seam&#32452;&#20214;&#23454;&#20363;&#21040;Context Variables&#12290;
           </p><p>
                &#22240;&#27492;&#65292;&#22312;&#19978;&#19979;&#25991;&#20013;&#65292;&#32452;&#20214;&#23454;&#20363;&#26159;&#36890;&#36807;&#19978;&#19979;&#25991;&#21464;&#37327;&#21517;&#23383;&#26469;&#36776;&#21035;&#30340;&#65288;&#36890;&#24120;&#26159;&#36825;&#26679;&#65292;&#20294;&#24182;&#38750;&#32477;&#23545;&#65292;&#23601;&#21644;&#32452;&#20214;&#21517;&#31216;&#19968;&#26679;&#65289;&#12290;
                &#20320;&#21487;&#20197;&#36890;&#36807;&#31243;&#24207;&#22312;&#29305;&#23450;&#33539;&#22260;&#20869;&#35775;&#38382;&#34987;&#21629;&#21517;&#30340;&#32452;&#20214;&#23454;&#20363;&#65292;&#36825;&#26159;&#36890;&#36807; <tt class="literal">Contexts</tt> &#31867;&#36827;&#34892;&#30340;&#65292;&#23427;&#25552;&#20379;&#20102;&#23545; <tt class="literal">Context</tt> &#25509;&#21475;&#30340;&#20960;&#20010;&#32447;&#31243;&#32465;&#23450;&#30340;&#23454;&#20363;&#30340;&#35775;&#38382;&#65306;
           </p><pre class="programlisting">User user = (User) Contexts.getSessionContext().get("user");</pre><p>
                &#20320;&#20063;&#21487;&#20197;&#36890;&#36807;&#21517;&#23383;&#26469;&#35774;&#32622;&#25110;&#20462;&#25913;&#21464;&#37327;&#20540;&#65306;
           </p><pre class="programlisting">Contexts.getSessionContext().set("user", user);</pre><p>
                &#20294;&#36890;&#24120;&#65292;&#25105;&#20204;&#36890;&#36807;&#27880;&#23556;&#65288;injection&#65289;&#26469;&#20174;&#19978;&#19979;&#25991;&#20013;&#33719;&#24471;&#32452;&#20214;&#65292;&#24182;&#19988;&#36890;&#36807;&#21453;&#21521;&#27880;&#23556;&#65288;outjection&#65289;&#25226;&#32452;&#20214;&#23454;&#20363;&#36820;&#22238;&#19978;&#19979;&#25991;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3096"></a>3.1.9.&nbsp;Context&#25628;&#32034;&#20248;&#20808;&#32423;</h3></div></div><div></div></div><p>
                &#26377;&#26102;&#20505;&#22914;&#19978;&#38754;&#30340;&#20363;&#23376;&#25152;&#31034;&#65292;&#32452;&#20214;&#23454;&#20363;&#26159;&#20174;&#26576;&#20010;&#29305;&#23450;&#30340;&#24050;&#30693;&#33539;&#22260;&#20869;&#33719;&#21462;&#30340;&#12290;
                &#20854;&#20182;&#30340;&#26102;&#20505;&#21017;&#26159;&#36890;&#36807; <span class="emphasis"><em>priority order(&#20248;&#20808;&#32423;&#39034;&#24207;)</em></span> &#22312;&#25152;&#26377;&#26377;&#29366;&#24577;&#33539;&#22260;&#20869;&#25628;&#23547;&#12290;&#36825;&#20010;&#39034;&#24207;&#26159;&#36825;&#26679;&#30340;&#65306;
           </p><div class="itemizedlist"><ul type="disc"><li><p>Event context</p></li><li><p>Page context</p></li><li><p>Conversation context</p></li><li><p>Session context</p></li><li><p>Business process context</p></li><li><p>Application context</p></li></ul></div><p>
                &#20320;&#21487;&#20197;&#36890;&#36807;&#35843;&#29992; <tt class="literal">Contexts.lookupInStatefulContexts()</tt> &#26469;&#25191;&#34892;&#24102;&#20248;&#20808;&#32423;&#30340;&#25628;&#32034;&#12290;&#20320;&#22312;JSF&#39029;&#38754;&#20013;&#36890;&#36807;&#21517;&#23383;&#35775;&#38382;&#32452;&#20214;&#30340;&#26102;&#20505;&#65292;&#25191;&#34892;&#30340;&#23601;&#26159;&#36825;&#31181;&#24102;&#20248;&#20808;&#32423;&#30340;&#25628;&#32034;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3128"></a>3.1.10.&nbsp;&#24182;&#21457;&#27169;&#22411;</h3></div></div><div></div></div><p>
                Servlet&#21644;EJB&#35268;&#33539;&#37117;&#27809;&#26377;&#23450;&#20041;&#20219;&#20309;&#20851;&#20110;&#22914;&#20309;&#31649;&#29702;&#26469;&#33258;&#21516;&#19968;&#20010;&#23458;&#25143;&#31471;&#30340;&#24182;&#21457;&#35831;&#27714;&#30340;&#26465;&#27454;&#12290;
                Servlet&#23481;&#22120;&#31616;&#21333;&#22320;&#35753;&#25152;&#26377;&#30340;&#32447;&#31243;&#24182;&#21457;&#36816;&#34892;&#65292;&#25226;&#32447;&#31243;&#36164;&#28304;&#23433;&#20840;&#20849;&#20139;&#30340;&#20219;&#21153;&#20132;&#32473;&#24212;&#29992;&#31243;&#24207;&#20195;&#30721;&#12290;
                EJB&#23481;&#22120;&#20801;&#35768;&#26080;&#29366;&#24577;&#32452;&#20214;&#24182;&#21457;&#35775;&#38382;&#65292;&#20294;&#22914;&#26524;&#24182;&#21457;&#35775;&#38382;&#19968;&#20010;&#26377;&#29366;&#24577;Session Bean,&#23601;&#20250;&#25243;&#20986;&#19968;&#20010;&#24322;&#24120;&#12290;
           </p><p>
                &#26087;&#24335;&#30340;Web&#24212;&#29992;&#31243;&#24207;&#26159;&#22260;&#32469;&#32454;&#31890;&#24230;&#30340;&#21516;&#27493;&#35831;&#27714;&#32534;&#20889;&#30340;&#65292;&#22240;&#27492;&#36825;&#31181;&#34892;&#20026;&#21487;&#33021;&#36824;OK&#12290;
                &#20294;&#26159;&#23545;&#29616;&#20195;&#30340;&#31243;&#24207;&#32780;&#35328;&#65292;&#30001;&#20110;&#22823;&#37327;&#20351;&#29992;&#20102;&#24456;&#22810;&#32454;&#31890;&#24230;&#30340;&#24322;&#27493;&#65288;AJAX&#65289;&#35831;&#27714;&#65292;&#24182;&#21457;&#26159;&#23454;&#38469;&#23384;&#22312;&#30340;&#65292;&#24182;&#19988;&#24517;&#39035;&#34987;&#31243;&#24207;&#27169;&#22411;&#25903;&#25345;&#12290;
                Seam&#22312;&#20854;&#19978;&#19979;&#25991;&#27169;&#22411;&#20013;&#21152;&#20837;&#20102;&#24182;&#21457;&#31649;&#29702;&#23618;&#12290;
           </p><p>
                Seam Session &#21644;&#24212;&#29992;&#19978;&#19979;&#25991;&#26159;&#22810;&#32447;&#31243;&#30340;&#12290;Seam&#20801;&#35768;&#22312;&#19968;&#20010;&#19978;&#19979;&#25991;&#20013;&#24182;&#21457;&#35831;&#27714;&#65292;&#24182;&#21457;&#22788;&#29702;&#12290;&#20107;&#20214;&#65288;Event&#65289;&#21644;&#39029;&#38754;&#65288;Page&#65289;&#19978;&#19979;&#25991;&#33258;&#28982;&#26159;&#21333;&#32447;&#31243;&#30340;&#12290;
                &#19994;&#21153;&#27969;&#31243;&#65288;business process&#65289;&#19978;&#19979;&#25991;&#20005;&#26684;&#32780;&#35328;&#26159;&#22810;&#32447;&#31243;&#30340;&#65292;&#20294;&#23454;&#38469;&#24773;&#20917;&#20013;&#24182;&#21457;&#24456;&#23569;&#35265;&#65292;&#22240;&#27492;&#22823;&#22810;&#25968;&#24773;&#20917;&#19981;&#20250;&#20986;&#29616;&#24182;&#21457;&#12290;
                &#26368;&#21518;&#65292;Seam&#20026;Conversation Context&#25552;&#20379;&#20102; <span class="emphasis"><em>&#27599;&#23545;&#35805;&#27599;&#36827;&#31243;&#21333;&#32447;&#31243;</em></span> &#27169;&#22411;&#65292;&#36825;&#26159;&#36890;&#36807;&#25226;&#21516;&#19968;&#20010;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#19978;&#19979;&#25991;&#20013;&#30340;&#24182;&#21457;&#35831;&#27714;&#24207;&#21015;&#21270;&#23454;&#29616;&#30340;&#12290;
           </p><p>
                &#22240;&#20026;Session&#19978;&#19979;&#25991;&#26159;&#22810;&#32447;&#31243;&#30340;&#65292;&#24182;&#19988;&#32463;&#24120;&#21253;&#21547;&#19981;&#31283;&#23450;&#30340;&#29366;&#24577;&#65292;&#25152;&#20197;Session&#33539;&#22260;&#20869;&#30340;&#32452;&#20214;&#24635;&#26159;&#34987;Seam&#20445;&#25252;&#20197;&#38450;&#27490;&#24182;&#21457;&#25805;&#20316;&#12290;
                Seam&#40664;&#35748;&#25226;&#38024;&#23545;Session&#33539;&#22260;&#30340;Session Bean&#21644;JavaBean&#30340;&#35831;&#27714;&#24207;&#21015;&#21270;&#65288;&#24182;&#19988;&#26816;&#27979;&#12289;&#35299;&#20915;&#20219;&#20309;&#21457;&#29983;&#30340;&#27515;&#38145;&#65289;&#12290;
                &#23545;Application Scoped&#30340;&#32452;&#20214;&#26469;&#35828;&#65292;&#36825;&#21364;&#19981;&#26159;&#40664;&#35748;&#34892;&#20026;&#65292;&#22240;&#20026;Application Scoped&#30340;&#32452;&#20214;&#36890;&#24120;&#19981;&#20250;&#21253;&#21547;&#30340;&#19981;&#31283;&#23450;&#29366;&#24577;&#65292;&#24182;&#19988;&#22312;&#20840;&#23616;&#32423;&#21035;&#36827;&#34892;&#21516;&#27493;&#20195;&#20215; <span class="emphasis"><em>&#26497;&#20854;</em></span> &#39640;&#26114;&#12290;&#20294;&#26159;&#65292;&#20320;&#21487;&#20197;&#24378;&#21046;&#23545;&#20219;&#20309;Session Bean&#25110;JavaBean&#32452;&#20214;&#37319;&#29992;&#24207;&#21015;&#21270;&#30340;&#32447;&#31243;&#27169;&#22411;&#65292;&#35201;&#20570;&#30340;&#23601;&#26159;&#21152;&#19978; <tt class="literal">@Synchronized</tt> &#27880;&#35299;&#12290;
           </p><p>
                &#24182;&#21457;&#27169;&#22411;&#24847;&#21619;&#30528;AJAX&#23458;&#25143;&#31471;&#21487;&#20197;&#23433;&#20840;&#30340;&#20351;&#29992;&#19981;&#31283;&#23450;&#30340;Session&#21644;&#20250;&#35805;&#29366;&#24577;&#65292;&#24182;&#19988;&#19981;&#38656;&#35201;&#24320;&#21457;&#32773;&#20570;&#20219;&#20309;&#29305;&#21035;&#30340;&#24037;&#20316;&#12290;
           </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3150"></a>3.2.&nbsp;Seam &#32452;&#20214;</h2></div></div><div></div></div><p>
            Seam&#32452;&#20214;&#26159;POJO&#65288;Plain Old Java Objects&#65289;&#12290;&#29305;&#21035;&#22320;&#65292;&#20182;&#20204;&#26159;JavaBean&#25110;&#32773;EJB 3.0 enterprise bean&#12290;Seam&#24182;&#19981;&#24378;&#27714;&#32452;&#20214;&#26159;EJB&#65292;&#29978;&#33267;&#21487;&#20197;&#19981;&#20351;&#29992;EJB 3.0&#20860;&#23481;&#30340;&#23481;&#22120;&#65292;Seam&#22312;&#35774;&#35745;&#30340;&#26102;&#20505;&#22788;&#22788;&#32771;&#34385;&#23545;EJB 3.0&#30340;&#25903;&#25345;&#65292;&#24182;&#19988;&#21253;&#21547;&#23545;EJB 3.0&#30340;&#28145;&#24230;&#25972;&#21512;&#12290;
       </p><div class="itemizedlist"><ul type="disc"><li><p>EJB 3.0 stateless Session Beans</p></li><li><p>EJB 3.0 stateful Session Beans</p></li><li><p>EJB 3.0 entity beans</p></li><li><p>JavaBeans</p></li><li><p>EJB 3.0 message-driven beans</p></li></ul></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3171"></a>3.2.1.&nbsp;&#26080;&#29366;&#24577;Session Bean</h3></div></div><div></div></div><p>
                &#26080;&#29366;&#24577;Session Bean&#32452;&#20214;&#26080;&#27861;&#22312;&#22810;&#27425;&#35843;&#29992;&#20043;&#38388;&#20445;&#25345;&#29366;&#24577;&#12290;&#22240;&#27492;&#65292;&#23427;&#20204;&#36890;&#24120;&#22312;&#19981;&#21516;&#30340;Seam&#19978;&#19979;&#25991;&#20013;&#65292;&#25805;&#20316;&#20854;&#20182;&#32452;&#20214;&#30340;&#29366;&#24577;&#12290;&#20182;&#20204;&#21487;&#20197;&#20316;&#20026;JSF&#30340;action listener&#65292;&#20294;&#26159;&#19981;&#33021;&#20026;JSF&#32452;&#20214;&#30340;&#26174;&#31034;&#25552;&#20379;&#23646;&#24615;&#12290;
           </p><p>
           &#22240;&#20026;&#27599;&#27425;&#35831;&#27714;&#37117;&#20135;&#29983;&#19968;&#20010;&#26032;&#30340;&#23454;&#20363;&#65292;&#26080;&#29366;&#24577;session bean&#21487;&#20197;&#24182;&#21457;&#35775;&#38382;&#12290;&#25226;&#20854;&#23454;&#20363;&#21644;&#35831;&#27714;&#30456;&#20851;&#32852;&#26159;EJB3&#23481;&#22120;&#30340;&#36131;&#20219;&#65288;&#36890;&#24120;&#36825;&#20123;&#23454;&#20363;&#20250;&#20174;&#19968;&#20010;&#21487;&#37325;&#29992;&#30340;&#27744;&#20013;&#20998;&#37197;&#65292;&#25152;&#20197;&#20320;&#21487;&#33021;&#20250;&#21457;&#29616;&#26576;&#20123;&#23454;&#20363;&#21464;&#37327;&#36824;&#20445;&#23384;&#30528;&#19978;&#27425;&#20351;&#29992;&#30340;&#30165;&#36857;&#12290;&#65289;
           </p><p>
                &#26080;&#29366;&#24577;Session Bean&#24635;&#26159;&#29983;&#27963;&#22312;&#26080;&#29366;&#24577;&#19978;&#19979;&#25991;&#20013;&#12290;
           </p><p>
                &#26080;&#29366;&#24577;Session Bean&#26159;Seam&#32452;&#20214;&#20013;&#26368;&#27809;&#36259;&#30340;&#20102;&#12290;
           </p><p>
				Seam&#26080;&#29366;&#24577;Session Bean&#32452;&#20214;&#21487;&#20197;&#20351;&#29992; <tt class="literal">Component.getInstance()</tt> &#25110;&#32773; <tt class="literal">@In(create=true)</tt> &#23454;&#20363;&#21270;&#12290;&#23427;&#20204;&#19981;&#33021;&#30452;&#25509;&#20351;&#29992;JNDI&#25110;&#32773; <tt class="literal">new</tt> &#25805;&#20316;&#23454;&#20363;&#21270;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3193"></a>3.2.2.&nbsp;&#26377;&#29366;&#24577;Session Bean</h3></div></div><div></div></div><p>
                &#26377;&#29366;&#24577;Session Bean&#19981;&#20165;&#21487;&#20197;&#22312;bean&#30340;&#22810;&#27425;&#35843;&#29992;&#20043;&#38388;&#20445;&#25345;&#29366;&#24577;&#65292;&#32780;&#19988;&#22312;&#22810;&#27425;&#35831;&#27714;&#20043;&#38388;&#20063;&#21487;&#20197;&#20445;&#25345;&#29366;&#24577;&#12290;
                &#19981;&#30001;&#25968;&#25454;&#24211;&#20445;&#23384;&#30340;&#29366;&#24577;&#36890;&#24120;&#24212;&#35813;&#30001;&#26377;&#29366;&#24577;Session Bean&#20445;&#25345;&#12290;&#36825;&#26159;Seam&#21644;&#20854;&#20182;web&#26694;&#26550;&#20043;&#38388;&#30340;&#19968;&#20010;&#26174;&#33879;&#30340;&#19981;&#21516;&#28857;&#12290;
                &#20854;&#20182;&#26694;&#26550;&#25226;&#24403;&#21069;&#20250;&#35805;&#30340;&#20449;&#24687;&#30452;&#25509;&#20445;&#23384;&#22312; <tt class="literal">HttpSession</tt> &#20013;&#65292;&#32780;&#22312;Seam&#20013;&#20320;&#24212;&#35813;&#25226;&#23427;&#20204;&#20445;&#23384;&#22312;&#26377;&#29366;&#24577;Session Bean&#30340;&#23454;&#20363;&#20013;&#65292;&#35813;&#23454;&#20363;&#34987;&#32465;&#23450;&#21040;&#20250;&#35805;&#19978;&#19979;&#25991;&#12290;&#36825;&#21487;&#20197;&#35753;Seam&#26469;&#26367;&#20320;&#31649;&#29702;&#29366;&#24577;&#30340;&#29983;&#21629;&#21608;&#26399;&#65292;&#24182;&#19988;&#20445;&#35777;&#22312;&#22810;&#20010;&#19981;&#21516;&#30340;&#24182;&#21457;&#20250;&#35805;&#20013;&#27809;&#26377;&#29366;&#24577;&#20914;&#31361;&#12290;
           </p><p>
                &#26377;&#29366;&#24577;Session Bean&#32463;&#24120;&#34987;&#20316;&#20026;JSF action listener&#20351;&#29992;&#65292;&#20063;&#21487;&#20197;&#20316;&#20026;JSF&#26174;&#31034;&#25110;&#32773;form&#25552;&#20132;&#30340;backing bean(&#25903;&#25345;bean ,&#25110;&#31216;&#21518;&#21488;bean)&#65292;&#25552;&#20379;&#23646;&#24615;&#20379;&#32452;&#20214;&#35775;&#38382;&#12290;
           </p><p>
                &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#26377;&#29366;&#24577;Session Bean&#20250;&#34987;&#32465;&#23450;&#21040;Conversation Context&#12290;&#23427;&#20204;&#32477;&#19981;&#20250;&#32465;&#23450;&#21040;page&#25110;stateless context&#12290;
           </p><p>
                &#23545;Session&#33539;&#22260;&#30340;&#26377;&#29366;&#24577;Session Bean&#30340;&#24182;&#21457;&#35831;&#27714;&#65292;&#20250;&#34987;Seam&#25353;&#39034;&#24207;&#20018;&#34892;&#22788;&#29702;&#12290;
           </p><p>
				Seam&#26377;&#29366;&#24577;Session Bean&#32452;&#20214;&#21487;&#20197;&#20351;&#29992; <tt class="literal">Component.getInstance()</tt> &#25110;&#32773; <tt class="literal">@In(create=true)</tt> &#23454;&#20363;&#21270;&#12290;&#23427;&#20204;&#19981;&#33021;&#30452;&#25509;&#20351;&#29992;JNDI&#25110;&#32773; <tt class="literal">new</tt> &#25805;&#20316;&#23454;&#20363;&#21270;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3218"></a>3.2.3.&nbsp;&#23454;&#20307;Bean</h3></div></div><div></div></div><p>
                &#23454;&#20307;Bean&#21487;&#20197;&#34987;&#32465;&#23450;&#21040;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#36215;&#21040;Seam&#32452;&#20214;&#30340;&#20316;&#29992;&#12290;&#22240;&#20026;Entity&#38500;&#20102;&#19978;&#19979;&#25991;&#26631;&#35782;&#20043;&#22806;&#65292;&#36824;&#26377;&#25345;&#20037;&#26631;&#35782;&#65292;Entity&#23454;&#20307;&#36890;&#24120;&#26126;&#30830;&#30340;&#30001;Java Code&#32465;&#23450;&#65292;&#32780;&#38750;&#30001;Seam&#38544;&#24615;&#21021;&#22987;&#21270;&#12290;
           </p><p>
                Entity Bean&#23454;&#20307;&#19981;&#25903;&#25345;&#21452;&#21521;&#27880;&#20837;&#25110;&#32773;&#19978;&#19979;&#25991;&#21010;&#20998;&#12290;&#23545;Entity Bean&#30340;&#35843;&#29992;&#20063;&#19981;&#20250;&#35302;&#21457;&#39564;&#35777;&#12290;
           </p><p>
                Entity Bean&#36890;&#24120;&#19981;&#20316;&#20026;JSF&#30340;action listener&#20351;&#29992;&#65292;&#20294;&#32463;&#24120;&#20316;&#20026;JSF&#32452;&#20214;&#29992;&#20110;&#26174;&#31034;&#25110;&#32773;form&#25552;&#20132;&#30340;&#21518;&#21488;bean,&#25552;&#20379;&#23646;&#24615;&#21151;&#33021;&#12290;
                &#29305;&#21035;&#26159;&#65292;&#24403;Entity&#20316;&#20026;&#21518;&#21488;Bean&#30340;&#26102;&#20505;&#65292;&#23427;&#20250;&#21644;&#19968;&#20010;&#26080;&#29366;&#24577;Session Bean&#25198;&#28436;&#30340;action listener&#32852;&#29992;&#65292;&#26469;&#23454;&#29616;CRUD&#20043;&#31867;&#30340;&#21151;&#33021;&#12290;
           </p><p>
                &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Entity Bean&#34987;&#32465;&#23450;&#21040;Conversation Context&#12290;&#20182;&#20204;&#27704;&#36828;&#19981;&#33021;&#34987;&#32465;&#23450;&#21040;&#26080;&#29366;&#24577;Context&#12290;
           </p><p>
                &#27880;&#24847;&#65292;&#22312;&#38598;&#32676;&#29615;&#22659;&#20013;&#65292;&#25226;Entity Bean&#30452;&#25509;&#32465;&#23450;&#21040;Conversation&#25110;&#32773;Session&#33539;&#22260;&#30340;Seam&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#19982;&#22312;&#26377;&#29366;&#24577;Session Bean&#20013;&#20445;&#25345;&#19968;&#20010;&#23545;Entity Bean&#30340;&#24341;&#29992;&#30456;&#27604;&#65292;&#24615;&#33021;&#27604;&#36739;&#24046;&#12290;&#22240;&#27492;&#65292;&#24182;&#38750;&#25152;&#26377;&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#37117;&#20250;&#25226;Entity Bean&#23450;&#20041;&#20026;Seam&#32452;&#20214;&#12290;
           </p><p>
				Seam&#23454;&#20307;Bean&#32452;&#20214;&#21487;&#20197;&#20351;&#29992; <tt class="literal">Component.getInstance()</tt>&#12289;<tt class="literal">@In(create=true)</tt> &#25110;&#32773;&#30452;&#25509;&#20351;&#29992; <tt class="literal">new</tt> &#25805;&#20316;&#26469;&#23454;&#20363;&#21270;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3242"></a>3.2.4.&nbsp;JavaBeans</h3></div></div><div></div></div><p>
                JavaBeans&#21487;&#20197;&#20687;&#26080;&#29366;&#24577;&#25110;&#32773;&#26377;&#29366;&#24577;Session Bean&#37027;&#26679;&#20351;&#29992;&#12290;&#20294;&#26159;&#65292;&#23427;&#20204;&#19981;&#33021;&#25552;&#20379;Session Bean&#37027;&#20040;&#22810;&#30340;&#21151;&#33021;&#65288;&#22768;&#26126;&#24335;&#20107;&#21153;&#21010;&#20998;&#12289;&#22768;&#26126;&#24335;&#23433;&#20840;&#24615;&#12289;&#39640;&#25928;&#30340;&#38598;&#32676;&#29366;&#24577;&#22797;&#21046;&#12289;EJB 3.0&#25345;&#20037;&#21270;&#12289;&#36229;&#26102;&#26041;&#27861;&#31561;&#31561;&#65289;&#12290;
           </p><p>
                &#22312;&#21518;&#38754;&#26377;&#19968;&#31456;&#65292;&#25105;&#20204;&#20250;&#23637;&#31034;&#22914;&#20309;&#22312;&#27809;&#26377;EJB&#23481;&#22120;&#30340;&#24773;&#20917;&#19979;&#20351;&#29992;Seam&#21644;Hibernate&#12290;&#27492;&#26102;&#65292;&#32452;&#20214;&#26159;JavaBeans&#65292;&#32780;&#38750;Session Beans&#12290;
                &#20294;&#26159;&#27880;&#24847;&#65292;&#22312;&#24456;&#22810;&#24212;&#29992;&#26381;&#21153;&#22120;&#20013;&#65292;&#23545;Conversation&#25110;Session &#33539;&#22260;&#30340;Seam JavaBean&#32452;&#20214;&#38598;&#32676;&#25805;&#20316;&#65292;&#35201;&#27604;&#23545;&#26377;&#29366;&#24577;Session Bean&#32452;&#20214;&#38598;&#32676;&#24930;&#12290;
           </p><p>
                &#40664;&#35748;&#65292;JavaBeans&#26159;&#32465;&#23450;&#21040;Event Context&#30340;&#12290;
           </p><p>
                &#23545;Session&#33539;&#22260;&#30340;JavaBeans&#30340;&#24182;&#21457;&#35831;&#27714;&#24635;&#26159;&#20250;&#34987;Seam&#36716;&#21270;&#20026;&#20018;&#34892;&#25191;&#34892;&#12290;
           </p><p>
	Seam JavaBean&#32452;&#20214;&#21487;&#20197;&#20351;&#29992; <tt class="literal">Component.getInstance()</tt>&#12289;<tt class="literal">@In(create=true)</tt> &#25110;&#32773;&#30452;&#25509;&#20351;&#29992; <tt class="literal">new</tt> &#25805;&#20316;&#26469;&#23454;&#20363;&#21270;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3264"></a>3.2.5.&nbsp;&#28040;&#24687;&#39537;&#21160;Bean</h3></div></div><div></div></div><p>
                &#28040;&#24687;&#39537;&#21160;Bean&#36890;&#24120;&#20316;&#20026;Seam&#32452;&#20214;&#12290;&#20294;&#26159;&#65292;&#28040;&#24687;&#39537;&#21160;Bean&#19982;&#20854;&#20182;Seam&#32452;&#20214;&#30340;&#35843;&#29992;&#26041;&#24335;&#38750;&#24120;&#19981;&#21516;&#8212;&#8212;&#23427;&#20204;&#24182;&#38750;&#36890;&#36807;Context&#21464;&#37327;&#35843;&#29992;&#65292;&#23427;&#20204;&#20250;&#30417;&#21548;&#21457;&#36865;&#21040;JMS Queue&#25110;&#32773;Topic&#30340;&#28040;&#24687;&#12290;
           </p><p>
                &#28040;&#24687;&#39537;&#21160;Bean&#19981;&#33021;&#34987;&#32465;&#23450;&#21040;Seam&#19978;&#19979;&#25991;&#12290;&#23427;&#20204;&#20063;&#19981;&#33021;&#35775;&#38382;&#23427;&#20204;&#30340;&#8220;&#35843;&#29992;&#32773;&#8221;&#30340;Session&#25110;&#32773;&#20250;&#35805;&#29366;&#24577;&#12290;&#20294;&#26159;&#65292;&#23427;&#20204;&#25903;&#25345;&#21452;&#21521;&#27880;&#20837;&#21644;&#19968;&#20123;&#20854;&#20182;&#30340;Seam&#21151;&#33021;&#12290;
           </p><p>
				&#28040;&#24687;&#39537;&#21160;Bean&#19981;&#20250;&#34987;&#24212;&#29992;&#23454;&#20363;&#21270;&#65292;&#23427;&#26159;&#22312;&#25509;&#21463;&#21040;&#19968;&#26465;&#28040;&#24687;&#26102;&#30001;EJB&#23481;&#22120;&#26469;&#23436;&#25104;&#23454;&#20363;&#21270;&#30340;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3273"></a>3.2.6.&nbsp;&#25318;&#25130;</h3></div></div><div></div></div><p>
                &#20026;&#20102;&#34920;&#28436;Seam&#30340;&#39764;&#26415;&#65288;&#21452;&#21521;&#27880;&#20837;&#65292;&#19978;&#19979;&#25991;&#21010;&#20998;&#65292;&#26657;&#39564;&#31561;&#65289;&#65292;&#23427;&#24517;&#39035;&#23545;&#32452;&#20214;&#35843;&#29992;&#36827;&#34892;&#25318;&#25130;&#12290;
                &#23545;JavaBean&#32780;&#35328;&#65292;Seam&#21487;&#20197;&#23436;&#20840;&#25511;&#21046;&#32452;&#20214;&#30340;&#21021;&#22987;&#21270;&#65292;&#19981;&#38656;&#35201;&#29305;&#21035;&#30340;&#37197;&#32622;&#12290;&#23545;&#20110;Entity Bean&#65292;&#20063;&#19981;&#38656;&#35201;&#25318;&#25130;&#22120;&#65292;&#22240;&#20026;&#21452;&#21521;&#27880;&#20837;&#21644;&#19978;&#19979;&#25991;&#21010;&#20998;&#19981;&#36215;&#20316;&#29992;&#12290;
                &#23545;Session Bean&#65292;&#25105;&#20204;&#24517;&#39035;&#20026;&#23427;&#27880;&#20876;EJB&#25318;&#25130;&#22120;&#12290;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;&#27880;&#35299;&#65292;&#27604;&#22914;&#65306;
           </p><pre class="programlisting">@Stateless
@Interceptors(SeamInterceptor.class)
public class LoginAction implements Login {
    ...
}</pre><p>
                &#20294;&#26159;&#26356;&#22909;&#30340;&#21150;&#27861;&#26159;&#22312; <tt class="literal">ejb-jar.xml</tt> &#20013;&#23450;&#20041;&#25318;&#25130;&#22120;&#12290;
           </p><pre class="programlisting">&lt;interceptors&gt;
   &lt;interceptor&gt;
      &lt;interceptor-class&gt;org.jboss.seam.ejb.SeamInterceptor&lt;/interceptor-class&gt;
   &lt;/interceptor&gt;
&lt;/interceptors&gt;

&lt;assembly-descriptor&gt;
   &lt;interceptor-binding&gt;
      &lt;ejb-name&gt;*&lt;/ejb-name&gt;
      &lt;interceptor-class&gt;org.jboss.seam.ejb.SeamInterceptor&lt;/interceptor-class&gt;
   &lt;/interceptor-binding&gt;
&lt;/assembly-descriptor&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3287"></a>3.2.7.&nbsp;&#32452;&#20214;&#21517;&#23383;</h3></div></div><div></div></div><p>
                &#25152;&#26377;Seam&#32452;&#20214;&#37117;&#38656;&#35201;&#21517;&#23383;&#12290;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807; <tt class="literal">@Name</tt> &#27880;&#35299;&#26469;&#21629;&#21517;&#32452;&#20214;&#65306;
           </p><pre class="programlisting">@Name("loginAction")
@Stateless
public class LoginAction implements Login {
    ...
}</pre><p>
                &#36825;&#20010;&#21517;&#23383;&#26159; <span class="emphasis"><em>seam component name</em></span>&#65292;&#21644;EJB&#35268;&#33539;&#23450;&#20041;&#30340;&#20219;&#20309;&#20854;&#20182;&#21517;&#23383;&#37117;&#27809;&#26377;&#20851;&#31995;&#12290;
                &#20294;&#26159;&#65292;Seam&#32452;&#20214;&#21517;&#23383;&#23601;&#30456;&#24403;&#20110;JSF&#31649;&#29702;&#30340;Bean Name&#30340;&#21517;&#23383;&#65292;&#22240;&#27492;&#65292;&#21487;&#20197;&#29702;&#35299;&#20026;&#36825;&#20004;&#20010;&#27010;&#24565;&#26159;&#31561;&#21516;&#30340;&#12290;
           </p><p>
                <tt class="literal">@Name</tt> &#19981;&#26159;&#23450;&#20041;&#32452;&#20214;&#21517;&#31216;&#30340;&#21807;&#19968;&#26041;&#24335;&#65292;&#20294;&#26159;&#25105;&#20204;&#24635;&#24471;&#35201;&#22312; <span class="emphasis"><em>&#26576;&#20010;&#22320;&#26041;</em></span> &#26469;&#25351;&#23450;&#21517;&#23383;&#12290;
                &#21542;&#21017;&#65292;Seam &#25152;&#26377;&#30340;&#27880;&#35299;&#37096;&#20998;&#23601;&#26080;&#27861;&#24037;&#20316;&#12290;
           </p><p>
                &#23601;&#22914;&#21516;&#22312;JSF&#20013;&#65292;Seam&#32452;&#20214;&#23454;&#20363;&#32465;&#23450;&#25104;&#19978;&#19979;&#25991;&#21464;&#37327;&#26102;&#65292;&#20854;&#21517;&#23383;&#36890;&#24120;&#21644;&#32452;&#20214;&#21517;&#30456;&#21516;&#12290;
                &#22240;&#27492;&#65292;&#20363;&#22914;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807; <tt class="literal">Contexts.getStatelessContext().get("loginAction")</tt> &#26469;&#35775;&#38382; <tt class="literal">LoginAction</tt>&#12290;
                &#29305;&#21035;&#26159;&#65292;&#19981;&#31649;Seam&#33258;&#24049;&#20309;&#26102;&#21021;&#22987;&#21270;&#19968;&#20010;&#32452;&#20214;&#65292;&#23427;&#23558;&#36825;&#20010;&#26032;&#23454;&#20363;&#20197;&#32452;&#20214;&#30340;&#21517;&#23383;&#32465;&#23450;&#25104;&#19968;&#20010;&#21464;&#37327;&#12290;
                &#20294;&#26159;&#65292;&#21448;&#21644;JSF&#19968;&#26679;&#65292;&#24212;&#29992;&#31243;&#24207;&#20063;&#21487;&#20197;&#25226;&#32452;&#20214;&#32465;&#23450;&#25104;&#20854;&#20182;&#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#21482;&#38656;&#36890;&#36807;API&#32534;&#31243;&#35843;&#29992;&#12290;
                &#20363;&#22914;&#65292;&#24403;&#21069;&#30331;&#24405;&#30340;&#29992;&#25143;&#65288;<tt class="literal">User</tt>&#65289;&#21487;&#20197;&#34987;&#32465;&#23450;&#25104;&#20026;Session&#19978;&#19979;&#25991;&#20013;&#30340; <tt class="literal">currentUser</tt> &#21464;&#37327;&#65292;&#32780;&#21516;&#26102;&#65292;&#21478;&#19968;&#20010;&#29992;&#20316;&#26576;&#31181;&#31649;&#29702;&#21151;&#33021;&#30340;&#29992;&#25143;&#21017;&#34987;&#32465;&#23450;&#25104;&#23545;&#35805;&#19978;&#19979;&#25991;&#30340; <tt class="literal">user</tt> &#21464;&#37327;&#12290;
           </p><p>
                &#23545;&#38750;&#24120;&#22823;&#22411;&#30340;&#24212;&#29992;&#31243;&#24207;&#65292;&#32463;&#24120;&#20351;&#29992;&#20840;&#38480;&#23450;&#21517;&#65307;&#20869;&#32622;&#30340;Seam&#32452;&#20214;&#23601;&#26159;&#36825;&#26679;&#12290;
           </p><pre class="programlisting">@Name("com.jboss.myapp.loginAction")
@Stateless
@Interceptors(SeamInterceptor.class)
public class LoginAction implements Login {
    ...
}</pre><p>
               &#25105;&#20204;&#21487;&#20197;&#22312;Java&#20195;&#30721;&#21644;JSF&#34920;&#36798;&#24335;&#35821;&#35328;&#20013;&#20351;&#29992;&#20840;&#38480;&#23450;&#30340;&#32452;&#20214;&#21517;&#31216;&#12290;
           </p><pre class="programlisting">&lt;h:commandButton type="submit" value="Login"
                 action="#{com.jboss.myapp.loginAction.login}"/&gt;</pre><p>
                &#36825;&#24456;&#21872;&#21990;&#65292;Seam&#20063;&#25552;&#20379;&#20102;&#25226;&#20840;&#38480;&#23450;&#21517;&#31616;&#20889;&#30340;&#21150;&#27861;&#12290;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#21152;&#20837;&#31867;&#20284;&#36825;&#26679;&#30340;&#19968;&#34892;&#65306;
           </p><pre class="programlisting">&lt;factory name="loginAction" scope="STATELESS" value="#{com.jboss.myapp.loginAction}"/&gt;</pre><p>
                &#25152;&#26377;&#30340;Seam&#20869;&#32622;&#32452;&#20214;&#37117;&#26377;&#20840;&#38480;&#23450;&#21517;&#65292;&#20294;&#22823;&#22810;&#25968;&#37117;&#22312;Seam jar&#25991;&#20214;&#30340; <tt class="literal">components.xml</tt> &#20013;&#31616;&#20889;&#20026;&#31616;&#21333;&#30340;&#21517;&#23383;&#12290;
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3347"></a>3.2.8.&nbsp;&#23450;&#20041;&#32452;&#20214;&#33539;&#22260;&#65288;Defining the Component Scope&#65289;</h3></div></div><div></div></div><p>
                &#25105;&#20204;&#21487;&#20197;&#20351;&#29992; <tt class="literal">@Scope</tt> &#27880;&#35299;&#26469;&#35206;&#30422;&#40664;&#35748;&#30340;&#32452;&#20214;&#33539;&#22260;&#65288;&#19978;&#19979;&#25991;&#65289;&#12290;&#36825;&#21487;&#20197;&#35753;&#25105;&#20204;&#23450;&#20041;&#32452;&#20214;&#23454;&#20363;&#34987;Seam&#21021;&#22987;&#21270;&#21518;&#32465;&#23450;&#21040;&#30340;&#20855;&#20307;&#19978;&#19979;&#25991;&#12290;
           </p><pre class="programlisting">@Name("user")
@Entity
@Scope(SESSION)
public class User {
    ...
}</pre><p>
                <tt class="literal">org.jboss.seam.ScopeType</tt>&#23450;&#20041;&#20102;&#21487;&#33021;&#33539;&#22260;&#30340;&#26522;&#20030;.
           </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3362"></a>3.2.9.&nbsp;&#20855;&#26377;&#22810;&#20010;&#35282;&#33394;&#30340;&#32452;&#20214;&#65288;Components with multiple roles&#65289;</h3></div></div><div></div></div><p>
                &#26377;&#20123;Seam&#32452;&#20214;&#31867;&#21487;&#20197;&#22312;&#31995;&#32479;&#20013;&#20855;&#26377;&#22810;&#20010;&#35282;&#33394;&#12290;&#20363;&#22914;&#65292;&#25105;&#20204;&#32463;&#24120;&#26377;&#19968;&#20010; <tt class="literal">User</tt> &#31867;&#29992;&#20316;Session-Scoped&#32452;&#20214;&#65292;&#20195;&#34920;&#24403;&#21069;&#29992;&#25143;&#65292;&#21516;&#26102;&#23427;&#21448;&#22312;&#29992;&#25143;&#31649;&#29702;&#30028;&#38754;&#20013;&#34987;&#29992;&#20316;Conversation-Scoped&#32452;&#20214;&#12290;<tt class="literal">@Role</tt> &#27880;&#35299;&#35753;&#25105;&#20204;&#21487;&#20197;&#23450;&#20041;&#32452;&#20214;&#22312;&#21478;&#19968;&#20010;&#33539;&#22260;&#20013;&#30340;&#39069;&#22806;&#35282;&#33394;&#21517; &#8212;&#8212; &#36825;&#21487;&#20197;&#35753;&#25105;&#20204;&#25226;&#30456;&#21516;&#30340;&#32452;&#20214;&#31867;&#32465;&#23450;&#25104;&#19981;&#21516;&#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;&#65288;&#20219;&#20309;Seam&#32452;&#20214; <span class="emphasis"><em>&#23454;&#20363;</em></span> &#37117;&#21487;&#20197;&#34987;&#32465;&#23450;&#21040;&#22810;&#20010;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#20294;@Role&#20351;&#24471;&#25105;&#20204;&#20063;&#21487;&#20197;&#22312;&#31867;&#30340;&#32423;&#21035;&#20570;&#21040;&#36825;&#19968;&#28857;&#65292;&#20174;&#32780;&#20139;&#21463;&#33258;&#21160;&#23454;&#20363;&#21270;&#30340;&#20248;&#28857;&#12290;&#65289;
           </p><pre class="programlisting">@Name("user")
@Entity
@Scope(CONVERSATION)
@Role(name="currentUser", scope=SESSION)
public class User {
    ...
}</pre><p>
                <tt class="literal">@Roles</tt> &#27880;&#35299;&#21487;&#20197;&#35753;&#25105;&#20204;&#20026;&#32452;&#20214;&#25351;&#23450;&#20219;&#24847;&#22810;&#30340;&#38468;&#21152;&#35282;&#33394;&#12290;
           </p><pre class="programlisting">@Name("user")
@Entity
@Scope(CONVERSATION)
@Roles({@Role(name="currentUser", scope=SESSION),
        @Role(name="tempUser", scope=EVENT)})
public class User {
    ...
}</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3385"></a>3.2.10.&nbsp;&#20869;&#32622;&#32452;&#20214;</h3></div></div><div></div></div><p>
                &#21644;&#24456;&#22810;&#20248;&#31168;&#30340;&#26694;&#26550;&#19968;&#26679;&#65292;Seam&#33258;&#20135;&#33258;&#29992;&#65292;&#20027;&#35201;&#23454;&#29616;&#20102;&#19968;&#31995;&#21015;&#30340;&#20869;&#32622;Seam&#25318;&#25130;&#22120;&#65288;&#21518;&#25991;&#35814;&#36848;&#65289;&#21644;Seam&#32452;&#20214;&#12290;&#36825;&#35753;&#24212;&#29992;&#31243;&#24207;&#22312;&#36816;&#34892;&#26102;&#21644;&#20869;&#32622;&#30340;&#32452;&#20214;&#20132;&#20114;&#21464;&#24471;&#24456;&#23481;&#26131;&#65292;&#29978;&#33267;&#21487;&#20197;&#29992;&#33258;&#24049;&#32534;&#20889;&#30340;&#23454;&#29616;&#26469;&#26367;&#25442;&#25481;&#20869;&#32622;&#32452;&#20214;&#65292;&#30001;&#27492;&#26469;&#23450;&#21046;Seam&#30340;&#22522;&#26412;&#21151;&#33021;&#12290;&#20869;&#32622;&#32452;&#20214;&#22312; <tt class="literal">org.jboss.seam.core</tt> &#36825;&#20010;Seam &#21629;&#21517;&#31354;&#38388;&#20013;&#23450;&#20041;&#65292;Java&#21253;&#21517;&#20063;&#26159;&#30456;&#21516;&#30340;&#12290;
           </p><p>
&#20687;&#25152;&#26377;Seam&#32452;&#20214;&#19968;&#26679;&#65292;&#20869;&#32622;&#32452;&#20214;&#20063;&#21487;&#20197;&#34987;&#27880;&#23556;&#65292;&#20294;&#26159;&#23427;&#20204;&#20063;&#25552;&#20379;&#20102;&#20415;&#21033;&#30340;<tt class="literal">instance()</tt>&#38745;&#24577;&#26041;&#27861;&#65306;
           </p><pre class="programlisting">FacesMessages.instance().add("Welcome back, #{user.name}!");</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3400"></a>3.3.&nbsp;&#21452;&#21521;&#27880;&#20837;</h2></div></div><div></div></div><p>
            <span class="emphasis"><em>Dependency injection&#65288;&#20381;&#36182;&#27880;&#20837;&#65289;</em></span> &#21644; <span class="emphasis"><em>inversion of control&#65288;&#25511;&#21046;&#21453;&#36716;&#65289;</em></span> &#29616;&#22312;&#23545;&#22823;&#22810;&#25968;Java &#24320;&#21457;&#32773;&#26469;&#35828;&#37117;&#26159;&#29087;&#24713;&#30340;&#27010;&#24565;&#20102;&#12290;&#20381;&#36182;&#27880;&#20837;&#20801;&#35768;&#19968;&#20010;&#32452;&#20214;&#36890;&#36807;&#23481;&#22120;&#8220;&#27880;&#20837;&#8221;&#21478;&#19968;&#20010;&#32452;&#20214;&#21040;&#19968;&#20010;setter&#26041;&#27861;&#25110;&#32773;&#23454;&#20363;&#21464;&#37327;&#30340;&#26041;&#24335;&#65292;&#26469;&#33719;&#24471;&#34987;&#8220;&#27880;&#20837;&#8221;&#32452;&#20214;&#30340;&#24341;&#29992;(reference)&#12290;&#25105;&#20204;&#20043;&#21069;&#30475;&#36807;&#30340;&#25152;&#26377;&#20381;&#36182;&#27880;&#20837;&#30340;&#23454;&#29616;&#65292;&#27880;&#20837;&#21457;&#29983;&#22312;&#32452;&#20214;&#21019;&#24314;&#30340;&#26102;&#20505;&#65292;&#22312;&#27492;&#21518;&#23454;&#20363;&#30340;&#25972;&#20010;&#29983;&#21629;&#21608;&#26399;&#20013;&#19981;&#20877;&#25913;&#21464;&#12290;&#23545;&#26080;&#29366;&#24577;&#32452;&#20214;&#65292;&#36825;&#20040;&#20570;&#26159;&#26377;&#36947;&#29702;&#30340;&#12290;&#20174;&#23458;&#25143;&#31471;&#30340;&#35282;&#24230;&#26469;&#30475;&#65292;&#29305;&#23450;&#31181;&#31867;&#30340;&#26080;&#29366;&#24577;&#32452;&#20214;&#30340;&#25152;&#26377;&#23454;&#20363;&#37117;&#26159;&#21487;&#20197;&#26367;&#25442;&#30340;&#12290;&#21478;&#19968;&#26041;&#38754;&#65292;Seam&#30528;&#37325;&#22788;&#29702;&#26377;&#29366;&#24577;&#32452;&#20214;&#12290;&#27492;&#26102;&#20256;&#32479;&#30340;&#20381;&#36182;&#27880;&#20837;&#19981;&#20877;&#26159;&#38750;&#24120;&#26377;&#25928;&#20102;&#12290;Seam&#24341;&#20837;&#20102; <span class="emphasis"><em>bijection&#65288;&#21452;&#21521;&#27880;&#20837;&#65289;</em></span> &#36825;&#20010;&#21517;&#35789;&#65292;&#29992;&#26469;&#20316;&#20026;&#27880;&#20837;&#30340;&#24191;&#20041;&#27010;&#25324;&#12290;&#21644;injection&#65288;&#21333;&#21521;&#27880;&#20837;&#65289;&#23545;&#27604;&#65292;bijection&#26159;&#65306;
       </p><div class="itemizedlist"><ul type="disc"><li><p>
                    <span class="emphasis"><em>contextual&#65288;&#19978;&#19979;&#25991;&#30456;&#20851;&#30340;&#65289;</em></span> - &#21452;&#21521;&#27880;&#20837;&#29992;&#26469;&#38024;&#23545;&#19981;&#21516;&#30340;&#19978;&#19979;&#25991;&#26469;&#32452;&#35013;&#26377;&#29366;&#24577;&#32452;&#20214;&#65288;&#22312;&#36739;&#22823;&#33539;&#22260;&#30340;&#19978;&#19979;&#25991;&#20013;&#30340;&#32452;&#20214;&#65292;&#21487;&#20197;&#24341;&#29992;&#36739;&#23567;&#33539;&#22260;&#19978;&#19979;&#25991;&#20013;&#30340;&#32452;&#20214;&#65289;
               </p></li><li><p>
                    <span class="emphasis"><em>bidirectional&#65288;&#21452;&#21521;&#30340;&#65289;</em></span> - &#34987;&#35302;&#21457;&#21518;&#65292;&#20540;&#20174;&#19978;&#19979;&#25991;&#21464;&#37327;&#20013;&#27880;&#23556;&#21040;&#32452;&#20214;&#23646;&#24615;&#20013;&#65292;&#20063;&#21487;&#20197;&#20174;&#32452;&#20214;&#23646;&#24615;<span class="emphasis"><em>outjected&#65288;&#21453;&#21521;&#27880;&#20837;&#65289;</em></span> &#22238;&#19978;&#19979;&#25991;,&#36825;&#26679;&#34987;&#35843;&#29992;&#30340;&#32452;&#20214;&#21487;&#20197;&#21482;&#36890;&#36807;&#25913;&#20889;&#33258;&#24049;&#30340;&#23454;&#20363;&#21464;&#37327;&#23601;&#21516;&#26102;&#25805;&#20316;&#20102;&#19978;&#19979;&#25991;&#21464;&#37327;&#30340;&#20540;
               </p></li><li><p>
                    <span class="emphasis"><em>dynamic&#65288;&#21160;&#24577;&#30340;&#65289;</em></span> - &#22240;&#20026;&#19978;&#19979;&#25991;&#21464;&#37327;&#30340;&#20540;&#38543;&#30528;&#26102;&#38388;&#19981;&#26029;&#25913;&#21464;&#65292;&#32780;&#19988;&#22240;&#20026;Seam&#32452;&#20214;&#26159;&#26377;&#29366;&#24577;&#30340;&#65292;&#21452;&#21521;&#27880;&#20837;&#22312;&#27599;&#27425;&#32452;&#20214;&#34987;&#35843;&#29992;&#30340;&#26102;&#20505;&#37117;&#21457;&#29983;&#12290;
               </p></li></ul></div><p>
            &#22522;&#26412;&#19978;&#65292;&#36890;&#36807;&#35774;&#32622;&#23454;&#20363;&#21464;&#37327;&#26159;&#38656;&#35201;&#27880;&#20837;&#12289;&#21453;&#21521;&#27880;&#20837;&#12289;&#36824;&#26159;&#20108;&#32773;&#30342;&#26159;&#65292;&#21452;&#21521;&#27880;&#20837;&#35753;&#20320;&#23558;&#19978;&#19979;&#25991;&#21464;&#37327;&#26144;&#23556;&#21040;&#32452;&#20214;&#23454;&#20363;&#21464;&#37327;&#12290;&#24403;&#28982;&#65292;&#25105;&#20204;&#20351;&#29992;&#27880;&#35299;&#26469;&#35774;&#32622;&#21452;&#21521;&#27880;&#20837;&#12290;
       </p><p>
             <tt class="literal">@In</tt> &#27880;&#35299;&#25351;&#26126;&#24212;&#35813;&#27880;&#20837;&#20540;&#65292;&#21487;&#33021;&#26159;&#27880;&#20837;&#23454;&#20363;&#21464;&#37327;&#65306;
       </p><pre class="programlisting">@Name("loginAction")
@Stateless
public class LoginAction implements Login {
    @In User user;
    ...
}</pre><p>
            &#25110;&#32773;&#27880;&#20837;setter&#26041;&#27861;&#65306;
       </p><pre class="programlisting">@Name("loginAction")
@Stateless
public class LoginAction implements Login {
    User user;

    @In
    public void setUser(User user) {
        this.user=user;
    }

    ...
}</pre><p>
            &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#38024;&#23545;&#34987;&#27880;&#20837;&#30340;&#23646;&#24615;&#25110;&#32773;&#23454;&#20363;&#21464;&#37327;&#21517;&#65292; Seam&#20250;&#23545;&#25152;&#26377;&#30340;&#19978;&#19979;&#25991;&#36827;&#34892;&#20248;&#20808;&#32423;&#25628;&#32034;&#12290;
            &#22914;&#26524;&#20320;&#24076;&#26395;&#26126;&#30830;&#25351;&#23450;&#19978;&#19979;&#25991;&#21464;&#37327;&#21517;&#65292;&#21487;&#20197;&#36825;&#26679;&#20889;&#65306;<tt class="literal">@In("currentUser")</tt>&#12290;
       </p><p>
            &#22914;&#26524;&#27809;&#26377;&#32452;&#20214;&#23454;&#20363;&#32465;&#23450;&#21040;&#20855;&#21517;&#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#20320;&#21487;&#33021;&#24076;&#26395;Seam&#21019;&#24314;&#19968;&#20010;&#65292;&#20320;&#21487;&#20197;&#25351;&#23450; <tt class="literal">@In(create=true)</tt>&#12290;
            &#22914;&#26524;&#20540;&#26159;&#21487;&#36873;&#30340;&#65288;&#21487;&#20197;&#20026;null&#65289;&#65292;&#35831;&#25351;&#23450; <tt class="literal">@In(required=false)</tt>&#12290;
       </p><p>
            &#23545;&#20110;&#26576;&#20123;&#32452;&#20214;&#65292;&#21040;&#22788;&#25351;&#23450; <tt class="literal">@In(create=true)</tt> &#26159;&#24456;&#32321;&#29712;&#30340;&#12290;
            &#20320;&#21487;&#20197;&#27880;&#35299;&#25972;&#20010;&#32452;&#20214;&#20026; <tt class="literal">@AutoCreate</tt>&#65292;&#23427;&#23601;&#20250;&#22312;&#20219;&#20309;&#38656;&#35201;&#30340;&#26102;&#20505;&#33258;&#21160;&#21019;&#24314;&#65292;&#19981;&#38656;&#35201;&#26126;&#30830;&#30340;&#25351;&#23450; <tt class="literal">create=true</tt>&#12290;
       </p><p>
            &#20320;&#36824;&#21487;&#20197;&#27880;&#20837;&#34920;&#36798;&#24335;&#30340;&#20540;&#65306;
       </p><pre class="programlisting">@Name("loginAction")
@Stateless
public class LoginAction implements Login {
    @In("#{user.username}") String username;
    ...
}</pre><p>
            &#65288;&#22312;&#19979;&#19968;&#31456;&#65292;&#26377;&#26356;&#22810;&#30340;&#20851;&#20110;&#32452;&#20214;&#29983;&#21629;&#21608;&#26399;&#21644;&#27880;&#23556;&#30340;&#20869;&#23481;&#12290;&#65289;
       </p><p>
            <tt class="literal">@Out</tt> &#27880;&#35299;&#25351;&#23450;&#20102;&#26576;&#20010;&#23646;&#24615;&#38656;&#35201;&#23545;&#22806;&#27880;&#20837;&#65292;&#21487;&#33021;&#26159;&#20174;&#23454;&#20363;&#21464;&#37327;&#65306;
       </p><pre class="programlisting">@Name("loginAction")
@Stateless
public class LoginAction implements Login {
    @Out User user;
    ...
}</pre><p>
            &#25110;&#32773;&#20174;&#26576;&#20010;getter&#26041;&#27861;&#65306;
       </p><pre class="programlisting">@Name("loginAction")
@Stateless
@Interceptors(SeamInterceptor.class)
public class LoginAction implements Login {
    User user;

    @Out
    public User getUser() {
        return user;
    }

    ...
}</pre><p>
            &#23646;&#24615;&#21487;&#20197;&#26082;&#26159;&#34987;&#27880;&#20837;&#30340;&#65292;&#20063;&#21487;&#20197;&#23545;&#22806;&#27880;&#20837;&#65306;
       </p><pre class="programlisting">@Name("loginAction")
@Stateless
public class LoginAction implements Login {
    @In @Out User user;
    ...
}</pre><p>
            &#25110;&#32773;&#65306;
       </p><pre class="programlisting">@Name("loginAction")
@Stateless
public class LoginAction implements Login {
    User user;

    @In
    public void setUser(User user) {
        this.user=user;
    }

    @Out
    public User getUser() {
        return user;
    }

    ...
}</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3498"></a>3.4.&nbsp;Lifecycle methods&#65288;&#29983;&#21629;&#21608;&#26399;&#26041;&#27861;&#65289;</h2></div></div><div></div></div><p>
			Session Bean&#21644;&#23454;&#20307;Bean Seam&#32452;&#20214;&#25903;&#25345;&#25152;&#26377;&#36890;&#29992;&#30340;EJB3.0&#29983;&#21629;&#21608;&#26399;&#22238;&#35843;&#65288;<tt class="literal">@PostConstruct</tt>, <tt class="literal">@PreDestroy</tt>, &#31561;&#31561;&#65289;&#12290;&#20294;&#26159;Seam&#20063;&#21516;&#26679;&#25903;&#25345;JavaBean&#32452;&#20214;&#20351;&#29992;&#20219;&#24847;&#30340;&#36825;&#20123;&#22238;&#35843;&#12290;&#28982;&#32780;&#65292;&#19968;&#20294;&#36825;&#20123;&#27880;&#35299;&#22312;J2EE&#29615;&#22659;&#20013;&#22833;&#25928;&#65292;Seam&#23450;&#20041;&#20102;&#20004;&#20010;&#38468;&#21152;&#32452;&#20214;&#23436;&#25104;&#29983;&#21629;&#21608;&#26399;&#22238;&#35843;&#65292;&#36825;&#31561;&#21516;&#20110; <tt class="literal">@PostConstruct</tt> &#21644; <tt class="literal">@PreDestroy</tt>.
       </p><p>
			<tt class="literal">@Create</tt> &#26041;&#27861;&#22312;Seam&#23454;&#20363;&#21270;&#19968;&#20010;&#32452;&#20214;&#21518;&#34987;&#35843;&#29992;&#12290;&#32452;&#20214;&#21482;&#21487;&#20197;&#23450;&#20041;&#19968;&#20010; <tt class="literal">@Create</tt> &#26041;&#27861;&#12290;
       </p><p>
			<tt class="literal">@Destroy</tt> &#26041;&#27861;&#22312;Seam&#32452;&#20214;&#34987;&#32465;&#23450;&#30340;&#19978;&#19979;&#25991;&#32467;&#26463;&#26102;&#34987;&#35843;&#29992;&#12290;&#32452;&#20214;&#21482;&#21487;&#20197;&#23450;&#20041;&#19968;&#20010; <tt class="literal">@Destroy</tt> &#26041;&#27861;&#12290;
       </p><p>
			&#21478;&#22806;&#65292;&#26377;&#29366;&#24577;Session Bean&#32452;&#20214; <span class="emphasis"><em>&#24517;&#39035;</em></span> &#23450;&#20041;&#19968;&#20010;&#26080;&#21442;&#24182;&#27880;&#35299;&#20026; <tt class="literal">@Remove</tt> &#30340;&#26041;&#27861;&#12290;&#36825;&#20010;&#26041;&#27861;&#22312;&#19978;&#19979;&#25991;&#32467;&#26463;&#26102;&#34987;Seam&#35843;&#29992;&#12290;
       </p><p>
            &#26368;&#21518;&#65292;&#30456;&#20851;&#30340;&#27880;&#35299;&#36824;&#26377; <tt class="literal">@Startup</tt>&#65292;&#23427;&#21487;&#20197;&#29992;&#22312;&#20219;&#20309;Application&#25110;&#32773;Session&#33539;&#22260;&#30340;&#32452;&#20214;&#19978;&#12290;
            <tt class="literal">@Startup</tt> &#27880;&#35299;&#21578;&#35785;Seam&#22312;&#19978;&#19979;&#25991;&#24320;&#22987;&#30340;&#26102;&#20505;&#31435;&#21051;&#21021;&#22987;&#21270;&#32452;&#20214;&#65292;&#32780;&#19981;&#26159;&#22312;&#34987;&#23458;&#25143;&#35775;&#38382;&#30340;&#26102;&#20505;&#25165;&#21019;&#24314;&#12290;
            &#25511;&#21046;startup&#32452;&#20214;&#30340;&#21021;&#22987;&#21270;&#39034;&#24207;&#36890;&#36807;&#25351;&#23450; <tt class="literal">@Startup(depends={....})</tt> &#36827;&#34892;&#12290;
       </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3550"></a>3.5.&nbsp;&#26465;&#20214;&#35013;&#36733;&#65288;Conditional installation&#65289;</h2></div></div><div></div></div><p>
            <tt class="literal">@Install</tt> &#27880;&#35299;&#35753;&#20320;&#25511;&#21046;&#32452;&#20214;&#30340;&#26465;&#20214;&#35013;&#36733;&#65292;&#20801;&#35768;&#38543;&#30528;&#19981;&#21516;&#30340;&#37096;&#32626;&#24773;&#24418;&#32780;&#25913;&#21464;&#12290;&#20363;&#22914;&#65306;
       </p><div class="itemizedlist"><ul type="disc"><li><p>
        		    &#24076;&#26395;&#22312;&#27979;&#35797;&#20013;mock out&#19968;&#20123;&#22522;&#30784;&#32452;&#20214;&#12290;
        		</p></li><li><p>
        		    &#24076;&#26395;&#22312;&#19968;&#20123;&#29305;&#27530;&#30340;&#37096;&#32626;&#24773;&#24418;&#19979;&#25913;&#21464;&#32452;&#20214;&#30340;&#23454;&#29616;&#12290;
        		</p></li><li><p>
        		    &#24076;&#26395;&#21482;&#26377;&#28385;&#36275;&#20381;&#36182;&#26465;&#20214;&#30340;&#26102;&#20505;&#25165;&#23433;&#35013;&#26576;&#20123;&#32452;&#20214;&#65288;&#23545;&#26694;&#26550;&#20316;&#32773;&#24456;&#26377;&#29992;&#65289;&#12290;
        		</p></li></ul></div><p>
            <tt class="literal">@Install</tt> &#36890;&#36807;&#35753;&#20320;&#25351;&#23450; <span class="emphasis"><em>precedence&#65288;&#20248;&#20808;&#32423;&#65289;</em></span> &#21644; <span class="emphasis"><em>dependencies&#65288;&#20381;&#36182;&#65289;</em></span> &#26469;&#36816;&#20316;&#12290;
       </p><p>
            &#32452;&#20214;&#30340;&#20248;&#20808;&#32423;&#26159;&#19968;&#20010;&#25968;&#23383;&#65292;&#24403;&#22312;classpath&#20013;&#23384;&#22312;&#22810;&#20010;&#21516;&#32452;&#20214;&#21517;&#30340;&#31867;&#30340;&#26102;&#20505;&#65292;seam&#20381;&#38752;&#23427;&#26469;&#20915;&#23450;&#23433;&#35013;&#21738;&#20010;&#32452;&#20214;&#12290;
            Seam&#20250;&#36873;&#21462;&#20248;&#20808;&#32423;&#25968;&#23383;&#26368;&#22823;&#30340;&#12290;&#26377;&#19968;&#20123;&#39044;&#23450;&#20041;&#30340;&#20248;&#20808;&#32423;&#20540;&#65306;&#65288;&#25353;&#21319;&#24207;&#25490;&#21015;&#65289;&#65306;
       </p><div class="orderedlist"><ol type="1"><li><p>
        		    <tt class="literal">BUILT_IN</tt> &#8212; &#20248;&#20808;&#32423;&#26368;&#20302;&#30340;&#32452;&#20214;,&#26159;&#20869;&#32622;&#22312;Seam&#20013;&#30340;&#32452;&#20214;&#12290;
        		</p></li><li><p>
        		    <tt class="literal">FRAMEWORK</tt> &#8212; &#31532;&#19977;&#26041;&#26694;&#26550;&#23450;&#20041;&#30340;&#32452;&#20214;&#21487;&#33021;&#35206;&#30422;&#20869;&#32622;&#32452;&#20214;&#65292;&#20294;&#34987;&#24212;&#29992;&#31243;&#24207;&#32452;&#20214;&#25152;&#37325;&#36733;&#12290;
        		</p></li><li><p>
        		    <tt class="literal">APPLICATION</tt> &#8212; &#40664;&#35748;&#20248;&#20808;&#32423;&#12290;&#22823;&#37096;&#20998;&#24212;&#29992;&#31243;&#24207;&#32452;&#20214;&#36866;&#21512;&#36825;&#19968;&#32423;&#21035;&#12290;
        		</p></li><li><p>
        		    <tt class="literal">DEPLOYMENT</tt> &#8212; &#21644;&#37096;&#32626;&#30456;&#20851;&#30340;&#24212;&#29992;&#31243;&#24207;&#32452;&#20214;
        		</p></li><li><p>
        		    <tt class="literal">MOCK</tt> &#8212; &#20026;&#22312;&#27979;&#35797;&#20013;&#20351;&#29992;&#30340;mock objects&#25152;&#20934;&#22791;&#12290;
        		</p></li></ol></div><p>
            &#20551;&#35774;&#25105;&#20204;&#26377;&#19968;&#20010;&#32452;&#20214;&#65292;&#21517;&#20026; <tt class="literal">messageSender</tt> &#65292;&#21644;&#19968;&#20010;JMS&#38431;&#21015;&#20132;&#20114;&#12290;
       </p><pre class="programlisting">@Name("messageSender")
public class MessageSender {
    public void sendMessage() {
        //do something with JMS
    }
}</pre><p>
            &#22312;&#25105;&#20204;&#30340;&#21333;&#20803;&#27979;&#35797;&#20013;&#65292;&#25105;&#20204;&#24182;&#27809;&#26377;JMS&#38431;&#21015;&#21487;&#29992;&#65292;&#22240;&#27492;&#25105;&#20204;&#38656;&#35201;stub&#36825;&#20010;&#26041;&#27861;&#12290;&#25105;&#20204;&#20250;&#21019;&#24314;&#19968;&#20010; <span class="emphasis"><em>mock</em></span> &#32452;&#20214;&#65292;&#22312;&#21333;&#20803;&#27979;&#35797;&#36816;&#34892;&#26102;&#25918;&#22312;classpath&#20013;&#65292;&#20294;&#32477;&#19981;&#20250;&#22312;&#37096;&#32626;&#24212;&#29992;&#31243;&#24207;&#26102;&#20986;&#29616;&#12290;
       </p><pre class="programlisting">@Name("messageSender")
@Install(precedence=MOCK)
public class MockMessageSender extends MessageSender {
    public void sendMessage() {
        //do nothing!
    }
}</pre><p>
            &#24403;seam&#22312;classpath&#20013;&#21457;&#29616;&#22810;&#20010;&#32452;&#20214;&#26102;&#65292;<tt class="literal">precedence</tt> &#24110;&#21161;Seam&#20915;&#23450;&#20351;&#29992;&#21738;&#20010;&#29256;&#26412;&#12290;
       </p><p>
            &#22914;&#26524;&#25105;&#20204;&#33021;&#31934;&#30830;&#25511;&#21046;&#20351;&#29992; classpath&#20013;&#23384;&#22312;&#30340;&#31867;&#65292;&#26159;&#24456;&#32654;&#22937;&#30340;&#12290;
            &#20294;&#26159;&#22914;&#26524;&#25105;&#22312;&#32534;&#20889;&#19968;&#20010;&#21487;&#37325;&#29992;&#30340;&#26694;&#26550;&#65292;&#20855;&#26377;&#24456;&#22810;&#20381;&#36182;&#26465;&#20214;&#65292;&#25105;&#19981;&#24076;&#26395;&#29992;&#37027;&#20040;&#22810;&#30340;jar&#26469;&#32930;&#35299;&#26694;&#26550;&#12290;
            &#25105;&#24076;&#26395;&#36890;&#36807;&#24050;&#32463;&#23433;&#35013;&#20102;&#21738;&#20123;&#20102;&#32452;&#20214;&#65292;&#20197;&#21450;classpath&#20013;&#23384;&#22312;&#21738;&#20123;&#32452;&#20214;&#65292;&#26469;&#20915;&#23450;&#23433;&#35013;&#32452;&#20214;&#12290;
            <tt class="literal">@Install</tt> &#27880;&#35299;&#20063;&#25511;&#21046;&#36825;&#19968;&#21151;&#33021;&#12290;Seam&#20869;&#37096;&#20351;&#29992;&#36825;&#19968;&#26426;&#21046;&#26469;&#25511;&#21046;&#24456;&#22810;&#20869;&#37096;&#32452;&#20214;&#30340;&#26465;&#20214;&#23433;&#35013;&#12290;&#34429;&#28982;&#20320;&#21487;&#33021;&#19981;&#20250;&#22312;&#20320;&#30340;&#31243;&#24207;&#20013;&#20351;&#29992;&#23427;&#12290;
       </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3636"></a>3.6.&nbsp;&#26085;&#24535;</h2></div></div><div></div></div><p>
            &#38754;&#23545;&#19979;&#38754;&#30340;&#20195;&#30721;&#65292;&#35841;&#37117;&#20250;&#34987;&#25630;&#24471;&#19971;&#31373;&#29983;&#28895;&#65306;
        </p><pre class="programlisting">private static final Log log = LogFactory.getLog(CreateOrderAction.class);

public Order createOrder(User user, Product product, int quantity) {
    if ( log.isDebugEnabled() ) {
        log.debug("Creating new order for user: " + user.username() +
            " product: " + product.name()
            + " quantity: " + quantity);
    }
    return new Order(user, product, quantity);
}</pre><p>
            &#38590;&#20197;&#24819;&#35937;&#20026;&#20309;&#31616;&#21333;&#30340;log&#20449;&#24687;&#20250;&#34987;&#25630;&#24471;&#22914;&#27492;&#20043;&#22797;&#26434;&#12290;&#29992;&#20110;log&#30340;&#20195;&#30721;&#20989;&#25968;&#27604;&#29992;&#20110;&#23454;&#38469;&#19994;&#21153;&#36923;&#36753;&#30340;&#36824;&#35201;&#22810;&#65281;&#24456;&#24778;&#35766;,Java&#31038;&#21306;10&#24180;&#20869;&#37117;&#27809;&#26377;&#23545;&#27492;&#21152;&#20197;&#25913;&#21464;&#12290;
       </p><p>
            Seam&#25552;&#20379;&#20102;&#21487;&#20197;&#26174;&#33879;&#31616;&#21270;&#19978;&#36848;&#20195;&#30721;&#30340;logging API&#65306;
       </p><pre class="programlisting">@Logger private Log log;

public Order createOrder(User user, Product product, int quantity) {
    log.debug("Creating new order for user: #0 product: #1 quantity: #2", user.username(), product.name(), quantity);
    return new Order(user, product, quantity);
}</pre><p>
            &#26159;&#21542;&#25226; <tt class="literal">log</tt> &#21464;&#37327;&#22768;&#26126;&#20026;static&#24182;&#19981;&#37325;&#35201;&#65292;&#23427;&#37117;&#21487;&#20197;&#24037;&#20316;&#65292;&#38500;&#38750;&#26159;Entity Bean&#32452;&#20214;&#65292;&#38656;&#35201;&#25226; <tt class="literal">log</tt> &#22768;&#26126;&#20026;&#38745;&#24577;&#30340;&#12290;
       </p><p>
            &#27880;&#24847;&#20320;&#24182;&#19981;&#38656;&#35201;&#32321;&#26434;&#30340; <tt class="literal">if ( log.isDebugEnabled() )</tt> &#20445;&#21355;&#35821;&#21477;&#65292;&#22240;&#20026;&#23383;&#31526;&#20018;&#30456;&#21152;&#25805;&#20316;&#26159;&#22312; <tt class="literal">debug()</tt> &#26041;&#27861; <span class="emphasis"><em>&#20869;&#37096;</em></span> &#21457;&#29983;&#30340;&#12290;&#20063;&#35831;&#27880;&#24847;&#36890;&#24120;&#19981;&#38656;&#35201;&#26174;&#24335;&#25351;&#23450;log&#31867;&#22411;&#65292;&#22240;&#20026;Seam&#30693;&#36947;&#21738;&#20010;&#32452;&#20214;&#27491;&#22312;&#27880;&#20837; <tt class="literal">Log</tt>&#12290;
       </p><p>
            &#20551;&#35774; <tt class="literal">User</tt> &#21644; <tt class="literal">Product</tt> &#26159;&#24403;&#21069;&#19978;&#19979;&#25991;&#20013;&#21487;&#29992;&#30340;Seam&#32452;&#20214;&#65292;&#20889;&#36215;&#26469;&#26356;&#21152;&#31616;&#20415;&#65306;
       </p><pre class="programlisting">@Logger private Log log;

public Order createOrder(User user, Product product, int quantity) {
    log.debug("Creating new order for user: #{user.username} product: #{product.name} quantity: #0", quantity);
    return new Order(user, product, quantity);
}</pre><p>
            Seam loging&#33258;&#21160;&#36873;&#25321;&#21457;&#36865;&#32467;&#26524;&#21040;log4j&#25110;&#32773;JDK logging&#12290;&#22914;&#26524;log4j&#22312;classpath&#20013;&#65292;Seam&#20250;&#20351;&#29992;&#23427;&#65292;&#21542;&#21017;&#65292;Seam&#20250;&#20351;&#29992;JDK logging.
       </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3684"></a>3.7.&nbsp;<tt class="literal">Mutable</tt>&#25509;&#21475;&#21644;<tt class="literal">@ReadOnly</tt></h2></div></div><div></div></div><p>
            &#24456;&#22810;&#24212;&#29992;&#26381;&#21153;&#22120;&#30340; <tt class="literal">HttpSession</tt> &#38598;&#32676;&#23454;&#29616;&#37117;&#26377;&#38382;&#39064;&#65292;&#23545;&#32465;&#23450;&#21040;Session&#30340;&#21487;&#21464;&#23545;&#35937;&#29366;&#24577;&#30340;&#25913;&#21464;&#21482;&#26377;&#22312;&#26126;&#30830;&#35843;&#29992; <tt class="literal">setAttribute()</tt> &#30340;&#26102;&#20505;&#25165;&#20250;&#34987;&#22797;&#21046;&#12290;
            &#36825;&#26159;Bug&#30340;&#19968;&#20010;&#28304;&#22836;&#65292;&#36825;&#20123;Bug&#38590;&#20197;&#22312;&#24320;&#21457;&#38454;&#27573;&#26377;&#25928;&#25214;&#20986;&#65292;&#22240;&#20026;&#23427;&#20204;&#21482;&#20250;&#22312;&#24212;&#29992;&#26381;&#21153;&#22120;&#22833;&#25928;&#20999;&#25442;&#30340;&#26102;&#20505;&#25165;&#20250;&#34987;&#21457;&#29616;&#12290;
            &#32780;&#19988;&#65292;&#23454;&#38469;&#30340;&#22797;&#21046;&#20449;&#24687;&#21253;&#21547;&#20102;&#32465;&#23450;&#21040;Session&#30340;&#25152;&#26377;&#24207;&#21015;&#21270;&#23545;&#35937;&#22270;&#65292;&#36825;&#26159;&#20302;&#25928;&#30340;&#12290;
       </p><p>
            &#24403;&#28982;&#65292;EJB &#26377;&#29366;&#24577;Session Bean&#24517;&#39035;&#36827;&#34892;&#33258;&#21160;dirty checking&#65292;&#24182;&#36827;&#34892;&#21487;&#21464;&#29366;&#24577;&#30340;&#22797;&#21046;&#65292;&#24182;&#19988;EJB &#23481;&#22120;&#20063;&#24212;&#35813;&#24341;&#20837;&#20248;&#21270;&#65292;&#20363;&#22914;&#23646;&#24615;&#32423;&#21035;&#30340;&#22797;&#21046;&#12290;
            &#20294;&#19981;&#24184;&#30340;&#26159;&#65292;&#24182;&#38750;&#25152;&#26377;&#30340;Seam&#29992;&#25143;&#37117;&#26377;&#36825;&#20040;&#22909;&#30340;&#36816;&#27668;&#65292;&#20182;&#20204;&#30340;&#29615;&#22659;&#21487;&#33021;&#24182;&#19981;&#25903;&#25345;EJB 3.0&#12290;
            &#22240;&#27492;&#65292;&#23545;&#20110;Session&#21644;Conversation&#33539;&#22260;&#20869;&#30340;JavaBean&#21644;Entity Bean&#32452;&#20214;&#65292;&#22312;Web&#23481;&#22120;&#30340;Session&#38598;&#32676;&#20043;&#19978;&#65292;Seam&#25552;&#20379;&#20102;&#39069;&#22806;&#30340;&#38598;&#32676;&#23433;&#20840;&#30340;&#29366;&#24577;&#31649;&#29702;&#23618;&#12290;
       </p><p>
            &#23545;&#20110;Session&#25110;Conversation&#33539;&#22260;&#30340;JavaBean&#32452;&#20214;&#65292;&#27599;&#27425;&#32452;&#20214;&#34987;&#24341;&#29992;&#31243;&#24207;&#35843;&#29992;&#30340;&#26102;&#20505;&#65292;Seam&#33258;&#21160;&#36890;&#36807;&#35843;&#29992;&#19968;&#27425; <tt class="literal">setAttribute()</tt> &#26469;&#35302;&#21457;&#22797;&#21046;&#12290;&#24403;&#28982;&#65292;&#23545;&#22823;&#37096;&#20998;&#26159;&#35835;&#25805;&#20316;&#30340;&#32452;&#20214;&#26469;&#35828;&#65292;&#36825;&#25928;&#29575;&#19981;&#39640;&#12290;&#20320;&#21487;&#20197;&#36890;&#36807;&#23454;&#29616; <tt class="literal">org.jboss.seam.core.Mutable</tt> &#25509;&#21475;&#26469;&#25511;&#21046;&#36825;&#19968;&#34892;&#20026;&#12290;&#25110;&#32773;&#25193;&#23637; <tt class="literal">org.jboss.seam.core.AbstractMutable</tt>&#65292;&#22312;&#32452;&#20214;&#20869;&#23454;&#29616;&#33258;&#24049;&#30340;dirty-checking&#36923;&#36753;&#12290;&#20363;&#22914;&#65292;
       </p><pre class="programlisting">@Name("account")
public class Account extends AbstractMutable
{
    private BigDecimal balance;

    public void setBalance(BigDecimal balance)
    {
        setDirty(this.balance, balance);
        this.balance = balance;
    }

    public BigDecimal getBalance()
    {
        return balance;
    }

    ...

}</pre><p>
            &#25110;&#32773;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992; <tt class="literal">@ReadOnly</tt> &#27880;&#35299;&#26469;&#36798;&#21040;&#31867;&#20284;&#30340;&#25928;&#26524;&#65306;
       </p><pre class="programlisting">@Name("account")
public class Account
{
    private BigDecimal balance;

    public void setBalance(BigDecimal balance)
    {
        this.balance = balance;
    }

    @ReadOnly
    public BigDecimal getBalance()
    {
        return balance;
    }

    ...

}</pre><p>
            &#23545;Session&#25110;Conversation&#33539;&#22260;&#30340;Entity Bean&#32452;&#20214;&#65292;&#22312;&#27599;&#27425;&#34987;&#35831;&#27714;&#30340;&#26102;&#20505;Seam&#33258;&#21160;&#36890;&#36807;&#19968;&#27425; <tt class="literal">setAttribute()</tt> &#35843;&#29992;&#26469;&#35302;&#21457;&#22797;&#21046;&#65292;<span class="emphasis"><em>&#38500;&#38750;&#65288;&#23545;&#35805;&#33539;&#22260;&#30340;&#65289;&#23454;&#20307;&#21644;&#19968;&#20010;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30456;&#20851;&#32852;&#65292;&#27492;&#26102;&#26080;&#38656;&#22797;&#21046;</em></span>&#12290;&#36825;&#19968;&#31574;&#30053;&#19981;&#26159;&#26368;&#39640;&#25928;&#30340;&#65292;&#22240;&#27492;Session&#25110;Conversation&#33539;&#22260;&#30340;Entity Bean&#24212;&#35813;&#23567;&#24515;&#20351;&#29992;&#12290;&#20320;&#24635;&#26159;&#21487;&#20197;&#32534;&#20889;&#26377;&#29366;&#24577;&#30340;Session Bean&#25110;&#32773;JavaBean&#32452;&#20214;&#26469;&#8220;&#31649;&#29702;&#8221;Entity Bean&#23454;&#20363;&#12290;&#20363;&#22914;&#65292;
       </p><pre class="programlisting">@Stateful
@Name("account")
public class AccountManager extends AbstractMutable
{
    private Account account; // an entity bean

    @Unwrap
    public void getAccount()
    {
        return account;
    }

    ...

}</pre><p>
			&#27880;&#24847;,&#23545;&#20110; <tt class="literal">EntityHome</tt> &#31867;&#65292;Seam&#24212;&#29992;&#26694;&#26550;&#25552;&#20379;&#20102;&#19968;&#20010;&#38750;&#24120;&#22909;&#30340;&#20363;&#23376;&#26469;&#35828;&#26126;&#22914;&#20309;&#20351;&#29992;Seam&#32452;&#20214;&#26469;&#31649;&#29702;&#23454;&#20307;Bean&#30340;&#23454;&#20363;.
       </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3736"></a>3.8.&nbsp;Factory&#21644;Manager&#32452;&#20214;</h2></div></div><div></div></div><p>
            &#25105;&#20204;&#32463;&#24120;&#38656;&#35201;&#19982;&#38750;Seam&#32452;&#20214;&#30340;&#23545;&#35937;&#25171;&#20132;&#36947;&#12290;&#20294;&#26159;&#25105;&#20204;&#20173;&#28982;&#24076;&#26395;&#25226;&#23427;&#20204;&#36890;&#36807; <tt class="literal">@In</tt> &#27880;&#20837;&#25105;&#20204;&#30340;&#32452;&#20214;&#65292;&#24182;&#22312;&#20540;&#21644;&#26041;&#27861;&#34920;&#36798;&#24335;&#20013;&#20351;&#29992;&#23427;&#20204;&#12290;
            &#26377;&#26102;&#20505;&#65292;&#25105;&#20204;&#29978;&#33267;&#38656;&#35201;&#25226;&#23427;&#20204;&#32465;&#23450;&#21040;Seam &#19978;&#19979;&#25991;&#30340;&#29983;&#21629;&#21608;&#26399;&#37324;&#65288;&#20363;&#22914;<tt class="literal">@Destroy</tt>&#65289;&#12290;
            &#25152;&#20197;Seam&#19978;&#19979;&#25991;&#21487;&#20197;&#23481;&#32435;&#38750;Seam&#32452;&#20214;&#30340;&#23545;&#35937;&#65292;&#24182;&#19988;Seam&#25552;&#20379;&#20102;&#19968;&#20123;&#24456;&#22909;&#30340;&#29305;&#24615;&#65292;&#36825;&#20123;&#29305;&#24615;&#20351;&#24471;&#25105;&#20204;&#19982;&#32465;&#23450;&#21040;&#19978;&#19979;&#25991;&#37324;&#30340;&#38750;&#32452;&#20214;&#23545;&#35937;&#25171;&#20132;&#36947;&#26356;&#21152;&#23481;&#26131;&#12290;
       </p><p>
            <span class="emphasis"><em>factory component pattern&#65288;&#24037;&#21378;&#32452;&#20214;&#27169;&#24335;&#65289;</em></span>&#35753;Seam&#32452;&#20214;&#20316;&#20026;&#38750;&#32452;&#20214;&#23545;&#35937;&#30340;&#26500;&#36896;&#22120;&#12290;
            &#24403;&#19978;&#19979;&#25991;&#21464;&#37327;&#34987;&#24341;&#29992;&#65292;&#20294;&#26159;&#27809;&#26377;&#20540;&#34987;&#32465;&#23450;&#21040;&#23427;&#26102;&#65292;&#20250;&#35843;&#29992;&#19968;&#20010;<span class="emphasis"><em>factory method&#65288;&#24037;&#21378;&#26041;&#27861;&#65289;</em></span>&#12290;
            &#25105;&#20204;&#36890;&#36807;<tt class="literal">@Factory</tt>&#27880;&#35299;&#26469;&#23450;&#20041;&#24037;&#21378;&#26041;&#27861;&#12290;
            &#24037;&#21378;&#26041;&#27861;&#25226;&#19968;&#20010;&#20540;&#32465;&#23450;&#21040;&#19978;&#36848;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#24182;&#19988;&#20915;&#23450;&#34987;&#32465;&#23450;&#30340;&#20540;&#30340;&#33539;&#22260;&#12290;&#26377;&#20004;&#31181;&#24037;&#21378;&#26041;&#27861;&#12290;&#31532;&#19968;&#31181;&#36820;&#22238;&#19968;&#20010;&#20540;&#65292;Seam&#20250;&#25226;&#23427;&#32465;&#23450;&#21040;&#19978;&#19979;&#25991;&#37324;&#65306;
       </p><pre class="programlisting">@Factory(scope=CONVERSATION)
public List&lt;Customer&gt; getCustomerList() {
    return ... ;
} </pre><p>
            &#31532;&#20108;&#31181;&#26041;&#27861;&#36820;&#22238; <tt class="literal">void</tt>&#65292;&#23427;&#33258;&#24049;&#25226;&#20540;&#32465;&#23450;&#21040;&#19978;&#19979;&#25991;&#21464;&#37327;&#65306;
       </p><pre class="programlisting">@DataModel List&lt;Customer&gt; customerList;

@Factory("customerList")
public void initCustomerList() {
    customerList = ...  ;
} </pre><p>
            &#20004;&#31181;&#24773;&#20917;&#19979;&#65292;&#24403;&#25105;&#20204;&#24341;&#29992; <tt class="literal">customerList</tt> &#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#32780;&#20854;&#20540;&#20026;null&#26102;&#65292;&#24037;&#21378;&#26041;&#27861;&#34987;&#35843;&#29992;&#65292;&#28982;&#21518;&#23545;&#36825;&#20010;&#20540;&#29983;&#21629;&#21608;&#26399;&#30340;&#20854;&#20182;&#37096;&#20998;&#23601;&#26080;&#27861;&#25805;&#32437;&#20102;&#12290;
            &#26356;&#21152;&#24378;&#22823;&#30340;&#27169;&#24335;&#26159; <span class="emphasis"><em>manager component pattern&#65288;&#31649;&#29702;&#32773;&#32452;&#20214;&#27169;&#24335;&#65289;</em></span>&#12290;
            &#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#26377;&#19968;&#20010;Seam&#32452;&#20214;&#32465;&#23450;&#21040;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#23427;&#31649;&#29702;&#30528;&#19978;&#19979;&#25991;&#21464;&#37327;&#30340;&#20540;&#65292;&#23545;&#23458;&#25143;&#31471;&#19981;&#21487;&#35265;&#12290;
       </p><p>
            &#31649;&#29702;&#32773;&#32452;&#20214;&#21487;&#20197;&#26159;&#20219;&#20309;&#32452;&#20214;&#65292;&#23427;&#38656;&#35201;&#19968;&#20010; <tt class="literal">@Unwrap</tt> &#26041;&#27861;&#12290;
            &#35813;&#26041;&#27861;&#36820;&#22238;&#23545;&#23458;&#25143;&#31471;&#21487;&#35265;&#30340;&#20540;&#65292;<span class="emphasis"><em>&#27599;&#27425;</em></span> &#19978;&#19979;&#25991;&#21464;&#37327;&#34987;&#24341;&#29992;&#30340;&#26102;&#20505;&#37117;&#20250;&#34987;&#35843;&#29992;&#12290;
       </p><pre class="programlisting">@Name("customerList")
@Scope(CONVERSATION)
public class CustomerListManager
{
    ...

    @Unwrap
    public List&lt;Customer&gt; getCustomerList() {
        return ... ;
    }
}</pre><p>
			&#24403;&#20320;&#26377;&#19968;&#20010;&#23545;&#35937;&#24182;&#38656;&#35201;&#23545;&#20854;&#32452;&#20214;&#30340;&#29983;&#21629;&#21608;&#26399;&#26356;&#22810;&#30340;&#25511;&#21046;&#26102;&#65292;&#31649;&#29702;&#32452;&#20214;&#27169;&#24335;&#23601;&#26174;&#24471;&#23588;&#20854;&#26377;&#29992;&#12290;
			&#20363;&#22914;&#65292;&#22914;&#26524;&#20320;&#26377;&#19968;&#20010;&#37325;&#37327;&#32423;&#30340;&#23545;&#35937;&#65292;&#24403;&#19978;&#19979;&#25991;&#32467;&#26463;&#26102;&#20320;&#24819;&#23545;&#20854;&#36827;&#34892;&#28165;&#38500;&#25805;&#20316;&#65292;&#20320;&#21487;&#20197;<tt class="literal">@Unwrap</tt>&#23545;&#35937;&#65292;&#24182;&#22312;&#31649;&#29702;&#32452;&#20214;&#30340; <tt class="literal">@Destroy</tt> &#26041;&#27861;&#20013;&#25191;&#34892;&#28165;&#38500;&#25805;&#20316;&#12290;
       </p><pre class="programlisting">@Name("hens")
@Scope(APPLICATION)
public class HenHouse {

    Set&lt;Hen&gt; hens;

    @In(required=false) Hen hen;

    @Unwrap
    public List&lt;Hen&gt; getHens() {
        if (hens == null) {
            // Setup our hens
        }
        return hens;
    }

    @Observer({"chickBorn", "chickenBoughtAtMarket"})
    public addHen() {
        hens.add(hen);
    }

    @Observer("chickenSoldAtMarket")
    public removeHen() {
        hens.remove(hen);
    }

    @Observer("foxGetsIn")
    public removeAllHens() {
        hens.clear();
    }
    ...
} </pre><p>
		&#36825;&#37324;&#65292;&#34987;&#31649;&#29702;&#30340;&#32452;&#20214;&#35266;&#23519;&#37027;&#20123;&#25913;&#21464;&#22312;&#19979;&#38754;&#30340;&#23545;&#35937;&#30340;&#20107;&#20214;&#12290;&#32452;&#20214;&#33258;&#24049;&#31649;&#29702;&#36825;&#20123;&#21160;&#20316;&#65292;&#24182;&#19988;&#30001;&#20110;&#23545;&#35937;&#22312;&#27599;&#19968;&#27425;&#35775;&#38382;&#20013;&#37117;&#34987;&#35299;&#24320;&#65292;&#25152;&#20197;&#36825;&#37324;&#25552;&#20379;&#20102;&#19968;&#20010;&#32479;&#19968;&#30340;&#35270;&#22270;&#12290;
	</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="xml"></a>Chapter&nbsp;4.&nbsp;&#37197;&#32622;Seam&#32452;&#20214;</h2></div></div><div></div></div><p>
        	Seam&#25152;&#23815;&#23578;&#30340;&#21746;&#23398;&#26159;XML&#37197;&#32622;&#26368;&#23567;&#21270;&#12290;&#19981;&#36807;&#65292;&#22522;&#20110;&#19981;&#21516;&#30340;&#21407;&#22240;&#65292;&#25105;&#20204;&#26377;&#26102;&#20505;&#36824;&#26159;&#35201;&#21033;&#29992;XML&#26469;&#37197;&#32622;Seam&#32452;&#20214;&#12290;&#36825;&#20123;&#21407;&#22240;&#21253;&#25324;&#65306;
            &#23558;Java&#20195;&#30721;&#19982;&#29305;&#23450;&#20110;&#37096;&#32626;&#30340;&#20449;&#24687;&#20998;&#31163;&#65307;&#35201;&#24314;&#31435;&#21487;&#37325;&#29992;&#30340;&#26694;&#26550;&#65307;&#37197;&#32622;Seam&#30340;&#20869;&#32622;&#21151;&#33021;&#31561;&#31561;&#12290;
            Seam&#25552;&#20379;&#20102;&#20004;&#31181;&#22522;&#26412;&#30340;&#37197;&#32622;&#32452;&#20214;&#26041;&#27861;&#65306;&#36890;&#36807;&#22312;properties&#25991;&#20214;&#25110;&#32773; <tt class="literal">web.xml</tt> &#20013;&#35774;&#32622;&#23646;&#24615;&#26469;&#37197;&#32622;&#65292;
            &#25110;&#32773;&#36890;&#36807; <tt class="literal">components.xml</tt> &#36827;&#34892;&#37197;&#32622;&#12290;
        </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3808"></a>4.1.&nbsp;&#36890;&#36807;&#23646;&#24615;&#35774;&#32622;&#26469;&#37197;&#32622;&#32452;&#20214;</h2></div></div><div></div></div><p>
            	Seam&#32452;&#20214;&#30340;&#37197;&#32622;&#23646;&#24615;&#21487;&#20197;&#36890;&#36807;&#20004;&#31181;&#26041;&#24335;&#24471;&#21040;&#65306;&#36890;&#36807;servlet context&#21442;&#25968;&#65292;&#25110;&#32773;&#36890;&#36807;&#20301;&#20110;classpath&#19979;&#30340; <tt class="literal">seam.properties</tt> &#23646;&#24615;&#25991;&#20214;&#36827;&#34892;&#12290;
            </p><p> 
            	&#21487;&#37197;&#32622;&#30340;Seam&#32452;&#20214;&#24517;&#39035;&#20026;&#21487;&#37197;&#32622;&#30340;&#23646;&#24615;&#26292;&#38706;JavaBean&#39118;&#26684;&#30340;&#23646;&#24615;setter&#26041;&#27861;&#12290;&#20363;&#22914;&#65292;&#19968;&#20010;&#21517;&#20026; <tt class="literal">com.jboss.myapp.settings</tt>
            	&#30340;Seam&#32452;&#20214;&#25317;&#26377;&#19968;&#20010;&#21517;&#20026; <tt class="literal">setLocale()</tt> &#30340;setter&#26041;&#27861;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#22312; <tt class="literal">seam.properties</tt> &#25991;&#20214;&#20013;&#25552;&#20379;&#19968;&#20010;&#21517;&#20026;
            	<tt class="literal">com.jboss.myapp.settings.locale</tt> &#30340;&#23646;&#24615;&#65292;&#25110;&#32773;&#20316;&#20026;&#19968;&#20010;servlet context&#21442;&#25968;&#65292;
            	&#36825;&#26679;&#65292;&#19968;&#26086;&#35813;&#32452;&#20214;&#34987;&#23454;&#20363;&#21270;&#65292;Seam&#23558;&#33258;&#21160;&#20026;&#36825;&#20010;&#21517;&#20026; <tt class="literal">locale</tt> &#30340;&#23646;&#24615;&#27880;&#20837;&#30456;&#24212;&#30340;&#20540;&#12290;
            </p><p>
            	Seam&#26412;&#36523;&#30340;&#37197;&#32622;&#20063;&#37319;&#29992;&#20102;&#30456;&#21516;&#30340;&#26426;&#21046;&#12290;&#20363;&#22914;&#65292;&#35201;&#35774;&#32622;&#23545;&#35805;&#36229;&#26102;&#65292;&#25105;&#20204;&#21487;&#20197;&#22312; <tt class="literal">web.xml</tt>
            	&#25110;&#32773; <tt class="literal">seam.properties</tt> &#20013;&#20026; <tt class="literal">org.jboss.seam.core.manager.conversationTimeout</tt> &#25552;&#20379;&#19968;&#20010;&#20540;&#12290;
            	&#65288;&#22312;Seam&#20869;&#32622;&#30340;&#32452;&#20214; <tt class="literal">org.jboss.seam.core.manager</tt> &#20013;&#65292;&#24050;&#32463;&#21253;&#21547;&#20102;&#19968;&#20010;&#21517;&#20026; <tt class="literal">setConversationTimeout()</tt> &#30340;setter&#26041;&#27861;&#12290;&#65289;
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3850"></a>4.2.&nbsp;&#36890;&#36807; <tt class="literal">components.xml</tt> &#26469;&#37197;&#32622;&#32452;&#20214;</h2></div></div><div></div></div><p><tt class="literal">components.xml</tt> &#25991;&#20214;&#30340;&#21151;&#33021;&#35201;&#27604;&#23646;&#24615;&#35774;&#32622;&#30340;&#26356;&#24378;&#22823;&#19968;&#20123;&#12290;&#23427;&#35753;&#20320;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>
                    	&#37197;&#32622;&#37027;&#20123;&#24050;&#32463;&#34987;&#33258;&#21160;&#23433;&#35013;&#30340;&#32452;&#20214;&#8212;&#21253;&#25324;&#20869;&#32622;&#32452;&#20214;&#20197;&#21450;&#37027;&#20123;&#24102;&#26377; <tt class="literal">@Name</tt> &#27880;&#35299;&#65292;
                    	&#19988;&#34987;Seam&#30340;&#37096;&#32626;&#25195;&#25551;&#22120;&#35782;&#21035;&#21040;&#30340;&#37027;&#20123;&#24212;&#29992;&#32452;&#20214;&#12290;
                    </p></li><li><p>
                    	&#23558;&#37027;&#20123;&#27809;&#26377; <tt class="literal">@Name</tt> &#27880;&#35299;&#30340;&#31867;&#23433;&#35013;&#25104;&#20026;Seam&#32452;&#20214;&#8212;
                    	&#36825;&#19968;&#28857;&#23545;&#20110;&#37027;&#20123;&#38656;&#35201;&#20197;&#19981;&#21516;&#30340;&#21517;&#23383;&#36827;&#34892;&#22810;&#27425;&#23433;&#35013;&#30340;&#32467;&#26500;&#32452;&#20214;&#29305;&#21035;&#26377;&#29992;&#65288;&#20363;&#22914;&#65292;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65289;&#12290;
                    </p></li><li><p>
                    	&#23433;&#35013;&#37027;&#20123; <span class="emphasis"><em>&#20165;</em></span> &#20855;&#26377; <tt class="literal">@Name</tt> &#27880;&#35299;&#65292;&#20294;&#26159;&#40664;&#35748;&#24773;&#20917;&#19979;&#26410;&#34987;&#23433;&#35013;&#30340;Seam&#32452;&#20214;&#12290;
                    	&#22240;&#20026; <tt class="literal">@Install</tt> &#27880;&#35299;&#34920;&#26126;&#35813;&#32452;&#20214;&#19981;&#24212;&#24403;&#34987;&#23433;&#35013;&#12290;
                    </p></li><li><p>&#35206;&#30422;&#32452;&#20214;&#30340;&#33539;&#22260;&#12290;</p></li></ul></div><p>
                 <tt class="literal">components.xml</tt> &#25991;&#20214;&#21487;&#20197;&#20986;&#29616;&#22312;&#19979;&#38754;&#19977;&#20010;&#19981;&#21516;&#22320;&#26041;&#20013;&#30340;&#20219;&#20309;&#19968;&#22788;&#65306;
            </p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">war</tt> &#21253;&#30340; <tt class="literal">WEB-INF</tt> &#30446;&#24405;&#19979;&#12290;</p></li><li><p><tt class="literal">jar</tt> &#21253;&#30340; <tt class="literal">META-INF</tt> &#30446;&#24405;&#19979;&#12290;</p></li><li><p>&#21253;&#21547;&#24102;&#26377; <tt class="literal">@Name</tt> &#27880;&#35299;&#31867;&#30340; <tt class="literal">jar</tt> &#21253;&#19979;&#30340;&#20219;&#20309;&#30446;&#24405;&#12290;</p></li></ul></div><p>
                &#36890;&#24120;&#24773;&#20917;&#19979;&#65292;&#24403;Seam&#37096;&#32626;&#25195;&#25551;&#22120;&#22312;&#21253;&#21547; <tt class="literal">seam.properties</tt>
                &#25991;&#20214;&#25110;&#32773; <tt class="literal">META-INF/components.xml</tt> &#25991;&#20214;&#30340;&#25991;&#20214;&#22841;&#20013;&#35782;&#21035;&#21040;&#19968;&#20010;&#21253;&#21547; <tt class="literal">@Name</tt> &#27880;&#35299;&#30340;&#31867;&#26102;&#65292;
                Seam&#23558;&#23433;&#35013;&#36733;&#35813;&#32452;&#20214;&#12290;&#65288;&#38500;&#38750;&#36825;&#20010;&#32452;&#20214;&#20855;&#26377;&#19968;&#20010; <tt class="literal">@Install</tt> &#27880;&#35299;&#65292;&#34920;&#31034;&#23427;&#19981;&#24212;&#35813;&#34987;&#40664;&#35748;&#23433;&#35013;&#12290;&#65289;
                <tt class="literal">components.xml</tt> &#25991;&#20214;&#35753;&#25105;&#20204;&#21435;&#22788;&#29702;&#37027;&#20123;&#38656;&#35201;&#35206;&#30422;&#27880;&#35299;&#30340;&#29305;&#27530;&#24773;&#20917;&#12290;
            </p><p>
                &#20363;&#22914;&#65292;&#19979;&#38754;&#30340; <tt class="literal">components.xml</tt> &#25991;&#20214;&#23433;&#35013;&#20102;jBPM:
            </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xmlns:bpm="http://jboss.com/products/seam/bpm"&gt;
    &lt;bpm:jbpm/&gt;
&lt;/components&gt;</pre><p>
                &#36825;&#20010;&#20363;&#23376;&#23454;&#29616;&#20102;&#30456;&#21516;&#30340;&#21151;&#33021;&#65306;
            </p><pre class="programlisting">&lt;components&gt;
    &lt;component class="org.jboss.seam.bpm.Jbpm"/&gt;
&lt;/components&gt;</pre><p>
                &#36825;&#20010;&#20363;&#23376;&#23433;&#35013;&#24182;&#37197;&#32622;&#20102;Seam&#31649;&#29702;&#30340;&#20004;&#20010;&#19981;&#21516;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;:
            </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:persistence="http://jboss.com/products/seam/persistence"

    &lt;persistence:managed-persistence-context name="customerDatabase"
                       persistence-unit-jndi-name="java:/customerEntityManagerFactory"/&gt;

    &lt;persistence:managed-persistence-context name="accountingDatabase"
                       persistence-unit-jndi-name="java:/accountingEntityManagerFactory"/&gt;

&lt;/components&gt;</pre><p>
                &#36825;&#20010;&#20363;&#23376;&#20063;&#19968;&#26679;:
            </p><pre class="programlisting">&lt;components&gt;
    &lt;component name="customerDatabase"
              class="org.jboss.seam.persistence.ManagedPersistenceContext"&gt;
        &lt;property name="persistenceUnitJndiName"&gt;java:/customerEntityManagerFactory&lt;/property&gt;
    &lt;/component&gt;

    &lt;component name="accountingDatabase"
              class="org.jboss.seam.persistence.ManagedPersistenceContext"&gt;
        &lt;property name="persistenceUnitJndiName"&gt;java:/accountingEntityManagerFactory&lt;/property&gt;
    &lt;/component&gt;
&lt;/components&gt;</pre><p>
                &#36825;&#20010;&#20363;&#23376;&#21019;&#24314;&#20102;&#19968;&#20010;Seam&#31649;&#29702;&#30340;session&#33539;&#22260;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65288;&#36825;&#22312;&#23454;&#38469;&#39033;&#30446;&#20013;&#24182;&#19981;&#25512;&#33616;&#20351;&#29992;&#65289;
            </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:persistence="http://jboss.com/products/seam/persistence"

  &lt;persistence:managed-persistence-context name="productDatabase"
                                          scope="session"
                     persistence-unit-jndi-name="java:/productEntityManagerFactory"/&gt;

&lt;/components&gt;</pre><pre class="programlisting">&lt;components&gt;

    &lt;component name="productDatabase"
              scope="session"
              class="org.jboss.seam.persistence.ManagedPersistenceContext"&gt;
        &lt;property name="persistenceUnitJndiName"&gt;java:/productEntityManagerFactory&lt;/property&gt;
    &lt;/component&gt;

&lt;/components&gt;</pre><p>
                &#36890;&#24120;&#20250;&#32473;&#20687;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#36825;&#26679;&#30340;&#22522;&#30784;&#32467;&#26500;&#23545;&#35937;&#20351;&#29992; <tt class="literal">auto-create</tt> &#36873;&#39033;&#65292;
                &#23427;&#33021;&#22312;&#20320;&#20351;&#29992; <tt class="literal">@In</tt> &#27880;&#35299;&#26102;&#65292;&#19981;&#24517;&#26174;&#24335;&#22320;&#25351;&#23450; <tt class="literal">create=true</tt>&#12290;
            </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:persistence="http://jboss.com/products/seam/persistence"

  &lt;persistence:managed-persistence-context name="productDatabase"
                                    auto-create="true"
                     persistence-unit-jndi-name="java:/productEntityManagerFactory"/&gt;

&lt;/components&gt;</pre><pre class="programlisting">&lt;components&gt;

    &lt;component name="productDatabase"
        auto-create="true"
              class="org.jboss.seam.persistence.ManagedPersistenceContext"&gt;
        &lt;property name="persistenceUnitJndiName"&gt;java:/productEntityManagerFactory&lt;/property&gt;
    &lt;/component&gt;

&lt;/components&gt;</pre><p>
                <tt class="literal">&lt;factory&gt;</tt> &#22768;&#26126;&#35753;&#20320;&#25351;&#23450;&#19968;&#20010;&#20540;&#25110;&#32773;&#26041;&#27861;&#26469;&#32465;&#23450;&#19968;&#20010;&#34920;&#36798;&#24335;&#65292;&#24403;&#23427;&#31532;&#19968;&#27425;&#34987;&#24341;&#29992;&#26102;&#65292;&#23558;&#34987;&#25191;&#34892;&#29992;&#26469;&#21021;&#22987;&#21270;&#19968;&#20010;context&#21464;&#37327;&#30340;&#20540;&#12290;
            </p><pre class="programlisting">&lt;components&gt;

    &lt;factory name="contact" method="#{contactManager.loadContact}" scope="CONVERSATION"/&gt;

&lt;/components&gt;</pre><p>
                &#20320;&#20063;&#21487;&#20197;&#20026;Seam&#32452;&#20214;&#21019;&#24314;&#19968;&#20010;&#21035;&#21517;&#65288;&#31532;&#20108;&#20010;&#21517;&#23383;&#65289;&#65292;&#23601;&#20687;&#36825;&#26679;&#65306;
            </p><pre class="programlisting">&lt;components&gt;

    &lt;factory name="user" value="#{actor}" scope="STATELESS"/&gt;

&lt;/components&gt;</pre><p>
                &#20320;&#29978;&#33267;&#21487;&#20197;&#32473;&#24120;&#29992;&#30340;&#34920;&#36798;&#24335;&#23450;&#20041;&#21035;&#21517;&#65306;
            </p><pre class="programlisting">&lt;components&gt;

    &lt;factory name="contact" value="#{contactManager.contact}" scope="STATELESS"/&gt;

&lt;/components&gt;</pre><p>
                <tt class="literal">auto-create="true"</tt> &#29992;&#22312; <tt class="literal">&lt;factory&gt;</tt> &#22768;&#26126;&#20013;&#23588;&#20854;&#24120;&#35265;&#12290;
            </p><pre class="programlisting">&lt;components&gt;

    &lt;factory name="session" value="#{entityManager.delegate}" scope="STATELESS" auto-create="true"/&gt;

&lt;/components&gt;</pre><p>
                &#25105;&#20204;&#22312;&#37096;&#32626;&#25110;&#32773;&#27979;&#35797;&#26399;&#38388;&#65292;&#26377;&#26102;&#20505;&#24819;&#35201;&#36890;&#36807;&#30053;&#24494;&#30340;&#25913;&#21160;&#65292;&#26469;&#37325;&#29992;&#21516;&#19968;&#20010; <tt class="literal">components.xml</tt>&#25991;&#20214;&#12290;
                Seam&#20801;&#35768;&#20320;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#20351;&#29992; <tt class="literal">@wildcard@</tt> &#24418;&#24335;&#30340;&#36890;&#37197;&#31526;&#65292;
                &#36825;&#20123;&#36890;&#37197;&#31526;&#21487;&#20197;&#22312;&#37096;&#32626;&#30340;&#26102;&#20505;&#34987;Ant&#26500;&#24314;&#33050;&#26412;&#26367;&#25442;&#65292;&#20063;&#21487;&#20197;&#22312;&#24320;&#21457;&#26102;&#36890;&#36807;&#22312;classpath&#20013;&#25552;&#20379;&#19968;&#20010;&#21517;&#20026; <tt class="literal">components.properties</tt> &#30340;&#25991;&#20214;&#36827;&#34892;&#26367;&#25442;&#12290;
                &#20320;&#20250;&#22312;Seam&#30340;&#31034;&#20363;&#31243;&#24207;&#20013;&#25214;&#21040;&#36825;&#20010;&#29992;&#27861;&#12290;
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4015"></a>4.3.&nbsp;&#32454;&#31890;&#24230;&#30340;&#37197;&#32622;&#25991;&#20214;</h2></div></div><div></div></div><p>
            	&#22914;&#26524;&#20320;&#26377;&#22823;&#37327;&#30340;&#32452;&#20214;&#38656;&#35201;&#22312;XML&#20013;&#36827;&#34892;&#37197;&#32622;&#65292;&#37027;&#20040;&#23601;&#24456;&#26377;&#24517;&#35201;&#23558; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#30340;&#20869;&#23481;&#20998;&#25955;&#21040;&#22810;&#20010;&#25991;&#20214;&#20013;&#21435;&#12290;
            	Seam&#20801;&#35768;&#20320;&#25226;&#31867;&#65288;&#20363;&#22914;&#21517;&#20026; <tt class="literal">com.helloworld.Hello</tt> &#65289;&#30340;&#37197;&#32622;&#25918;&#21040;&#19968;&#20010;&#36164;&#28304;&#20013;&#65288;&#21517;&#20026; <tt class="literal">com/helloworld/Hello.component.xml</tt>&#65289;&#12290;
            	&#65288;&#20320;&#23545;&#36825;&#31181;&#27169;&#24335;&#21487;&#33021;&#24456;&#29087;&#24713;&#65292;&#22240;&#20026;&#23427;&#19982;&#25105;&#20204;&#22312;Hibernate&#20013;&#20351;&#29992;&#30340;&#30456;&#21516;&#65289;&#12290;
            	&#25991;&#20214;&#30340;&#26681;&#20803;&#32032;&#24212;&#35813;&#26159; <tt class="literal">&lt;components&gt;</tt> &#25110;&#32773; <tt class="literal">&lt;component&gt;</tt> &#12290;
            </p><p>
                &#31532;&#19968;&#20010;&#36873;&#39033;&#20801;&#35768;&#20320;&#22312;&#19968;&#20010;&#25991;&#20214;&#20013;&#23450;&#20041;&#22810;&#20010;&#32452;&#20214;&#65306;
            </p><pre class="programlisting">&lt;components&gt;
    &lt;component class="com.helloworld.Hello" name="hello"&gt;
        &lt;property name="name"&gt;#{user.name}&lt;/property&gt;
    &lt;/component&gt;
    &lt;factory name="message" value="#{hello.message}"/&gt;
&lt;/components&gt;</pre><p>
                &#31532;&#20108;&#20010;&#36873;&#39033;&#21482;&#20801;&#35768;&#20320;&#23450;&#20041;&#25110;&#32773;&#37197;&#32622;&#21333;&#20010;&#32452;&#20214;&#65292;&#19981;&#36807;&#40635;&#28902;&#20250;&#23569;&#19968;&#28857;&#65306;
            </p><pre class="programlisting">&lt;component name="hello"&gt;
    &lt;property name="name"&gt;#{user.name}&lt;/property&gt;
&lt;/component&gt;</pre><p>
                &#22312;&#31532;&#20108;&#20010;&#36873;&#39033;&#20013;&#65292;&#31867;&#21517;&#19982;&#32452;&#20214;&#23450;&#20041;&#25152;&#22312;&#30340;&#25991;&#20214;&#26159;&#19968;&#33268;&#30340;&#12290;
            </p><p>
                &#20320;&#36824;&#21487;&#20197;&#36873;&#25321;&#23558;&#25152;&#26377;&#31867;&#30340;&#37197;&#32622;&#37117;&#25918;&#22312; <tt class="literal">com/helloworld/components.xml</tt> &#30340; <tt class="literal">com.helloworld</tt> &#21253;&#20013;&#12290;
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4053"></a>4.4.&nbsp;&#21487;&#37197;&#32622;&#30340;&#23646;&#24615;&#31867;&#22411;</h2></div></div><div></div></div><p>
                String&#30340;&#23646;&#24615;&#12289;&#22522;&#26412;&#31867;&#22411;&#20197;&#21450;&#22522;&#26412;&#31867;&#22411;&#30340;&#21253;&#35013;&#31867;&#22411;&#21487;&#20197;&#20687;&#25105;&#20204;&#26399;&#26395;&#30340;&#37027;&#26679;&#36827;&#34892;&#37197;&#32622;&#65306;
            </p><pre class="programlisting">org.jboss.seam.core.manager.conversationTimeout 60000</pre><pre class="programlisting">&lt;core:manager conversation-timeout="60000"/&gt;</pre><pre class="programlisting">&lt;component name="org.jboss.seam.core.manager"&gt;
    &lt;property name="conversationTimeout"&gt;60000&lt;/property&gt;
&lt;/component&gt;</pre><p>
                &#20063;&#25903;&#25345;&#30001;String&#25110;&#32773;&#22522;&#26412;&#31867;&#22411;&#26500;&#25104;&#30340;&#25968;&#32452;&#12289;Set&#21644;List&#65306;
            </p><pre class="programlisting">org.jboss.seam.bpm.jbpm.processDefinitions order.jpdl.xml, return.jpdl.xml, inventory.jpdl.xml</pre><pre class="programlisting">&lt;bpm:jbpm&gt;
    &lt;bpm:process-definitions&gt;
        &lt;value&gt;order.jpdl.xml&lt;/value&gt;
        &lt;value&gt;return.jpdl.xml&lt;/value&gt;
        &lt;value&gt;inventory.jpdl.xml&lt;/value&gt;
    &lt;/bpm:process-definitions&gt;
&lt;/bpm:jbpm&gt;</pre><pre class="programlisting">&lt;component name="org.jboss.seam.bpm.jbpm"&gt;
    &lt;property name="processDefinitions"&gt;
        &lt;value&gt;order.jpdl.xml&lt;/value&gt;
        &lt;value&gt;return.jpdl.xml&lt;/value&gt;
        &lt;value&gt;inventory.jpdl.xml&lt;/value&gt;
    &lt;/property&gt;
&lt;/component&gt;</pre><p>
                &#29978;&#33267;&#20063;&#25903;&#25345;&#37027;&#20123;&#21253;&#21547;String&#20540;&#20026;&#38190;&#12289;String&#25110;&#32773;&#22522;&#26412;&#31867;&#22411;&#20540;&#30340;Map&#65306;
            </p><pre class="programlisting">&lt;component name="issueEditor"&gt;
    &lt;property name="issueStatuses"&gt;
        &lt;key&gt;open&lt;/key&gt; &lt;value&gt;open issue&lt;/value&gt;
        &lt;key&gt;resolved&lt;/key&gt; &lt;value&gt;issue resolved by developer&lt;/value&gt;
        &lt;key&gt;closed&lt;/key&gt; &lt;value&gt;resolution accepted by user&lt;/value&gt;
    &lt;/property&gt;
&lt;/component&gt;</pre><p>
                &#26368;&#21518;&#65292;&#20320;&#21487;&#20197;&#21033;&#29992;&#20540;&#32465;&#23450;&#34920;&#36798;&#24335;&#26469;&#23558;&#25152;&#26377;&#30340;&#32452;&#20214;&#35013;&#37197;&#36215;&#26469;&#12290;
                &#27880;&#24847;&#36825;&#19982;&#20351;&#29992; <tt class="literal">@In</tt> &#27880;&#35299;&#36827;&#34892;&#27880;&#20837;&#38750;&#24120;&#19981;&#21516;&#65292;&#22240;&#20026;&#23427;&#26159;&#22312;&#32452;&#20214;&#21021;&#22987;&#21270;&#32780;&#19981;&#26159;&#34987;&#35843;&#29992;&#26102;&#36215;&#20316;&#29992;&#30340;&#12290;
                &#22240;&#32780;&#23427;&#19982;&#20256;&#32479;&#30340;IoC&#23481;&#22120;&#20363;&#22914;JSF&#25110;&#32773;Spring&#25152;&#25552;&#20379;&#30340;&#20381;&#36182;&#27880;&#20837;&#21151;&#33021;&#38750;&#24120;&#38750;&#24120;&#31867;&#20284;&#12290;
            </p><pre class="programlisting">&lt;drools:managed-working-memory name="policyPricingWorkingMemory" rule-base="#{policyPricingRules}"/&gt;</pre><pre class="programlisting">&lt;component name="policyPricingWorkingMemory"
          class="org.jboss.seam.drools.ManagedWorkingMemory"&gt;
    &lt;property name="ruleBase"&gt;#{policyPricingRules}&lt;/property&gt;
&lt;/component&gt;</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4085"></a>4.5.&nbsp;&#20351;&#29992;XML&#21629;&#21517;&#31354;&#38388;</h2></div></div><div></div></div><p>
                &#32437;&#35266;&#25972;&#20010;&#31034;&#20363;&#65292;&#26377;&#20004;&#31181;&#23436;&#20840;&#19981;&#21516;&#30340;&#22768;&#26126;&#32452;&#20214;&#30340;&#26041;&#24335;&#65306;&#20351;&#29992;&#25110;&#32773;&#19981;&#20351;&#29992;XML&#21629;&#21517;&#31354;&#38388;&#12290;
                &#19979;&#38754;&#30340;&#31034;&#20363;&#23637;&#31034;&#20102;&#19968;&#20010;&#20856;&#22411;&#30340; <tt class="literal">components.xml</tt> &#25991;&#20214;&#65292;&#23427;&#27809;&#26377;&#20351;&#29992;&#21629;&#21517;&#31354;&#38388;&#65292;&#32780;&#26159;&#20351;&#29992;Seam Components DTD&#65306;
            </p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;components xmlns="http://jboss.com/products/seam/components"
            xsi:schemaLocation="http://jboss.com/products/seam/components http://jboss.com/products/seam/components-2.0.xsd"&gt;

    &lt;component class="org.jboss.seam.core.init"&gt;
        &lt;property name="debug"&gt;true&lt;/property&gt;
        &lt;property name="jndiPattern"&gt;@jndiPattern@&lt;/property&gt;
    &lt;/component&gt;

&lt;/components&gt;</pre><p>
                &#27491;&#22914;&#20320;&#25152;&#35265;&#65292;&#36825;&#26679;&#30340;&#37197;&#32622;&#26377;&#28857;&#32321;&#29712;&#12290;&#26356;&#31967;&#30340;&#26159;&#65292;&#36825;&#20123;&#32452;&#20214;&#21644;&#23646;&#24615;&#30340;&#21517;&#31216;&#22312;&#24320;&#21457;&#26102;&#26159;&#26080;&#27861;&#34987;&#26657;&#39564;&#30340;&#12290;
            </p><p>
            	&#20351;&#29992;&#21629;&#21517;&#31354;&#38388;&#30340;&#37197;&#32622;&#30475;&#36215;&#26469;&#20687;&#36825;&#26679;&#65306;
            </p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:core="http://jboss.com/products/seam/core"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation=
                "http://jboss.com/products/seam/core http://jboss.com/products/seam/core-2.0.xsd
                 http://jboss.com/products/seam/components http://jboss.com/products/seam/components-2.0.xsd"&gt;

    &lt;core:init debug="true" jndi-pattern="@jndiPattern@"/&gt;

&lt;/components&gt;</pre><p>
                &#34429;&#28982;Schema&#30340;&#22768;&#26126;&#24456;&#32321;&#29712;&#65292;&#19981;&#36807;&#23454;&#38469;&#30340;XML&#20869;&#23481;&#26159;&#28165;&#26224;&#32780;&#31616;&#21333;&#26131;&#25026;&#30340;&#12290;
                Schema&#25552;&#20379;&#20102;&#20851;&#20110;&#27599;&#20010;&#21487;&#29992;&#32452;&#20214;&#21644;&#23646;&#24615;&#30340;&#35814;&#32454;&#20449;&#24687;&#65292;&#36825;&#20351;&#24471;XML&#32534;&#36753;&#22120;&#21487;&#20197;&#21457;&#25381;&#20854;&#33258;&#21160;&#23436;&#25104;&#30340;&#21151;&#25928;&#12290;
                &#25152;&#20197;&#65292;&#20351;&#29992;&#21629;&#21517;&#31354;&#38388;&#30340;&#20803;&#32032;&#20351;&#29983;&#25104;&#21644;&#32500;&#25252;&#27491;&#30830;&#30340; <tt class="literal">components.xml</tt> &#25991;&#20214;&#37117;&#21464;&#24471;&#26356;&#21152;&#31616;&#21333;&#12290;
            </p><p>
                &#29616;&#22312;&#65292;&#36825;&#31181;&#26041;&#24335;&#23545;&#20110;Seam&#20869;&#24314;&#30340;&#32452;&#20214;&#24037;&#20316;&#24471;&#24456;&#22909;&#65292;&#20294;&#26159;&#23545;&#20110;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;&#32452;&#20214;&#21448;&#22914;&#20309;&#21602;? 
                &#36825;&#37324;&#26377;&#20004;&#31181;&#36873;&#25321;&#65306;&#31532;&#19968;&#31181;&#65292;Seam&#25903;&#25345;&#20004;&#31181;&#27169;&#22411;&#30340;&#28151;&#21512;&#20351;&#29992;&#65292;&#20801;&#35768;&#20351;&#29992;&#26222;&#36890;&#30340; <tt class="literal">&lt;component&gt;</tt> &#22768;&#26126;&#26469;&#37197;&#32622;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;&#32452;&#20214;&#65292;&#21516;&#26102;&#20063;&#20351;&#29992;&#21629;&#21517;&#31354;&#38388;&#26469;&#37197;&#32622;&#20869;&#32622;&#32452;&#20214;&#12290;
                &#19981;&#36807;&#26356;&#22909;&#30340;&#26041;&#27861;&#26159;&#65292;Seam&#20801;&#35768;&#20320;&#24555;&#36895;&#22320;&#20026;&#20320;&#33258;&#24049;&#30340;&#32452;&#20214;&#22768;&#26126;&#21629;&#21517;&#31354;&#38388;&#12290;
            </p><p>
                &#20219;&#20309;Java&#21253;&#37117;&#21487;&#20197;&#36890;&#36807;&#29992; <tt class="literal">@Namespace</tt> &#27880;&#35299;&#35813;&#21253;&#65292;&#32780;&#19982;XML&#21629;&#21517;&#31354;&#38388;&#32780;&#20851;&#32852;&#36215;&#26469;&#12290;
                &#65288;&#21253;&#32423;&#21035;&#30340;&#27880;&#35299;&#26159;&#22312;&#19968;&#20010;&#21517;&#20026; <tt class="literal">package-info.java</tt> &#30340;&#25991;&#20214;&#20013;&#22768;&#26126;&#30340;&#65292;&#35813;&#25991;&#20214;&#22788;&#20110;&#21253;&#30340;&#21516;&#32423;&#30446;&#24405;&#19979;&#65289;&#12290;
                &#19979;&#38754;&#26159;&#19968;&#20010;&#26469;&#33258;seampay&#28436;&#31034;&#30340;&#20363;&#23376;:
            </p><pre class="programlisting">@Namespace(value="http://jboss.com/products/seam/examples/seampay")
package org.jboss.seam.example.seampay;

import org.jboss.seam.annotations.Namespace;</pre><p>
                &#36825;&#26679;&#65292;&#20320;&#23601;&#21487;&#20197;&#22312; <tt class="literal">components.xml</tt> &#20013;&#20351;&#29992;&#21629;&#21517;&#31354;&#38388;&#30340;&#26041;&#24335;&#20102;&#65281;&#29616;&#22312;&#65292;&#20320;&#21487;&#20197;&#36825;&#20040;&#20889;&#65306;
            </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:pay="http://jboss.com/products/seam/examples/seampay"
            ... &gt;

    &lt;pay:payment-home new-instance="#{newPayment}"
                      created-message="Created a new payment to #{newPayment.payee}" /&gt;

    &lt;pay:payment name="newPayment"
                 payee="Somebody"
                 account="#{selectedAccount}"
                 payment-date="#{currentDatetime}"
                 created-date="#{currentDatetime}" /&gt;
     ...
&lt;/components&gt;</pre><p>
            	&#25110;&#32773;&#65306;
            </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:pay="http://jboss.com/products/seam/examples/seampay"
            ... &gt;

    &lt;pay:payment-home&gt;
        &lt;pay:new-instance&gt;"#{newPayment}"&lt;/pay:new-instance&gt;
        &lt;pay:created-message&gt;Created a new payment to #{newPayment.payee}&lt;/pay:created-message&gt;
    &lt;/pay:payment-home&gt;

    &lt;pay:payment name="newPayment"&gt;
        &lt;pay:payee&gt;Somebody"&lt;/pay:payee&gt;
        &lt;pay:account&gt;#{selectedAccount}&lt;/pay:account&gt;
        &lt;pay:payment-date&gt;#{currentDatetime}&lt;/pay:payment-date&gt;
        &lt;pay:created-date&gt;#{currentDatetime}&lt;/pay:created-date&gt;
     &lt;/pay:payment&gt;
     ...
&lt;/components&gt;</pre><p>
                &#36825;&#20123;&#31034;&#20363;&#23637;&#31034;&#20102;&#21629;&#21517;&#31354;&#38388;&#20803;&#32032;&#30340;&#20004;&#31181;&#20351;&#29992;&#27169;&#24335;&#12290;
                &#22312;&#31532;&#19968;&#20010;&#22768;&#26126;&#20013;&#65292;<tt class="literal">&lt;pay:payment-home&gt;</tt> &#25351;&#21521; <tt class="literal">paymentHome</tt> &#32452;&#20214;&#12290;
            </p><pre class="programlisting">package org.jboss.seam.example.seampay;
...
@Name("paymentHome")
public class PaymentController
    extends EntityHome&lt;Payment&gt;
{
    ...
}</pre><p>
                &#20803;&#32032;&#30340;&#21517;&#31216;&#26159;&#36830;&#23383;&#31526;&#21495;&#65288;-&#65289;&#24418;&#24335;&#30340;&#32452;&#20214;&#21517;&#31216;&#12290;&#20803;&#32032;&#30340;&#23646;&#24615;&#26159;&#36830;&#23383;&#31526;&#21495;&#65288;-&#65289;&#24418;&#24335;&#30340;&#23646;&#24615;&#21517;&#31216;&#12290;
            </p><p>
                &#22312;&#31532;&#20108;&#20010;&#22768;&#26126;&#20013;&#65292;<tt class="literal">&lt;pay:payment&gt;</tt> &#20803;&#32032;&#25351;&#21521; <tt class="literal">org.jboss.seam.example.seampay</tt> &#21253;&#20013;&#30340; <tt class="literal">Payment</tt> &#31867;&#12290;
                &#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;<tt class="literal">Payment</tt> &#26159;&#19968;&#20010;&#34987;&#23450;&#20041;&#25104;Seam&#32452;&#20214;&#30340;&#23454;&#20307;&#12290;
            </p><pre class="programlisting">package org.jboss.seam.example.seampay;
...
@Entity
public class Payment
    implements Serializable
{
    ...
}</pre><p>
                &#22914;&#26524;&#25105;&#20204;&#38656;&#35201;&#29992;&#25143;&#33258;&#23450;&#20041;&#32452;&#20214;&#30340;&#39564;&#35777;&#21644;&#33258;&#21160;&#23436;&#25104;&#21151;&#33021;&#65292;&#25105;&#20204;&#23601;&#38656;&#35201;&#19968;&#20010;Schema&#12290;
                &#30446;&#21069;Seam&#36824;&#26080;&#27861;&#25552;&#20379;&#20026;&#19968;&#32452;&#32452;&#20214;&#33258;&#21160;&#29983;&#25104;Schema&#30340;&#26426;&#21046;&#65292;&#25152;&#20197;&#20320;&#24517;&#38656;&#25163;&#24037;&#29983;&#25104;&#12290;&#26631;&#20934;Seam&#21253;&#30340;Schema&#23450;&#20041;&#21487;&#20197;&#24403;&#20316;&#31034;&#33539;&#12290;
            </p><p>&#20197;&#19979;&#26159;Seam&#25152;&#20351;&#29992;&#30340;&#21629;&#21517;&#31354;&#38388;:</p><div class="itemizedlist"><ul type="disc"><li><p>components &#8212; <tt class="literal">http://jboss.com/products/seam/components</tt></p></li><li><p>core &#8212; <tt class="literal">http://jboss.com/products/seam/core</tt></p></li><li><p>drools &#8212; <tt class="literal">http://jboss.com/products/seam/drools</tt></p></li><li><p>framework &#8212; <tt class="literal">http://jboss.com/products/seam/framework</tt></p></li><li><p>jms &#8212; <tt class="literal">http://jboss.com/products/seam/jms</tt></p></li><li><p>remoting &#8212; <tt class="literal">http://jboss.com/products/seam/remoting</tt></p></li><li><p>theme &#8212; <tt class="literal">http://jboss.com/products/seam/theme</tt></p></li><li><p>security &#8212; <tt class="literal">http://jboss.com/products/seam/security</tt></p></li><li><p>mail &#8212; <tt class="literal">http://jboss.com/products/seam/mail</tt></p></li><li><p>web &#8212; <tt class="literal">http://jboss.com/products/seam/web</tt></p></li><li><p>pdf &#8212; <tt class="literal">http://jboss.com/products/seam/pdf</tt></p></li><li><p> spring &#8212; <tt class="literal">http://jboss.com/products/seam/spring</tt></p></li></ul></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="events"></a>Chapter&nbsp;5.&nbsp;&#20107;&#20214;&#12289;&#25318;&#25130;&#22120;&#21644;&#24322;&#24120;&#22788;&#29702;</h2></div></div><div></div></div><p>
	&#20004;&#20010;&#26356;&#28145;&#20837;&#30340;&#27010;&#24565;&#34917;&#20805;&#20102;&#19978;&#19979;&#25991;&#32452;&#20214;&#27169;&#22411;&#65292;&#36825;&#20004;&#20010;&#27010;&#24565;&#25512;&#21160;&#20102;&#26497;&#31471;&#26494;&#32806;&#21512;&#36825;&#19968;Seam&#24212;&#29992;&#31243;&#24207;&#30340;&#29420;&#29305;&#29305;&#24615;&#12290;
	&#31532;&#19968;&#20010;&#26159;&#24378;&#26377;&#21147;&#30340;&#20107;&#20214;&#27169;&#22411;&#65292;&#20107;&#20214;&#21487;&#20197;&#36890;&#36807;&#31867;&#20284;JSF&#32465;&#23450;&#34920;&#36798;&#24335;&#30340;&#26041;&#27861;&#26144;&#23556;&#21040;&#20107;&#20214;&#30417;&#21548;&#22120;&#12290;
	&#31532;&#20108;&#20010;&#26159;&#26222;&#36941;&#20351;&#29992;&#27880;&#35299;&#21644;&#25318;&#25130;&#22120;&#65292;&#36825;&#20351;&#25105;&#20204;&#24635;&#33021;&#36328;&#36234;&#24335;&#22320;&#20999;&#20837;&#21040;&#21040;&#23454;&#29616;&#19994;&#21153;&#36923;&#36753;&#30340;&#32452;&#20214;&#12290; 
   </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4230"></a>5.1.&nbsp;Seam&#20107;&#20214;</h2></div></div><div></div></div><p>
            Seam&#32452;&#20214;&#27169;&#22411;&#26159;&#20026;&#20351;&#29992; <span class="emphasis"><em>&#20107;&#20214;&#39537;&#21160;&#30340;&#24212;&#29992;&#31243;&#24207;</em></span> &#32780;&#24320;&#21457;&#30340;&#65292;&#29305;&#21035;&#26159;&#22312;&#19968;&#20010;&#32454;&#31890;&#24230;&#30340;&#20107;&#20214;&#27169;&#22411;&#37324;&#36827;&#34892;&#32454;&#31890;&#24230;&#30340;&#26494;&#32806;&#21512;&#32452;&#20214;&#30340;&#24320;&#21457;&#12290;
            Seam&#30340;&#20107;&#20214;&#26377;&#20960;&#31181;&#31867;&#22411;&#65292;&#22823;&#37096;&#20998;&#26159;&#25105;&#20204;&#24050;&#32463;&#35265;&#36807;&#30340;&#65306;
       </p><div class="itemizedlist"><ul type="disc"><li><p>JSF&#20107;&#20214;</p></li><li><p>jBPM&#30340;&#29366;&#24577;&#36716;&#31227;&#20107;&#20214;</p></li><li><p>Seam&#39029;&#38754;&#21160;&#20316;</p></li><li><p>Seam&#32452;&#20214;&#39537;&#21160;&#20107;&#20214;</p></li><li><p>Seam&#19978;&#19979;&#25991;&#20107;&#20214;</p></li></ul></div><p>
	    &#25152;&#26377;&#36825;&#20123;&#19981;&#21516;&#31181;&#31867;&#30340;&#20107;&#20214;&#37117;&#36890;&#36807;&#32465;&#23450;&#20102;&#34920;&#36798;&#24335;&#30340;JSF EL&#26041;&#27861;&#26144;&#23556;&#21040;Seam&#32452;&#20214;&#21435;&#12290;JSF&#20107;&#20214;&#26159;&#22312;JSF&#27169;&#26495;&#20013;&#23450;&#20041;&#30340;&#65306;
       </p><pre class="programlisting">&lt;h:commandButton value="Click me!" action="#{helloWorld.sayHello}"/&gt;</pre><p>
            &#23545;&#20110;jBPM&#30340;&#36716;&#25442;&#20107;&#20214;&#65292;&#26159;&#22312;jBPM&#36807;&#31243;&#23450;&#20041;&#25110;&#39029;&#38754;&#27969;&#23450;&#20041;&#20013;&#25351;&#23450;&#30340;&#65306;
       </p><pre class="programlisting">&lt;start-page name="hello" view-id="/hello.jsp"&gt;
    &lt;transition to="hello"&gt;
        &lt;action expression="#{helloWorld.sayHello}"/&gt;
    &lt;/transition&gt;
&lt;/start-page&gt;</pre><p>
	    &#20320;&#21487;&#20197;&#22312;&#20854;&#20182;&#22320;&#26041;&#25214;&#21040;&#26356;&#22810;&#20851;&#20110;JSF&#20107;&#20214;&#21644;jBPM&#20107;&#20214;&#30340;&#20449;&#24687;&#12290;&#25105;&#20204;&#29616;&#22312;&#20027;&#35201;&#20851;&#27880;&#30001;Seam&#23450;&#20041;&#30340;&#20004;&#31181;&#26032;&#22686;&#31867;&#22411;&#30340;&#20107;&#20214;&#19978;&#12290;
       </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4264"></a>5.1.1.&nbsp;&#39029;&#38754;&#21160;&#20316;</h3></div></div><div></div></div><p>
            Seam&#30340;&#39029;&#38754;&#21160;&#20316;&#26159;&#25351;&#23601;&#22312;&#25105;&#20204;&#28210;&#26579;&#39029;&#38754;&#20043;&#21069;&#21457;&#29983;&#30340;&#20107;&#20214;&#12290;&#25105;&#20204;&#22312; <tt class="literal">WEB-INF/pages.xml</tt> &#20013;&#22768;&#26126;&#39029;&#38754;&#21160;&#20316;&#12290;
            &#25105;&#20204;&#21487;&#20197;&#20026;&#20219;&#20309;&#19968;&#20010;&#29305;&#27530;&#30340;JSF&#35270;&#22270;id&#23450;&#20041;&#19968;&#20010;&#39029;&#38754;&#21160;&#20316;&#65306;
       </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/hello.jsp" action="#{helloWorld.sayHello}"/&gt;
&lt;/pages&gt;</pre><p>
	    &#25110;&#32773;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;&#19968;&#20010;&#36890;&#37197;&#31526; <tt class="literal">*</tt> &#20316;&#20026; <tt class="literal">view-id</tt> &#30340;&#21518;&#32512;&#26469;&#25351;&#23450;&#19968;&#20010;&#21160;&#20316;&#65292;&#24212;&#29992;&#21040;&#25152;&#26377;&#31526;&#21512;&#35813;&#27169;&#24335;&#30340;&#35270;&#22270;ID&#20013;&#65306;
       </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/hello/*" action="#{helloWorld.sayHello}"/&gt;
&lt;/pages&gt;</pre><p>
            &#22914;&#26524;&#22810;&#36890;&#37197;&#31526;&#30340;&#39029;&#38754;&#21160;&#20316;&#21305;&#37197;&#24403;&#21069;&#30340;view-id&#65292;Seam&#23558;&#25353;&#29031;&#20174;&#26368;&#36890;&#29992;&#21040;&#26368;&#29305;&#27530;&#30340;&#39034;&#24207;&#26469;&#35843;&#29992;&#25152;&#26377;&#30340;&#21160;&#20316;&#12290; 
       </p><p>
            &#39029;&#38754;&#21160;&#20316;&#26041;&#27861;&#21487;&#20197;&#36820;&#22238;&#19968;&#20010;JSF&#30340;&#32467;&#26524;&#12290;&#22914;&#26524;&#36825;&#20010;&#32467;&#26524;&#38750;&#31354;&#65292;Seam&#23558;&#29992;&#23450;&#20041;&#22909;&#30340;&#23548;&#33322;&#35268;&#21017;&#23548;&#33322;&#21040;&#19968;&#20010;&#35270;&#22270;&#20013;&#21435;&#12290;
       </p><p>
            &#27492;&#22806;&#65292;&#22312;&#20803;&#32032; <tt class="literal">&lt;page&gt;</tt> &#37324;&#25552;&#21040;&#30340;&#35270;&#22270;id&#19981;&#38656;&#35201;&#23545;&#24212;&#19968;&#20010;&#30495;&#23454;&#30340;JSP&#25110;Facelets&#39029;&#38754;&#65281;
            &#22240;&#27492;&#65292;&#25105;&#20204;&#21487;&#20197;&#20877;&#29983;&#20256;&#32479;&#30340;&#38754;&#21521;&#21160;&#20316;&#30340;&#26694;&#26550;&#30340;&#21151;&#33021;&#65292;&#23601;&#20687;Struts&#25110;WebWork&#20351;&#29992;&#39029;&#38754;&#21160;&#20316;&#37027;&#26679;&#12290;&#20363;&#22914;&#65306;
       </p><pre class="programlisting">TODO: translate struts action into page action</pre><p>
            &#22914;&#26524;&#20320;&#24819;&#35201;&#24212;non-faces&#30340;&#35831;&#27714;&#20570;&#28857;&#22797;&#26434;&#30340;&#20107;&#24773;&#65288;&#20363;&#22914;HTTP GET&#35831;&#27714;&#65289;&#65292;&#36825;&#23601;&#38750;&#24120;&#26377;&#29992;&#12290;
       </p><p>
        	&#23545;&#20110;&#22810;&#39029;&#38754;&#25110;&#32773;&#26465;&#20214;&#39029;&#38754;&#30340;&#21160;&#20316;&#65292;&#21487;&#20197;&#20351;&#29992; <tt class="literal">&lt;action&gt;</tt> &#26631;&#31614;&#25351;&#23450;&#65306;
       </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/hello.jsp"&gt;
        &lt;action execute="#{helloWorld.sayHello}" if="#{not validation.failed}"/&gt;
        &lt;action execute="#{hitCount.increment}"/&gt;
    &lt;/page&gt;
&lt;/pages&gt;</pre><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4304"></a>5.1.1.1.&nbsp;&#39029;&#38754;&#21442;&#25968;</h4></div></div><div></div></div><p>
                &#19968;&#20010;JSF faces&#35831;&#27714;&#65288;&#34920;&#21333;&#25552;&#20132;&#65289;&#21516;&#26102;&#23553;&#35013;&#20102;&#19968;&#20010;&#8220;&#21160;&#20316;action&#8221;&#65288;&#19968;&#20010;&#26041;&#27861;&#32465;&#23450;&#65289;&#21644;&#8220;&#22810;&#20010;&#21442;&#25968;parameters&#8221;&#65288;&#36755;&#20837;&#20540;&#32465;&#23450;&#65289;&#12290;&#19968;&#20010;&#39029;&#38754;&#21160;&#20316;&#20063;&#21487;&#33021;&#38656;&#35201;&#21442;&#25968;&#65281;
           </p><p>
            &#30001;&#20110;GET&#35831;&#27714;&#26159;&#21487;&#20197;&#20570;&#26631;&#35760;&#30340;&#65292;&#39029;&#38754;&#21442;&#25968;&#26159;&#20316;&#20026;&#20154;&#31867;&#26131;&#35835;&#30340;&#35831;&#27714;&#21442;&#25968;&#26469;&#20256;&#36882;&#30340;&#12290;&#65288;&#19981;&#20687;JSF form&#30340;&#36755;&#20837;&#65292;&#20160;&#20040;&#37117;&#26377;&#23601;&#26159;&#19981;&#20855;&#26377;&#21487;&#35835;&#24615;&#65281;&#65289;
           </p><p>
           		&#20320;&#21487;&#20197;&#20351;&#29992;&#39029;&#38754;&#21442;&#25968;&#65292;&#24102;&#19981;&#24102;&#21160;&#20316;&#26041;&#27861;&#37117;&#21487;&#20197;&#12290;
           </p><div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="d0e4313"></a>5.1.1.1.1.&nbsp;&#23558;&#35831;&#27714;&#21442;&#25968;&#26144;&#23556;&#21040;&#27169;&#22411;</h5></div></div><div></div></div><p>
                Seam&#35753;&#25105;&#20204;&#25552;&#20379;&#19968;&#20010;&#20540;&#32465;&#23450;&#65292;&#26469;&#23558;&#19968;&#20010;&#24050;&#21629;&#21517;&#30340;&#35831;&#27714;&#21442;&#25968;&#26144;&#23556;&#25104;&#19968;&#20010;&#27169;&#22411;&#23545;&#35937;&#30340;&#23646;&#24615;&#12290;
           </p><pre class="programlisting">&lt;pages&gt;
      &lt;page view-id="/hello.jsp" action="#{helloWorld.sayHello}"&gt;
          &lt;param name="firstName" value="#{person.firstName}"/&gt;
          &lt;param name="lastName" value="#{person.lastName}"/&gt;
      &lt;/page&gt;
  &lt;/pages&gt;</pre><p>
                <tt class="literal">&lt;param&gt;</tt> &#30340;&#22768;&#26126;&#26159;&#21452;&#21521;&#30340;&#65292;&#23601;&#20687;&#19968;&#20010;JSF&#36755;&#20837;&#30340;&#20540;&#32465;&#23450;&#65306;
           </p><div class="itemizedlist"><ul type="disc"><li><p>
                    &#24403;&#35270;&#22270;id&#30340;&#19968;&#20010;non-faces(GET)&#35831;&#27714;&#21457;&#29983;&#26102;&#65292;Seam&#22312;&#25191;&#34892;&#20102;&#30456;&#24212;&#30340;&#31867;&#22411;&#36716;&#21464;&#20043;&#21518;&#65292;&#23601;&#22312;&#27169;&#22411;&#23545;&#35937;&#19978;&#35774;&#32622;&#24050;&#21629;&#21517;&#30340;&#35831;&#27714;&#21442;&#25968;&#30340;&#20540;&#12290;
                   </p></li><li><p>
                        &#20219;&#20309; <tt class="literal">&lt;s:link&gt;</tt> &#25110; <tt class="literal">&lt;s:button&gt;</tt> &#36879;&#26126;&#22320;&#25110;&#32773;&#35828;&#33258;&#21160;&#22320;&#21253;&#25324;request&#24102;&#26377;&#30340;&#21442;&#25968;&#12290;
                        &#21442;&#25968;&#30340;&#20540;&#30001;&#28210;&#26579;&#38454;&#27573;&#65288;&#24403; <tt class="literal">&lt;s:link&gt;</tt> &#34987;&#28210;&#26579;&#65289;&#30340;&#32465;&#23450;&#20540;&#26469;&#20915;&#23450;&#12290;
                   </p></li><li><p>
                        &#20351;&#29992; <tt class="literal">&lt;redirect/&gt;</tt> &#21040;&#35270;&#22270;id&#30340;&#20219;&#20309;&#23548;&#33322;&#35268;&#21017;&#24456;&#26126;&#26174;&#26159;&#21547;&#26377;&#35831;&#27714;&#21442;&#25968;&#12290;
                        &#21442;&#25968;&#30340;&#20540;&#30001;&#35843;&#29992;&#24212;&#29992;&#31243;&#24207;&#38454;&#27573;&#32467;&#26463;&#26102;&#30340;&#20540;&#32465;&#23450;&#22823;&#23567;&#26469;&#20915;&#23450;&#12290;
                   </p></li><li><p>
                      	  &#36825;&#20010;&#20540;&#24456;&#26126;&#26174;&#26159;&#30001;&#24102;&#26377;&#35270;&#22270;id&#30340;&#34987;&#25552;&#20132;&#30340;&#20219;&#20309;JSF&#39029;&#38754;&#20256;&#25773;&#30340;&#12290;
                      	  &#36825;&#24847;&#21619;&#30528;&#35270;&#22270;&#21442;&#25968;&#34920;&#29616;&#24471;&#23601;&#20687;faces&#35831;&#27714;&#30340; <tt class="literal">PAGE</tt> &#33539;&#22260;&#20869;&#19978;&#19979;&#25991;&#21464;&#37327;&#19968;&#26679;&#12290;
                     </p></li></ul></div><p>
              		&#26368;&#29702;&#24819;&#30340;&#24773;&#24418;&#26159; <span class="emphasis"><em>&#26080;&#35770;</em></span> &#25105;&#20204;&#20174;&#20160;&#20040;&#39029;&#38754;&#21040; <tt class="literal">/hello.jsp</tt>
              		&#65288;&#25110;&#32773;&#20174;<tt class="literal">/hello.jsp</tt>&#22238;&#21040;<tt class="literal">/hello.jsp</tt>&#65289;&#65292;
              		&#22312;&#20540;&#32465;&#23450;&#20013;&#34987;&#24341;&#29992;&#30340;&#27169;&#22411;&#23646;&#24615;&#30340;&#20540;&#37117;&#24212;&#35813;&#34987;&#8220;&#35760;&#20303;&#8221;&#65292;&#32780;&#19981;&#38656;&#35201;&#23545;&#35805;&#26469;&#23384;&#20648;&#65288;&#25110;&#32773;&#20854;&#20182;&#30340;&#26381;&#21153;&#22120;&#31471;&#29366;&#24577;&#26469;&#23384;&#20648;&#65289;&#12290; 


             </p></div><div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="d0e4367"></a>5.1.1.1.2.&nbsp;&#20256;&#25773;&#35831;&#27714;&#21442;&#25968;</h5></div></div><div></div></div><p>
                	&#22914;&#26524;&#21482;&#26159;&#25351;&#23450; <tt class="literal">name</tt> &#23646;&#24615;&#65292;&#37027;&#20040;&#35831;&#27714;&#21442;&#25968;&#23601;&#20250;&#21033;&#29992; <tt class="literal">PAGE</tt> &#36827;&#34892;&#19978;&#19979;&#25991;&#20256;&#25773;&#65288;&#23427;&#27809;&#26377;&#34987;&#26144;&#23556;&#25104;&#27169;&#22411;&#23646;&#24615;&#65289;&#12290;
               </p><pre class="programlisting">&lt;pages&gt;
      &lt;page view-id="/hello.jsp" action="#{helloWorld.sayHello}"&gt;
          &lt;param name="firstName" /&gt;
          &lt;param name="lastName" /&gt;
      &lt;/page&gt;
  &lt;/pages&gt;</pre><p>
               		&#22914;&#26524;&#20320;&#24819;&#35201;&#24314;&#31435;&#22810;&#23618;&#30340;&#22797;&#26434;CRUD&#39029;&#38754;&#65292;&#39029;&#38754;&#21442;&#25968;&#30340;&#20256;&#36882;&#23588;&#20854;&#26377;&#29992;&#12290;&#20320;&#21487;&#20197;&#29992;&#23427;&#8220;&#35760;&#20303;&#8221;&#20320;&#21069;&#38754;&#21040;&#36807;&#30340;&#39029;&#38754;&#65288;&#20363;&#22914;&#24403;&#25353;&#20102;&#20445;&#23384;&#25353;&#38062;&#26102;&#65289;&#21644;&#27491;&#22312;&#32534;&#36753;&#30340;&#23454;&#20307;&#12290;
              </p><div class="itemizedlist"><ul type="disc"><li><p>
                      &#24456;&#26126;&#26174;&#65292;&#22914;&#26524;&#21442;&#25968;&#26159;&#35270;&#22270;&#30340;&#39029;&#38754;&#21442;&#25968;&#30340;&#35805;&#65292;&#20219;&#20309; <tt class="literal">&lt;s:link&gt;</tt> &#25110;&#32773; <tt class="literal">&lt;s:button&gt;</tt> &#37117;&#20250;&#20256;&#25773;&#35831;&#27714;&#21442;&#25968;&#12290;
                     </p></li><li><p>
                    &#36825;&#20010;&#20540;&#24456;&#26126;&#26174;&#26159;&#30001;&#24102;&#26377;&#25351;&#23450;&#35270;&#22270;id&#30340;&#39029;&#38754;&#30340;&#20219;&#20309;jsf&#39029;&#38754;&#34920;&#21333;&#25552;&#20132;&#20256;&#25773;&#30340;&#12290;
                    &#65288;&#36825;&#24847;&#21619;&#30528;&#35270;&#22270;&#21442;&#25968;&#34920;&#29616;&#24471;&#23601;&#20687;faces&#35831;&#27714;&#30340;<tt class="literal">PAGE</tt>&#33539;&#22260;&#20869;&#35270;&#22270;&#21442;&#25968;&#19968;&#26679;&#12290;&#65289;
                   </p></li></ul></div></div><p>
                &#25152;&#26377;&#36825;&#20123;&#21548;&#36215;&#26469;&#24456;&#22797;&#26434;&#65292;&#20320;&#21487;&#33021;&#20250;&#24819;&#36825;&#20040;&#19968;&#20010;&#22806;&#26469;&#30340;&#26500;&#36896;&#26159;&#21542;&#30495;&#30340;&#20540;&#24471;&#21435;&#21162;&#21147;&#12290;&#23454;&#38469;&#19978;&#65292;&#19968;&#26086;&#20320;&#8220;&#25484;&#25569;&#20102;&#23427;&#8221;&#65292;&#26377;&#36825;&#31181;&#24819;&#27861;&#38750;&#24120;&#33258;&#28982;&#12290;
                &#29702;&#35299;&#36825;&#20123;&#36164;&#26009;&#26174;&#28982;&#38656;&#35201;&#33457;&#36153;&#26102;&#38388;&#30340;&#12290;&#39029;&#38754;&#21442;&#25968;&#26159;&#36328;&#36234;non-faces&#35831;&#27714;&#26469;&#20256;&#25773;&#29366;&#24577;&#30340;&#26368;&#20248;&#38597;&#26041;&#24335;&#12290;
                &#23545;&#20110;&#29992;&#21487;&#26631;&#35760;&#30340;&#32467;&#26524;&#39029;&#65292;&#25628;&#32034;&#23631;&#24149;&#30340;&#38382;&#39064;&#23588;&#20854;&#26377;&#25928;&#65292;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#25105;&#20204;&#21916;&#27426;&#21487;&#20197;&#20889;&#24212;&#29992;&#31243;&#24207;&#20195;&#30721;&#12289;&#29992;&#21516;&#19968;&#27573;&#20195;&#30721;&#26469;&#22788;&#29702;POST&#21644;GET&#35831;&#27714;&#12290;
                &#39029;&#38754;&#21442;&#25968;&#28040;&#38500;&#20102;&#35270;&#22270;&#23450;&#20041;&#20013;&#35831;&#27714;&#21442;&#25968;&#30340;&#37325;&#22797;&#28165;&#21333;&#65292;&#24182;&#20351;&#24471;&#37325;&#23450;&#21521;&#26356;&#23481;&#26131;&#29992;&#20195;&#30721;&#23454;&#29616;&#12290;
           </p><div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="d0e4400"></a>5.1.1.1.3.&nbsp;&#36716;&#25442;&#21644;&#39564;&#35777;</h5></div></div><div></div></div><p>
            	&#20320;&#21487;&#20197;&#20026;&#22797;&#26434;&#30340;&#27169;&#22411;&#23646;&#24615;&#25351;&#23450;&#19968;&#20010;JSF&#36716;&#25442;&#22120;:
           </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/calculator.jsp" action="#{calculator.calculate}"&gt;
        &lt;param name="x" value="#{calculator.lhs}"/&gt;
        &lt;param name="y" value="#{calculator.rhs}"/&gt;
        &lt;param name="op" converterId="com.my.calculator.OperatorConverter" value="#{calculator.op}"/&gt;
    &lt;/page&gt;
&lt;/pages&gt;</pre><p>
           		&#25110;&#32773;&#65306;
           </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/calculator.jsp" action="#{calculator.calculate}"&gt;
        &lt;param name="x" value="#{calculator.lhs}"/&gt;
        &lt;param name="y" value="#{calculator.rhs}"/&gt;
        &lt;param name="op" converter="#{operatorConverter}" value="#{calculator.op}"/&gt;
    &lt;/page&gt;
&lt;/pages&gt;</pre><p>
           		JSF&#39564;&#35777;&#22120;&#21644; <tt class="literal">required="true"</tt> &#20063;&#21487;&#20197;&#36825;&#26679;&#29992;&#65306;
           </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/blog.xhtml"&gt;
        &lt;param name="date"
               value="#{blog.date}"
               validatorId="com.my.blog.PastDate"
               required="true"/&gt;
    &lt;/page&gt;
&lt;/pages&gt;</pre><p>
           		&#25110;&#32773;&#65306;
           </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/blog.xhtml"&gt;
        &lt;param name="date"
               value="#{blog.date}"
               validator="#{pastDateValidator}"
               required="true"/&gt;
    &lt;/page&gt;
&lt;/pages&gt;</pre><p>
           		&#26356;&#22909;&#30340;&#26041;&#24335;&#65292;&#22522;&#20110;&#27169;&#22411;&#30340;Hibernate&#39564;&#35777;&#22120;&#27880;&#35299;&#20250;&#33258;&#21160;&#34987;&#35782;&#21035;&#21644;&#39564;&#35777;&#12290;
           </p><p>
            	&#24403;&#31867;&#22411;&#36716;&#25442;&#25110;&#32773;&#39564;&#35777;&#22833;&#36133;&#21518;&#65292;&#19968;&#20010;&#20840;&#23616;&#30340; <tt class="literal">FacesMessage</tt> &#23601;&#20250;&#34987;&#28155;&#21152;&#21040; <tt class="literal">FacesContext</tt> &#20013;&#12290;
           </p></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4432"></a>5.1.1.2.&nbsp;&#23548;&#33322;</h4></div></div><div></div></div><p>
                &#20320;&#21487;&#20197;&#20351;&#29992;&#22312;Seam&#24212;&#29992;&#31243;&#24207;&#30340; <tt class="literal">faces-config.xml</tt> &#20013;&#23450;&#20041;&#30340;&#26631;&#20934;JSF&#23548;&#33322;&#35268;&#21017;&#12290;&#28982;&#32780;&#65292;JSF&#23548;&#33322;&#35268;&#21017;&#20063;&#26377;&#35768;&#22810;&#28902;&#20154;&#30340;&#38480;&#21046;&#65306;
           </p><div class="itemizedlist"><ul type="disc"><li><p>
                        &#22312;&#37325;&#23450;&#21521;&#26102;&#65292;&#19981;&#21487;&#33021;&#25351;&#23450;&#19968;&#20010;&#23558;&#35201;&#20351;&#29992;&#30340;&#35831;&#27714;&#21442;&#25968;&#12290;
                   </p></li><li><p>
                       &#19981;&#21487;&#33021;&#30001;&#19968;&#20010;&#35268;&#21017;&#26469;&#24320;&#22987;&#25110;&#32773;&#32467;&#26463;&#23545;&#35805;&#12290;
                   </p></li><li><p>
                        &#36890;&#36807;&#32473;&#21160;&#20316;&#26041;&#27861;&#27714;&#21462;&#36820;&#22238;&#20540;&#26469;&#36816;&#20316;&#35268;&#21017;&#65307;&#19981;&#21487;&#33021;&#21435;&#32473;&#19968;&#20010;&#20219;&#24847;&#30340;EL&#34920;&#36798;&#24335;&#21462;&#20540;&#12290;
                   </p></li></ul></div><p>
                &#26356;&#28145;&#23618;&#27425;&#30340;&#38382;&#39064;&#22312;&#20110;&#8221;&#31649;&#29702;&#8220;&#36923;&#36753;&#22312; <tt class="literal">pages.xml</tt> &#21644; <tt class="literal">faces-config.xml</tt> &#20043;&#38388;&#26159;&#20998;&#25955;&#30340;&#12290;
                &#26368;&#22909;&#26159;&#25226;&#36825;&#31181;&#36923;&#36753;&#32479;&#19968;&#36827; <tt class="literal">pages.xml</tt> &#20013;&#12290;
           </p><p>
                &#36825;&#20010;JSF&#23548;&#33322;&#35268;&#21017;&#65306;
           </p><pre class="programlisting">&lt;navigation-rule&gt;
    &lt;from-view-id&gt;/editDocument.xhtml&lt;/from-view-id&gt;

    &lt;navigation-case&gt;
        &lt;from-action&gt;#{documentEditor.update}&lt;/from-action&gt;
        &lt;from-outcome&gt;success&lt;/from-outcome&gt;
        &lt;to-view-id&gt;/viewDocument.xhtml&lt;/to-view-id&gt;
        &lt;redirect/&gt;
    &lt;/navigation-case&gt;

&lt;/navigation-rule&gt;</pre><p>
                &#21487;&#20197;&#37325;&#20889;&#22914;&#19979;&#65306;
           </p><pre class="programlisting">&lt;page view-id="/editDocument.xhtml"&gt;

    &lt;navigation from-action="#{documentEditor.update}"&gt;
        &lt;rule if-outcome="success"&gt;
            &lt;redirect view-id="/viewDocument.xhtml"/&gt;
        &lt;/rule&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre><p>
                &#22914;&#26524;&#25105;&#20204;&#19981;&#24517;&#29992;&#23383;&#31526;&#31867;&#22411;&#30340;&#36820;&#22238;&#20540;&#65288;JSF&#30340;&#32467;&#26524;&#65289;&#26469;&#27745;&#26579; <tt class="literal">DocumentEditor</tt> &#32452;&#20214;&#30340;&#35805;&#20250;&#26356;&#22909;&#12290;
                &#22240;&#27492;Seam&#20801;&#35768;&#25105;&#20204;&#20889;&#25104;&#65306;
           </p><pre class="programlisting">&lt;page view-id="/editDocument.xhtml"&gt;

    &lt;navigation from-action="#{documentEditor.update}"
                   evaluate="#{documentEditor.errors.size}"&gt;
        &lt;rule if-outcome="0"&gt;
            &lt;redirect view-id="/viewDocument.xhtml"/&gt;
        &lt;/rule&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre><p>
                &#25110;&#32773;&#29978;&#33267;&#21487;&#20197;&#20889;&#25104;&#65306;
           </p><pre class="programlisting">&lt;page view-id="/editDocument.xhtml"&gt;

    &lt;navigation from-action="#{documentEditor.update}"&gt;
        &lt;rule if="#{documentEditor.errors.empty}"&gt;
            &lt;redirect view-id="/viewDocument.xhtml"/&gt;
        &lt;/rule&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre><p>
                &#31532;&#19968;&#31181;&#24418;&#24335;&#35745;&#31639;&#19968;&#20010;&#20540;&#32465;&#23450;&#65292;&#26469;&#30830;&#23450;&#35201;&#34987;&#21518;&#38754;&#30340;&#19968;&#31995;&#21015;&#23548;&#33322;&#35268;&#21017;&#25152;&#20351;&#29992;&#30340;&#32467;&#26524;&#20540;&#12290;
                &#31532;&#20108;&#31181;&#26041;&#27861;&#24573;&#30053;&#32467;&#26524;&#65292;&#24182;&#20026;&#27599;&#20010;&#21487;&#33021;&#30340;&#35268;&#21017;&#26469;&#35745;&#31639;&#20540;&#32465;&#23450;&#12290;
           </p><p>
                &#24403;&#28982;&#65292;&#24403;&#19968;&#20010;&#26356;&#26032;&#25104;&#21151;&#65292;&#25105;&#20204;&#21487;&#33021;&#24819;&#35201;&#32467;&#26463;&#24403;&#21069;&#30340;&#23545;&#35805;&#12290;&#25105;&#20204;&#21487;&#20197;&#36825;&#26679;&#20570;&#65306;
           </p><pre class="programlisting">&lt;page view-id="/editDocument.xhtml"&gt;

    &lt;navigation from-action="#{documentEditor.update}"&gt;
        &lt;rule if="#{documentEditor.errors.empty}"&gt;
            &lt;end-conversation/&gt;
            &lt;redirect view-id="/viewDocument.xhtml"/&gt;
        &lt;/rule&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre><p>
                &#30001;&#20110;&#25105;&#20204;&#32456;&#27490;&#20102;&#20250;&#35805;&#65292;&#21518;&#38754;&#30340;&#20219;&#20309;&#35831;&#27714;&#37117;&#26080;&#27861;&#30693;&#36947;&#25105;&#20204;&#23545;&#21738;&#20010;&#25991;&#26723;&#24863;&#20852;&#36259;&#12290;
                &#25105;&#20204;&#21487;&#20197;&#23558;&#25991;&#26723;id&#20316;&#20026;&#19968;&#20010;&#35831;&#27714;&#21442;&#25968;&#20256;&#36882;&#65292;&#36825;&#26679;&#20063;&#20351;&#24471;&#35270;&#22270;&#21464;&#25104;&#26159;&#21487;&#26631;&#35760;&#30340;&#65306;
           </p><pre class="programlisting">&lt;page view-id="/editDocument.xhtml"&gt;

    &lt;navigation from-action="#{documentEditor.update}"&gt;
        &lt;rule if="#{documentEditor.errors.empty}"&gt;
            &lt;end-conversation/&gt;
            &lt;redirect view-id="/viewDocument.xhtml"&gt;
                &lt;param name="documentId" value="#{documentEditor.documentId}"/&gt;
            &lt;/redirect&gt;
        &lt;/rule&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre><p>
                &#22312;JSF&#20013;&#65292;null&#26159;&#19968;&#20010;&#29305;&#27530;&#30340;&#32467;&#26524;&#12290;&#32467;&#26524;null&#34987;&#35299;&#37322;&#25104;&#8220;&#37325;&#26032;&#26174;&#31034;&#39029;&#38754;&#8221;&#12290;
                &#19979;&#38754;&#30340;&#23548;&#33322;&#35268;&#21017;&#31526;&#21512;&#20219;&#20309;&#38750;null&#30340;&#32467;&#26524;&#65292;&#32780; <span class="emphasis"><em>&#19981;&#31526;&#21512;</em></span> null&#30340;&#32467;&#26524;&#65306;
           </p><pre class="programlisting">&lt;page view-id="/editDocument.xhtml"&gt;

    &lt;navigation from-action="#{documentEditor.update}"&gt;
        &lt;rule&gt;
            &lt;render view-id="/viewDocument.xhtml"/&gt;
        &lt;/rule&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre><p>
            	&#22914;&#26524;&#32467;&#26524;&#20986;&#29616;null&#65292;&#20320;&#36824;&#24819;&#25191;&#34892;&#23548;&#33322;&#65292;&#23601;&#20351;&#29992;&#19979;&#38754;&#30340;&#24418;&#24335;&#65306;
           </p><pre class="programlisting">&lt;page view-id="/editDocument.xhtml"&gt;

    &lt;navigation from-action="#{documentEditor.update}"&gt;
        &lt;render view-id="/viewDocument.xhtml"/&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre><p>
                view-id&#21487;&#20197;&#20316;&#20026;&#19968;&#20010;JSF EL&#34920;&#36798;&#24335;&#25552;&#20379;&#65306;
           </p><pre class="programlisting">&lt;page view-id="/editDocument.xhtml"&gt;

    &lt;navigation if-outcome="success"&gt;
        &lt;redirect view-id="/#{userAgent}/displayDocument.xhtml"/&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4505"></a>5.1.1.3.&nbsp;&#23548;&#33322;&#30340;&#23450;&#20041;&#12289;&#39029;&#38754;&#21160;&#20316;&#21644;&#21442;&#25968;&#30340;&#32454;&#31890;&#24230;&#25991;&#20214;</h4></div></div><div></div></div><p>
                &#22914;&#26524;&#20320;&#26377;&#24456;&#22810;&#19981;&#21516;&#30340;&#39029;&#38754;&#21160;&#20316;&#21644;&#39029;&#38754;&#21442;&#25968;&#65292;&#25110;&#32773;&#29978;&#33267;&#26159;&#24456;&#22810;&#23548;&#33322;&#35268;&#21017;&#65292;&#20320;&#23601;&#20250;&#24456;&#24819;&#25226;&#36825;&#20123;&#22768;&#26126;&#20998;&#24320;&#25918;&#21040;&#22810;&#20010;&#25991;&#20214;&#20013;&#21435;&#12290;
                &#20320;&#21487;&#20197;&#22312;&#19968;&#20010;&#21517;&#20026; <tt class="literal">calc/calculator.page.xml</tt> &#30340;&#36164;&#28304;&#20013;&#65292;&#20026;&#19968;&#20010;&#26377;&#30528;&#35270;&#22270;id <tt class="literal">/calc/calculator.jsp</tt> &#30340;&#39029;&#38754;&#23450;&#20041;&#21160;&#20316;&#21644;&#21442;&#25968;&#12290;
                &#36825;&#20010;&#20363;&#23376;&#20013;&#30340;&#26681;&#20803;&#32032;&#26159; <tt class="literal">&lt;page&gt;</tt> &#20803;&#32032;&#65292;&#38544;&#21547;&#30528;&#35270;&#22270;id&#65306;
           </p><pre class="programlisting">&lt;page action="#{calculator.calculate}"&gt;
    &lt;param name="x" value="#{calculator.lhs}"/&gt;
    &lt;param name="y" value="#{calculator.rhs}"/&gt;
    &lt;param name="op" converter="#{operatorConverter}" value="#{calculator.op}"/&gt;
&lt;/page&gt;</pre></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4521"></a>5.1.2.&nbsp;&#32452;&#20214;&#39537;&#21160;&#30340;&#20107;&#20214;</h3></div></div><div></div></div><p>
                Seam&#32452;&#20214;&#21487;&#20197;&#36890;&#36807;&#26041;&#27861;&#38388;&#31616;&#21333;&#30340;&#35843;&#29992;&#30456;&#20114;&#24433;&#21709;&#12290;&#29366;&#24577;&#32452;&#20214;&#29978;&#33267;&#23454;&#29616; Observer/Observable &#27169;&#24335;&#12290;
                &#20294;&#22312;&#32452;&#20214;&#30452;&#25509;&#35843;&#29992;&#24444;&#27492;&#26041;&#27861;&#30340;&#26102;&#20505;&#65292;&#20026;&#20102;&#20351;&#32452;&#20214;&#22312;&#19968;&#20010;&#27604;&#21487;&#33021;&#23384;&#22312;&#30340;&#26356;&#21152;&#26494;&#32806;&#21512;&#30340;&#26041;&#24335;&#19979;&#30456;&#20114;&#20316;&#29992;&#65292;Seam&#25552;&#20379;&#20102; <span class="emphasis"><em>&#32452;&#20214;&#39537;&#21160;&#20107;&#20214;</em></span>&#12290;
           </p><p>
                &#25105;&#20204;&#22312; <tt class="literal">components.xml</tt> &#37324;&#25351;&#23450;&#20102;&#20107;&#20214;&#30417;&#21548;&#22120;&#65288;&#35266;&#23519;&#32773;&#65289;&#12290;
           </p><pre class="programlisting">&lt;components&gt;
    &lt;event type="hello"&gt;
        &lt;action execute="#{helloListener.sayHelloBack}"/&gt;
        &lt;action execute="#{logger.logHello}"/&gt;
    &lt;/event&gt;
&lt;/components&gt;</pre><p>
                &#22312;&#36825;&#37324;&#65292;<span class="emphasis"><em>event type</em></span> &#26159;&#20219;&#24847;&#30340;&#23383;&#31526;&#20018;&#12290;
           </p><p>
                &#20107;&#20214;&#21457;&#29983;&#26102;&#65292;&#35813;&#20107;&#20214;&#24050;&#32463;&#27880;&#20876;&#36807;&#30340;&#21160;&#20316;&#23558;&#25353;&#29031;&#23427;&#20204;&#22312; <tt class="literal">components.xml</tt> &#20013;&#20986;&#29616;&#30340;&#39034;&#24207;&#34987;&#20381;&#27425;&#35843;&#29992;&#12290;
                &#32452;&#20214;&#22914;&#20309;&#21457;&#36215;&#20107;&#20214;&#65311;Seam&#20026;&#27492;&#25552;&#20379;&#20102;&#19968;&#20010;&#20869;&#32622;&#30340;&#32452;&#20214;&#12290;
           </p><pre class="programlisting">@Name("helloWorld")
public class HelloWorld {
    public void sayHello() {
        FacesMessages.instance().add("Hello World!");
        Events.instance().raiseEvent("hello");
    }
}</pre><p>
                &#25110;&#32773;&#20320;&#21487;&#20197;&#20351;&#29992;&#27880;&#35299;&#12290;
           </p><pre class="programlisting">@Name("helloWorld")
public class HelloWorld {
    @RaiseEvent("hello")
    public void sayHello() {
        FacesMessages.instance().add("Hello World!");
    }
}</pre><p>
            &#27880;&#24847;&#36825;&#20010;&#20107;&#20214;&#20135;&#29983;&#22120;&#27809;&#26377;&#20381;&#36182;&#20219;&#20309;&#20107;&#20214;&#28040;&#36153;&#32773;&#12290;&#20107;&#20214;&#30417;&#21548;&#22120;&#29616;&#22312;&#21487;&#20197;&#23436;&#20840;&#19981;&#20381;&#36182;&#20110;&#20135;&#29983;&#22120;&#32780;&#23454;&#29616;&#65306;
           </p><pre class="programlisting">@Name("helloListener")
public class HelloListener {
    public void sayHelloBack() {
        FacesMessages.instance().add("Hello to you too!");
    }
}</pre><p>
                &#19978;&#36848;&#22312; <tt class="literal">components.xml</tt>&#20013;&#23450;&#20041;&#30340;&#26041;&#27861;&#32465;&#23450;&#20851;&#24515;&#25226;&#20107;&#20214;&#26144;&#23556;&#21040;&#28040;&#36153;&#32773;&#21435;&#12290;
                &#22914;&#26524;&#20320;&#19981;&#21916;&#27426; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#30340;&#37027;&#19968;&#22871;&#65292;&#21487;&#20197;&#29992;&#27880;&#35299;&#26469;&#26367;&#20195;&#65306;
           </p><pre class="programlisting">@Name("helloListener")
public class HelloListener {
    @Observer("hello")
    public void sayHelloBack() {
        FacesMessages.instance().add("Hello to you too!");
    }
}</pre><p>
                &#20320;&#21487;&#33021;&#24819;&#30693;&#36947;&#20026;&#20160;&#20040;&#22312;&#36825;&#20010;&#35752;&#35770;&#20013;&#27809;&#26377;&#25552;&#21040;&#20851;&#20110;&#20219;&#20309;&#20107;&#20214;&#23545;&#35937;&#30340;&#19996;&#35199;&#12290;
                &#22312;Seam&#20013;&#65292;&#23545;&#20107;&#20214;&#23545;&#35937;&#32780;&#35328;&#65292;&#19981;&#38656;&#35201;&#22312;&#20107;&#20214;&#29983;&#20135;&#32773;&#21644;&#30417;&#21548;&#22120;&#20043;&#38388;&#20256;&#25773;&#29366;&#24577;&#12290;
                &#29366;&#24577;&#20445;&#30041;&#22312;Seam&#19978;&#19979;&#25991;&#20013;&#65292;&#22312;&#32452;&#20214;&#20043;&#38388;&#20849;&#20139;&#12290;&#28982;&#32780;&#65292;&#22914;&#26524;&#20320;&#30495;&#24819;&#20256;&#36882;&#20107;&#20214;&#23545;&#35937;&#65292;&#20320;&#21487;&#20197;&#65306;
           </p><pre class="programlisting">@Name("helloWorld")
public class HelloWorld {
    private String name;
    public void sayHello() {
        FacesMessages.instance().add("Hello World, my name is #0.", name);
        Events.instance().raiseEvent("hello", name);
    }
}</pre><pre class="programlisting">@Name("helloListener")
public class HelloListener {
    @Observer("hello")
    public void sayHelloBack(String name) {
        FacesMessages.instance().add("Hello #0!", name);
    }
}</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4572"></a>5.1.3.&nbsp;&#19978;&#19979;&#25991;&#20107;&#20214;</h3></div></div><div></div></div><p>
                Seam&#23450;&#20041;&#20102;&#35768;&#22810;&#20869;&#32622;&#20107;&#20214;&#65292;&#24212;&#29992;&#31243;&#24207;&#21487;&#20197;&#29992;&#23427;&#20204;&#26469;&#36827;&#34892;&#29305;&#27530;&#31867;&#22411;&#30340;&#26694;&#26550;&#38598;&#25104;&#12290;&#36825;&#20123;&#20107;&#20214;&#26159;&#65306;
           </p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">org.jboss.seam.validationFailed</tt> &#8212; JSF&#39564;&#35777;&#22833;&#36133;&#26102;&#34987;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.noConversation</tt> &#8212; &#27809;&#26377;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#22312;&#36816;&#34892;&#25110;&#32773;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#34987;&#35831;&#27714;&#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.preSetVariable.&lt;name&gt;</tt> &#8212; &#35774;&#32622;&#19978;&#19979;&#25991;&#21464;&#37327; &lt;name&gt; &#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.postSetVariable.&lt;name&gt;</tt> &#8212; &#35774;&#32622;&#19978;&#19979;&#25991;&#21464;&#37327; &lt;name&gt; &#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.preRemoveVariable.&lt;name&gt;</tt> &#8212; &#26410;&#35774;&#32622;&#19978;&#19979;&#25991;&#21464;&#37327; &lt;name&gt; &#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.postRemoveVariable.&lt;name&gt;</tt> &#8212; &#26410;&#35774;&#32622;&#19978;&#19979;&#25991;&#21464;&#37327; &lt;name&gt; &#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.preDestroyContext.&lt;SCOPE&gt;</tt> &#8212; &#22312; &lt;SCOPE&gt; &#19978;&#19979;&#25991;&#34987;&#38144;&#27585;&#20043;&#21069;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.postDestroyContext.&lt;SCOPE&gt;</tt> &#8212; &#22312; &lt;SCOPE&gt; &#19978;&#19979;&#25991;&#34987;&#38144;&#27585;&#20043;&#21518;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.beginConversation </tt>&#8212; &#24403;&#19968;&#20010;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#24320;&#22987;&#30340;&#26102;&#20505;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.endConversation </tt>&#8212; &#24403;&#19968;&#20010;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#32467;&#26463;&#30340;&#26102;&#20505;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.beginPageflow.&lt;name&gt; </tt>&#8212; &#22312;&#39029;&#38754;&#27969; &lt;name&gt; &#24320;&#22987;&#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.endPageflow.&lt;name&gt; </tt>&#8212; &#22312;&#39029;&#38754;&#27969; &lt;name&gt; &#32467;&#26463;&#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.createProcess.&lt;name&gt; </tt>&#8212; &#22312;&#21019;&#24314;&#36827;&#31243; &lt;name&gt; &#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.endProcess.&lt;name&gt; </tt>&#8212; &#22312;&#36827;&#31243; &lt;name&gt; &#32467;&#26463;&#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.initProcess.&lt;name&gt; </tt>&#8212; &#22312;&#36827;&#31243; &lt;name&gt; &#19982;&#23545;&#35805;&#30456;&#20851;&#32852;&#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.initTask.&lt;name&gt; </tt>&#8212; &#22312;&#20219;&#21153; &lt;name&gt; &#19982;&#23545;&#35805;&#30456;&#20851;&#32852;&#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.startTask.&lt;name&gt; </tt>&#8212; &#22312;&#20219;&#21153; &lt;name&gt; &#24320;&#22987;&#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.endTask.&lt;name&gt; </tt>&#8212; &#22312;&#32467;&#26463;&#20219;&#21153; &lt;name&gt; &#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.postCreate.&lt;name&gt; </tt>&#8212; &#22312;&#21019;&#24314;&#32452;&#20214; &lt;name&gt; &#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.preDestroy.&lt;name&gt; </tt>&#8212; &#22312;&#38144;&#27585;&#32452;&#20214; &lt;name&gt; &#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.beforePhase </tt>&#8212; &#22312;&#24320;&#22987;&#19968;&#20010;JSF&#38454;&#27573;&#20043;&#21069;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.afterPhase </tt>&#8212;  &#22312;&#19968;&#20010;JSF&#38454;&#27573;&#32467;&#26463;&#20043;&#21518;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.postInitialization </tt>&#8212; &#24403;Seam&#34987;&#21021;&#22987;&#21270;&#24182;&#21551;&#21160;&#25152;&#26377;&#32452;&#20214;&#26102;&#34987;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.postAuthenticate.&lt;name&gt; </tt>&#8212; &#29992;&#25143;&#35748;&#35777;&#20043;&#21518;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.preAuthenticate.&lt;name&gt; </tt>&#8212; &#22312;&#23581;&#35797;&#35748;&#35777;&#29992;&#25143;&#20043;&#21069;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.notLoggedIn</tt> &#8212; &#22312;&#19981;&#38656;&#35201;&#35748;&#35777;&#29992;&#25143;&#21644;&#38656;&#35201;&#35748;&#35777;&#30340;&#26102;&#20505;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.rememberMe</tt> &#8212; &#24403;Seam&#23433;&#20840;&#22312;cookie&#20013;&#21457;&#29616;&#29992;&#25143;&#21517;&#26102;&#21457;&#29983;</p></li><li><p><tt class="literal">org.jboss.seam.exceptionHandled.&lt;type&gt;</tt> &#8212; &#22312;Seam&#22788;&#29702;&#26410;&#34987;&#25429;&#25417;&#30340;&#24322;&#24120;&#26102;&#34987;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.exceptionHandled</tt> &#8212; &#22312;Seam&#22788;&#29702;&#26410;&#34987;&#25429;&#25417;&#30340;&#24322;&#24120;&#26102;&#34987;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.exceptionNotHandled</tt> &#8212; &#22312;&#27809;&#26377;&#26410;&#34987;&#25429;&#25417;&#24322;&#24120;&#30340;&#22788;&#29702;&#22120;&#26102;&#34987;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.afterTransactionSuccess</tt> &#8212; &#24403;&#20107;&#21153;&#22312;Seam Application Framework&#20013;&#25104;&#21151;&#26102;&#35843;&#29992;</p></li><li><p><tt class="literal">org.jboss.seam.afterTransactionSuccess.&lt;name&gt;</tt> &#8212; &#24403;&#31649;&#29702;&#20855;&#21517; <tt class="literal">&lt;name&gt;</tt> &#23454;&#20307;&#30340;&#20107;&#21153;&#22312;Seam Application Framework&#20013;&#25104;&#21151;&#26102;&#35843;&#29992;</p></li></ul></div><p>
		&#12288;&#12288;Seam&#32452;&#20214;&#21487;&#20197;&#29992;&#23427;&#20204;&#35266;&#23519;&#20219;&#20309;&#20854;&#20182;&#32452;&#20214;&#39537;&#21160;&#20107;&#20214;&#30340;&#21516;&#26679;&#26041;&#24335;&#26469;&#35266;&#23519;&#36825;&#20123;&#20107;&#20214;&#20013;&#30340;&#20219;&#20309;&#19968;&#31181;&#12290;
            </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4743"></a>5.2.&nbsp;Seam &#25318;&#25130;&#22120;</h2></div></div><div></div></div><p>
        EJB 3.0&#20026;&#20250;&#35805;Bean&#32452;&#20214;&#24341;&#20837;&#20102;&#19968;&#20010;&#26631;&#20934;&#30340;&#25318;&#25130;&#22120;&#27169;&#22411;&#12290;
        &#35201;&#24448;Bean&#37324;&#28155;&#21152;&#25318;&#25130;&#22120;&#65292;&#20320;&#38656;&#35201;&#20889;&#19968;&#20010;&#31867;&#65292;&#35813;&#31867;&#26377;&#19968;&#20010;&#34987;&#27880;&#35299;&#36807;&#30340;&#26041;&#27861; <tt class="literal">@AroundInvoke</tt>&#65292;&#24182;&#29992; <tt class="literal">@Interceptors</tt> &#26469;&#27880;&#35299;&#36825;&#20010;Bean&#20197;&#25351;&#23450;&#25318;&#25130;&#22120;&#31867;&#30340;&#21517;&#31216;&#12290;
        &#20363;&#22914;&#65292;&#19979;&#38754;&#30340;&#25318;&#25130;&#22120;&#26816;&#26597;&#29992;&#25143;&#26159;&#21542;&#22312;&#20801;&#35768;&#35843;&#29992;&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#20043;&#21069;&#30331;&#24405;&#65306;
     </p><pre class="programlisting">public class LoggedInInterceptor {

   @AroundInvoke
   public Object checkLoggedIn(InvocationContext invocation) throws Exception {

      boolean isLoggedIn = Contexts.getSessionContext().get("loggedIn")!=null;
      if (isLoggedIn) {
         //the user is already logged in
         return invocation.proceed();
      }
      else {
         //the user is not logged in, fwd to login page
         return "login";
      }
   }

}</pre><p>
        &#35201;&#25226;&#36825;&#20010;&#25318;&#25130;&#22120;&#24212;&#29992;&#21040;&#19968;&#20010;&#20316;&#20026;&#21160;&#20316;&#30417;&#21548;&#22120;&#30340;&#20250;&#35805;Bean&#19978;&#65292;&#25105;&#20204;&#24517;&#39035;&#27880;&#35299;&#36825;&#20010;&#20250;&#35805;Bean <tt class="literal">@Interceptors(LoggedInInterceptor.class)</tt>&#12290;
        &#36825;&#20010;&#27880;&#35299;&#26377;&#28857;&#19985;&#38475;&#12290;&#22312;EJB 3.0&#20013;&#65292;Seam&#36890;&#36807;&#20801;&#35768;&#23558; <tt class="literal">@Interceptors</tt> &#20316;&#20026;&#20803;&#27880;&#35299;&#20351;&#29992;&#65292;&#32780;&#20381;&#36182;&#20110;&#25318;&#25130;&#22120;&#26694;&#26550;&#12290;
        &#22312;&#25105;&#20204;&#30340;&#20363;&#23376;&#20013;&#65292;&#23558;&#21019;&#24314;&#19968;&#20010; <tt class="literal">@LoggedIn</tt> &#27880;&#35299;&#65292;&#22914;&#19979;&#25152;&#31034;&#65306;
   </p><pre class="programlisting">@Target(TYPE)
@Retention(RUNTIME)
@Interceptors(LoggedInInterceptor.class)
public @interface LoggedIn {}</pre><p>
	    &#29616;&#22312;&#65292;&#25105;&#20204;&#21487;&#20197;&#31616;&#21333;&#22320;&#29992; <tt class="literal">@LoggedIn</tt> &#26469;&#27880;&#35299;&#25105;&#20204;&#30340;&#21160;&#20316;&#30417;&#21548;&#22120;Bean&#20197;&#24212;&#29992;&#25318;&#25130;&#22120;&#12290;
       	</p><pre class="programlisting">@Stateless
@Name("changePasswordAction")
@LoggedIn
@Interceptors(SeamInterceptor.class)
public class ChangePasswordAction implements ChangePassword {

    ...

    public String changePassword() { ... }

}</pre><p>
		&#22914;&#26524;&#25318;&#25130;&#22120;&#30340;&#39034;&#24207;&#24456;&#37325;&#35201;&#65288;&#36890;&#24120;&#26159;&#36825;&#26679;&#65289;&#65292;&#20320;&#21487;&#20197;&#23558; <tt class="literal">@Interceptor</tt> &#27880;&#35299;&#28155;&#21152;&#21040;&#20320;&#30340;&#25318;&#25130;&#22120;&#31867;&#65292;&#26469;&#25351;&#23450;&#25318;&#25130;&#22120;&#30340;&#37096;&#20998;&#39034;&#24207;
		</p><pre class="programlisting">@Interceptor(around={BijectionInterceptor.class,
                     ValidationInterceptor.class,
                     ConversationInterceptor.class},
             within=RemoveInterceptor.class)
public class LoggedInInterceptor
{
    ...
}</pre><p>
            &#20320;&#29978;&#33267;&#21487;&#20197;&#26377;&#19968;&#20010;&#8220;&#23458;&#25143;&#31471;&#8221;&#30340;&#25318;&#25130;&#22120;&#65292;&#36816;&#34892;&#20851;&#20110;&#20219;&#20309;EJB3&#30340;&#20869;&#32622;&#21151;&#33021;&#65306;
       	</p><pre class="programlisting">@Interceptor(type=CLIENT)
public class LoggedInInterceptor
{
    ...
}</pre><p>
            EJB&#25318;&#25130;&#22120;&#26159;&#26377;&#29366;&#24577;&#30340;&#65292;&#26377;&#30528;&#21644;&#23427;&#20204;&#25152;&#25318;&#25130;&#32452;&#20214;&#30456;&#21516;&#30340;&#29983;&#21629;&#21608;&#26399;&#12290;
            &#23545;&#21738;&#20123;&#19981;&#38656;&#35201;&#32500;&#25252;&#29366;&#24577;&#30340;&#25318;&#25130;&#22120;&#32780;&#35328;&#65292;Seam&#36890;&#36807;&#25351;&#23450; <tt class="literal">@Interceptor(stateless=true)</tt> &#35753;&#20320;&#33719;&#24471;&#24615;&#33021;&#20248;&#21270;&#12290;
		</p><p>
            Seam&#30340;&#24456;&#22810;&#21151;&#33021;&#26159;&#20316;&#20026;&#19968;&#22871;&#20869;&#32622;&#30340;Seam&#25318;&#25130;&#22120;&#26469;&#23454;&#29616;&#30340;&#65292;&#21253;&#25324;&#21069;&#38754;&#20363;&#23376;&#37324;&#25552;&#21040;&#30340;&#25318;&#25130;&#22120;&#12290;
            &#20320;&#27809;&#26377;&#24517;&#35201;&#36890;&#36807;&#27880;&#35299;&#20320;&#30340;&#32452;&#20214;&#26469;&#26126;&#30830;&#25351;&#23450;&#36825;&#20123;&#25318;&#25130;&#22120;&#65307;&#23427;&#20204;&#20026;&#25152;&#26377;&#30340;&#21487;&#27880;&#35299;Seam&#32452;&#20214;&#32780;&#23384;&#22312;&#12290;
       	</p><p>
            &#20320;&#29978;&#33267;&#21487;&#20197;&#22312;JavaBean&#32452;&#20214;&#20013;&#20351;&#29992;Seam&#25318;&#25130;&#22120;&#65292;&#19981;&#20165;&#20165;&#21482;&#26377;EJB3 Bean&#33021;&#29992;&#23427;&#20204;&#65281;
       </p><p>
            EJB&#23450;&#20041;&#25318;&#25130;&#22120;&#65292;&#19981;&#20165;&#20026;&#20102;&#19994;&#21153;&#26041;&#27861;&#65288;&#29992;<tt class="literal">@AroundInvoke</tt>&#65289;&#65292;&#20063;&#20026;&#20102;&#29983;&#21629;&#21608;&#26399;&#26041;&#27861;
            <tt class="literal">@PostConstruct</tt>&#65292;<tt class="literal">@PreDestroy</tt>&#65292;<tt class="literal">@PrePassivate</tt> &#21644; <tt class="literal">@PostActive</tt>&#12290;
            Seam&#25903;&#25345;&#32452;&#20214;&#21644;&#25318;&#25130;&#22120;&#20013;&#25152;&#26377;&#36825;&#20123;&#29983;&#21629;&#21608;&#26399;&#26041;&#27861;&#65292;&#19981;&#20165;&#20165;&#25903;&#25345;EJB3 Bean&#65292;&#20063;&#25903;&#25345;JavaBean&#32452;&#20214;&#65288;&#38500;&#20102;<tt class="literal">@PreDestroy</tt> &#23545;JavaBean&#32452;&#20214;&#32780;&#35328;&#27809;&#26377;&#24847;&#20041;&#20043;&#22806;&#65289;&#12290;
       </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4816"></a>5.3.&nbsp;&#31649;&#29702;&#24322;&#24120;</h2></div></div><div></div></div><p>
            JSF&#22312;&#24322;&#24120;&#22788;&#29702;&#26041;&#38754;&#30340;&#33021;&#21147;&#26377;&#38480;&#24471;&#20196;&#20154;&#21507;&#24778;&#12290;
            &#20316;&#20026;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#30340;&#37096;&#20998;&#26435;&#23452;&#20043;&#35745;&#65292;Seam&#35753;&#20320;&#23450;&#20041;&#22914;&#20309;&#36890;&#36807;&#27880;&#35299;&#36825;&#20010;&#24322;&#24120;&#31867;&#26469;&#22788;&#29702;&#24322;&#24120;&#30340;&#29305;&#27530;&#31867;&#65292;&#25110;&#32773;&#22312;XML&#25991;&#20214;&#20013;&#22768;&#26126;&#36825;&#20010;&#24322;&#24120;&#31867;&#12290;
            &#36825;&#20010;&#24037;&#20855;&#26159;&#24819;&#35201;&#21644;EJB3.0&#26631;&#20934;&#30340; <tt class="literal">@ApplicationException</tt> &#30340;&#27880;&#35299;&#32452;&#21512;&#22312;&#19968;&#36215;&#65292;&#36825;&#20010;&#27880;&#35299;&#25351;&#23450;&#20102;&#36825;&#20010;&#24322;&#24120;&#26159;&#21542;&#24212;&#35813;&#23548;&#33268;&#19968;&#20010;&#20107;&#21153;&#22238;&#28378;&#12290;
       	</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4824"></a>5.3.1.&nbsp;&#24322;&#24120;&#21644;&#20107;&#21153;</h3></div></div><div></div></div><p>
                EJB&#25351;&#23450;&#20102;&#23450;&#20041;&#33391;&#22909;&#30340;&#35268;&#21017;&#65292;&#29992;&#20197;&#25511;&#21046;&#24322;&#24120;&#26159;&#21542;&#31435;&#21363;&#26631;&#35760;&#24403;&#21069;&#30340;&#20107;&#21153;&#65292;&#20197;&#20415;&#22312;&#36825;&#20010;Bean&#30340;&#19994;&#21153;&#26041;&#27861;&#25243;&#20986;&#19968;&#20010;&#24322;&#24120;&#26102;&#22238;&#28378;&#65306;
                <span class="emphasis"><em>&#31995;&#32479;&#24322;&#24120;</em></span> &#24635;&#26159;&#23548;&#33268;&#19968;&#20010;&#20107;&#21153;&#22238;&#28378;&#65292;<span class="emphasis"><em>&#24212;&#29992;&#31243;&#24207;&#24322;&#24120;</em></span> &#40664;&#35748;&#26159;&#19981;&#23548;&#33268;&#20107;&#21153;&#22238;&#28378;&#30340;&#65292;&#20294;&#26159;&#22914;&#26524;&#25351;&#23450;&#20102; <tt class="literal">@ApplicationException(rollback=true)</tt>&#65292;&#21017;&#20250;&#23548;&#33268;&#20107;&#29289;&#22238;&#28378;&#12290;
                &#65288;&#24212;&#29992;&#31243;&#24207;&#24322;&#24120;&#26159;&#20219;&#20309;checked&#24322;&#24120;&#65292;&#25110;&#32773;&#20219;&#20309;&#29992; <tt class="literal">@ApplicationException</tt> &#27880;&#35299;&#36807;&#30340;unchecked&#30340;&#24322;&#24120;&#12290;&#31995;&#32479;&#24322;&#24120;&#26159;&#20219;&#20309;&#27809;&#26377;&#29992; <tt class="literal">@ApplicationException</tt> &#27880;&#35299;&#36807;&#30340;unchecked&#24322;&#24120;&#65289;&#12290;
           	</p><p>
                &#27880;&#24847;&#65306;&#22312;&#26631;&#35760;&#20107;&#21153;&#22238;&#28378;&#21644;&#23454;&#38469;&#30340;&#22238;&#28378;&#20004;&#32773;&#20043;&#38388;&#26377;&#19968;&#28857;&#19981;&#21516;&#12290;
                &#24322;&#24120;&#35268;&#21017;&#35828;&#65292;&#21482;&#26377;&#34987;&#26631;&#35760;&#36807;&#30340;&#20107;&#21153;&#24212;&#35813;&#22238;&#28378;&#65292;&#20294;&#26159;&#22312;&#24322;&#24120;&#25243;&#20986;&#20043;&#21518;&#65292;&#20107;&#21153;&#20173;&#28982;&#21487;&#20197;&#26159;&#26377;&#25928;&#30340;&#12290;
           	</p><p>
                Seam&#23545;Seam JavaBean&#32452;&#20214;&#20063;&#24212;&#29992;EJB 3.0 &#24322;&#24120;&#22238;&#28378;&#35268;&#21017;&#12290;
           	</p><p>
            &#20294;&#26159;&#65292;&#36825;&#20123;&#35268;&#21017;&#20165;&#20165;&#24212;&#29992;&#20110;Seam&#32452;&#20214;&#23618;&#12290;&#27809;&#26377;&#25429;&#25417;&#21040;&#30340;&#24322;&#24120;&#20256;&#25773;&#21040;Seam&#32452;&#20214;&#23618;&#20043;&#22806;&#65292;&#25110;&#26159;&#20256;&#25773;&#21040;JSF&#23618;&#20043;&#22806;&#24590;&#20040;&#21150;&#65311;
            &#24681;&#65292;&#35753;&#19968;&#20010;&#24748;&#31354;&#25671;&#25670;&#30340;&#20107;&#21153;&#22788;&#20110;&#25171;&#24320;&#29366;&#24577;&#26159;&#19981;&#23545;&#30340;&#65292;&#24403;&#24322;&#24120;&#21457;&#29983;&#65292;&#32780;&#20320;&#21448;&#27809;&#26377;&#22312;Seam&#32452;&#20214;&#23618;&#25429;&#25417;&#21040;&#23427;&#26102;&#65292;Seam&#20250;&#22238;&#28378;&#20219;&#20309;&#27963;&#21160;&#30340;&#20107;&#21153;&#12290;
           	</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4850"></a>5.3.2.&nbsp;&#28608;&#27963;Seam&#24322;&#24120;&#22788;&#29702;</h3></div></div><div></div></div><p>
            &#35201;&#28608;&#27963;Seam&#30340;&#24322;&#24120;&#22788;&#29702;&#65292;&#38656;&#35201;&#30830;&#20445;&#24050;&#32463;&#22312; <tt class="literal">web.xml</tt> &#20013;&#22768;&#26126;&#20102;&#20027;&#35201;&#30340;Servlet&#36807;&#28388;&#22120;:
       	</p><pre class="programlisting">&lt;filter&gt;
    &lt;filter-name&gt;Seam Filter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.jboss.seam.servlet.SeamFilter&lt;/filter-class&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
    &lt;filter-name&gt;Seam Filter&lt;/filter-name&gt;
    &lt;url-pattern&gt;*.seam&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</pre><p>
	    &#22914;&#26524;&#20320;&#24819;&#28608;&#27963;&#24322;&#24120;&#22788;&#29702;&#22120;&#65292;&#36824;&#38656;&#35201;&#31105;&#29992; <tt class="literal">web.xml</tt> &#20013;Facelets&#30340;&#24320;&#21457;&#27169;&#24335;&#65292;&#21644; <tt class="literal">components.xml</tt> &#20013;&#30340;&#35843;&#35797;&#27169;&#24335;&#12290;
       	</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4868"></a>5.3.3.&nbsp;&#20351;&#29992;&#27880;&#35299;&#22788;&#29702;&#24322;&#24120;</h3></div></div><div></div></div><p>
            &#27599;&#24403;&#24322;&#24120;&#20256;&#25773;&#21040;Seam&#32452;&#20214;&#23618;&#20043;&#22806;&#26102;&#65292;&#19979;&#21015;&#24322;&#24120;&#37117;&#20250;&#23548;&#33268;&#19968;&#20010;HTTP 404&#38169;&#35823;&#12290;
            &#25243;&#20986;&#24322;&#24120;&#26102;&#65292;&#23427;&#24182;&#19981;&#31435;&#21363;&#22238;&#28378;&#24403;&#21069;&#20107;&#21153;&#65292;&#20294;&#26159;&#22914;&#26524;&#36825;&#20010;&#24322;&#24120;&#27809;&#26377;&#34987;&#20854;&#20182;&#30340;Seam&#32452;&#20214;&#25429;&#25417;&#21040;&#65292;&#24403;&#21069;&#20107;&#21153;&#23558;&#34987;&#22238;&#28378;&#12290;
       	</p><pre class="programlisting">@HttpError(errorCode=404)
public class ApplicationException extends Exception { ... }</pre><p>
            &#27599;&#24403;&#24322;&#24120;&#20256;&#25773;&#21040;Seam&#32452;&#20214;&#23618;&#20043;&#22806;&#26102;&#65292;&#36825;&#20010;&#24322;&#24120;&#20250;&#23548;&#33268;&#27983;&#35272;&#22120;&#30340;&#37325;&#23450;&#21521;&#12290;&#23427;&#20063;&#21516;&#26102;&#32467;&#26463;&#24403;&#21069;&#30340;&#23545;&#35805;&#65292;&#23548;&#33268;&#24403;&#21069;&#20107;&#21153;&#31435;&#21363;&#22238;&#28378;&#12290;
       	</p><pre class="programlisting">@Redirect(viewId="/failure.xhtml", end=true)
@ApplicationException(rollback=true)
public class UnrecoverableApplicationException extends RuntimeException { ... }</pre><p>
            &#27880;&#24847;&#65306;&#23545;&#20110;&#37027;&#20123;&#22312;JSF&#29983;&#21629;&#21608;&#26399;&#30340;&#28210;&#26579;&#38454;&#27573;&#21457;&#29983;&#30340;&#24322;&#24120;&#32780;&#35328;&#65292;<tt class="literal">@Redirect</tt> &#26080;&#25928;&#12290;
       	</p><p>
            &#20320;&#20063;&#21487;&#20197;&#29992;EL&#25351;&#23450; <tt class="literal">viewId</tt> &#26469;&#37325;&#23450;&#21521;&#12290;
       </p><p>
            &#24403;&#24322;&#24120;&#20256;&#25773;&#21040;Seam&#32452;&#20214;&#23618;&#20043;&#22806;&#26102;&#65292;&#36825;&#20010;&#24322;&#24120;&#23548;&#33268;&#19968;&#20010;&#37325;&#23450;&#21521;&#65292;&#24182;&#32473;&#29992;&#25143;&#19968;&#26465;&#28040;&#24687;&#12290;&#23427;&#20063;&#31435;&#21363;&#22238;&#28378;&#24403;&#21069;&#20107;&#21153;&#12290;
       	</p><pre class="programlisting">@Redirect(viewId="/error.xhtml", message="Unexpected error")
public class SystemException extends RuntimeException { ... }</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4893"></a>5.3.4.&nbsp;&#29992;XML&#22788;&#29702;&#24322;&#24120; </h3></div></div><div></div></div><p>
            &#32771;&#34385;&#21040;&#19981;&#33021;&#23545;&#25105;&#20204;&#24863;&#20852;&#36259;&#30340;&#25152;&#26377;&#24322;&#24120;&#31867;&#28155;&#21152;&#27880;&#35299;&#65292;Seam&#20063;&#20801;&#35768;&#25105;&#20204;&#22312; <tt class="literal">pages.xml</tt> &#20013;&#25351;&#23450;&#36825;&#20010;&#21151;&#33021;&#12290;
       	</p><pre class="programlisting">&lt;pages&gt;

   &lt;exception class="javax.persistence.EntityNotFoundException"&gt;
      &lt;http-error error-code="404"/&gt;
   &lt;/exception&gt;

   &lt;exception class="javax.persistence.PersistenceException"&gt;
      &lt;end-conversation/&gt;
      &lt;redirect view-id="/error.xhtml"&gt;
          &lt;message&gt;&#25968;&#25454;&#24211;&#35775;&#38382;&#22833;&#36133; Database access failed&lt;/message&gt;
      &lt;/redirect&gt;
   &lt;/exception&gt;

   &lt;exception&gt;
      &lt;end-conversation/&gt;
      &lt;redirect view-id="/error.xhtml"&gt;
          &lt;message&gt;&#24847;&#22806;&#30340;&#22833;&#36133; Unexpected failure&lt;/message&gt;
      &lt;/redirect&gt;
   &lt;/exception&gt;

&lt;/pages&gt;</pre><p>
            &#26368;&#21518;&#19968;&#20010; <tt class="literal">&lt;exception&gt;</tt> &#22768;&#26126;&#27809;&#26377;&#25351;&#23450;&#31867;&#65292;&#23427;&#25429;&#25417;&#25152;&#26377;&#30340;&#37027;&#20123;&#27809;&#26377;&#36890;&#36807;&#27880;&#35299;&#25110;&#22312; <tt class="literal">pages.xml</tt> &#20013;&#29305;&#21035;&#25351;&#23450;&#30340;&#20219;&#20309;&#24322;&#24120;&#12290;
       	</p><p>
            &#20320;&#20063;&#21487;&#20197;&#36890;&#36807;EL&#25351;&#23450; <tt class="literal">view-id</tt> &#26469;&#37325;&#23450;&#21521;&#12290;
       	</p><p>
	   	&#20320;&#20063;&#21487;&#20197;&#36890;&#36807;EL&#35775;&#38382;&#22788;&#29702;&#21518;&#30340;&#24322;&#24120;&#23454;&#20363;&#65292;Seam&#25226;&#23427;&#25918;&#22312;&#23545;&#35805;&#19978;&#19979;&#25991;&#20013;&#65292;&#27604;&#22914;&#35775;&#38382;&#24322;&#24120;&#30340;&#28040;&#24687;&#12290;
       	</p><pre class="programlisting">...
throw new AuthorizationException("You are not allowed to do this!");

&lt;pages&gt;

    &lt;exception class="org.jboss.seam.security.AuthorizationException"&gt;
        &lt;end-conversation/&gt;
        &lt;redirect view-id="/error.xhtml"&gt;
            &lt;message severity="WARN"&gt;#{org.jboss.seam.handledException.message}&lt;/message&gt;
        &lt;/redirect&gt;
    &lt;/exception&gt;

&lt;/pages&gt;</pre><p>
           <tt class="literal">org.jboss.seam.handledException</tt> &#20445;&#23384;&#30528;&#23454;&#38469;&#19978;&#30001;&#24322;&#24120;&#22788;&#29702;&#22120;&#22788;&#29702;&#30340;&#23884;&#22871;&#24322;&#24120;&#12290;
           &#26368;&#22806;&#23618;&#30340;&#65288;&#21253;&#35013;&#22120;&#65289;&#24322;&#24120;&#20063;&#21487;&#20197;&#35775;&#38382;&#65292;&#22914; <tt class="literal">org.jboss.seam.exception</tt>&#12290;
		</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4928"></a>5.3.5.&nbsp;&#19968;&#20123;&#24120;&#35265;&#30340;&#24322;&#24120;</h3></div></div><div></div></div><p>
                &#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;JPA&#65306;
           	</p><pre class="programlisting">&lt;exception class="javax.persistence.EntityNotFoundException"&gt;
   &lt;redirect view-id="/error.xhtml"&gt;
      &lt;message&gt;Not found&lt;/message&gt;
   &lt;/redirect&gt;
&lt;/exception&gt;

&lt;exception class="javax.persistence.OptimisticLockException"&gt;
   &lt;end-conversation/&gt;
   &lt;redirect view-id="/error.xhtml"&gt;
      &lt;message&gt;&#21478;&#19968;&#20010;&#29992;&#25143;&#20462;&#25913;&#20102;&#30456;&#21516;&#30340;&#25968;&#25454;&#65292;&#35831;&#37325;&#35797; Another user changed the same data, please try again&lt;/message&gt;
   &lt;/redirect&gt;
&lt;/exception&gt;</pre><p>
            &#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;Seam&#24212;&#29992;&#26694;&#26550;&#65306;
           	</p><pre class="programlisting">&lt;exception class="org.jboss.seam.framework.EntityNotFoundException"&gt;
   &lt;redirect view-id="/error.xhtml"&gt;
      &lt;message&gt;Not found&lt;/message&gt;
   &lt;/redirect&gt;
&lt;/exception&gt;</pre><p>
            &#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;Seam&#23433;&#20840;&#65306;
           	</p><pre class="programlisting">&lt;exception class="org.jboss.seam.security.AuthorizationException"&gt;
   &lt;redirect&gt;
      &lt;message&gt;You don't have permission to do this&lt;/message&gt;
   &lt;/redirect&gt;
&lt;/exception&gt;

&lt;exception class="org.jboss.seam.security.NotLoggedInException"&gt;
   &lt;redirect view-id="/login.xhtml"&gt;
      &lt;message&gt;Please log in first&lt;/message&gt;
   &lt;/redirect&gt;
&lt;/exception&gt;</pre><p>
               &#37027;&#20040;&#65292;&#23545;&#20110;JSF&#65306;
           </p><pre class="programlisting">&lt;exception class="javax.faces.application.ViewExpiredException"&gt;
   &lt;redirect view-id="/error.xhtml"&gt;
      &lt;message&gt;&#24744;&#30340;&#20250;&#35805;&#24050;&#32463;&#36229;&#26102;&#65292;&#35831;&#37325;&#35797; Your session has timed out, please try again&lt;/message&gt;
   &lt;/redirect&gt;
&lt;/exception&gt;</pre><p>
            &#22914;&#26524;&#29992;&#25143;&#20250;&#35805;&#36807;&#26399;&#24182;&#19988;&#36820;&#22238;&#21040;&#21407;&#26469;&#30340;&#39029;&#38754;&#65292;&#23601;&#20250;&#25243;&#20986; <tt class="literal">ViewExpiredException</tt> &#24322;&#24120;&#12290;
            &#22914;&#26524;&#20320;&#22312;&#19968;&#20010;&#23545;&#35805;&#37324;&#38754;&#65292;<tt class="literal">no-conversation-view-id</tt> &#21644; <tt class="literal">conversation-required</tt> &#21487;&#20197;&#35753;&#20320;&#26356;&#32454;&#31890;&#24230;&#22320;&#25511;&#21046;&#20250;&#35805;&#36229;&#26399;&#12290;
           </p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="conversations"></a>Chapter&nbsp;6.&nbsp;&#23545;&#35805;&#20197;&#21450;&#24037;&#20316;&#21306;&#31649;&#29702;</h2></div></div><div></div></div><p>
		&#29616;&#22312;&#35813;&#26356;&#35814;&#32454;&#22320;&#20102;&#35299;&#19968;&#19979;Seam&#30340;&#23545;&#35805;&#27169;&#22411;&#20102;&#12290;
    </p><p>
		&#20174;&#21382;&#21490;&#19978;&#30475;&#65292;Seam&#30340;&#8220;&#23545;&#35805;Conversation&#8221;&#27010;&#24565;&#26159;&#30001;&#19977;&#20010;&#19981;&#21516;&#30340;&#27010;&#24565;&#21512;&#24182;&#32780;&#25104;&#30340;&#12290;
    </p><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="emphasis"><em>&#24037;&#20316;&#21306;&#65288;workspace&#65289;</em></span> &#30340;&#27010;&#24565;&#65292;&#26159;&#25105;2002&#24180;&#22312;&#32473;&#33521;&#22269;&#25919;&#24220;&#20570;&#39033;&#30446;&#20013;&#36935;&#21040;&#30340;&#27010;&#24565;&#65292;&#24403;&#26102;&#25105;&#34987;&#36843;&#22312;struts&#20043;&#19978;&#23454;&#29616;&#24037;&#20316;&#38388;&#65292;&#25105;&#31048;&#27714;&#27704;&#36828;&#19981;&#35201;&#20877;&#37325;&#22797;&#36825;&#26679;&#30340;&#36973;&#36935;&#12290;
        </p></li><li><p>
            &#35821;&#20041;&#20048;&#35266;&#30340; <span class="emphasis"><em>&#24212;&#29992;&#31243;&#24207;&#20107;&#21153;&#65288;application transaction with optimistic semantics&#65289;</em></span> &#30340;&#27010;&#24565;,&#20197;&#21450;&#22522;&#20110;&#26080;&#29366;&#24577;&#26500;&#26550;&#30340;&#29616;&#26377;&#26694;&#26550;&#30340;&#23454;&#29616;&#65292;&#37117;&#26080;&#27861;&#25552;&#20379;&#23545;&#34987;&#25193;&#23637;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#26377;&#25928;&#31649;&#29702;&#12290;
            &#65288;Hibernate&#22242;&#38431;&#30830;&#23454;&#24050;&#32463;&#21463;&#22815;&#20102;&#30001;&#20110; <tt class="literal">LazyInitializationException</tt> &#24322;&#24120;&#30340;&#25351;&#36131;&#65292;&#20294;&#36825;&#23454;&#38469;&#19978;&#24182;&#19981;&#26159;Hibernate&#33258;&#36523;&#30340;&#38169;&#35823;&#65292;&#32780;&#26159;&#22240;&#20026;&#20687;Spring&#26694;&#26550;&#36825;&#26679;&#30340;&#26080;&#29366;&#24577;&#26500;&#26550;&#65292;&#25110;&#32773;J2EE&#20013;&#20256;&#32479;&#30340; <span class="emphasis"><em>&#26080;&#29366;&#24577;&#20250;&#35805;Facade</em></span> &#65288;&#21453;&#65289;&#27169;&#24335;&#25903;&#25345;&#26497;&#31471;&#38480;&#21046;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#27169;&#22411;&#25152;&#36896;&#25104;&#30340;&#12290;&#65289;
        </p></li><li><p>
			&#24037;&#20316;&#27969; <span class="emphasis"><em>&#20219;&#21153;</em></span>&#30340;&#27010;&#24565;&#12290;
        </p></li></ul></div><p>
		&#36890;&#36807;&#32479;&#19968;&#20197;&#19978;&#36825;&#20123;&#27010;&#24565;&#24182;&#25552;&#20379;&#24213;&#23618;&#26694;&#26550;&#30340;&#25903;&#25345;&#65292;&#25105;&#20204;&#23601;&#26377;&#20102;&#19968;&#20010;&#24378;&#22823;&#30340;&#26500;&#36896;&#33021;&#21147;&#65292;&#23427;&#20351;&#25105;&#20204;&#33021;&#22815;&#29992;&#27604;&#20197;&#21069;&#26356;&#23569;&#30340;&#20195;&#30721;&#26500;&#24314;&#20986;&#21151;&#33021;&#26356;&#21152;&#20016;&#23500;&#19988;&#26356;&#21152;&#39640;&#25928;&#30340;&#24212;&#29992;&#31243;&#24207;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4992"></a>6.1.&nbsp;Seam&#30340;&#23545;&#35805;&#27169;&#22411;</h2></div></div><div></div></div><p>
		&#25105;&#20204;&#30446;&#21069;&#20026;&#27490;&#25152;&#30475;&#21040;&#30340;&#20363;&#23376;&#20165;&#20165;&#20351;&#29992;&#38750;&#24120;&#31616;&#21333;&#30340;&#23545;&#35805;&#27169;&#22411;&#65292;&#23427;&#36981;&#24490;&#20197;&#19979;&#36825;&#20123;&#35268;&#21017;&#65306;
    </p><div class="itemizedlist"><ul type="disc"><li><p>
			&#22312;&#24212;&#29992;JSF&#35831;&#27714;&#20540;&#12289;&#22788;&#29702;&#39564;&#35777;&#12289;&#26356;&#26032;&#27169;&#22411;&#20540;&#12289;&#35843;&#29992;&#24212;&#29992;&#31243;&#24207;&#65292;&#20197;&#21450;&#28210;&#26579;JSF&#35831;&#27714;&#29983;&#21629;&#21608;&#26399;&#30340;&#21709;&#24212;&#38454;&#27573;&#26399;&#38388;&#65292;&#22987;&#32456;&#37117;&#26377;&#19968;&#20010;&#28608;&#27963;&#30340;&#20250;&#35805;&#19978;&#19979;&#25991;&#12290;
        </p></li><li><p>
            &#22312;JSF&#35831;&#27714;&#29983;&#21629;&#21608;&#26399;&#24674;&#22797;&#35270;&#22270;&#38454;&#27573;&#30340;&#26368;&#21518;&#65292;Seam&#23558;&#20250;&#35797;&#22270;&#24674;&#22797;&#20043;&#21069;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#20219;&#20309;&#23545;&#35805;&#19978;&#19979;&#25991;&#12290;
            &#22914;&#26524;&#36825;&#31181;&#19978;&#19979;&#25991;&#19981;&#23384;&#22312;&#65292;Seam&#23558;&#20250;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#20020;&#26102;&#23545;&#35805;&#19978;&#19979;&#25991;&#12290;
        </p></li><li><p>
            &#24403;&#36935;&#21040; <tt class="literal">@Begin</tt> &#26041;&#27861;&#26102;&#65292;&#20020;&#26102;&#23545;&#35805;&#19978;&#19979;&#25991;&#20250;&#34987;&#25552;&#21319;&#20026;&#8220;&#38271;&#26102;&#38388;&#36816;&#34892;&#8221;&#30340;&#23545;&#35805;&#12290;
        </p></li><li><p>
			&#24403;&#36935;&#21040; <tt class="literal">@End</tt> &#26041;&#27861;&#26102;&#65292;&#20219;&#20309;&#8220;&#38271;&#26102;&#38388;&#36816;&#34892;&#8221;&#23545;&#35805;&#19978;&#19979;&#25991;&#37117;&#23558;&#20250;&#34987;&#38477;&#32423;&#20026;&#20020;&#26102;&#23545;&#35805;&#12290;
        </p></li><li><p>
			&#22312;JSF&#35831;&#27714;&#29983;&#21629;&#21608;&#26399;&#28210;&#26579;&#38454;&#27573;&#30340;&#26368;&#21518;&#65292;Seam&#20250;&#20445;&#23384;&#8220;&#38271;&#26102;&#38388;&#36816;&#34892;&#8221;&#23545;&#35805;&#30340;&#20869;&#23481;&#65292;&#25110;&#32773;&#38144;&#27585;&#20020;&#26102;&#23545;&#35805;&#19978;&#19979;&#25991;&#30340;&#20869;&#23481;&#12290;
        </p></li><li><p>
            &#20219;&#20309;&#8220;faces request&#8221;&#65288;&#19968;&#31181;JSF postback&#65289;&#37117;&#20250;&#20256;&#25773;&#23545;&#35805;&#19978;&#19979;&#25991;&#12290;
            &#22312;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#38750;&#8220;faces request&#8221;&#65288;&#20363;&#22914;GET&#35831;&#27714;&#65289;&#37117;&#19981;&#20250;&#20256;&#25773;&#23545;&#35805;&#19978;&#19979;&#25991;&#65292;&#27442;&#30693;&#35814;&#24773;&#65292;&#35831;&#30475;&#19979;&#38754;&#20998;&#35299;&#12290;
        </p></li><li><p>
            &#22914;&#26524;JSF&#35831;&#27714;&#29983;&#21629;&#21608;&#26399;&#34987;&#19968;&#20010;&#37325;&#23450;&#21521;redirect&#21629;&#20196;&#20013;&#27490;&#65292;Seam&#23558;&#20250;&#36879;&#26126;&#22320;&#20445;&#23384;&#24182;&#24674;&#22797;&#24403;&#21069;&#30340;&#23545;&#35805;&#19978;&#19979;&#25991;&#8212;
            &#38500;&#38750;&#35813;&#23545;&#35805;&#24050;&#32463;&#36890;&#36807; <tt class="literal">@End(beforeRedirect=true)</tt> &#20013;&#27490;&#12290;
        </p></li></ul></div><p>
			Seam&#36879;&#26126;&#22320;&#22312;JSF postback&#20197;&#21450;&#37325;&#23450;&#21521;redirect&#26102;&#20256;&#36882;&#23545;&#35805;&#19978;&#19979;&#25991;&#12290;
			&#22914;&#26524;&#20320;&#19981;&#38656;&#35201;&#20570;&#20219;&#20309;&#29305;&#27530;&#30340;&#20107;&#24773;&#65292;&#20351;&#29992; <span class="emphasis"><em>&#8220;non-faces request&#8221;</em></span> &#65288;&#20363;&#22914;GET&#35831;&#27714;&#65289;&#23601;&#19981;&#20250;&#20256;&#36882;&#23545;&#35805;&#19978;&#19979;&#25991;&#65292;&#24182;&#19988;&#23427;&#20250;&#22312;&#19968;&#20010;&#26032;&#30340;&#20020;&#26102;&#23545;&#35805;&#20013;&#34987;&#22788;&#29702;&#12290;&#36825;&#36890;&#24120;&#65288;&#20294;&#24182;&#38750;&#24635;&#26159;&#65289;&#26159;&#25105;&#20204;&#26399;&#26395;&#30340;&#19968;&#31181;&#34892;&#20026;&#12290;
        </p><p>
			&#22914;&#26524;&#20320;&#24076;&#26395;&#22312;&#8220;non-faces request&#8221;&#20013;&#20256;&#36882;Seam&#23545;&#35805;&#65292;&#23601;&#38656;&#35201;&#26174;&#24335;&#22320;&#23558;Seam&#30340; <span class="emphasis"><em>conversation id</em></span> &#32534;&#20889;&#20026;&#19968;&#20010;request&#21442;&#25968;&#65306;
        </p><pre class="programlisting">&lt;a href="main.jsf?conversationId=#{conversation.id}"&gt;Continue&lt;/a&gt;</pre><p>
 			&#25110;&#32773;&#26356;JSF&#30340;&#20570;&#27861;&#26159;&#65306;
        </p><pre class="programlisting">&lt;h:outputLink value="main.jsf"&gt;
    &lt;f:param name="conversationId" value="#{conversation.id}"/&gt;
    &lt;h:outputText value="Continue"/&gt;
&lt;/h:outputLink&gt;</pre><p>
 			&#22914;&#26524;&#20320;&#20351;&#29992;Seam&#26631;&#31614;&#24211;&#65292;&#23601;&#31561;&#21516;&#20110;&#65306;
        </p><pre class="programlisting">&lt;h:outputLink value="main.jsf"&gt;
    &lt;s:conversationId/&gt;
    &lt;h:outputText value="Continue"/&gt;
&lt;/h:outputLink&gt;</pre><p>
			&#22914;&#26524;&#20320;&#19981;&#24819;&#32473;&#19968;&#20010;postback&#20256;&#25773;&#20250;&#35805;&#19978;&#19979;&#25991;&#65292;&#21487;&#20197;&#20351;&#29992;&#19968;&#20010;&#31867;&#20284;&#30340;&#23567;&#31373;&#38376;&#65306;
        </p><pre class="programlisting">&lt;h:commandLink action="main" value="Exit"&gt;
    &lt;f:param name="conversationPropagation" value="none"/&gt;
&lt;/h:commandLink&gt;</pre><p>
			&#22914;&#26524;&#20320;&#20351;&#29992;Seam&#26631;&#31614;&#24211;&#65292;&#21017;&#31561;&#21516;&#20110;&#65306;
        </p><pre class="programlisting">&lt;h:commandLink action="main" value="Exit"&gt;
    &lt;s:conversationPropagation type="none"/&gt;
&lt;/h:commandLink&gt;</pre><p>
			&#27880;&#24847;&#19981;&#20351;&#29992;&#23545;&#35805;&#19978;&#19979;&#25991;&#20256;&#25773;&#19982;&#32467;&#26463;&#23545;&#35805;&#32477;&#23545;&#19981;&#26159;&#21516;&#19968;&#22238;&#20107;&#12290;
        </p><p>
			&#35831;&#27714;&#21442;&#25968; <tt class="literal">conversationPropagation</tt>&#65292;&#25110;&#32773; <tt class="literal">&lt;s:conversationPropagation&gt;</tt> &#26631;&#31614;&#29978;&#33267;&#37117;&#21487;&#20197;&#29992;&#26469;&#24320;&#22987;&#21644;&#32467;&#26463;&#23545;&#35805;&#65292;&#25110;&#32773;&#24320;&#22987;&#19968;&#20010;&#23884;&#22871;&#23545;&#35805;&#12290;
        </p><pre class="programlisting">&lt;h:commandLink action="main" value="Exit"&gt;
    &lt;s:conversationPropagation type="end"/&gt;
&lt;/h:commandLink&gt;</pre><pre class="programlisting">&lt;h:commandLink action="main" value="Select Child"&gt;
    &lt;s:conversationPropagation type="nested"/&gt;
&lt;/h:commandLink&gt;</pre><pre class="programlisting">&lt;h:commandLink action="main" value="Select Hotel"&gt;
    &lt;s:conversationPropagation type="begin"/&gt;
&lt;/h:commandLink&gt;</pre><pre class="programlisting">&lt;h:commandLink action="main" value="Select Hotel"&gt;
    &lt;s:conversationPropagation type="join"/&gt;
&lt;/h:commandLink&gt;</pre><p>
		&#36825;&#31181;&#20250;&#35805;&#27169;&#22411;&#21487;&#20197;&#38750;&#24120;&#23481;&#26131;&#22320;&#21019;&#24314;&#22522;&#20110;&#22810;&#31383;&#21475;&#25805;&#20316;&#30340;&#24212;&#29992;&#31995;&#32479;&#12290;&#23545;&#20110;&#35768;&#22810;&#24212;&#29992;&#31243;&#24207;&#26469;&#35828;&#65292;&#36825;&#24050;&#32463;&#36275;&#22815;&#20102;&#12290;
		&#20294;&#26159;&#21478;&#22806;&#19968;&#20123;&#22797;&#26434;&#30340;&#24212;&#29992;&#31243;&#24207;&#36824;&#20250;&#38656;&#35201;&#20197;&#19979;&#39069;&#22806;&#38656;&#27714;&#20013;&#30340;&#19968;&#28857;&#25110;&#20004;&#28857;&#12290;
    </p><div class="itemizedlist"><ul type="disc"><li><p>
			&#19968;&#20010;&#23545;&#35805;&#33539;&#22260;&#36328;&#36234;&#22810;&#20010;&#26356;&#23567;&#30340;&#29992;&#25143;&#20132;&#20114;&#21333;&#20803;&#65292;&#36825;&#20123;&#23567;&#21333;&#20803;&#36880;&#20010;&#25110;&#32773;&#21516;&#27493;&#22320;&#25191;&#34892;&#12290;
			&#26356;&#23567;&#30340; <span class="emphasis"><em>&#23884;&#22871;&#23545;&#35805;</em></span> &#25317;&#26377;&#23427;&#20204;&#33258;&#24049;&#30340;&#19968;&#22871;&#29420;&#31435;&#30340;&#23545;&#35805;&#29366;&#24577;&#65292;&#24182;&#19988;&#20063;&#21487;&#20197;&#35775;&#38382;&#22806;&#37096;&#23545;&#35805;&#30340;&#29366;&#24577;&#12290;
        </p></li><li><p>
			&#29992;&#25143;&#33021;&#22815;&#22312;&#21516;&#19968;&#20010;&#27983;&#35272;&#31383;&#21475;&#20013;&#30340;&#22810;&#20010;&#23545;&#35805;&#20043;&#38388;&#36827;&#34892;&#20999;&#25442;&#12290;&#36825;&#31181;&#21151;&#33021;&#31216;&#20570; <span class="emphasis"><em>&#24037;&#20316;&#21306;&#31649;&#29702;</em></span> &#12290;
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5089"></a>6.2.&nbsp;&#23884;&#22871;&#23545;&#35805;</h2></div></div><div></div></div><p>
            &#23884;&#22871;&#23545;&#35805;&#26159;&#36890;&#36807;&#22312;&#19968;&#20010;&#29616;&#26377;&#23545;&#35805;&#30340;&#33539;&#22260;&#20869;&#35843;&#29992;&#19968;&#20010;&#21517;&#20026; <tt class="literal">@Begin(nested=true)</tt> &#30340;&#26041;&#27861;&#36827;&#34892;&#21019;&#24314;&#30340;&#12290;
            &#23884;&#22871;&#23545;&#35805;&#26377;&#23427;&#33258;&#24049;&#30340;&#23545;&#35805;&#19978;&#19979;&#25991;&#65292;&#36824;&#21487;&#20197;&#21482;&#35835;&#22320;&#35775;&#38382;&#22806;&#37096;&#23545;&#35805;&#30340;&#19978;&#19979;&#25991;&#65288;&#23427;&#21487;&#20197;&#35835;&#21462;&#22806;&#37096;&#23545;&#35805;&#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#20294;&#26159;&#19981;&#21487;&#20197;&#20889;&#65289;&#12290;
            &#38543;&#21518;&#24403;&#36935;&#21040; <tt class="literal">@End</tt> &#26102;&#65292;&#23884;&#22871;&#23545;&#35805;&#20250;&#34987;&#38144;&#27585;&#65292;&#24182;&#19988;&#22806;&#37096;&#23545;&#35805;&#20250;&#24377;&#20986;&#20250;&#35805;&#22534;&#26632;&#32487;&#32493;&#36816;&#34892;&#12290;
            &#29702;&#35770;&#19978;&#65292;&#23545;&#35805;&#21487;&#20197;&#23884;&#22871;&#21040;&#20219;&#24847;&#23618;&#28145;&#12290;
        </p><p>
			&#26576;&#20010;&#29992;&#25143;&#27963;&#21160;&#65288;&#24037;&#20316;&#21306;&#31649;&#29702;&#65292;&#25110;&#36820;&#22238;&#25353;&#38062;&#65289;&#21487;&#20197;&#22312;&#20869;&#37096;&#23545;&#35805;&#32467;&#26463;&#20043;&#21069;&#23601;&#24674;&#22797;&#22806;&#37096;&#23545;&#35805;&#12290;
			&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#19968;&#20010;&#22806;&#37096;&#23545;&#35805;&#23601;&#26377;&#21487;&#33021;&#21516;&#26102;&#25317;&#26377;&#22810;&#20010;&#23884;&#22871;&#23545;&#35805;&#12290;
			&#22914;&#26524;&#22806;&#37096;&#23545;&#35805;&#22312;&#23884;&#22871;&#23545;&#35805;&#20043;&#21069;&#23601;&#34987;&#32467;&#26463;&#65292;Seam&#23558;&#20250;&#25226;&#23884;&#22871;&#23545;&#35805;&#21644;&#22806;&#37096;&#23545;&#35805;&#19968;&#36215;&#38144;&#27585;&#25481;&#12290;
        </p><p>
			&#23545;&#35805;&#21487;&#20197;&#34987;&#35748;&#20026;&#26159;&#19968;&#20010; <span class="emphasis"><em>&#36830;&#32493;&#30340;&#29366;&#24577;</em></span> &#12290;
			&#23884;&#22871;&#23545;&#35805;&#20801;&#35768;&#24212;&#29992;&#31243;&#24207;&#22312;&#19981;&#21516;&#30340;&#29992;&#25143;&#20132;&#20114;&#28857;&#25429;&#25417;&#19968;&#33268;&#36830;&#32493;&#30340;&#29366;&#24577;&#65292;&#22240;&#27492;&#24517;&#39035;&#30830;&#20445;&#22312;&#36820;&#22238;&#25353;&#38062;&#20197;&#21450;&#24037;&#20316;&#21306;&#31649;&#29702;&#30340;&#38754;&#19978;&#26377;&#30495;&#27491;&#30340;&#27491;&#30830;&#34892;&#20026;&#12290;
        </p><p>
			TODO&#65306;&#35828;&#26126;&#24403;&#20320;&#28857;&#20987;&#36820;&#22238;&#25353;&#38062;&#26102;&#23884;&#22871;&#23545;&#35805;&#22914;&#20309;&#38450;&#27490;&#38169;&#35823;&#21457;&#29983;&#30340;&#19968;&#20010;&#20363;&#23376;&#12290;
        </p><p>
			&#36890;&#24120;&#65292;&#22914;&#26524;&#19968;&#20010;&#32452;&#20214;&#23384;&#22312;&#20110;&#24403;&#21069;&#23884;&#22871;&#23545;&#35805;&#30340;&#29238;&#23545;&#35805;&#20013;&#65292;&#23884;&#22871;&#23545;&#35805;&#20250;&#20351;&#29992;&#21516;&#19968;&#20010;&#23454;&#20363;&#12290;
			&#23569;&#25968;&#24773;&#20917;&#19979;&#65292;&#22312;&#27599;&#20010;&#23884;&#22871;&#23545;&#35805;&#20013;&#37117;&#20351;&#29992;&#19981;&#21516;&#30340;&#23454;&#20363;&#20250;&#24456;&#26377;&#29992;&#65292;&#20197;&#20415;&#23384;&#22312;&#20110;&#29238;&#23545;&#35805;&#20013;&#30340;&#32452;&#20214;&#23454;&#20363;&#23545;&#20854;&#23376;&#23545;&#35805;&#26159;&#19981;&#21487;&#35265;&#30340;&#12290;
			&#20320;&#21487;&#20197;&#36890;&#36807;&#32473;&#36825;&#20010;&#32452;&#20214;&#27880;&#35299; <tt class="literal">@PerNestedConversation</tt> &#26469;&#23454;&#29616;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5114"></a>6.3.&nbsp;&#20351;&#29992;GET&#35831;&#27714;&#26469;&#24320;&#22987;&#19968;&#20010;&#23545;&#35805;</h2></div></div><div></div></div><p>
			JSF&#24182;&#27809;&#26377;&#23450;&#20041;&#20219;&#20309;&#31867;&#22411;&#30340;action&#30417;&#21548;&#22120;&#65292;&#36825;&#31181;&#30417;&#21548;&#22120;&#20250;&#22312;&#36890;&#36807;&#38750;JSF&#35831;&#27714;&#8220;non-faces request&#8221;&#35775;&#38382;&#39029;&#38754;&#30340;&#26102;&#20505;&#34987;&#35302;&#21457;&#65288;&#20363;&#22914;&#65292;&#19968;&#20010;HTTP GET&#35831;&#27714;&#65289;&#12290;
			&#36825;&#31181;&#35302;&#21457;&#20250;&#21457;&#29983;&#22312;&#24403;&#29992;&#25143;&#29992;&#20070;&#31614;&#20445;&#23384;&#20102;&#36825;&#20010;&#39029;&#38754;&#65292;&#25110;&#32773;&#22312;&#25105;&#20204;&#36890;&#36807; <tt class="literal">&lt;h:outputLink&gt;</tt> &#35775;&#38382;&#39029;&#38754;&#30340;&#26102;&#20505;&#12290;
        </p><p>
			&#26377;&#26102;&#20505;&#65292;&#25105;&#20204;&#24076;&#26395;&#22312;&#35775;&#38382;&#39029;&#38754;&#30340;&#26102;&#20505;&#31435;&#21363;&#24320;&#22987;&#19968;&#20010;&#23545;&#35805;&#12290;
			&#30001;&#20110;&#27809;&#26377;JSF action&#26041;&#27861;&#65292;&#25105;&#20204;&#19981;&#33021;&#20197;&#23547;&#24120;&#30340;&#36890;&#36807;&#29992; <tt class="literal">@Begin</tt> &#26631;&#27880;action&#30340;&#26041;&#24335;&#26469;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#65292;
        </p><p>
			&#24403;&#39029;&#38754;&#38656;&#35201;&#25226;&#19968;&#20123;&#29366;&#24577;&#25235;&#21462;&#21040;&#19978;&#19979;&#25991;&#21464;&#37327;&#20013;&#26102;&#65292;&#21478;&#19968;&#20010;&#38382;&#39064;&#20063;&#23601;&#38543;&#20043;&#20135;&#29983;&#20102;&#12290;&#25105;&#20204;&#24050;&#32463;&#30475;&#21040;&#26377;&#20004;&#31181;&#26041;&#27861;&#21487;&#20197;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#12290;
			&#22914;&#26524;&#36825;&#20010;&#29366;&#24577;&#26159;Seam&#32452;&#20214;&#25152;&#25345;&#26377;&#30340;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#36890;&#36807; <tt class="literal">@Create</tt> &#26041;&#27861;&#26469;&#25235;&#21462;&#12290;
			&#22914;&#26524;&#19981;&#26159;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#20026;&#36825;&#20010;&#19978;&#19979;&#25991;&#21464;&#37327;&#23450;&#20041;&#19968;&#20010; <tt class="literal">@Factory</tt> &#26041;&#27861;&#12290;
        </p><p>
			&#22914;&#26524;&#20197;&#19978;&#20004;&#31181;&#21150;&#27861;&#37117;&#19981;&#36866;&#21512;&#20320;&#65292;Seam&#36824;&#20801;&#35768;&#20320;&#22312; <tt class="literal">pages.xml</tt> &#25991;&#20214;&#20013;&#23450;&#20041;&#19968;&#20010; <span class="emphasis"><em>page action</em></span> &#12290;
        </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/messageList.jsp" action="#{messageManager.list}"/&gt;
    ...
&lt;/pages&gt;</pre><p>
            &#36825;&#20010;action&#26041;&#27861;&#22312;&#24320;&#22987;&#28210;&#26579;&#21709;&#24212;&#38454;&#27573;&#30340;&#26102;&#20505;&#34987;&#35843;&#29992;&#65292;&#21363;&#22312;&#39029;&#38754;&#23601;&#35201;&#34987;&#28210;&#26579;&#30340;&#20219;&#20309;&#26102;&#20505;&#12290;
            &#22914;&#26524;&#39029;&#38754;action&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#30340;&#20540;&#65292;Seam&#23558;&#20250;&#26681;&#25454;Seam&#23548;&#33322;&#35268;&#21017;&#22788;&#29702;&#20219;&#20309;&#21512;&#36866;&#30340;JSF&#65292;&#21487;&#33021;&#23548;&#33268;&#28210;&#26579;&#21478;&#22806;&#19968;&#20010;&#23436;&#20840;&#19981;&#21516;&#30340;&#39029;&#38754;&#12290;
        </p><p>
			&#22914;&#26524;&#20320;&#22312;&#28210;&#26579;&#39029;&#38754;&#20043;&#21069;&#24819;&#35201;&#20570;&#30340; <span class="emphasis"><em>&#20165;&#20165;</em></span> &#26159;&#24320;&#22987;&#19968;&#20010;&#23545;&#35805;&#65292;&#37027;&#20320;&#21487;&#20197;&#20351;&#29992;&#19968;&#20010;&#20869;&#24314;&#30340;action&#26041;&#27861;&#65292;&#23427;&#27491;&#22909;&#20855;&#22791;&#36825;&#31181;&#21151;&#33021;&#65306;
        </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/messageList.jsp" action="#{conversation.begin}"/&gt;
    ...
&lt;/pages&gt;</pre><p>
			&#27880;&#24847;&#20320;&#20063;&#21487;&#20197;&#20174;JSF&#25511;&#21046;&#22120;&#20013;&#35843;&#29992;&#20869;&#24314;&#30340;action&#26469;&#24320;&#22987;&#19968;&#20010;&#23545;&#35805;&#65292;&#21516;&#26679;&#22320;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992; <tt class="literal">#{conversation.end}</tt> &#26469;&#32467;&#26463;&#19968;&#20010;&#23545;&#35805;&#12290;
        </p><p>
			&#22914;&#26524;&#20320;&#24819;&#35201;&#26356;&#22810;&#30340;&#25511;&#21046;&#65292;&#20197;&#21152;&#20837;&#29616;&#26377;&#30340;&#23545;&#35805;&#25110;&#24320;&#22987;&#19968;&#20010;&#23884;&#22871;&#23545;&#35805;&#65292;&#24320;&#22987;&#19968;&#20010;&#39029;&#38754;&#27969;&#25110;&#32773;&#24320;&#22987;&#19968;&#20010;&#21407;&#23376;&#30340;&#23545;&#35805;&#65292;&#20320;&#24212;&#35813;&#20351;&#29992; <tt class="literal">&lt;begin-conversation&gt;</tt> &#20803;&#32032;&#12290;
        </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/messageList.jsp"&gt;
       &lt;begin-conversation nested="true" pageflow="AddItem"/&gt;
    &lt;page&gt;
    ...
&lt;/pages&gt;</pre><p>
			<tt class="literal">&lt;end-conversation&gt;</tt>&#20803;&#32032;&#20063;&#21487;&#20197;&#32467;&#26463;&#19968;&#20010;&#23545;&#35805;&#12290;
        </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/home.jsp"&gt;
       &lt;end-conversation/&gt;
    &lt;page&gt;
    ...
&lt;/pages&gt;</pre><p>
			&#20026;&#20102;&#35299;&#20915;&#31532;&#19968;&#20010;&#38382;&#39064;&#65292;&#25105;&#20204;&#29616;&#22312;&#26377;&#20116;&#31181;&#36873;&#25321;&#65306;
        </p><div class="itemizedlist"><ul type="disc"><li><p>
				&#29992; <tt class="literal">@Begin</tt> &#27880;&#35299; <tt class="literal">@Create</tt> &#26041;&#27861;
            </p></li><li><p>
                &#29992; <tt class="literal">@Begin</tt> &#27880;&#35299; <tt class="literal">@Factory</tt> &#26041;&#27861;
            </p></li><li><p>
                &#29992; <tt class="literal">@Begin</tt> &#27880;&#35299;Seam&#39029;&#38754;action
            </p></li><li><p>
                &#22312; <tt class="literal">pages.xml</tt> &#20013;&#20351;&#29992; <tt class="literal">&lt;begin-conversation&gt;</tt>
            </p></li><li><p>
				&#21033;&#29992; <tt class="literal">#{conversation.begin}</tt> &#20316;&#20026;Seam&#39029;&#38754;action&#26041;&#27861;
            </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5215"></a>6.4.&nbsp;&#21033;&#29992;<tt class="literal">&lt;s:link&gt;</tt>&#20197;&#21450;<tt class="literal">&lt;s:button&gt;</tt></h2></div></div><div></div></div><p>
            JSF&#21629;&#20196;&#38142;&#22987;&#32456;&#36890;&#36807;JavaScript&#26469;&#25191;&#34892;&#19968;&#20010;&#34920;&#21333;&#25552;&#20132;&#65292;&#23427;&#25171;&#30772;&#20102;&#27983;&#35272;&#22120;&#30340;&#8220;&#22312;&#26032;&#31383;&#21475;&#20013;&#25171;&#24320;&#8221;&#25110;&#32773;&#8220;&#22312;&#26032;&#26631;&#31614;&#20013;&#25171;&#24320;&#8221;&#36825;&#31181;&#29305;&#28857;&#12290;
            &#22312;&#26222;&#36890;&#30340;JSF&#20013;&#65292;&#22914;&#26524;&#20320;&#38656;&#35201;&#36825;&#39033;&#21151;&#33021;&#65292;&#23601;&#38656;&#35201;&#20351;&#29992; <tt class="literal">&lt;h:outputLink&gt;</tt>&#12290;
            &#20294;&#26159; <tt class="literal">&lt;h:outputLink&gt;</tt> &#26631;&#31614;&#26377;&#20004;&#22823;&#38480;&#21046;&#12290;
        </p><div class="itemizedlist"><ul type="disc"><li><p>
            JSF&#27809;&#26377;&#25552;&#20379;&#23558;action&#30417;&#21548;&#22120;&#38468;&#21152;&#32473; <tt class="literal">&lt;h:outputLink&gt;</tt> &#30340;&#26041;&#27861;&#12290;
        </p></li><li><p>
            &#30001;&#20110;&#23454;&#38469;&#19978;&#27809;&#26377;&#25552;&#20132;&#34920;&#21333;&#65292;JSF&#24182;&#27809;&#26377;&#20256;&#25773; <tt class="literal">DataModel</tt> &#20013;&#30340;&#36873;&#20013;&#34892;&#12290;
        </p></li></ul></div><p>
			Seam&#25552;&#20379;&#20102;&#19968;&#20010; <span class="emphasis"><em>page action</em></span> &#30340;&#27010;&#24565;&#26469;&#24110;&#21161;&#35299;&#20915;&#31532;&#19968;&#20010;&#38382;&#39064;&#65292;&#20294;&#26159;&#36825;&#23545;&#20110;&#31532;&#20108;&#20010;&#38382;&#39064;&#21364;&#26080;&#33021;&#20026;&#21147;&#12290;
			&#25105;&#20204; <span class="emphasis"><em>&#21487;&#20197;</em></span> &#21033;&#29992;REST&#30340;&#26041;&#27861;&#20256;&#36882;&#35831;&#27714;&#21442;&#25968;&#20197;&#21450;&#37325;&#26032;&#26597;&#35810;&#26381;&#21153;&#31471;&#30340;&#36873;&#20013;&#23545;&#35937;&#26469;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#12290;
			&#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#8212;&#8212;&#20363;&#22914;Seam&#21338;&#23458;&#19978;&#33539;&#20363;&#24212;&#29992;&#31243;&#24207;&#37027;&#26679;&#8212;&#8212;&#36825;&#23454;&#38469;&#19978;&#26368;&#22909;&#30340;&#26041;&#27861;&#12290;REST&#39118;&#26684;&#25903;&#25345;&#20070;&#31614;&#65292;&#22240;&#20026;&#23427;&#19981;&#38656;&#35201;&#26381;&#21153;&#22120;&#31471;&#30340;&#29366;&#24577;&#12290;
			&#22312;&#20854;&#20182;&#37027;&#20123;&#25105;&#20204;&#19981;&#38656;&#35201;&#20851;&#24515;&#20070;&#31614;&#30340;&#24773;&#20917;&#19979;&#65292;&#20351;&#29992; <tt class="literal">@DataModel</tt> &#20197;&#21450; <tt class="literal">@DataModelSelection</tt> &#23601;&#24456;&#26041;&#20415;&#20063;&#24456;&#36879;&#26126;&#65281;
        </p><p>
			&#20026;&#20102;&#22635;&#34917;&#36825;&#39033;&#32570;&#22833;&#30340;&#21151;&#33021;&#65292;&#20063;&#20026;&#20102;&#20351;&#23545;&#35805;&#20256;&#25773;&#30340;&#31649;&#29702;&#21464;&#24471;&#26356;&#21152;&#31616;&#21333;&#65292;Seam&#25552;&#20379; <tt class="literal">&lt;s:link&gt;</tt> &#36825;&#26679;&#19968;&#20010;JSF&#26631;&#31614;&#12290;
        </p><p>
			&#36825;&#20010;&#36830;&#25509;&#21487;&#20197;&#20165;&#25351;&#23450;JSF&#35270;&#22270;&#30340;id&#65306;
        </p><pre class="programlisting">&lt;s:link view="/login.xhtml" value="Login"/&gt;</pre><p>
			&#25110;&#32773;&#65292;&#23427;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;action&#26041;&#27861;&#65288;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;action&#30340;&#36755;&#20986;&#23558;&#20250;&#20915;&#23450;&#32467;&#26524;&#39029;&#38754;&#65289;&#65306;
        </p><pre class="programlisting">&lt;s:link action="#{login.logout}" value="Logout"/&gt;</pre><p>
			&#22914;&#26524;&#20320;&#25226;JSF&#35270;&#22270;id&#21644;action&#26041;&#27861;&#36825; <span class="emphasis"><em>&#20004;&#32773;</em></span> &#37117;&#25351;&#23450;&#30340;&#35805;&#65292;&#8220;&#35270;&#22270;&#8221;&#23558;&#20250;&#34987;&#20351;&#29992;&#65292;
			<span class="emphasis"><em>&#38500;&#38750;</em></span>action&#26041;&#27861;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#30340;&#32467;&#26524;&#65306;
        </p><pre class="programlisting">&lt;s:link view="/loggedOut.xhtml"  action="#{login.logout}" value="Logout"/&gt;</pre><p>
			&#36825;&#20010;&#36830;&#25509;&#33258;&#21160;&#22320;&#21033;&#29992;&#20869;&#37096;&#30340; <tt class="literal">&lt;h:dataTable&gt;</tt> &#20256;&#25773; <tt class="literal">DataModel</tt> &#30340;&#25152;&#36873;&#34892;&#12290;
        </p><pre class="programlisting">&lt;s:link view="/hotel.xhtml" action="#{hotelSearch.selectHotel}" value="#{hotel.name}"/&gt;</pre><p>
			&#20320;&#21487;&#20197;&#19981;&#25351;&#23450;&#29616;&#26377;&#23545;&#35805;&#30340;&#33539;&#22260;&#65306;
        </p><pre class="programlisting">&lt;s:link view="/main.xhtml" propagation="none"/&gt;</pre><p>
			&#20320;&#21487;&#20197;&#24320;&#22987;&#12289;&#32467;&#26463;&#25110;&#32773;&#23884;&#22871;&#23545;&#35805;&#65306;
        </p><pre class="programlisting">&lt;s:link action="#{issueEditor.viewComment}" propagation="nest"/&gt;</pre><p>
			&#22914;&#26524;&#19968;&#20010;&#36830;&#25509;&#24320;&#22987;&#20102;&#19968;&#20010;&#23545;&#35805;&#65292;&#20320;&#29978;&#33267;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#35201;&#20351;&#29992;&#30340;&#39029;&#38754;&#27969;&#65306;
        </p><pre class="programlisting">&lt;s:link action="#{documentEditor.getDocument}" propagation="begin"
        pageflow="EditDocument"/&gt;</pre><p>
			&#22914;&#26524;&#20351;&#29992;jBPM&#20219;&#21153;&#21015;&#34920;&#65292;&#37027;&#20040;&#20320;&#21487;&#20197;&#20351;&#29992; <tt class="literal">taskInstance</tt> &#23646;&#24615;&#65306;
        </p><pre class="programlisting">&lt;s:link action="#{documentApproval.approveOrReject}" taskInstance="#{task}"/&gt;</pre><p>
			&#65288;&#35831;&#35265;DVD Store&#28436;&#31034;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#38024;&#23545;&#20197;&#19978;&#29992;&#27861;&#30340;&#33539;&#20363;&#12290;&#65289;
        </p><p>
			&#26368;&#21518;&#65292;&#22914;&#26524;&#20320;&#24076;&#26395;&#8220;&#38142;&#25509;&#8221;&#34987;&#28210;&#26579;&#25104;&#20026;&#19968;&#20010;&#25353;&#38062;&#65292;&#23601;&#20351;&#29992; <tt class="literal">&lt;s:button&gt;</tt>&#65306;
        </p><pre class="programlisting">&lt;s:button action="#{login.logout}" value="Logout"/&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5319"></a>6.5.&nbsp;&#25104;&#21151;&#20449;&#24687;</h2></div></div><div></div></div><p>
			&#32473;&#29992;&#25143;&#26174;&#31034;&#19968;&#26465;action&#25191;&#34892;&#25104;&#21151;&#25110;&#32773;&#22833;&#36133;&#30340;&#28040;&#24687;&#26159;&#30456;&#24403;&#24120;&#35265;&#30340;&#21151;&#33021;&#12290;&#20026;&#27492;&#20351;&#29992;JSF&#30340; <tt class="literal">FacesMessage</tt> &#26159;&#38750;&#24120;&#26041;&#20415;&#30340;&#12290;
			&#19981;&#24184;&#30340;&#26159;&#65292;&#25104;&#21151;&#30340;action&#36890;&#24120;&#38656;&#35201;&#19968;&#20010;&#27983;&#35272;&#22120;&#37325;&#23450;&#21521;&#12290;&#36825;&#20351;&#24471;&#22312;&#26222;&#36890;&#30340;JSF&#20013;&#26174;&#31034;&#25104;&#21151;&#20449;&#24687;&#21464;&#24471;&#30456;&#24403;&#22256;&#38590;&#12290;
        </p><p>
			&#20869;&#24314;&#30340;&#20250;&#35805;&#33539;&#22260;&#30340;Seam&#32452;&#20214; <tt class="literal">facesMessages</tt> &#35299;&#20915;&#20102;&#36825;&#20010;&#38382;&#39064;&#12290;
			&#65288;&#20320;&#24517;&#39035;&#23433;&#35013;Seam&#37325;&#23450;&#21521;&#36807;&#28388;&#22120;&#12290;&#65289;
        </p><pre class="programlisting">@Name("editDocumentAction")
@Stateless
public class EditDocumentBean implements EditDocument {
    @In EntityManager em;
    @In Document document;
    @In FacesMessages facesMessages;

    public String update() {
        em.merge(document);
        facesMessages.add("Document updated");
    }
}</pre><p>
			&#23545;&#20110;&#24403;&#21069;&#30340;&#20250;&#35805;&#26469;&#35828;&#65292;&#20219;&#20309;&#21152;&#20837;&#21040; <tt class="literal">facesMessages</tt> &#30340;&#28040;&#24687;&#37117;&#27491;&#22909;&#29992;&#22312;&#19979;&#19968;&#20010;&#28210;&#26579;&#38454;&#27573;&#20013;&#12290;
			&#29978;&#33267;&#24403;&#27809;&#26377;&#8220;&#38271;&#26102;&#38388;&#36816;&#34892;&#8221;&#23545;&#35805;&#30340;&#26102;&#20505;&#20063;&#20250;&#22863;&#25928;&#65292;&#22240;&#20026;Seam&#29978;&#33267;&#22312;&#37325;&#23450;&#21521;&#36807;&#31243;&#20013;&#20445;&#30041;&#20102;&#20020;&#26102;&#23545;&#35805;&#12290;
        </p><p>
			&#20320;&#29978;&#33267;&#21487;&#20197;&#22312;faces message&#27010;&#36848;&#20013;&#21253;&#21547;JSF EL&#34920;&#36798;&#24335;&#65306;
        </p><pre class="programlisting">facesMessages.add("Document #{document.title} was updated");</pre><p>
			&#20320;&#21487;&#20197;&#25353;&#29031;&#36890;&#24120;&#30340;&#26041;&#24335;&#26174;&#31034;&#28040;&#24687;&#65292;&#20363;&#22914;&#65306;
        </p><pre class="programlisting">&lt;h:messages globalOnly="true"/&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5347"></a>6.6.&nbsp;&#20351;&#29992;&#8220;&#26174;&#24335;&#8221;&#30340;&#23545;&#35805;id</h2></div></div><div></div></div><p>
            &#36890;&#24120;&#24773;&#20917;&#19979;&#65292;Seam&#20250;&#32473;&#27599;&#20010;&#23545;&#35805;&#20135;&#29983;&#19968;&#20010;&#26080;&#24847;&#20041;&#19988;&#21807;&#19968;&#30340;id&#12290;&#20320;&#21487;&#20197;&#22312;&#20320;&#24320;&#22987;&#19968;&#20010;&#23545;&#35805;&#30340;&#26102;&#20505;&#23450;&#21046;id&#30340;&#20540;&#12290;
        </p><p>
			&#36825;&#20010;&#29305;&#24615;&#21487;&#20197;&#29992;&#26469;&#23450;&#21046;&#20250;&#35805;id&#29983;&#25104;&#31639;&#27861;&#65292;&#20687;&#36825;&#26679;&#65306;
        </p><pre class="programlisting">@Begin(id="#{myConversationIdGenerator.nextId}")
public void editHotel() { ... }</pre><p>
			&#25110;&#32773;&#23427;&#21487;&#20197;&#29992;&#26469;&#20998;&#37197;&#19968;&#20010;&#26377;&#24847;&#20041;&#30340;&#23545;&#35805;id&#65306;
        </p><pre class="programlisting">@Begin(id="hotel#{hotel.id}")
public String editHotel() { ... }</pre><pre class="programlisting">@Begin(id="hotel#{hotelsDataModel.rowData.id}")
public String selectHotel() { ... }</pre><pre class="programlisting">@Begin(id="entry#{params['blogId']}")
public String viewBlogEntry() { ... }</pre><pre class="programlisting">@BeginTask(id="task#{taskInstance.id}")
public String approveDocument() { ... }</pre><p>
            &#27627;&#26080;&#30097;&#38382;&#65292;&#27599;&#24403;&#36873;&#20013;&#19968;&#23478;&#29305;&#27530;&#30340;&#37202;&#24215;&#12289;&#19968;&#31687;&#29305;&#27530;&#30340;&#21338;&#23458;&#25110;&#32773;&#19968;&#39033;&#29305;&#27530;&#30340;&#20219;&#21153;&#26102;&#65292;&#36825;&#20123;&#20363;&#23376;&#37117;&#20250;&#20135;&#29983;&#19968;&#20010;&#30456;&#21516;&#30340;&#23545;&#35805;id&#12290;
            &#37027;&#20040;&#65292;&#22914;&#26524;&#19968;&#30456;&#26032;&#23545;&#35805;&#24320;&#22987;&#26102;&#24050;&#32463;&#23384;&#22312;&#19968;&#20010;&#21253;&#21547;&#30456;&#21516;&#23545;&#35805;id&#30340;&#23545;&#35805;&#26102;&#65292;&#20250;&#21457;&#29983;&#20160;&#20040;&#24773;&#20917;&#21602;&#65311;
            &#21999;&#65292;Seam&#31455;&#28982;&#20250;&#21457;&#29616;&#29616;&#26377;&#30340;&#23545;&#35805;&#65292;&#24182;&#37325;&#23450;&#21521;&#21040;&#35813;&#23545;&#35805;&#65292;&#32780;&#19981;&#21435;&#20877;&#27425;&#36816;&#34892; <tt class="literal">@Begin</tt> &#26041;&#27861;&#12290;
            &#36825;&#20010;&#29305;&#24615;&#20250;&#24110;&#21161;&#25105;&#20204;&#25511;&#21046;&#22312;&#20351;&#29992;&#24037;&#20316;&#21306;&#31649;&#29702;&#26102;&#21019;&#24314;&#30340;&#22810;&#20010;&#24037;&#20316;&#21306;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5371"></a>6.7.&nbsp;&#24037;&#20316;&#21306;&#31649;&#29702;</h2></div></div><div></div></div><p>
			&#24037;&#20316;&#21306;&#31649;&#29702;&#25351;&#30340;&#26159;&#21487;&#20197;&#22312;&#19968;&#20010;&#21333;&#29420;&#30340;&#31383;&#21475;&#20013;"&#20999;&#25442;"&#22810;&#20010;&#23545;&#35805;&#30340;&#33021;&#21147;&#12290;
			Seam&#22312;Java&#20195;&#30721;&#32423;&#21035;&#23436;&#20840;&#36879;&#26126;&#22320;&#31649;&#29702;&#24037;&#20316;&#21306;&#12290;&#20026;&#20102;&#21551;&#29992;&#24037;&#20316;&#21306;&#31649;&#29702;&#65292;&#20320;&#25152;&#38656;&#35201;&#20570;&#30340;&#20840;&#37096;&#20107;&#24773;&#22914;&#19979;&#65306;
        </p><div class="itemizedlist"><ul type="disc"><li><p>
				&#20026;&#27599;&#20010;&#35270;&#22270;id&#65288;&#22312;&#20351;&#29992;JSF&#25110;Seam&#23548;&#33322;&#35268;&#21017;&#26102;&#65289;&#25110;&#32773;&#39029;&#38754;&#33410;&#28857;&#65288;&#22312;&#20351;&#29992;JPDL&#39029;&#38754;&#27969;&#26102;&#65289;&#25552;&#20379;&#19968;&#20010; <span class="emphasis"><em>&#25551;&#36848;</em></span> &#25991;&#26412;&#12290;
				&#36825;&#20010;&#25551;&#36848;&#25991;&#26412;&#36890;&#36807;&#24037;&#20316;&#21306;&#20999;&#25442;&#22120;&#26174;&#31034;&#32473;&#29992;&#25143;&#12290;
            </p></li><li><p>
				&#22312;&#20320;&#30340;&#39029;&#38754;&#20013;&#21253;&#21547;&#19968;&#20010;&#25110;&#22810;&#20010;&#26631;&#20934;JSP&#25110;facelets&#29255;&#26029;&#30340;&#24037;&#20316;&#21306;&#36716;&#25442;&#22120;&#12290;
				&#26631;&#20934;&#29255;&#26029;&#25903;&#25345;&#36890;&#36807;&#19979;&#25289;&#33756;&#21333;&#12289;&#23545;&#35805;&#21015;&#34920;&#25110;&#32773;&#23548;&#33322;&#25511;&#20214;&#26469;&#31649;&#29702;&#24037;&#20316;&#21306;&#12290;
                </p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5386"></a>6.7.1.&nbsp;&#24037;&#20316;&#21306;&#31649;&#29702;&#21450;JSF&#23548;&#33322;</h3></div></div><div></div></div><p>
				&#24403;&#20320;&#20351;&#29992;JSF&#25110;&#32773;Seam&#23548;&#33322;&#35268;&#21017;&#30340;&#26102;&#20505;&#65292;Seam&#20250;&#36890;&#36807;&#24674;&#22797;&#23545;&#35805;&#30340;&#24403;&#21069; <tt class="literal">view-id</tt> &#20999;&#25442;&#21040;&#35813;&#23545;&#35805;&#12290;
				&#24037;&#20316;&#21306;&#30340;&#25551;&#36848;&#25991;&#26412;&#22312;&#19968;&#20010;&#21517;&#20026; <tt class="literal">pages.xml</tt> &#30340;&#25991;&#20214;&#20013;&#23450;&#20041;&#65292;
				Seam&#24076;&#26395;&#22312; <tt class="literal">WEB-INF</tt> &#30446;&#24405;&#20013;&#25214;&#21040;&#23427;&#65292;&#36825;&#20010;&#25991;&#20214;&#23601;&#25918;&#22312; <tt class="literal">faces-config.xml</tt> &#26049;&#36793;&#12290;
            </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/main.xhtml"&gt;Search hotels: #{hotelBooking.searchString}&lt;/page&gt;
    &lt;page view-id="/hotel.xhtml"&gt;View hotel: #{hotel.name}&lt;/page&gt;
    &lt;page view-id="/book.xhtml"&gt;Book hotel: #{hotel.name}&lt;/page&gt;
    &lt;page view-id="/confirm.xhtml"&gt;Confirm: #{booking.description}&lt;/page&gt;
&lt;/pages&gt;</pre><p>
			   &#27880;&#24847;&#65292;&#22914;&#26524;&#25214;&#19981;&#21040;&#36825;&#20010;&#25991;&#20214;&#65292;Seam&#24212;&#29992;&#31243;&#24207;&#20250;&#32487;&#32493;&#27491;&#24120;&#22320;&#36816;&#34892;&#65281;&#21482;&#19981;&#36807;&#20250;&#22833;&#21435;&#20999;&#25442;&#24037;&#20316;&#21306;&#30340;&#21151;&#33021;&#12290;
           </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5407"></a>6.7.2.&nbsp;&#24037;&#20316;&#21306;&#31649;&#29702;&#21644;jPDL&#39029;&#38754;&#27969;</h3></div></div><div></div></div><p>
                &#24403;&#20320;&#20351;&#29992;jPDL&#39029;&#38754;&#27969;&#31243;&#23450;&#20041;&#30340;&#26102;&#20505;&#65292;Seam&#36890;&#36807;&#24674;&#22797;&#24403;&#21069;jBPM&#27969;&#31243;&#29366;&#24577;&#20999;&#25442;&#21040;&#19968;&#20010;&#23545;&#35805;&#12290;
                &#36825;&#26159;&#19968;&#20010;&#26356;&#21152;&#28789;&#27963;&#30340;&#27169;&#22411;&#65292;&#22240;&#20026;&#23427;&#20801;&#35768;&#21516;&#19968;&#20010; <tt class="literal">view-id</tt> &#26681;&#25454;&#24403;&#21069;&#30340; <tt class="literal">&lt;&#39029;&#38754;&gt;</tt> &#33410;&#28857;&#32780;&#25317;&#26377;&#19981;&#21516;&#30340;&#25551;&#36848;&#12290;
                &#36825;&#20010;&#25551;&#36848;&#25991;&#26412;&#36890;&#36807; <tt class="literal">&lt;page&gt;</tt> &#33410;&#28857;&#26469;&#23450;&#20041;&#12290;
            </p><pre class="programlisting">&lt;pageflow-definition name="shopping"&gt;

   &lt;start-state name="start"&gt;
      &lt;transition to="browse"/&gt;
   &lt;/start-state&gt;

   &lt;page name="browse" view-id="/browse.xhtml"&gt;
      &lt;description&gt;DVD Search: #{search.searchPattern}&lt;/description&gt;
      &lt;transition to="browse"/&gt;
      &lt;transition name="checkout" to="checkout"/&gt;
   &lt;/page&gt;

   &lt;page name="checkout" view-id="/checkout.xhtml"&gt;
      &lt;description&gt;Purchase: $#{cart.total}&lt;/description&gt;
      &lt;transition to="checkout"/&gt;
      &lt;transition name="complete" to="complete"/&gt;
   &lt;/page&gt;

   &lt;page name="complete" view-id="/complete.xhtml"&gt;
      &lt;end-conversation /&gt;
   &lt;/page&gt;

&lt;/pageflow-definition&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5423"></a>6.7.3.&nbsp;&#23545;&#35805;&#36716;&#25442;&#22120;</h3></div></div><div></div></div><p>
				&#22312;&#20320;&#30340;JSP&#25110;facelets&#39029;&#38754;&#20013;&#21253;&#21547;&#20197;&#19979;&#20195;&#30721;&#29255;&#26029;&#65292;&#20197;&#33719;&#24471;&#20351;&#20320;&#21487;&#20197;&#36716;&#25442;&#21040;&#20219;&#20309;&#24403;&#21069;&#23545;&#35805;&#25110;&#32773;&#24212;&#29992;&#31243;&#24207;&#30340;&#20219;&#20309;&#20854;&#20182;&#39029;&#38754;&#30340;&#19968;&#20010;&#19979;&#25289;&#33756;&#21333;&#65306;
            </p><pre class="programlisting">&lt;h:selectOneMenu value="#{switcher.conversationIdOrOutcome}"&gt;
    &lt;f:selectItem itemLabel="Find Issues" itemValue="findIssue"/&gt;
    &lt;f:selectItem itemLabel="Create Issue" itemValue="editIssue"/&gt;
    &lt;f:selectItems value="#{switcher.selectItems}"/&gt;
&lt;/h:selectOneMenu&gt;
&lt;h:commandButton action="#{switcher.select}" value="Switch"/&gt;</pre><p>
                In this example, we have a menu that includes an item for each
                conversation, together with two additional items that let the
                user begin a new conversation.
				&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#26377;&#19968;&#33756;&#21333;&#65292;&#23427;&#20026;&#27599;&#19968;&#20010;&#23545;&#35805;&#37117;&#21253;&#21547;&#20102;&#19968;&#20010;&#26465;&#30446;&#65292;&#21478;&#22806;&#36824;&#26377;&#20004;&#20010;&#35753;&#29992;&#25143;&#24320;&#22987;&#26032;&#23545;&#35805;&#30340;&#26465;&#30446;&#12290;
            </p><p>
                Only conversations with a description will be included in the
                drop-down menu.
            </p><div class="mediaobject" align="center"><img src="images/switcher.png" align="middle"></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5439"></a>6.7.4.&nbsp;&#23545;&#35805;&#21015;&#34920;</h3></div></div><div></div></div><p>
				&#38500;&#20102;&#23545;&#35805;&#21015;&#34920;&#20250;&#26174;&#31034;&#25104;&#20026;&#19968;&#20010;&#34920;&#26684;&#20197;&#22806;&#65292;&#23427;&#19982;&#23545;&#35805;&#36716;&#25442;&#22120;&#38750;&#24120;&#30456;&#20284;&#65306;
            </p><pre class="programlisting">&lt;h:dataTable value="#{conversationList}" var="entry"
        rendered="#{not empty conversationList}"&gt;
    &lt;h:column&gt;
        &lt;f:facet name="header"&gt;Workspace&lt;/f:facet&gt;
        &lt;h:commandLink action="#{entry.select}" value="#{entry.description}"/&gt;
        &lt;h:outputText value="[current]" rendered="#{entry.current}"/&gt;
    &lt;/h:column&gt;
    &lt;h:column&gt;
        &lt;f:facet name="header"&gt;Activity&lt;/f:facet&gt;
        &lt;h:outputText value="#{entry.startDatetime}"&gt;
            &lt;f:convertDateTime type="time" pattern="hh:mm a"/&gt;
        &lt;/h:outputText&gt;
        &lt;h:outputText value=" - "/&gt;
        &lt;h:outputText value="#{entry.lastDatetime}"&gt;
            &lt;f:convertDateTime type="time" pattern="hh:mm a"/&gt;
        &lt;/h:outputText&gt;
    &lt;/h:column&gt;
    &lt;h:column&gt;
        &lt;f:facet name="header"&gt;Action&lt;/f:facet&gt;
        &lt;h:commandButton action="#{entry.select}" value="#{msg.Switch}"/&gt;
        &lt;h:commandButton action="#{entry.destroy}" value="#{msg.Destroy}"/&gt;
    &lt;/h:column&gt;
&lt;/h:dataTable&gt;</pre><p>
				&#25105;&#20204;&#35774;&#24819;&#20320;&#24819;&#35201;&#26681;&#25454;&#20320;&#33258;&#24049;&#30340;&#24212;&#29992;&#31243;&#24207;&#21435;&#23450;&#21046;&#36825;&#20010;&#12290;
            </p><div class="mediaobject" align="center"><img src="images/list.png" align="middle"></div><p>
                &#21482;&#26377;&#24102;&#26377;&#25551;&#36848;&#30340;&#23545;&#35805;&#25165;&#20250;&#34987;&#21253;&#21547;&#22312;&#21015;&#34920;&#20013;&#12290;
            </p><p>
				&#27880;&#24847;&#23545;&#35805;&#21015;&#34920;&#20801;&#35768;&#29992;&#25143;&#38144;&#27585;&#24037;&#20316;&#21306;&#12290;
            </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5457"></a>6.7.5.&nbsp;&#23548;&#33322;&#25511;&#20214;</h3></div></div><div></div></div><p>
				&#23548;&#33322;&#25511;&#20214;&#22312;&#20351;&#29992;&#23884;&#22871;&#23545;&#35805;&#27169;&#24335;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#24456;&#26377;&#29992;&#12290;&#23548;&#33322;&#25511;&#20214;&#26159;&#24403;&#21069;&#23545;&#35805;&#22534;&#26632;&#20013;&#23545;&#35805;&#38142;&#25509;&#30340;&#19968;&#20010;&#21015;&#34920;&#12290;
            </p><pre class="programlisting">&lt;ui:repeat value="#{conversationStack}" var="entry"&gt;
    &lt;h:outputText value=" | "/&gt;
    &lt;h:commandLink value="#{entry.description}" action="#{entry.select}"/&gt;
&lt;/ui:repeat</pre><div class="mediaobject" align="center"><img src="images/breadcrumbs.png" align="middle"></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5469"></a>6.8.&nbsp;&#23545;&#35805;&#32452;&#20214;&#21644;JSF&#32452;&#20214;&#32465;&#23450;</h2></div></div><div></div></div><p>
			&#23545;&#35805;&#32452;&#20214;&#26377;&#19968;&#20010;&#23567;&#23567;&#30340;&#38480;&#21046;&#65306;&#23427;&#20204;&#19981;&#33021;&#22815;&#34987;&#29992;&#26469;&#20445;&#23384;&#23545;JSF&#32452;&#20214;&#30340;&#32465;&#23450;&#12290;
			&#65288;&#38500;&#38750;&#32477;&#23545;&#24517;&#35201;&#65292;&#21542;&#21017;&#25105;&#20204;&#36890;&#24120;&#19981;&#21916;&#27426;&#20351;&#29992;JSF&#30340;&#36825;&#20010;&#29305;&#24615;&#65292;&#22240;&#20026;&#23427;&#21019;&#24314;&#20102;&#20174;&#24212;&#29992;&#31243;&#24207;&#36923;&#36753;&#21040;&#35270;&#22270;&#30340;&#24378;&#20381;&#36182;&#20851;&#31995;&#12290;&#65289;
			&#22312;&#19968;&#20010;postback&#35831;&#27714;&#20013;&#65292;&#32452;&#20214;&#32465;&#23450;&#20250;&#22312;&#35270;&#22270;&#24674;&#22797;&#38454;&#27573;&#20013;&#19988;&#22312;Seam&#23545;&#35805;&#19978;&#19979;&#25991;&#24674;&#22797;&#20043;&#21069;&#34987;&#26356;&#26032;&#12290;
        </p><p>
            &#20026;&#20102;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#65292;&#20351;&#29992;&#19968;&#20010;&#20107;&#20214;&#33539;&#22260;&#30340;&#32452;&#20214;&#26469;&#20445;&#23384;&#32452;&#20214;&#32465;&#23450;&#65292;&#24182;&#23558;&#23427;&#27880;&#20837;&#21040;&#38656;&#35201;&#23427;&#30340;&#23545;&#35805;&#33539;&#22260;&#32452;&#20214;&#20013;&#12290;
        </p><pre class="programlisting">@Name("grid")
@Scope(ScopeType.EVENT)
public class Grid
{
    private HtmlPanelGrid htmlPanelGrid;

    // getters and setters
    ...
}</pre><pre class="programlisting">@Name("gridEditor")
@Scope(ScopeType.CONVERSATION)
public class GridEditor
{
    @In(required=false)
    private Grid grid;

    ...
}</pre><p>
		  &#21478;&#22806;&#19968;&#31181;&#36873;&#25321;&#26159;&#65292;&#20320;&#21487;&#20197;&#36890;&#36807;&#38544;&#24335;&#30340; <tt class="literal">uiComponent</tt> &#21477;&#26564;&#26469;&#35775;&#38382;JSF&#32452;&#20214;&#26641;&#12290;
		  &#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#35775;&#38382;&#22312;&#36845;&#20195;&#20013;&#25903;&#25345;&#25968;&#25454;&#34920;&#30340; <tt class="literal">UIData</tt> &#32452;&#20214;&#30340; <tt class="literal">getRowIndex()</tt> &#65292;&#23427;&#25171;&#21360;&#24403;&#21069;&#30340;&#34892;&#25968;&#65306;
       </p><pre class="programlisting">
&lt;h:dataTable id="lineItemTable" var="lineItem" value="#{orderHome.lineItems}"&gt;
   &lt;h:column&gt;
      Row: #{uiComponent['lineItemTable'].rowIndex}
   &lt;/h:column&gt;
   ...
&lt;/h:dataTable&gt;</pre><p>
		  &#22312;&#36825;&#20010;map&#20013;&#65292;&#21487;&#20197;&#24471;&#21040;JSF UI&#32452;&#20214;&#21644;&#23427;&#20204;&#30340;&#23458;&#25143;&#26631;&#35782;&#31526;&#12290;
       </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5495"></a>6.9.&nbsp;&#23545;&#35805;&#32452;&#20214;&#30340;&#24182;&#21457;&#35843;&#29992;</h2></div></div><div></div></div><p>
        &#22312; ??? &#20013;&#21487;&#20197;&#25214;&#21040;Seam&#32452;&#20214;&#24182;&#21457;&#35843;&#29992;&#30340;&#20840;&#37096;&#35752;&#35770;&#12290;
        &#22312;&#36825;&#37324;&#65292;&#25105;&#20204;&#35201;&#35752;&#35770;&#26159;&#24120;&#35265;&#30340;&#19968;&#31181;&#24182;&#21457;&#24773;&#24418;&#65292;&#22312;&#36825;&#31181;&#24773;&#24418;&#19979;&#65292;&#20320;&#20250;&#36935;&#21040;&#20174;AJAX&#35831;&#27714;&#20013;&#35775;&#38382;&#23545;&#35805;&#32452;&#20214;&#30340;&#24182;&#21457;&#8212;&#12290;
        &#25105;&#20204;&#23601;&#35201;&#35752;&#35770;&#19968;&#20010;Ajax&#23458;&#25143;&#31471;&#24211;&#24212;&#35813;&#25552;&#20379;&#29992;&#26469;&#25511;&#21046;&#28304;&#33258;&#23458;&#25143;&#31471;&#30340;&#20107;&#20214;&#30340;&#36873;&#39033;&#8212;&#65292;&#24182;&#30475;&#30475;RickFaces&#20026;&#20320;&#25552;&#20379;&#30340;&#36873;&#39033;&#12290;
      </p><p>
		&#23545;&#35805;&#32452;&#20214;&#23454;&#38469;&#19978;&#24182;&#19981;&#20801;&#35768;&#30495;&#27491;&#30340;&#24182;&#21457;&#35775;&#38382;&#65292;&#22240;&#27492;Seam&#20250;&#32473;&#27599;&#19968;&#20010;&#35831;&#27714;&#25490;&#19968;&#20010;&#38431;&#21015;&#24182;&#20381;&#27425;&#22788;&#29702;&#23427;&#20204;&#12290;&#36825;&#26679;&#20801;&#35768;&#27599;&#20010;&#35831;&#27714;&#37117;&#20197;&#19968;&#31181;&#29305;&#23450;&#30340;&#26041;&#24335;&#34987;&#25191;&#34892;&#12290;
		&#20294;&#26159;&#65292;&#31616;&#21333;&#30340;&#38431;&#21015;&#19981;&#26159;&#37027;&#20040;&#24378;&#22823;&#8212;&#39318;&#20808;&#65292;&#30001;&#20110;&#26576;&#20123;&#21407;&#22240;&#65292;&#22914;&#26524;&#19968;&#20010;&#26041;&#27861;&#38656;&#35201;&#38750;&#24120;&#38271;&#30340;&#26102;&#38388;&#26469;&#23436;&#25104;&#65292;&#24182;&#19988;&#27599;&#27425;&#29983;&#25104;&#19968;&#20010;&#38169;&#35823;&#30340;&#35831;&#27714;&#26102;&#23601;&#19968;&#27425;&#21448;&#19968;&#27425;&#30340;&#21453;&#22797;&#36816;&#34892;&#65288;&#28508;&#22312;&#25298;&#32477;&#26381;&#21153;&#25915;&#20987;&#30340;&#21487;&#33021;&#65289;&#12290;
		&#20854;&#27425;,AJAX&#32463;&#24120;&#34987;&#29992;&#20110;&#32473;&#29992;&#25143;&#25552;&#20379;&#24555;&#36895;&#30340;&#29366;&#24577;&#26356;&#26032;&#65292;&#22240;&#27492;&#25345;&#32493;&#22320;&#38271;&#26102;&#38388;&#36816;&#34892;&#35813;&#21160;&#20316;&#24182;&#27809;&#26377;&#20160;&#20040;&#29992;&#22788;&#12290;
      </p><p>
		&#22240;&#27492;Seam&#32473;action&#20107;&#20214;&#25490;&#38431;&#31561;&#24453;&#19968;&#27573;&#26102;&#38388;&#65288;&#24182;&#21457;&#30340;&#35831;&#27714;&#36229;&#26102;&#65289;&#65307;
		&#22914;&#26524;&#19981;&#33021;&#21450;&#26102;&#22788;&#29702;&#20107;&#20214;&#65292;&#23427;&#23601;&#20250;&#21019;&#24314;&#19968;&#20010;&#20020;&#26102;&#30340;&#23545;&#35805;&#24182;&#19988;&#32473;&#29992;&#25143;&#25171;&#21360;&#19968;&#26465;&#20449;&#24687;&#65292;&#35753;&#20182;&#20204;&#20102;&#35299;&#24773;&#20917;&#12290;
		&#25152;&#20197;&#19981;&#35201;&#32473;&#26381;&#21153;&#22120;&#21457;&#36865;&#27867;&#28389;&#30340;AJAX&#20107;&#20214;&#65292;&#36825;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#12290;
      </p><p>
		&#25105;&#20204;&#21487;&#20197;&#22312;components.xml&#25991;&#20214;&#20013;&#32473;&#24182;&#21457;&#30340;&#35831;&#27714;&#36229;&#26102;&#35774;&#32622;&#19968;&#20010;&#21512;&#29702;&#30340;&#36229;&#26102;&#40664;&#35748;&#20540;&#65288;ms&#65289;&#12290;
      </p><pre class="programlisting">&lt;core:manager concurrent-request-timeout="500" /&gt;</pre><p>
	  &#21040;&#30446;&#21069;&#20026;&#27490;&#65292;&#25105;&#20204;&#24050;&#32463;&#35752;&#35770;&#20102;&#21516;&#27493;&#30340;AJAX&#35831;&#27714;&#8212;&#8212; &#23458;&#25143;&#31471;&#21578;&#35785;&#26381;&#21153;&#22120;&#21457;&#29983;&#20102;&#19968;&#20010;&#20107;&#20214;&#65292;&#28982;&#21518;&#26681;&#25454;&#36820;&#22238;&#20540;&#26469;&#37325;&#26032;&#28210;&#26579;&#23616;&#37096;&#39029;&#38754;&#12290;
	  &#24403;AJAX&#35831;&#27714;&#26159;&#36731;&#37327;&#32423;&#26102;&#65292;&#37319;&#29992;&#36825;&#31181;&#26041;&#27861;&#23601;&#30456;&#24403;&#22909;&#65288;&#36825;&#20123;&#26041;&#27861;&#30340;&#35843;&#29992;&#20063;&#31616;&#21333;&#65292;&#22914;&#65306;&#35745;&#31639;&#19968;&#21015;&#25968;&#23383;&#30340;&#24635;&#21644;&#65289;&#12290;
	  &#20294;&#26159;&#24403;&#25105;&#20204;&#38656;&#35201;&#20570;&#22797;&#26434;&#30340;&#35745;&#31639;&#26102;&#25105;&#20204;&#24212;&#35813;&#24590;&#20040;&#20570;&#21602;&#65311;
    </p><p>
	  &#23545;&#20110;&#22823;&#37327;&#30340;&#35745;&#31639;&#25105;&#20204;&#24212;&#24403;&#20351;&#29992;&#30495;&#27491;&#30340;&#24322;&#27493;&#65288;&#22522;&#20110;&#36718;&#35810;&#8220;Poll&#8221;&#30340;&#65289;&#26041;&#27861; &#8212;
	  &#23458;&#25143;&#31471;&#21457;&#36865;&#19968;&#20010;AJAX&#35831;&#27714;&#21040;&#26381;&#21153;&#22120;&#65292;&#36825;&#20351;&#24471;&#19968;&#20010;action&#22312;&#26381;&#21153;&#22120;&#31471;&#34987;&#24322;&#27493;&#22320;&#25191;&#34892;&#65288;&#22240;&#27492;&#31435;&#21363;&#23601;&#20250;&#21709;&#24212;&#23458;&#25143;&#31471;&#65289;&#65307;&#28982;&#21518;&#23458;&#25143;&#31471;&#20250;&#22312;&#26381;&#21153;&#22120;&#20013;&#26597;&#35810;&#26356;&#26032;&#12290;
	  &#24403;&#20320;&#36816;&#34892;&#19968;&#20010;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#25805;&#20316;&#26102;&#23427;&#24456;&#26377;&#29992;&#65292;&#22240;&#20026;&#27599;&#19968;&#20010;action&#37117;&#21487;&#20197;&#25191;&#34892;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#65288;&#20320;&#19981;&#20250;&#24076;&#26395;&#26576;&#20123;action&#30001;&#20110;&#37325;&#22797;&#25110;&#32773;&#36229;&#26102;&#32780;&#34987;&#20002;&#24323;&#65289;&#12290;
    </p><p>
      <span class="emphasis"><em>&#25105;&#20204;&#24212;&#22914;&#20309;&#26469;&#35774;&#35745;&#23545;&#35805;&#30340;AJAX&#24212;&#29992;&#31243;&#24207;&#21602;&#65311;</em></span>
    </p><p>
	  &#39318;&#20808;&#65292;&#20320;&#38656;&#35201;&#20915;&#23450;&#26159;&#21542;&#24819;&#20351;&#29992;&#26356;&#31616;&#21333;&#30340;&#8220;&#21516;&#27493;&#8221;&#35831;&#26041;&#24335;&#65292;&#25110;&#32773;&#26159;&#21542;&#24819;&#35201;&#21033;&#29992;&#8220;Poll&#39118;&#26684;&#8221;&#30340;&#26041;&#27861;&#12290;
    </p><p>
	  &#22914;&#26524;&#20320;&#35201;&#20351;&#29992;&#8220;&#21516;&#27493;&#8221;&#35831;&#27714;&#30340;&#26041;&#27861;&#65292;&#37027;&#20040;&#20320;&#38656;&#35201;&#35780;&#20272;&#19968;&#19979;&#20320;&#30340;AJAX&#35831;&#27714;&#38656;&#35201;&#22810;&#38271;&#26102;&#38388;&#25165;&#21487;&#20197;&#32467;&#26463;&#8212;&#8212;&#23427;&#26159;&#19981;&#26159;&#27604;&#24182;&#21457;&#35831;&#27714;&#36229;&#26102;&#20540;&#35201;&#30701;&#65311;
	  &#22914;&#26524;&#19981;&#26159;&#65292;&#20320;&#20063;&#35768;&#35201;&#20462;&#25913;&#36825;&#20010;&#26041;&#27861;&#30340;&#24182;&#21457;&#35831;&#27714;&#36229;&#26102;&#26102;&#38388;&#65288;&#22914;&#19978;&#25152;&#36848;&#65289;&#12290;
	  &#25509;&#19979;&#26469;&#20320;&#25110;&#35768;&#38656;&#35201;&#22312;&#23458;&#25143;&#31471;&#32473;&#35831;&#27714;&#25490;&#19968;&#20010;&#38431;&#65292;&#38450;&#27490;&#35831;&#27714;&#20840;&#37096;&#28044;&#20837;&#26381;&#21153;&#22120;&#12290;
	  &#22914;&#26524;&#36825;&#26159;&#19968;&#20010;&#32463;&#24120;&#21457;&#29983;&#30340;&#20107;&#20214;&#65288;&#20363;&#22914;&#65292;&#25353;&#38062;&#25353;&#19979;&#21644;&#36755;&#20837;&#22495;&#30340;onblur&#65289;&#65292;&#24182;&#19988;&#31435;&#21363;&#26356;&#26032;&#23458;&#25143;&#31471;&#21448;&#19981;&#26159;&#20248;&#20808;&#38656;&#35201;&#32771;&#34385;&#30340;&#24773;&#20917;&#65292;&#20320;&#23601;&#24212;&#35813;&#22312;&#23458;&#25143;&#31471;&#35774;&#32622;&#19968;&#20010;&#35831;&#27714;&#24310;&#26102;&#12290;
	  &#24403;&#28040;&#32791;&#23436;&#20320;&#30340;&#35831;&#27714;&#24310;&#26102;&#30340;&#26102;&#20505;&#65292;&#35813;&#20107;&#20214;&#20013;&#30340;&#25805;&#20316;&#20063;&#20250;&#22312;&#26381;&#21153;&#22120;&#27573;&#25490;&#25104;&#19968;&#20010;&#38431;&#21015;&#12290;
    </p><p>
	  &#26368;&#21518;&#65292;&#23458;&#25143;&#31471;&#24211;&#21487;&#33021;&#20250;&#25552;&#20379;&#19968;&#20010;&#36873;&#39033;&#65292;&#23427;&#21487;&#20197;&#25918;&#24323;&#26368;&#36817;&#26410;&#23436;&#25104;&#30340;&#37325;&#22797;&#35831;&#27714;&#12290;
	  &#23545;&#36825;&#20010;&#36873;&#39033;&#20320;&#38656;&#35201;&#24456;&#35880;&#24910;&#65292;&#22240;&#20026;&#22312;&#26381;&#21153;&#31471;&#27809;&#33021;&#25918;&#24323;&#26410;&#23436;&#25104;&#30340;&#35831;&#27714;&#26102;&#65292;&#36825;&#20010;&#36873;&#39033;&#21487;&#33021;&#23548;&#33268;&#35831;&#27714;&#20840;&#37096;&#28044;&#20837;&#26381;&#21153;&#22120;&#31471;&#12290;
    </p><p>
	  &#20351;&#29992;&#8220;Poll&#39118;&#26684;&#8221;&#30340;&#35774;&#35745;&#27604;&#36739;&#19981;&#38656;&#35201;&#32454;&#35843;&#12290;
	  &#20320;&#21482;&#35201;&#32473;&#20320;&#30340;action&#26041;&#27861; <tt class="literal">@Asynchronous</tt> &#36827;&#34892;&#26631;&#27880;&#65292;&#24182;&#30830;&#23450;&#19968;&#20010;&#26597;&#35810;&#26102;&#38388;&#38388;&#38548;&#23601;&#21487;&#20197;&#20102;&#65306;
    </p><pre class="programlisting">int total;

// This method is called when an event occurs on the client
// It takes a really long time to execute
@Asynchronous
public void calculateTotal() {
   total = someReallyComplicatedCalculation();
}

// This method is called as the result of the poll
// It's very quick to execute
public int getTotal() {
   return total;
}</pre><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5534"></a>6.9.1.&nbsp;RichFaces Ajax</h3></div></div><div></div></div><p>
		RichFaces AJAX&#26159;&#26368;&#24120;&#19982;Seam&#19968;&#36215;&#20351;&#29992;&#30340;Ajax&#24211;&#65292;&#23427;&#25552;&#20379;&#20102;&#19978;&#38754;&#35752;&#35770;&#36807;&#30340;&#25152;&#26377;&#25511;&#21046;&#65306;
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            <tt class="literal">eventsQueue</tt> &#8212; &#25552;&#20379;&#19968;&#20010;&#25918;&#32622;&#20107;&#20214;&#30340;&#38431;&#21015;&#12290;&#25152;&#26377;&#30340;&#20107;&#20214;&#37117;&#25490;&#25104;&#38431;&#21015;&#65292;&#24182;&#19988;&#35831;&#27714;&#34987;&#20381;&#27425;&#21457;&#36865;&#32473;&#26381;&#21153;&#22120;&#31471;&#12290;
            &#24403;&#26381;&#21153;&#22120;&#27809;&#26377;&#34987;&#25298;&#32477;&#26381;&#21153;&#25915;&#20987;&#26102;&#65292;&#33509;&#19968;&#20010;&#35831;&#27714;&#22312;&#26381;&#21153;&#22120;&#19978;&#38656;&#35201;&#33457;&#36153;&#19968;&#20123;&#26102;&#38388;&#26469;&#25191;&#34892;&#26102;&#65292;&#36825;&#20010;&#26159;&#24456;&#26377;&#29992;&#30340;&#65288;&#27604;&#22914;&#65306;&#22823;&#37327;&#30340;&#35745;&#31639;&#65292;&#20174;&#24930;&#30340;&#25968;&#25454;&#28304;&#37324;&#33719;&#21462;&#20449;&#24687;&#65289;&#12290;
          </p></li><li><p>
            &#22914;&#26524;&#26368;&#36817;&#22312;&#38431;&#21015;&#20013;&#24050;&#32463;&#26377;&#8216;&#30456;&#20284;&#30340;&#8217;&#35831;&#27714;&#65292; <tt class="literal">ignoreDupResponses</tt> &#8212; &#23601;&#20250;&#24573;&#30053;&#30001;&#35813;&#35831;&#27714;&#20135;&#29983;&#30340;&#21709;&#24212;&#12290;
            ignoreDupResponses="true" <span class="emphasis"><em>&#19981;&#20250;&#21462;&#28040;</em></span> &#35831;&#27714;&#22312;&#26381;&#21153;&#31471;&#30340;&#22788;&#29702; &#8212; &#23427;&#21482;&#26159;&#22312;&#23458;&#25143;&#31471;&#38450;&#27490;&#19981;&#24517;&#35201;&#30340;&#26356;&#26032;&#12290;
          </p><p>
			&#36825;&#20010;&#36873;&#39033;&#19982;Seam&#23545;&#35805;&#19968;&#36215;&#20351;&#29992;&#26102;&#24212;&#35813;&#24456;&#23567;&#24515;&#65292;&#22240;&#20026;&#23427;&#20801;&#35768;&#21019;&#24314;&#22810;&#20010;&#24182;&#21457;&#35831;&#27714;&#12290;
          </p></li><li><p>
			<tt class="literal">requestDelay</tt> &#8212; &#23450;&#20041;&#35831;&#27714;&#23384;&#22312;&#20110;&#38431;&#21015;&#20013;&#30340;&#26102;&#38388;&#65288;ms&#65289;&#12290;
            &#22914;&#26524;&#36825;&#20010;&#35831;&#27714;&#22312;&#36825;&#20010;&#26102;&#38388;&#20869;&#27809;&#26377;&#34987;&#22788;&#29702;&#65292;&#23427;&#23601;&#20250;&#34987;&#21457;&#36865;&#65288;&#19981;&#31649;&#26159;&#21542;&#25509;&#25910;&#21040;response&#65289;&#25110;&#32773;&#20002;&#24323;&#65288;&#22914;&#26524;&#38431;&#21015;&#20013;&#26377;&#26356;&#36817;&#30340;&#30456;&#20284;&#20107;&#20214;&#65289;&#12290;
          </p><p>
			&#36825;&#20010;&#36873;&#39033;&#19982;Seam&#30340;&#23545;&#35805;&#19968;&#36215;&#20351;&#29992;&#24212;&#35813;&#24456;&#23567;&#24515;&#65292;&#22240;&#20026;&#23427;&#20801;&#35768;&#21019;&#24314;&#22810;&#20010;&#24182;&#21457;&#35831;&#27714;&#12290;
			&#20320;&#35201;&#30830;&#23450;&#20320;&#25152;&#35774;&#32622;&#30340;&#24310;&#26102;&#26102;&#38388;&#65288;&#32467;&#21512;&#24182;&#21457;&#35831;&#27714;&#36229;&#26102;&#30340;&#26102;&#38388;&#65289;&#35201;&#38271;&#20110;action&#30340;&#25191;&#34892;&#26102;&#38388;&#12290;
          </p></li><li><p>
            <tt class="literal">&lt;a:poll reRender="total" interval="1000" /&gt;</tt> &#8212; &#35831;&#27714;&#26381;&#21153;&#22120;&#31471;&#65292;&#24182;&#37325;&#26032;&#28210;&#26579;&#19968;&#20010;&#38656;&#35201;&#30340;&#21306;&#22495;&#12290;
          </p></li></ul></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="jbpm"></a>Chapter&nbsp;7.&nbsp;&#39029;&#38754;&#27969;&#21644;&#19994;&#21153;&#27969;&#31243;</h2></div></div><div></div></div><p>
        JBoss jBPM &#26159;&#19968;&#20010;&#21487;&#20197;&#36816;&#34892;&#20110;&#20219;&#20309;Java SE&#25110;EE&#29615;&#22659;&#30340;&#19994;&#21153;&#27969;&#31243;&#31649;&#29702;&#24341;&#25806;&#12290;
		jBPM&#20351;&#29992;&#19968;&#32452;&#33410;&#28857;&#32452;&#25104;&#30340;&#22270;&#24418;&#26469;&#25551;&#36848;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#25110;&#29992;&#25143;&#20132;&#20114;&#36807;&#31243;&#65292;&#36825;&#20123;&#33410;&#28857;&#20998;&#21035;&#34920;&#31034;&#31561;&#24453;&#29366;&#24577;&#12289;&#20915;&#31574;&#12289;&#20219;&#21153;&#12289;Web&#39029;&#38754;&#31561;&#31561;&#12290;
		&#36825;&#20010;&#22270;&#24418;&#20351;&#29992;&#19968;&#31181;&#31616;&#21333;&#30340;&#12289;&#38750;&#24120;&#26131;&#35835;&#30340;&#65292;&#31216;&#20026;jPDL&#30340;XML&#26041;&#35328;&#26469;&#23450;&#20041;&#65292;&#24182;&#19988;&#21487;&#20197;&#20351;&#29992;&#19968;&#20010;Eclipse&#25554;&#20214;&#22270;&#24418;&#21270;&#26174;&#31034;&#21644;&#32534;&#36753;&#12290;
		jPDL&#26159;&#19968;&#31181;&#21487;&#25193;&#23637;&#30340;&#35821;&#35328;&#65292;&#36866;&#21512;&#20110;&#35299;&#20915;&#35768;&#22810;&#38382;&#39064;&#65292;&#20174;&#23450;&#20041;Web&#24212;&#29992;&#31243;&#24207;&#39029;&#38754;&#27969;&#21040;&#20256;&#32479;&#30340;&#24037;&#20316;&#27969;&#31649;&#29702;&#65292;&#30452;&#21040;&#22312;SOA&#29615;&#22659;&#20013;&#32452;&#32455;&#26381;&#21153;&#12290;
    </p><p>
		Seam&#24212;&#29992;&#31243;&#24207;&#20351;&#29992;jBPM&#35299;&#20915;&#20004;&#20010;&#19981;&#21516;&#30340;&#38382;&#39064;&#65306;
    </p><div class="itemizedlist"><ul type="disc"><li><p>
			&#23450;&#20041;&#21253;&#21547;&#22797;&#26434;&#29992;&#25143;&#20132;&#20114;&#30340;&#39029;&#38754;&#27969;&#65292;jDPL&#27969;&#31243;&#23450;&#20041;&#21487;&#20197;&#29992;&#26469;&#20026;&#19968;&#27425;&#23545;&#35805;&#23450;&#20041;&#39029;&#38754;&#27969;&#12290;
			&#19968;&#27425;Seam&#23545;&#35805;&#21487;&#20197;&#29702;&#35299;&#20026;&#19982;&#19968;&#20010;&#21333;&#19968;&#29992;&#25143;&#36827;&#34892;&#30340;&#19968;&#27425;&#30456;&#20851;&#30340;&#30701;&#26242;&#20132;&#20114;&#12290;
        </p></li><li><p>
            &#23450;&#20041;&#20027;&#25511;&#19994;&#21153;&#27969;&#31243;&#12290;&#19994;&#21153;&#27969;&#31243;&#21487;&#33021;&#26159;&#27178;&#36328;&#22810;&#20010;&#29992;&#25143;&#30340;&#22810;&#27425;&#23545;&#35805;&#12290;&#27969;&#31243;&#30340;&#29366;&#24577;&#34987;&#20445;&#23384;&#22312;jBPM&#25968;&#25454;&#24211;&#20013;&#65292;&#25152;&#20197;&#27969;&#31243;&#34987;&#35748;&#20026;&#26159;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#12290;
			&#21327;&#35843;&#22810;&#20010;&#29992;&#25143;&#30340;&#34892;&#20026;&#36828;&#27604;&#22788;&#29702;&#19968;&#20010;&#21333;&#19968;&#29992;&#25143;&#30340;&#20132;&#20114;&#22797;&#26434;&#24471;&#22810;&#65292;&#23545;&#27492;jBPM&#25552;&#20379;&#20102;&#25104;&#29087;&#30340;&#24037;&#20855;&#26469;&#35299;&#20915;&#20219;&#21153;&#31649;&#29702;&#21644;&#22810;&#36335;&#24182;&#21457;&#25191;&#34892;&#30340;&#38382;&#39064;&#12290;
        </p></li></ul></div><p>
        &#19981;&#35201;&#25226;&#36825;&#20004;&#20010;&#20107;&#24773;&#24324;&#28151;&#20102;&#65281;&#23427;&#20204;&#36816;&#34892;&#22312;&#20004;&#20010;&#38750;&#24120;&#19981;&#21516;&#30340;&#23618;&#38754;&#25110;&#31890;&#24230;&#20013;&#12290;
		<span class="emphasis"><em>&#39029;&#38754;&#27969;Pageflow</em></span>&#12289;<span class="emphasis"><em>&#23545;&#35805;Conversation</em></span> &#21644; <span class="emphasis"><em>&#20219;&#21153;Task</em></span> &#20840;&#37096;&#26469;&#33258;&#20110;&#19968;&#27425;&#19982;&#21333;&#19968;&#29992;&#25143;&#30340;&#21333;&#19968;&#20132;&#20114;&#12290;
		&#32780;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#21017;&#27178;&#36328;&#35768;&#22810;&#20219;&#21153;&#12290;&#36827;&#19968;&#27493;&#35828;&#65292;&#36825;&#20004;&#31181;jBPM&#24212;&#29992;&#26159;&#23436;&#20840;&#27491;&#20132;&#30340;&#65292;&#21487;&#20197;&#22312;&#19968;&#36215;&#20351;&#29992;&#25110;&#26159;&#20998;&#24320;&#21333;&#29420;&#20351;&#29992;&#65292;&#25110;&#32773;&#37117;&#19981;&#29992;&#12290;
    </p><p>
        &#20351;&#29992;Seam&#19981;&#24517;&#20102;&#35299;jDPL&#12290;&#22914;&#26524;&#20320;&#23436;&#20840;&#20048;&#20110;&#20351;&#29992;JSF&#25110;&#26159;Seam&#23548;&#33322;&#35268;&#21017;&#23450;&#20041;&#39029;&#38754;&#27969;&#65292;&#24182;&#19988;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#26356;&#22810;&#30340;&#26159;&#25968;&#25454;&#39537;&#21160;&#32780;&#19981;&#26159;&#27969;&#31243;&#39537;&#21160;&#65292;&#21487;&#33021;&#23601;&#19981;&#38656;&#35201;jBPM&#12290;
		&#20294;&#26159;&#25105;&#20204;&#21457;&#29616;&#65292;&#26681;&#25454;&#19968;&#20010;&#23450;&#20041;&#33391;&#22909;&#30340;&#22270;&#24418;&#32771;&#34385;&#29992;&#25143;&#20132;&#20114;&#26377;&#21161;&#20110;&#25105;&#20204;&#21019;&#24314;&#26356;&#21152;&#26377;&#29983;&#21629;&#21147;&#30340;&#24212;&#29992;&#31243;&#24207;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5598"></a>7.1.&nbsp;Seam&#20013;&#30340;&#39029;&#38754;&#27969;</h2></div></div><div></div></div><p>
			&#22312;Seam&#20013;&#23450;&#20041;&#39029;&#38754;&#27969;&#26377;&#20004;&#31181;&#26041;&#27861;: 
        </p><div class="itemizedlist"><ul type="disc"><li><p>
				&#20351;&#29992;JSF&#25110;&#26159;Seam&#23548;&#33322;&#35268;&#21017; &#8211; <span class="emphasis"><em>&#26080;&#29366;&#24577;&#30340;&#23548;&#33322;&#27169;&#22411;</em></span>
	        </p></li><li><p>
				&#20351;&#29992;jPDL &#8211; <span class="emphasis"><em>&#26377;&#29366;&#24577;&#30340;&#23548;&#33322;&#27169;&#22411;</em></span>
	        </p></li></ul></div><p>
			&#38750;&#24120;&#31616;&#21333;&#30340;&#24212;&#29992;&#31243;&#24207;&#21482;&#38656;&#35201;&#26080;&#29366;&#24577;&#30340;&#23548;&#33322;&#27169;&#22411;&#12290;&#38750;&#24120;&#22797;&#26434;&#30340;&#24212;&#29992;&#31243;&#24207;&#21017;&#24212;&#35813;&#22312;&#19981;&#21516;&#30340;&#22330;&#21512;&#32467;&#21512;&#20351;&#29992;&#36825;&#20004;&#31181;&#27169;&#22411;&#12290;&#27599;&#31181;&#27169;&#22411;&#21508;&#26377;&#20248;&#32570;&#28857;&#12290;
        </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5618"></a>7.1.1.&nbsp;&#20004;&#31181;&#23548;&#33322;&#27169;&#22411;</h3></div></div><div></div></div><p>
            &#26080;&#29366;&#24577;&#30340;&#27169;&#22411;&#23450;&#20041;&#19968;&#31181;&#26144;&#23556;&#65292;&#25226;&#20107;&#20214;&#30340;&#19968;&#32452;&#21629;&#21517;&#30340;&#36923;&#36753;&#32467;&#26524;&#30452;&#25509;&#26144;&#23556;&#21040;&#35270;&#22270;&#30340;&#32467;&#26524;&#39029;&#38754;&#12290;&#23548;&#33322;&#35268;&#21017;&#38500;&#20102;&#35760;&#24405;&#21738;&#20010;&#39029;&#38754;&#26159;&#20107;&#20214;&#26469;&#28304;&#20043;&#22806;&#19981;&#20250;&#20445;&#30041;&#20219;&#20309;&#29366;&#24577;&#12290;
			&#36825;&#24847;&#21619;&#30528;Action&#30417;&#21548;&#26041;&#27861;&#26377;&#26102;&#24517;&#39035;&#36827;&#34892;&#19968;&#20123;&#39029;&#38754;&#27969;&#36716;&#30340;&#22788;&#29702;&#65292;&#22240;&#20026;&#21482;&#26377;&#23427;&#20204;&#33021;&#35775;&#38382;&#21040;&#24212;&#29992;&#31243;&#24207;&#30340;&#24403;&#21069;&#29366;&#24577;&#12290;
        </p><p>
            &#19979;&#38754;&#26159;&#19968;&#20010;&#20351;&#29992;JSF&#23548;&#33322;&#35268;&#21017;&#23450;&#20041;&#39029;&#38754;&#27969;&#30340;&#20363;&#23376;&#65306;
        </p><pre class="programlisting">&lt;navigation-rule&gt;
    &lt;from-view-id&gt;/numberGuess.jsp&lt;/from-view-id&gt;
        
    &lt;navigation-case&gt;
        &lt;from-outcome&gt;guess&lt;/from-outcome&gt;
        &lt;to-view-id&gt;/numberGuess.jsp&lt;/to-view-id&gt;
        &lt;redirect/&gt;
    &lt;/navigation-case&gt;

    &lt;navigation-case&gt;
        &lt;from-outcome&gt;win&lt;/from-outcome&gt;
        &lt;to-view-id&gt;/win.jsp&lt;/to-view-id&gt;
        &lt;redirect/&gt;
    &lt;/navigation-case&gt;
        
    &lt;navigation-case&gt;
        &lt;from-outcome&gt;lose&lt;/from-outcome&gt;
        &lt;to-view-id&gt;/lose.jsp&lt;/to-view-id&gt;
        &lt;redirect/&gt;
    &lt;/navigation-case&gt;

&lt;/navigation-rule&gt;</pre><p>
            &#21516;&#19968;&#20010;&#20363;&#23376;&#65292;&#19979;&#38754;&#20351;&#29992;Seam&#23548;&#33322;&#35268;&#21017;&#23450;&#20041;: 
        </p><pre class="programlisting">&lt;page view-id="/numberGuess.jsp"&gt;
        
    &lt;navigation&gt;
        &lt;rule if-outcome="guess"&gt;
            &lt;redirect view-id="/numberGuess.jsp"/&gt;
        &lt;/rule&gt;
        &lt;rule if-outcome="win"&gt;
            &lt;redirect view-id="/win.jsp"/&gt;
        &lt;/rule&gt;
        &lt;rule if-outcome="lose"&gt;
            &lt;redirect view-id="/lose.jsp"/&gt;
        &lt;/rule&gt;
    &lt;/navigation&gt;

&lt;/page&gt;</pre><p>
            &#22914;&#26524;&#20320;&#35273;&#24471;&#23548;&#33322;&#35268;&#21017;&#36807;&#20110;&#32321;&#29712;&#65292;&#21487;&#20197;&#22312;Action&#30417;&#21548;&#26041;&#27861;&#37324;&#30452;&#25509;&#36820;&#22238;View&#30340;id&#12290;
        </p><pre class="programlisting">public String guess() {
    if (guess==randomNumber) return "/win.jsp";
    if (++guessCount==maxGuesses) return "/lose.jsp";
    return null;
}</pre><p>
            &#27880;&#24847;&#36825;&#20250;&#23548;&#33268;&#19968;&#20010;&#37325;&#23450;&#21521;&#65292;&#29978;&#33267;&#21487;&#20197;&#25351;&#23450;&#35201;&#22312;&#37325;&#23450;&#21521;&#20013;&#20351;&#29992;&#30340;&#19968;&#20123;&#21442;&#25968;&#12290; 
        </p><pre class="programlisting">public String search() {
    return "/searchResults.jsp?searchPattern=#{searchAction.searchPattern}";
}</pre><p>
            &#26377;&#29366;&#24577;&#27169;&#22411;&#22312;&#19968;&#32452;&#20855;&#21517;&#30340;&#12289;&#21512;&#20046;&#36923;&#36753;&#30340;&#24212;&#29992;&#29366;&#24577;&#20043;&#38388;&#23450;&#20041;&#19968;&#32452;&#37325;&#23450;&#21521;&#12290;
			&#22312;&#36825;&#31181;&#27169;&#22411;&#20013;&#65292;&#21487;&#20197;&#23436;&#20840;&#20351;&#29992;jPDL&#39029;&#38754;&#27969;&#23450;&#20041;&#26469;&#34920;&#31034;&#20219;&#24847;&#29992;&#25143;&#30340;&#20132;&#20114;&#27969;&#31243;&#65292;&#24182;&#22312;&#32534;&#20889;Action&#30417;&#21548;&#26041;&#27861;&#23436;&#20840;&#19981;&#24517;&#30693;&#36947;&#29992;&#25143;&#30340;&#20132;&#20114;&#27969;&#31243;&#12290;
        </p><p>
			&#19979;&#38754;&#26159;&#19968;&#20010;&#20351;&#29992;jPDL&#23450;&#20041;&#39029;&#38754;&#27969;&#30340;&#20363;&#23376;&#65306; 
        </p><pre class="programlisting">&lt;pageflow-definition name="numberGuess"&gt;
    
   &lt;start-page name="displayGuess" view-id="/numberGuess.jsp"&gt;
      &lt;redirect/&gt;
      &lt;transition name="guess" to="evaluateGuess"&gt;
      	&lt;action expression="#{numberGuess.guess}" /&gt;
      &lt;/transition&gt;
   &lt;/start-page&gt;
   
   &lt;decision name="evaluateGuess" expression="#{numberGuess.correctGuess}"&gt;
      &lt;transition name="true" to="win"/&gt;
      &lt;transition name="false" to="evaluateRemainingGuesses"/&gt;
   &lt;/decision&gt;
   
   &lt;decision name="evaluateRemainingGuesses" expression="#{numberGuess.lastGuess}"&gt;
      &lt;transition name="true" to="lose"/&gt;
      &lt;transition name="false" to="displayGuess"/&gt;
   &lt;/decision&gt;
   
   &lt;page name="win" view-id="/win.jsp"&gt;
      &lt;redirect/&gt;
      &lt;end-conversation /&gt;
   &lt;/page&gt;
   
   &lt;page name="lose" view-id="/lose.jsp"&gt;
      &lt;redirect/&gt;
      &lt;end-conversation /&gt;
   &lt;/page&gt;
   
&lt;/pageflow-definition&gt;</pre><div class="mediaobject" align="center"><img src="images/plugin-jbpm-numguess.png" align="middle"></div><p>
			&#36825;&#37324;&#25105;&#20204;&#39532;&#19978;&#27880;&#24847;&#21040;&#20102;&#20004;&#20214;&#20107;&#65306;
        </p><div class="itemizedlist"><ul type="disc"><li><p>
				JSF/Seam&#23548;&#33322;&#35268;&#21017; <span class="emphasis"><em>&#26356;&#21152;</em></span> &#31616;&#21333;&#12290;&#65288;&#28982;&#32780;&#65292;&#38544;&#34255;&#22312;&#21518;&#38754;&#30340;Java&#20195;&#30721;&#20250;&#30456;&#24403;&#22797;&#26434;&#12290;&#65289;
	        </p></li><li><p>
				jPDL&#35753;&#29992;&#25143;&#20132;&#20114;&#30340;&#36807;&#31243;&#31435;&#21051;&#21464;&#24471;&#30452;&#25509;&#26131;&#25026;&#65292;&#25105;&#20204;&#29978;&#33267;&#19981;&#38656;&#35201;&#32771;&#34385;JSP&#25110;Java&#20195;&#30721;&#12290;
	        </p></li></ul></div><p>
	        &#21478;&#22806;&#65292;&#26377;&#29366;&#24577;&#27169;&#22411;&#26356;&#21152; <span class="emphasis"><em>&#21463;&#32422;&#26463;</em></span> &#12290;&#23545;&#20110;&#27599;&#19968;&#31181;&#36923;&#36753;&#29366;&#24577;&#65288;&#39029;&#38754;&#27969;&#20013;&#30340;&#27599;&#19968;&#27493;&#65289;&#32780;&#35328;&#65292;&#37117;&#23384;&#22312;&#19968;&#32452;&#21463;&#38480;&#30340;&#21487;&#33021;&#36716;&#21040;&#20854;&#20182;&#29366;&#24577;&#30340;&#37325;&#23450;&#21521;&#12290;
			&#32780;&#26080;&#29366;&#24577;&#27169;&#22411;&#21017;&#26159;&#19968;&#31181; <span class="emphasis"><em>&#23454;&#26102;&#30340;</em></span> &#27169;&#22411;&#65292;&#23427;&#36866;&#29992;&#20110;&#30456;&#23545;&#19981;&#21463;&#32422;&#26463;&#30340;&#12289;&#24418;&#24335;&#33258;&#30001;&#30340;&#23548;&#33322;&#65292;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#30001;&#29992;&#25143;&#20915;&#23450;&#20182;&#65295;&#22905;&#19979;&#19968;&#27493;&#24819;&#37325;&#23450;&#21521;&#21040;&#21738;&#37324;&#65292;&#32780;&#19981;&#26159;&#24212;&#29992;&#31243;&#24207;&#12290;
	    </p><p>
	        &#26377;&#29366;&#24577;&#21644;&#26080;&#29366;&#24577;&#23548;&#33322;&#20043;&#38388;&#30340;&#24046;&#21035;&#19982;&#20256;&#32479;&#30340;&#27169;&#24577;&#21644;&#38750;&#27169;&#24577;&#20132;&#20114;&#35270;&#22270;&#20043;&#38388;&#30340;&#24046;&#21035;&#24456;&#31867;&#20284;&#12290;
			&#29616;&#22312;&#65292;Seam&#24212;&#29992;&#31243;&#24207;&#36890;&#24120;&#19981;&#26159;&#27169;&#24577;&#30340;&#65292;&#31616;&#21333;&#22320;&#35828; &#65293;&#65293; &#30340;&#30830;&#65292;&#20351;&#29992;&#23545;&#35805;&#30340;&#19968;&#20010;&#20027;&#35201;&#21407;&#22240;&#23601;&#26159;&#36991;&#20813;&#24212;&#29992;&#31243;&#24207;&#20013;&#30340;&#27169;&#24577;&#34892;&#20026;&#65281;
			&#28982;&#32780;&#65292;&#22312;&#19968;&#20010;&#20855;&#20307;&#23545;&#35805;&#30340;&#32423;&#21035;&#37324;Seam&#24212;&#29992;&#31243;&#24207;&#21487;&#20197;&#26159;&#65288;&#29978;&#33267;&#32463;&#24120;&#26159;&#65289;&#27169;&#24577;&#30340;&#12290;
			&#20247;&#25152;&#21608;&#30693;&#65292;&#24212;&#35813;&#23613;&#21487;&#33021;&#22320;&#36991;&#20813;&#27169;&#24577;&#34892;&#20026;&#65307;&#39044;&#30693;&#29992;&#25143;&#24819;&#35201;&#20570;&#20107;&#30340;&#39034;&#24207;&#26159;&#38750;&#24120;&#22256;&#38590;&#30340;&#65281;&#28982;&#32780;&#65292;&#27627;&#26080;&#30097;&#38382;&#65292;&#26377;&#29366;&#24577;&#27169;&#22411;&#20063;&#26159;&#38656;&#35201;&#30340;&#12290;
	    </p><p>
			&#36825;&#20004;&#31181;&#27169;&#22411;&#20043;&#38388;&#30340;&#26368;&#22823;&#19981;&#21516;&#26159;&#21518;&#36864;&#25353;&#38062;&#34892;&#20026;&#12290;
	    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5674"></a>7.1.2.&nbsp;Seam&#21644;&#21518;&#36864;&#25353;&#38062;</h3></div></div><div></div></div><p>
	        &#24403;&#20351;&#29992;JSF&#25110;Seam&#23548;&#33322;&#35268;&#21017;&#26102;&#65292;Seam&#20801;&#35768;&#29992;&#25143;&#36890;&#36807;&#21518;&#36864;&#12289;&#21069;&#36827;&#21644;&#21047;&#26032;&#25353;&#38062;&#33258;&#30001;&#22320;&#23548;&#33322;&#12290;&#24403;&#29992;&#25143;&#26377;&#20197;&#19978;&#25805;&#20316;&#26102;&#65292;&#24212;&#29992;&#31243;&#24207;&#30340;&#32844;&#36131;&#26159;&#30830;&#20445;&#21457;&#29983;&#23545;&#35805;&#29366;&#24577;&#30340;&#20869;&#37096;&#20445;&#25345;&#19968;&#33268;&#12290;
			&#35768;&#22810;&#24320;&#21457;&#32773;&#37117;&#23558;Web&#24212;&#29992;&#26694;&#26550;&#20363;&#22914;Struts&#25110;WebWork &#65293;&#65293; &#23427;&#20204;&#19981;&#25903;&#25345;&#23545;&#35805;&#27169;&#22411; &#65293;&#65293; &#21644;&#26080;&#29366;&#24577;&#32452;&#20214;&#27169;&#22411;&#20363;&#22914;EJB&#26080;&#29366;&#24577;Session Beans&#25110;Spring&#26694;&#26550;&#30456;&#32467;&#21512;&#36807;&#65292;&#36825;&#20351;&#24471;&#20182;&#20204;&#35748;&#20026;&#36825;&#20960;&#20046;&#26159;&#19981;&#21487;&#33021;&#30340;&#19968;&#20214;&#20107;&#12290;
			&#28982;&#32780;&#65292;&#23601;&#25105;&#20204;&#30340;&#32463;&#39564;&#65292;&#22312;Seam&#30340;&#19978;&#19979;&#25991;&#20013;&#65292;&#23384;&#22312;&#19968;&#20010;&#23450;&#20041;&#33391;&#22909;&#30340;&#23545;&#35805;&#27169;&#22411;&#65292;&#22522;&#20110;&#26377;&#29366;&#24577;&#30340;Session Bean&#65292;&#23454;&#29616;&#20250;&#35805;&#29366;&#24577;&#30340;&#20869;&#37096;&#19968;&#33268;&#23454;&#38469;&#19978;&#38750;&#24120;&#23481;&#26131;&#12290;
			&#36890;&#24120;&#65292;&#22312;Action&#30417;&#21548;&#26041;&#27861;&#30340;&#24320;&#22987;&#25226; <tt class="literal">no-conversation-view-id</tt> &#30340;&#20351;&#29992;&#21644;null&#26816;&#26597;&#32467;&#21512;&#36215;&#26469;&#26159;&#24456;&#31616;&#21333;&#30340;&#12290;
			&#25105;&#20204;&#35748;&#20026;&#25903;&#25345;&#33258;&#30001;&#23548;&#33322;&#23558;&#20960;&#20046;&#24635;&#26159;&#21487;&#34892;&#30340;&#12290;
	    </p><p>
			&#26082;&#28982;&#22914;&#27492;&#65292;<tt class="literal">pages.xml</tt> &#20013;&#23601;&#21253;&#21547;&#19968;&#20010; <tt class="literal">no-conversation-view-id</tt> &#22768;&#26126;&#12290;
			&#23427;&#21578;&#35785;Seam&#65292;&#22914;&#26524;&#22312;&#19968;&#20010;&#23545;&#35805;&#24403;&#20013;&#26377;&#19968;&#20010;&#39029;&#38754;&#28210;&#26579;&#30340;&#35831;&#27714;&#65292;&#32780;&#36825;&#20010;&#23545;&#35805;&#19981;&#20877;&#23384;&#22312;&#65292;&#23601;&#37325;&#23450;&#21521;&#21040;&#19968;&#20010;&#19981;&#21516;&#30340;&#39029;&#38754;&#12290;
	    </p><pre class="programlisting">&lt;page view-id="/checkout.xhtml" 
        no-conversation-view-id="/main.xhtml"/&gt;</pre><p>
	        &#21478;&#19968;&#26041;&#38754;&#65292;&#22312;&#26377;&#29366;&#24577;&#30340;&#27169;&#22411;&#20013;&#65292;&#21518;&#36864;&#25353;&#38062;&#34987;&#35748;&#20026;&#26159;&#19968;&#20010;&#36820;&#22238;&#21069;&#19968;&#29366;&#24577;&#30340;&#26410;&#23450;&#20041;&#36339;&#36716;&#12290;
			&#22240;&#20026;&#26377;&#29366;&#24577;&#27169;&#22411;&#24378;&#36843;&#24403;&#21069;&#29366;&#24577;&#24517;&#39035;&#26377;&#19968;&#32452;&#26126;&#30830;&#23450;&#20041;&#30340;&#36339;&#36716;&#65292;&#25152;&#20197;&#21518;&#36864;&#25353;&#38062;&#22312;&#26377;&#29366;&#24577;&#27169;&#22411;&#20013;&#26159;&#34987;&#40664;&#35748;&#31105;&#27490;&#30340;&#65281;
            Seam&#26126;&#30830;&#22320;&#30417;&#27979;&#21040;&#21518;&#36864;&#25353;&#38062;&#30340;&#20351;&#29992;&#65292;&#24182;&#19988;&#38459;&#27490;&#25191;&#34892;&#21069;&#19968;&#20010;Action&#21644;&#35775;&#38382;&#36807;&#26399;&#30340;&#39029;&#38754;&#65292;&#32780;&#21518;&#31616;&#21333;&#22320;&#23558;&#29992;&#25143;&#37325;&#23450;&#21521;&#22238;&#24403;&#21069;&#39029;&#38754;&#65288;&#24182;&#19988;&#26174;&#31034;&#19968;&#20010;&#28040;&#24687;&#65289;&#12290;
			&#36825;&#21040;&#24213;&#26159;&#26377;&#29366;&#24577;&#27169;&#22411;&#30340;&#19968;&#20010;&#29305;&#24615;&#36824;&#26159;&#19968;&#20010;&#38480;&#21046;&#65292;&#21017;&#21462;&#20915;&#20110;&#20320;&#22312;&#20854;&#20013;&#30340;&#35282;&#33394;&#65306;&#20316;&#20026;&#19968;&#20010;&#24320;&#21457;&#32773;&#65292;&#36825;&#26159;&#19968;&#20010;&#29305;&#24615;&#65307;
			&#20316;&#20026;&#29992;&#25143;&#65292;&#36825;&#21487;&#33021;&#26159;&#19968;&#20010;&#38480;&#21046;&#65281;&#21487;&#20197;&#20026;&#19968;&#20123;&#29305;&#27530;&#30340;Page&#33410;&#28857;&#35774;&#32622; <tt class="literal">back="enabled"</tt> &#23646;&#24615;&#65292;&#20174;&#32780;&#20801;&#35768;&#21518;&#36864;&#25353;&#38062;&#23548;&#33322;&#12290;
	    </p><pre class="programlisting">&lt;page name="checkout" 
        view-id="/checkout.xhtml" 
        back="enabled"&gt;
    &lt;redirect/&gt;
    &lt;transition to="checkout"/&gt;
    &lt;transition name="complete" to="complete"/&gt;
&lt;/page&gt;</pre><p>
            &#36825;&#20010;&#37197;&#32622;&#20801;&#35768;&#20351;&#29992;&#21518;&#36864;&#25353;&#38062; <span class="emphasis"><em>&#20174;</em></span> <tt class="literal">checkout</tt> &#29366;&#24577;&#36716;&#21040; <span class="emphasis"><em>&#20219;&#24847;&#21069;&#19968;&#20010;&#29366;&#24577;</em></span>&#65281;
        </p><p>
            &#24403;&#28982;&#65292;&#22914;&#26524;&#22312;&#19968;&#20010;&#39029;&#38754;&#27969;&#20013;&#26377;&#19968;&#20010;&#39029;&#38754;&#28210;&#26579;&#30340;&#35831;&#27714;&#65292;&#24182;&#19988;&#36825;&#20010;&#39029;&#38754;&#27969;&#30340;&#23545;&#35805;&#19981;&#20877;&#23384;&#22312;&#65292;&#25105;&#20204;&#20381;&#28982;&#38656;&#35201;&#20915;&#23450;&#22914;&#20309;&#22788;&#29702;&#36825;&#31181;&#24773;&#20917;&#12290;
			&#26082;&#28982;&#36825;&#26679;&#65292;&#38656;&#35201;&#22312;&#39029;&#38754;&#27969;&#23450;&#20041;&#20013;&#21253;&#25324;&#19968;&#20010; <tt class="literal">no-conversation-view-id</tt> &#22768;&#26126;&#65306;
        </p><pre class="programlisting">&lt;page name="checkout" 
        view-id="/checkout.xhtml" 
        back="enabled" 
        no-conversation-view-id="/main.xhtml"&gt;
    &lt;redirect/&gt;
    &lt;transition to="checkout"/&gt;
    &lt;transition name="complete" to="complete"/&gt;
&lt;/page&gt;</pre><p>
			&#22312;&#23454;&#36341;&#20013;&#65292;&#36825;&#20004;&#31181;&#23548;&#33322;&#27169;&#22411;&#37117;&#26377;&#23427;&#20204;&#33258;&#24049;&#30340;&#29992;&#22788;&#65292;&#20320;&#23558;&#24456;&#24555;&#23398;&#20250;&#22914;&#20309;&#22312;&#36825;&#20004;&#31181;&#27169;&#22411;&#20043;&#38388;&#20570;&#20986;&#36873;&#25321;&#12290;
	        </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5719"></a>7.2.&nbsp;&#20351;&#29992;jPDL&#39029;&#38754;&#27969;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5722"></a>7.2.1.&nbsp;&#23433;&#35013;&#39029;&#38754;&#27969;</h3></div></div><div></div></div><p>
            &#25105;&#20204;&#38656;&#35201;&#23433;&#35013;Seam jBPM&#30456;&#20851;&#30340;&#32452;&#20214;&#65292;&#24182;&#19988;&#21578;&#35785;&#23427;&#20204;&#22312;&#21738;&#37324;&#25214;&#21040;&#39029;&#38754;&#27969;&#23450;&#20041;&#12290;&#25105;&#20204;&#21487;&#20197;&#22312; <tt class="literal">components.xml</tt> &#37197;&#32622;&#25991;&#20214;&#20013;&#25351;&#23450;&#36825;&#20010;&#37197;&#32622;&#12290;
        </p><pre class="programlisting">&lt;bpm:jbpm&gt;
    &lt;bpm:pageflow-definitions&gt;
        &lt;value&gt;pageflow.jpdl.xml&lt;/value&gt;
    &lt;/bpm:pageflow-definitions&gt;
&lt;/bpm:jbpm&gt;</pre><p>
			&#31532;&#19968;&#34892;&#23433;&#35013;jBPM&#65292;&#31532;&#20108;&#34892;&#25351;&#21521;&#19968;&#20010;&#22522;&#20110;jPDL&#30340;&#39029;&#38754;&#27969;&#23450;&#20041;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5734"></a>7.2.2.&nbsp;&#24320;&#22987;&#39029;&#38754;&#27969;</h3></div></div><div></div></div><p>
			&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#22312; <tt class="literal">@Begin</tt>&#12289;<tt class="literal">@BeginTask</tt> &#25110; <tt class="literal">@StartTask</tt>&#12288;&#30340;&#27880;&#35299;&#20013;&#25351;&#23450;&#27969;&#31243;&#23450;&#20041;&#30340;&#21517;&#23383;&#26469;&#8220;&#21551;&#21160;&#8221;&#19968;&#20010;&#22522;&#20110;jPDL&#30340;&#39029;&#38754;&#27969;&#12290;
        </p><pre class="programlisting">@Begin(pageflow="numberguess")
public void begin() { ... }</pre><p>
			&#20316;&#20026;&#36873;&#25321;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#20351;&#29992;pages.xml&#26469;&#21551;&#21160;&#19968;&#20010;&#39029;&#38754;&#27969;:
		</p><pre class="programlisting">&lt;page&gt;
        &lt;begin-conversation pageflow="numberguess"/&gt;
    &lt;/page&gt;</pre><p>
			&#22312;&#19978;&#38754;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#22914;&#26524;&#25105;&#20204;&#22312;&#28210;&#26579;&#38454;&#27573; <tt class="literal">RENDER_RESPONSE</tt> &#38454;&#27573;&#8212;
			&#20363;&#22914;&#65292;&#22312;&#19968;&#20010; <tt class="literal">@Factory</tt> &#25110; <tt class="literal">@Create</tt> &#26041;&#27861;&#20013; -- &#21551;&#21160;&#19968;&#20010;&#39029;&#38754;&#27969;&#65292;&#37027;&#23601;&#24847;&#21619;&#30528;&#25105;&#20204;&#24050;&#32463;&#22788;&#22312;&#24050;&#20135;&#29983;&#30340;&#39029;&#38754;&#20013;&#65292;&#23601;&#35201;&#20351;&#29992;&#39029;&#38754;&#27969;&#20013;&#30340; <tt class="literal">&lt;start-page&gt;</tt> &#33410;&#28857;&#20316;&#20026;&#39029;&#38754;&#27969;&#30340;&#31532;&#19968;&#20010;&#33410;&#28857;&#65292;&#22914;&#19978;&#20363;&#31034;&#25152;&#31034;&#12290;
        </p><p>
            &#20294;&#26159;&#22914;&#26524;&#36825;&#20010;&#39029;&#38754;&#27969;&#20316;&#20026;&#19968;&#20010;Action&#30417;&#21548;&#22120;&#30340;&#25191;&#34892;&#32467;&#26524;&#32780;&#21551;&#21160;&#30340;&#35805;&#65292;&#36825;&#20010;action&#30417;&#21548;&#22120;&#30340;&#32467;&#26524;&#21017;&#23558;&#20915;&#23450;&#21738;&#20010;&#39029;&#38754;&#20316;&#20026;&#31532;&#19968;&#20010;&#34987;&#28210;&#26579;&#30340;&#39029;&#38754;&#12290;
			&#26082;&#28982;&#36825;&#26679;&#65292;&#25105;&#20204;&#22312;&#39029;&#38754;&#27969;&#20013;&#20351;&#29992;&#19968;&#20010; <tt class="literal">&lt;start-state&gt;</tt> &#20316;&#20026;&#31532;&#19968;&#20010;&#33410;&#28857;&#65292;&#24182;&#19988;&#20026;&#27599;&#19968;&#20010;&#21487;&#33021;&#30340;&#32467;&#26524;&#22768;&#26126;&#19968;&#20010;&#36339;&#36716;&#12290;
        </p><pre class="programlisting">&lt;pageflow-definition name="viewEditDocument"&gt;

    &lt;start-state name="start"&gt;
        &lt;transition name="documentFound" to="displayDocument"/&gt;
        &lt;transition name="documentNotFound" to="notFound"/&gt;
    &lt;/start-state&gt;
    
    &lt;page name="displayDocument" view-id="/document.jsp"&gt;
        &lt;transition name="edit" to="editDocument"/&gt;
        &lt;transition name="done" to="main"/&gt;
    &lt;/page&gt;
    
    ...
    
    &lt;page name="notFound" view-id="/404.jsp"&gt;
        &lt;end-conversation/&gt;
    &lt;/page&gt;
    
&lt;/pageflow-definition&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5775"></a>7.2.3.&nbsp;&#39029;&#38754;&#33410;&#28857;&#21644;&#36339;&#36716;</h3></div></div><div></div></div><p>
            &#27599;&#19968;&#20010; <tt class="literal">&lt;page&gt;</tt> &#33410;&#28857;&#25551;&#32472;&#19968;&#31181;&#29366;&#24577;&#65292;&#22312;&#35813;&#29366;&#24577;&#19979;&#31995;&#32479;&#31561;&#24453;&#29992;&#25143;&#30340;&#36755;&#20837;&#65306;
        </p><pre class="programlisting">&lt;page name="displayGuess" view-id="/numberGuess.jsp"&gt;
    &lt;redirect/&gt;
    &lt;transition name="guess" to="evaluateGuess"&gt;
        &lt;action expression="#{numberGuess.guess}" /&gt;
    &lt;/transition&gt;
&lt;/page&gt;</pre><p>
            &#20854;&#20013;&#30340; <tt class="literal">view-id</tt> &#26159;&#19968;&#20010;JSF &#35270;&#22270;id&#12290;
			<tt class="literal">&lt;redirect/&gt;</tt> &#20803;&#32032;&#36319;JSF&#23548;&#33322;&#35268;&#21017;&#20013;&#30340; <tt class="literal">&lt;redirect/&gt;</tt> &#26377;&#30456;&#21516;&#30340;&#20316;&#29992;&#65306;
			&#21363;&#65292;&#19968;&#20010;post-then-redirect&#65288;&#25552;&#20132;&#21518;&#36339;&#36716;&#65289;&#34892;&#20026;&#65292;&#36825;&#26679;&#20570;&#26159;&#20026;&#20102;&#38450;&#27490;&#29992;&#25143;&#28857;&#20987;&#20102;&#27983;&#35272;&#22120;&#30340;&#21047;&#26032;&#25353;&#38062;&#36827;&#34892;&#37325;&#22797;&#21047;&#26032;&#12290;
			&#65288;&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;Seam&#20250;&#22312;&#36825;&#20123;&#27983;&#35272;&#22120;&#37325;&#23450;&#21521;&#20013;&#20445;&#23384;&#23545;&#35805;&#30340;&#19978;&#19979;&#25991;&#65292;&#25152;&#20197;&#22312;Seam&#20013;&#19981;&#38656;&#35201;&#31867;&#20284;ROR&#65288;Ruby On Rails&#65289;&#39118;&#26684;&#30340;&#8221;flash&#8221;&#26500;&#36896;&#65281;&#65289;
        </p><p>
            &#36339;&#36716;&#30340;&#21517;&#23383;&#26159;&#19968;&#20010;JSF&#36755;&#20986;&#30340;&#21517;&#23383;&#65292;&#22312; <tt class="literal">numberGuess.jsp</tt> &#20013;&#36890;&#36807;&#28857;&#20987;&#19968;&#20010;Command&#25353;&#38062;&#25110;&#26159;Command&#38142;&#25509;&#35302;&#21457;&#36825;&#20010;&#36339;&#36716;&#12290;
        </p><pre class="programlisting">&lt;h:commandButton type="submit" value="Guess" action="guess"/&gt;</pre><p>
            &#24403;&#28857;&#20987;&#36825;&#20010;&#25353;&#38062;&#35302;&#21457;&#36825;&#20010;&#36339;&#36716;&#20043;&#21518;&#65292;jBPM&#23558;&#20250;&#36890;&#36807;&#35843;&#29992; <tt class="literal">numberGuess</tt> &#32452;&#20214;&#30340; <tt class="literal">guess()</tt> &#26041;&#27861;&#28608;&#27963;&#36339;&#36716;Action&#12290;
			&#27880;&#24847;&#21040;jPDL&#20013;&#29992;&#20110;&#25351;&#23450;Action&#30340;&#35821;&#27861;&#31867;&#20284;&#20110;JSF&#30340;EL&#34920;&#36798;&#24335;&#65292;&#24182;&#19988;&#36825;&#20010;&#36339;&#36716;&#30340;Action Handler&#19981;&#36807;&#26159;Seam&#24403;&#21069;&#19978;&#19979;&#25991;&#20013;&#30340;&#19968;&#20010;&#32452;&#20214;&#37324;&#30340;&#19968;&#20010;&#26041;&#27861;&#12290;
			&#21516;JSF&#20107;&#20214;&#19968;&#26679;&#65292;&#25105;&#20204;&#21487;&#20197;&#22312;jBPM&#20013;&#25317;&#26377;&#23436;&#20840;&#30456;&#21516;&#30340;&#20107;&#20214;&#27169;&#22411;&#65281;&#65288;<span class="emphasis"><em>&#21516;&#19968;&#31867;&#22411;</em></span>&#20934;&#21017;&#65289;
        </p><p>
            &#22312;&#27809;&#26377;&#25351;&#23450;&#36755;&#20986;&#30340;&#24773;&#20917;&#19979;&#65288;&#20363;&#22914;&#65292;&#19968;&#20010;Command&#25353;&#38062;&#27809;&#26377;&#23450;&#20041; <tt class="literal">action</tt> &#23646;&#24615;&#65289;&#65292;
			&#22914;&#26524;&#23384;&#22312;&#27809;&#26377;&#25351;&#23450;name&#30340;&#36339;&#36716;&#65292;Seam&#23558;&#28608;&#27963;&#35813;&#36339;&#36716;&#65292;&#25110;&#32773;&#22914;&#26524;&#25152;&#26377;&#30340;&#36339;&#36716;&#37117;&#26377;name&#30340;&#35805;&#65292;Seam&#31616;&#21333;&#22320;&#37325;&#26032;&#26174;&#31034;&#35813;&#39029;&#12290;
			&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#31245;&#24494;&#22320;&#31616;&#21270;&#31034;&#20363;&#39029;&#38754;&#27969;&#21644;&#36825;&#20010;&#25353;&#38062;&#65306;
        </p><pre class="programlisting">&lt;h:commandButton type="submit" value="Guess"/&gt;</pre><p>
			&#23558;&#28608;&#27963;&#19968;&#20010;&#26410;&#21629;&#21517;&#30340;&#36339;&#36716;&#65306;
        </p><pre class="programlisting">&lt;page name="displayGuess" view-id="/numberGuess.jsp"&gt;
    &lt;redirect/&gt;
    &lt;transition to="evaluateGuess"&gt;
        &lt;action expression="#{numberGuess.guess}" /&gt;
    &lt;/transition&gt;
&lt;/page&gt;</pre><p>
			&#29978;&#33267;&#21487;&#20197;&#36890;&#36807;&#28857;&#20987;&#19968;&#20010;&#25353;&#38062;&#26469;&#25191;&#34892;&#19968;&#20010;Action&#26041;&#27861;&#65292;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;Action&#25191;&#34892;&#30340;&#32467;&#26524;&#23558;&#20915;&#23450;&#37319;&#29992;&#21738;&#20010;&#36339;&#36716;&#65306;
        </p><pre class="programlisting">&lt;h:commandButton type="submit" value="Guess" action="#{numberGuess.guess}"/&gt;</pre><pre class="programlisting">&lt;page name="displayGuess" view-id="/numberGuess.jsp"&gt;
    &lt;transition name="correctGuess" to="win"/&gt;
    &lt;transition name="incorrectGuess" to="evaluateGuess"/&gt;
&lt;/page&gt;</pre><p>
			&#28982;&#32780;&#65292;&#36825;&#26159;&#19968;&#31181;&#19981;&#21487;&#21462;&#30340;&#26041;&#24335;&#65292;&#22240;&#20026;&#23427;&#25226;&#27969;&#31243;&#25511;&#21046;&#30340;&#32844;&#36131;&#20174;&#39029;&#38754;&#27969;&#23450;&#20041;&#36716;&#21040;&#20102;&#20854;&#20182;&#32452;&#20214;&#12290;&#26368;&#22909;&#36824;&#26159;&#25226;&#36825;&#20123;&#30456;&#20851;&#30340;&#32844;&#36131;&#38598;&#20013;&#21040;&#39029;&#38754;&#27969;&#26412;&#36523;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5833"></a>7.2.4.&nbsp;&#27969;&#31243;&#25511;&#21046;</h3></div></div><div></div></div><p>
            &#36890;&#24120;&#65292;&#25105;&#20204;&#23450;&#20041;&#39029;&#38754;&#27969;&#30340;&#26102;&#20505;&#19981;&#38656;&#35201;&#26356;&#22810;&#24378;&#22823;&#30340;jPDL&#29305;&#24615;&#65292;&#28982;&#32780;&#25105;&#20204;&#36824;&#26159;&#38656;&#35201; <tt class="literal">&lt;decision&gt;</tt> &#33410;&#28857;&#12290;
        </p><pre class="programlisting">&lt;decision name="evaluateGuess" expression="#{numberGuess.correctGuess}"&gt;
    &lt;transition name="true" to="win"/&gt;
    &lt;transition name="false" to="evaluateRemainingGuesses"/&gt;
&lt;/decision&gt;</pre><p>
            &#36890;&#36807;&#22312;Seam&#19978;&#19979;&#25991;&#20013;&#25191;&#34892;&#19968;&#20010;JSF EL&#34920;&#36798;&#24335;&#26469;&#20915;&#23450;&#22914;&#20309;&#36339;&#36716;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5845"></a>7.2.5.&nbsp;&#27969;&#31243;&#30340;&#32467;&#26463;</h3></div></div><div></div></div><p>
            &#20351;&#29992; <tt class="literal">&lt;end-conversation&gt;</tt> &#25110;&#26159; <tt class="literal">@End</tt> &#32467;&#26463;&#23545;&#35805;&#12290;
			&#65288;&#23454;&#38469;&#19978;&#65292;&#20026;&#20102;&#31243;&#24207;&#30340;&#26131;&#35835;&#24615;&#65292;&#40723;&#21169; <span class="emphasis"><em>&#20004;&#32773;&#20849;&#21516;</em></span> &#20351;&#29992;&#12290;&#65289;
        </p><pre class="programlisting">&lt;page name="win" view-id="/win.jsp"&gt;
    &lt;redirect/&gt;
    &lt;end-conversation/&gt;
&lt;/page&gt;</pre><p>
            &#21487;&#36873;&#25321;&#30340;&#65292;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;jBPM&#30340; <tt class="literal">&#29366;&#24577;&#36716;&#31227;&#65288;transition&#65289;</tt> &#21517;&#23383;&#32467;&#26463;&#19968;&#20010;&#20219;&#21153;&#12290;
			&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;Seam&#23558;&#32473;&#20027;&#25511;&#30340;&#19994;&#21153;&#27969;&#31243;&#21457;&#36865;&#19968;&#20010;&#32467;&#26463;&#24403;&#21069;&#20219;&#21153;&#30340;&#20449;&#21495;&#12290;
        </p><pre class="programlisting">&lt;page name="win" view-id="/win.jsp"&gt;
    &lt;redirect/&gt;
    &lt;end-task transition="success"/&gt;
&lt;/page&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5868"></a>7.2.6.&nbsp;&#39029;&#38754;&#27969;&#32452;&#21512;</h3></div></div><div></div></div><p>
				&#22810;&#20010;&#39029;&#38754;&#27969;&#21487;&#20197;&#36827;&#34892;&#32452;&#21512;&#65292;&#24182;&#24403;&#21478;&#19968;&#20010;&#39029;&#38754;&#27969;&#25191;&#34892;&#26102;&#26242;&#20572;&#19968;&#20010;&#39029;&#38754;&#27969;&#12290;
				&#36825;&#20010; <tt class="literal">&lt;process-state&gt;</tt> &#33410;&#28857;&#30340;&#20316;&#29992;&#23601;&#26159;&#26242;&#20572;&#22806;&#37096;&#30340;&#39029;&#38754;&#27969;&#65292;&#21516;&#26102;&#24320;&#22987;&#25191;&#34892;&#19968;&#20010;&#21629;&#21517;&#30340;&#39029;&#38754;&#27969;&#12290;
            </p><pre class="programlisting">&lt;process-state name="cheat"&gt;
    &lt;sub-process name="cheat"/&gt;
    &lt;transition to="displayGuess"/&gt;
&lt;/process-state&gt;</pre><p>
                &#36825;&#20010;&#20869;&#37096;&#39029;&#38754;&#27969;&#20174; <tt class="literal">&lt;start-state&gt;</tt> &#33410;&#28857;&#24320;&#22987;&#25191;&#34892;&#12290;
				&#24403;&#25191;&#34892;&#21040; <tt class="literal">&lt;end-state&gt;</tt> &#33410;&#28857;&#26102;&#65292;&#20869;&#37096;&#39029;&#38754;&#27969;&#25191;&#34892;&#23436;&#27605;&#65292;&#21516;&#26102;&#22806;&#37096;&#30340;&#39029;&#38754;&#27969;&#20250;&#20197; <tt class="literal">&lt;process-state&gt;</tt> &#23450;&#20041;&#30340;&#36339;&#36716;&#24674;&#22797;&#25191;&#34892;&#12290;
            </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5889"></a>7.3.&nbsp;Seam&#20013;&#30340;&#19994;&#21153;&#27969;&#31243;&#31649;&#29702;</h2></div></div><div></div></div><p>
            &#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#30001;&#19968;&#31995;&#21015;&#23450;&#20041;&#33391;&#22909;&#30340;&#20219;&#21153;&#32452;&#25104;&#65292;&#36825;&#20123;&#20219;&#21153;&#24517;&#39035;&#30001;&#29992;&#25143;&#25110;&#26159;&#36719;&#20214;&#31995;&#32479;&#36981;&#29031;&#19968;&#31995;&#21015;&#23450;&#20041;&#33391;&#22909;&#30340;&#35268;&#21017;&#26469;&#23436;&#25104;&#65292;&#36825;&#20123;&#35268;&#21017;&#35268;&#23450;&#20102; <span class="emphasis"><em>&#35841;</em></span> &#21487;&#20197;&#25191;&#34892;&#20219;&#21153;&#65292;<span class="emphasis"><em>&#20160;&#20040;&#26102;&#20505;</em></span> &#24212;&#35813;&#25191;&#34892;&#12290;
			Seam&#23545;jBPM&#30340;&#25972;&#21512;&#20351;&#24471;&#32473;&#29992;&#25143;&#26174;&#31034;&#20219;&#21153;&#21015;&#34920;&#20197;&#21450;&#20351;&#29992;&#25143;&#31649;&#29702;&#20182;&#20204;&#30340;&#20219;&#21153;&#21464;&#24471;&#31616;&#21333;&#12290;
			Seam&#36824;&#20351;&#24212;&#29992;&#31243;&#24207;&#22312; <tt class="literal">BUSINESS_PROCESS</tt> &#30340;&#19978;&#19979;&#25991;&#20013;&#23384;&#20648;&#19982;&#19994;&#21153;&#27969;&#31243;&#30456;&#20851;&#30340;&#29366;&#24577;&#65292;&#36890;&#36807;jBPM&#21464;&#37327;&#26469;&#25345;&#20037;&#21270;&#36825;&#20010;&#29366;&#24577;&#12290;
        </p><p>
            &#19968;&#20010;&#31616;&#21333;&#30340;&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;&#30475;&#36215;&#26469;&#36319;&#39029;&#38754;&#27969;&#23450;&#20041;&#38750;&#24120;&#30456;&#20284;&#65288;<span class="emphasis"><em>&#26159;&#21516;&#19968;&#31181;&#31867;&#22411;&#30340;&#19996;&#35199;</em></span>&#65289;&#65292;&#19981;&#21516;&#30340;&#26159;&#29992; <tt class="literal">&lt;task-node&gt;</tt> &#33410;&#28857;&#26367;&#25442;&#20102; <tt class="literal">&lt;page&gt;</tt> &#33410;&#28857;&#12290;&#22312;&#19968;&#20010;&#38271;&#36816;&#34892;&#26399;&#30340;&#19994;&#21153;&#27969;&#31243;&#20013;&#65292;&#31561;&#24453;&#29366;&#24577;&#34920;&#31034;&#31995;&#32479;&#27491;&#22312;&#31561;&#24453;&#29992;&#25143;&#30331;&#24405;&#24182;&#25191;&#34892;&#20219;&#21153;&#12290;
        </p><pre class="programlisting">&lt;process-definition name="todo"&gt;
   
   &lt;start-state name="start"&gt;
      &lt;transition to="todo"/&gt;
   &lt;/start-state&gt;
   
   &lt;task-node name="todo"&gt;
      &lt;task name="todo" description="#{todoList.description}"&gt;
         &lt;assignment actor-id="#{actor.id}"/&gt;
      &lt;/task&gt;
      &lt;transition to="done"/&gt;
   &lt;/task-node&gt;
   
   &lt;end-state name="done"/&gt;
   
&lt;/process-definition&gt;</pre><div class="mediaobject" align="center"><img src="images/plugin-jbpm-todo.png" align="middle"></div><p>
            &#25105;&#20204;&#24456;&#26377;&#21487;&#33021;&#22312;&#19968;&#20010;&#39033;&#30446;&#20013;&#21516;&#26102;&#20351;&#29992;jPDL&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;&#21644;jPDL&#39029;&#38754;&#27969;&#31243;&#23450;&#20041;&#12290;
			&#22914;&#26524;&#36825;&#26679;&#65292;&#20182;&#20204;&#20108;&#32773;&#30340;&#20851;&#31995;&#26159;&#65306;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#20013;&#30340; <tt class="literal">&lt;task&gt;</tt> &#23545;&#24212;&#19968;&#20010;&#23436;&#25972;&#30340;&#39029;&#38754;&#27969; <tt class="literal">&lt;pageflow-definition&gt;</tt>&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5929"></a>7.4.&nbsp;&#20351;&#29992;jPDL&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5932"></a>7.4.1.&nbsp;&#23433;&#35013;&#27969;&#31243;&#23450;&#20041;</h3></div></div><div></div></div><p>
            &#25105;&#20204;&#38656;&#35201;&#23433;&#35013;jBPM&#65292;&#24182;&#19988;&#21578;&#35785;&#23427;&#21040;&#21738;&#37324;&#21487;&#20197;&#25214;&#21040;&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;&#25991;&#20214;&#65306;
        </p><pre class="programlisting">&lt;bpm:jbpm&gt;
    &lt;bpm:process-definitions&gt;
        &lt;value&gt;todo.jpdl.xml&lt;/value&gt;
    &lt;/bpm:process-definitions&gt;
&lt;/bpm:jbpm&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5939"></a>7.4.2.&nbsp;&#21021;&#22987;&#21270;Actor id</h3></div></div><div></div></div><p>
            &#25105;&#20204;&#24635;&#26159;&#38656;&#35201;&#30693;&#36947;&#24403;&#21069;&#30340;&#30331;&#24405;&#29992;&#25143;&#12290;jBPM&#20351;&#29992; <span class="emphasis"><em>actor id</em></span> &#21644; <span class="emphasis"><em>group actor id</em></span> &#8220;&#35782;&#21035;&#8221;&#29992;&#25143;&#12290;
			&#25105;&#20204;&#20351;&#29992;Seam&#20869;&#32622;&#30340; <tt class="literal">actor</tt> &#32452;&#20214;&#25351;&#23450;&#24403;&#21069;&#29992;&#25143;&#30340;id&#12290;
        </p><pre class="programlisting">@In Actor actor;

public String login() {
    ...
    actor.setId( user.getUserName() );
    actor.getGroupActorIds().addAll( user.getGroupNames() );
    ...
}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5955"></a>7.4.3.&nbsp;&#21551;&#21160;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;</h3></div></div><div></div></div><p>
			&#20351;&#29992; <tt class="literal">@CreateProcess</tt> &#27880;&#35299;&#26469;&#21551;&#21160;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#23454;&#20363;&#12290;
        </p><pre class="programlisting">@CreateProcess(definition="todo")
public void createTodo() { ... }</pre><p>
			&#20063;&#21487;&#29992;&#20351;&#29992;pages.xml&#26469;&#21551;&#21160;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#12290;
		</p><pre class="programlisting">&lt;page&gt;
    &lt;create-process definition="todo" /&gt;
&lt;/page&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5969"></a>7.4.4.&nbsp;&#20219;&#21153;&#20998;&#37197;</h3></div></div><div></div></div><p>
            &#24403;&#19968;&#20010;&#27969;&#31243;&#25191;&#34892;&#21040;&#19968;&#20010;&#20219;&#21153;&#33410;&#28857;&#26102;&#65292;&#20250;&#21019;&#24314;&#20219;&#21153;&#23454;&#20363;&#12290;&#36825;&#20123;&#20219;&#21153;&#23454;&#20363;&#24517;&#39035;&#20998;&#37197;&#32473;&#29992;&#25143;&#25110;&#26159;&#29992;&#25143;&#32452;&#12290;&#25105;&#20204;&#21487;&#20197;&#25163;&#21160;&#32534;&#30721;&#25351;&#23450;actor id&#25110;&#26159;&#22996;&#25176;&#32473;&#19968;&#20010;Seam&#32452;&#20214;&#12290;
        </p><pre class="programlisting">&lt;task name="todo" description="#{todoList.description}"&gt;
    &lt;assignment actor-id="#{actor.id}"/&gt;
&lt;/task&gt;</pre><p>
            &#22312;&#36825;&#37324;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#31616;&#21333;&#30340;&#23558;&#20219;&#21153;&#20998;&#37197;&#32473;&#24403;&#21069;&#29992;&#25143;&#12290;&#20063;&#21487;&#20197;&#23558;&#20219;&#21153;&#20998;&#37197;&#32473;&#19968;&#25209;&#29992;&#25143;&#65288;pool actor&#65289;&#65306;
        </p><pre class="programlisting">&lt;task name="todo" description="#{todoList.description}"&gt;
    &lt;assignment pooled-actors="employees"/&gt;
&lt;/task&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5980"></a>7.4.5.&nbsp;&#20219;&#21153;&#21015;&#34920;</h3></div></div><div></div></div><p>
            &#20960;&#20010;&#20869;&#32622;&#30340;Seam&#32452;&#20214;&#20351;&#24471;&#26174;&#31034;&#20219;&#21153;&#21015;&#34920;&#21464;&#24471;&#31616;&#21333;&#12290;<tt class="literal">pooledTaskInstanceList</tt> &#26159;&#19968;&#20010;&#27719;&#38598;&#20219;&#21153;&#38598;&#21512;&#65292;&#29992;&#25143;&#21487;&#20197;&#25226;&#36825;&#20123;&#20219;&#21153;&#20998;&#37197;&#32473;&#20182;&#20204;&#33258;&#24049;&#12290;
        </p><pre class="programlisting">&lt;h:dataTable value="#{pooledTaskInstanceList}" var="task"&gt;
    &lt;h:column&gt;
        &lt;f:facet name="header"&gt;Description&lt;/f:facet&gt;
        &lt;h:outputText value="#{task.description}"/&gt;
    &lt;/h:column&gt;
    &lt;h:column&gt;
        &lt;s:link action="#{pooledTask.assignToCurrentActor}" value="Assign" taskInstance="#{task}"/&gt;
    &lt;/h:column&gt;            	
&lt;/h:dataTable&gt;</pre><p>
            &#35831;&#27880;&#24847;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;&#26222;&#36890;&#30340;JSF&#26631;&#31614; <tt class="literal">&lt;h:commandLink&gt;</tt> &#26469;&#26367;&#20195; <tt class="literal">&lt;s:link&gt;</tt> &#26631;&#31614;&#65306;
        </p><pre class="programlisting">&lt;h:commandLink action="#{pooledTask.assignToCurrentActor}"&gt; 
    &lt;f:param name="taskId" value="#{task.id}"/&gt;
&lt;/h:commandLink&gt;</pre><p>
            <tt class="literal">pooledTask</tt> &#32452;&#20214;&#26159;&#19968;&#20010;&#20869;&#32622;&#32452;&#20214;&#65292;&#23427;&#31616;&#21333;&#25226;&#20219;&#21153;&#20998;&#37197;&#32473;&#24403;&#21069;&#29992;&#25143;&#12290;
        </p><p>
            <tt class="literal">taskInstanceListForType</tt>&#32452;&#20214;&#21253;&#21547;&#19968;&#31181;&#29305;&#27530;&#31867;&#22411;&#30340;&#20219;&#21153;&#65292;&#36825;&#20123;&#20219;&#21153;&#20998;&#37197;&#32473;&#24403;&#21069;&#29992;&#25143;&#65306;
        </p><pre class="programlisting">&lt;h:dataTable value="#{taskInstanceListForType['todo']}" var="task"&gt;
    &lt;h:column&gt;
        &lt;f:facet name="header"&gt;Description&lt;/f:facet&gt;
        &lt;h:outputText value="#{task.description}"/&gt;
    &lt;/h:column&gt;
    &lt;h:column&gt;
        &lt;s:link action="#{todoList.start}" value="Start Work" taskInstance="#{task}"/&gt;
    &lt;/h:column&gt;            	
&lt;/h:dataTable&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6012"></a>7.4.6.&nbsp;&#25191;&#34892;&#19968;&#20010;&#20219;&#21153;</h3></div></div><div></div></div><p>
            &#25105;&#20204;&#22312;&#30417;&#21548;&#26041;&#27861;&#19978;&#20351;&#29992; <tt class="literal">@StartTask</tt> &#25110;&#32773; <tt class="literal">@BeginTask</tt> &#27880;&#35299;&#26469;&#25191;&#34892;&#19968;&#20010;&#20219;&#21153;&#12290;
        </p><pre class="programlisting">@StartTask
public String start() { ... }</pre><p>
			&#25105;&#20204;&#20063;&#21487;&#20197;&#20351;&#29992;pages.xml&#26469;&#25191;&#34892;&#19968;&#20010;&#20219;&#21153;&#12290;
		</p><pre class="programlisting">&lt;page&gt;
    &lt;start-task /&gt;
&lt;/page&gt;</pre><p>    
            &#36825;&#20123;&#27880;&#35299;&#21551;&#21160;&#19968;&#31181;&#29305;&#27530;&#31867;&#22411;&#30340;&#23545;&#35805;&#65292;&#36825;&#20010;&#23545;&#35805;&#22312;&#25972;&#20010;&#19994;&#21153;&#27969;&#31243;&#20013;&#20855;&#26377;&#24847;&#20041;&#12290;&#36890;&#36807;&#35813;&#23545;&#35805;&#21487;&#20197;&#35775;&#38382;&#20445;&#23384;&#22312;&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;&#20013;&#30340;&#29366;&#24577;&#12290;
        </p><p>
            &#22914;&#26524;&#25105;&#20204;&#20351;&#29992; <tt class="literal">@EndTask</tt> &#27880;&#35299;&#26469;&#32467;&#26463;&#35813;&#23545;&#35805;&#65292;Seam&#20250;&#21457;&#20986;&#20449;&#21495;&#23436;&#25104;&#35813;&#20219;&#21153;&#12290;
        </p><pre class="programlisting">@EndTask(transition="completed")
public String completed() { ... }</pre><p>
			&#20316;&#20026;&#36873;&#25321;&#65292;&#25105;&#20204;&#36824;&#21487;&#20197;&#20351;&#29992;pages.xml
		</p><pre class="programlisting">&lt;page&gt;
    &lt;end-task transition="completed" /&gt;
&lt;/page&gt;</pre><p>
            &#20063;&#21487;&#20197;&#20351;&#29992;EL&#22312;pages.xml&#25351;&#23450;transition &#12290;
        </p><p>
            &#27492;&#26102;&#65292;jBPM&#25509;&#21463;&#25351;&#20196;&#24182;&#19988;&#32487;&#32493;&#25191;&#34892;&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;&#12290;&#65288;&#22312;&#26356;&#21152;&#22797;&#26434;&#30340;&#27969;&#31243;&#20013;&#65292;&#22312;&#27969;&#31243;&#21521;&#19979;&#25191;&#34892;&#20043;&#21069;&#65292;&#21487;&#33021;&#36824;&#38656;&#35201;&#23436;&#25104;&#20854;&#20182;&#19968;&#20123;&#20219;&#21153;&#12290;&#65289;
        </p><p>
            &#33509;&#24819;&#23545;jBPM&#22788;&#29702;&#22797;&#26434;&#19994;&#21153;&#27969;&#31243;&#30340;&#39640;&#32423;&#29305;&#24615;&#26377;&#19968;&#20010;&#26356;&#21152;&#24443;&#24213;&#30340;&#35748;&#35782;&#65292;&#35831;&#21442;&#38405;jBPM&#30340;&#21442;&#32771;&#25991;&#26723;&#12290;
            </p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="persistence"></a>Chapter&nbsp;8.&nbsp;Seam&#21644;&#23545;&#35937;/&#20851;&#31995;&#26144;&#23556;</h2></div></div><div></div></div><p>
        Seam&#32473;&#20004;&#20010;&#26368;&#27969;&#34892;&#30340;Java&#25345;&#20037;&#21270;&#26550;&#26500;&#65306;Hibernate3&#21644;&#30001;EJB 3.0&#24341;&#20837;&#30340;Java Persistence API&#25552;&#20379;&#20102;&#24191;&#27867;&#25903;&#25345;&#12290;
        Seam&#29420;&#26377;&#30340;&#29366;&#24577;&#31649;&#29702;&#26550;&#26500;&#20801;&#35768;&#20219;&#24847;web&#24212;&#29992;&#26694;&#26550;&#19982;&#22823;&#22810;&#25968;&#25104;&#29087;&#30340;ORM&#36827;&#34892;&#38598;&#25104;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6053"></a>8.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>
        Seam&#26159;&#20174;Hibernate&#22242;&#38431;&#35797;&#22270;&#29983;&#25104;&#20856;&#22411;&#30340;&#26080;&#29366;&#24577;Java&#24212;&#29992;&#26550;&#26500;&#30340;&#25387;&#25240;&#20013;&#25104;&#38271;&#36215;&#26469;&#30340;&#12290;
        &#19978;&#19968;&#20195;Java&#24212;&#29992;&#31243;&#24207;&#30340;&#26080;&#29366;&#24577;&#29305;&#24615;&#35753;Hibernate&#22242;&#38431;&#39281;&#21463;&#25387;&#25240;&#65292;Seam&#21560;&#21462;&#20102;&#20182;&#20204;&#30340;&#32463;&#39564;&#12290;
        Seam&#30340;&#29366;&#24577;&#31649;&#29702;&#26550;&#26500;&#26368;&#26089;&#26159;&#29992;&#26469;&#35299;&#20915;&#25345;&#20037;&#21270;&#20914;&#31361;&#30456;&#20851;&#38382;&#39064;&#30340;&#65292;&#29305;&#21035;&#26159; <span class="emphasis"><em>&#20048;&#35266;&#20107;&#21153;&#22788;&#29702;</em></span> &#30456;&#20851;&#30340;&#38382;&#39064;&#12290;&#21487;&#25193;&#23637;&#30340;&#22312;&#32447;&#24212;&#29992;&#32463;&#24120;&#20351;&#29992;&#20048;&#35266;&#20107;&#21153;&#12290;
        &#19968;&#20010;&#21407;&#23376;(database/JTA)&#32423;&#30340;&#20107;&#21153;&#19981;&#24212;&#35813;&#36328;&#29992;&#25143;&#20132;&#20114;&#65292;&#38500;&#38750;&#31995;&#32479;&#35774;&#35745;&#26102;&#23601;&#26159;&#21482;&#25903;&#25745;&#24456;&#23569;&#37327;&#30340;&#24182;&#21457;&#23458;&#25143;&#31471;&#12290;
        &#20294;&#20960;&#20046;&#25152;&#26377;&#28041;&#21450;&#21040;&#30340;&#24037;&#20316;&#37117;&#26159;&#20808;&#23558;&#25968;&#25454;&#23637;&#29616;&#32473;&#29992;&#25143;&#65292;&#27809;&#22810;&#20037;&#21518;&#26356;&#26032;&#36825;&#20010;&#25968;&#25454;&#12290;&#25152;&#20197;Hibernate&#26159;&#20381;&#25454;&#25903;&#25345;&#19968;&#31181;&#36328;&#20048;&#35266;&#20107;&#21153;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#24605;&#24819;&#35774;&#35745;&#30340;&#12290;
    </p><p>
        &#19981;&#24184;&#30340;&#26159;&#36825;&#20010;&#20808;&#20110;Seam&#21644;EJB3.0&#20986;&#29616;&#30340;&#25152;&#35859;&#8220;&#26080;&#29366;&#24577;&#8221;&#26550;&#26500;&#24182;&#19981;&#23545;&#20048;&#35266;&#20107;&#21153;&#36827;&#34892;&#25903;&#25345;&#12290;&#32780;&#30456;&#21453;&#65292;&#36825;&#20123;&#26550;&#26500;&#25552;&#20379;&#23545;&#20110;&#21407;&#23376;&#20107;&#21153;&#32423;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#25903;&#25345;&#12290;
        &#36825;&#24403;&#28982;&#32473;&#29992;&#25143;&#24102;&#26469;&#20102;&#24456;&#22810;&#40635;&#28902;&#65292;&#36825;&#20063;&#26159;&#29992;&#25143;&#25265;&#24616;&#25490;&#21517;&#31532;&#19968;&#30340;Hibernate&#30340; <tt class="literal">LazyInitializationException</tt> &#38382;&#39064;&#30340;&#21407;&#22240;&#12290;
        &#25105;&#20204;&#38656;&#35201;&#30340;&#26159;&#22312;&#24212;&#29992;&#23618;&#26500;&#24314;&#23545;&#20110;&#20048;&#35266;&#20107;&#21153;&#30340;&#25903;&#25345;&#12290;
    </p><p>
        EJB3.0&#35748;&#35782;&#21040;&#20102;&#27492;&#38382;&#39064;&#65292;&#24182;&#19988;&#20063;&#24341;&#20837;&#20102;&#26377;&#29366;&#24577;&#32452;&#20214;&#65288;&#26377;&#29366;&#24577;&#20250;&#35805;bean&#65289;&#30340;&#24605;&#24819;&#65292;&#23427;&#20351;&#29992;&#19968;&#20010; <span class="emphasis"><em>&#25193;&#23637;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</em></span>&#26469;&#36319;&#36394;&#32452;&#20214;&#30340;&#29983;&#21629;&#21608;&#26399;&#12290;
        &#36825;&#26159;&#35813;&#38382;&#39064;&#30340;&#37096;&#20998;&#35299;&#20915;&#26041;&#26696;&#65288;&#23545;&#23427;&#33258;&#36523;&#32780;&#35328;&#20063;&#26159;&#19968;&#20010;&#26377;&#29992;&#30340;&#26500;&#24819;&#65289;&#65292;&#28982;&#32780;&#36824;&#26377;&#20004;&#20010;&#38382;&#39064;&#65306;
    </p><div class="itemizedlist"><ul type="disc"><li><p>
                &#26377;&#29366;&#24577;&#20250;&#35805;bean&#30340;&#29983;&#21629;&#21608;&#26399;&#24517;&#39035;&#22312;Web&#23618;&#36890;&#36807;&#20195;&#30721;&#25163;&#21160;&#31649;&#29702;&#65288;&#36825;&#26159;&#20010;&#40635;&#28902;&#30340;&#38382;&#39064;&#65292;&#32780;&#19988;&#23454;&#36341;&#36215;&#26469;&#27604;&#21548;&#19978;&#21435;&#26356;&#22797;&#26434;&#65289;&#12290;
            </p></li><li><p>
                &#22312;&#21516;&#19968;&#20010;&#20048;&#35266;&#20107;&#21153;&#30340;&#19981;&#21516;&#26377;&#29366;&#24577;&#32452;&#20214;&#38388;&#65292;&#20256;&#25773;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#26159;&#21487;&#34892;&#30340;&#65292;&#20294;&#24456;&#22256;&#38590;&#12290;
            </p></li></ul></div><p>
        Seam&#36890;&#36807;&#25552;&#20379;&#23545;&#35805;(Conversation)&#21644;&#23545;&#35805;&#26399;&#38388;&#30340;&#26377;&#29366;&#24577;Session Bean&#32452;&#20214;&#26469;&#35299;&#20915;&#31532;&#19968;&#20010;&#38382;&#39064;&#65288;&#22823;&#22810;&#25968;&#20250;&#35805;&#23454;&#38469;&#19978;&#22312;&#25968;&#25454;&#23618;&#25903;&#25345;&#20048;&#35266;&#20107;&#21153;&#65289;&#12290;
        &#36825;&#23545;&#20110;&#24456;&#22810;&#19981;&#38656;&#35201;&#20256;&#36882;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#31616;&#21333;&#24212;&#29992;&#65288;&#27604;&#22914;Seam&#30340;&#35746;&#38405;&#28436;&#31034;&#31243;&#24207;&#65289;&#24050;&#32463;&#36275;&#22815;&#20102;&#12290;
        &#23545;&#20110;&#26356;&#22797;&#26434;&#30340;&#22312;&#27599;&#19968;&#20010;&#23545;&#35805;&#20013;&#30340;&#26377;&#24456;&#22810;&#26494;&#32806;&#21512;&#32452;&#20214;&#30340;&#24212;&#29992;&#26469;&#35828;&#65292;&#32452;&#20214;&#38388;&#20256;&#25773;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#23601;&#25104;&#20026;&#19968;&#20010;&#37325;&#35201;&#30340;&#38382;&#39064;&#20102;&#12290;
        &#25152;&#20197;Seam&#25193;&#23637;&#20102;EJB 3.0&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#31649;&#29702;&#27169;&#22411;&#65292;&#20197;&#27492;&#26469;&#25552;&#20379;&#23545;&#35805;&#20316;&#29992;&#22495;&#30340;&#25193;&#23637;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#12290;
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="persistence.seam-managed-transactions"></a>8.2.&nbsp;Seam&#31649;&#29702;&#30340;&#20107;&#21153;</h2></div></div><div></div></div><p>
            EJB&#20250;&#35805;Bean&#26377;&#22768;&#26126;&#24335;&#20107;&#21153;&#31649;&#29702;&#21151;&#33021;&#12290;&#24403;Bean&#34987;&#35843;&#29992;&#26102;&#65292;EJB&#23481;&#22120;&#33021;&#22815;&#36879;&#26126;&#22320;&#24320;&#22987;&#19968;&#20010;&#20107;&#21153;&#65292;&#22312;&#35843;&#29992;&#32467;&#26463;&#26102;&#20851;&#38381;&#27492;&#20107;&#21153;&#12290;
            &#22914;&#26524;&#25105;&#20204;&#20889;&#20102;&#19968;&#20010;&#20316;&#20026;JSF&#21160;&#20316;&#30417;&#21548;&#22120;&#30340;&#20250;&#35805;Bean&#26041;&#27861;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#22312;&#19968;&#20010;&#20107;&#21153;&#20869;&#22788;&#29702;&#25152;&#26377;&#19982;&#27492;action&#30456;&#20851;&#30340;&#24037;&#20316;&#65292;&#24182;&#19988;&#24403;&#25105;&#20204;&#23436;&#25104;&#27492;&#21160;&#20316;&#22788;&#29702;&#26102;&#20107;&#21153;&#24517;&#39035;&#34987;&#25552;&#20132;&#25110;&#22238;&#28378;&#12290;
           &#36825;&#26159;&#19968;&#20010;&#24456;&#26834;&#30340;&#21151;&#33021;&#65292;&#22312;&#24456;&#22810;Seam&#24212;&#29992;&#31243;&#24207;&#20013;&#36825;&#26159;&#24517;&#38656;&#30340;&#12290;
    	</p><p>
            &#20294;&#26159;&#65292;&#27492;&#26041;&#27861;&#36824;&#26159;&#26377;&#38382;&#39064;&#12290;Seam&#24212;&#29992;&#21487;&#33021;&#26080;&#27861;&#22312;&#23545;&#20250;&#35805;Bean&#30340;&#19968;&#27425;&#26041;&#27861;&#35843;&#29992;&#35831;&#27714;&#20013;&#23436;&#25104;&#25152;&#26377;&#30340;&#25968;&#25454;&#35775;&#38382;&#12290;
    	</p><div class="itemizedlist"><ul type="disc"><li><p>
                    &#27492;&#35831;&#27714;&#21487;&#33021;&#30001;&#20960;&#20010;&#26494;&#32806;&#21512;&#32452;&#20214;&#22788;&#29702;&#65292;Web&#23618;&#29420;&#31435;&#22320;&#35843;&#29992;&#27599;&#19968;&#20010;&#32452;&#20214;&#12290;&#22312;Seam&#20013;&#65292;Web&#23618;&#30340;&#19968;&#20010;&#35831;&#27714;&#23545;EJB&#32452;&#20214;&#21457;&#36215;&#20960;&#27425;&#29978;&#33267;&#22810;&#27425;&#35843;&#29992;&#30340;&#29616;&#35937;&#26159;&#24456;&#24120;&#35265;&#30340;&#12290;
    			</p></li><li><p>
                    &#35270;&#22270;&#28210;&#26579;&#21487;&#33021;&#38656;&#35201;&#24310;&#36831;&#20851;&#32852;&#33719;&#21462;&#65288;lazy fetching of associations&#65289;&#12290;
                </p></li></ul></div><p>
            &#27599;&#20010;&#35831;&#27714;&#30340;&#20107;&#21153;&#37327;&#36234;&#22810;&#65292;&#24403;&#25105;&#20204;&#30340;&#24212;&#29992;&#22788;&#29702;&#22823;&#37327;&#24182;&#21457;&#35831;&#27714;&#26102;&#36234;&#21487;&#33021;&#30896;&#21040;&#21407;&#23376;&#21644;&#38548;&#31163;&#38382;&#39064;&#12290;&#24403;&#28982;&#65292;&#25152;&#26377;&#30340;&#20889;&#25805;&#20316;&#35201;&#22312;&#19968;&#20010;&#20107;&#21153;&#20013;&#25191;&#34892;&#12290;
    	</p><p>
            Hibernate&#29992;&#25143;&#24320;&#21457;&#20102; <span class="emphasis"><em>"Open Session in View"</em></span> &#27169;&#24335;&#26469;&#35299;&#20915;&#35813;&#38382;&#39064;&#12290;
            &#22312;Hibernate&#31038;&#21306;&#65292;"Open Session in View"&#26366;&#32463;&#38750;&#24120;&#37325;&#35201;&#65292;&#36825;&#26159;&#22240;&#20026;&#20687;Spring&#36825;&#26679;&#30340;&#26694;&#26550;&#20351;&#29992;&#20102;&#20107;&#21153;&#20316;&#29992;&#22495;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#12290;
            &#25152;&#20197;&#24403;&#26410;&#33719;&#24471;&#30340;&#20851;&#32852;&#34987;&#35775;&#38382;&#26102;&#28210;&#26579;&#35270;&#22270;&#23558;&#24341;&#36215; <tt class="literal">LazyInitializationException</tt> &#24322;&#24120;&#12290;
    	</p><p>
            &#36825;&#20010;&#27169;&#24335;&#36890;&#24120;&#20316;&#20026;&#19968;&#20010;&#36328;&#36234;&#25972;&#20010;&#35831;&#27714;&#30340;&#20107;&#21153;&#26469;&#23454;&#29616;&#12290;
            &#27492;&#23454;&#29616;&#26041;&#24335;&#20250;&#26377;&#20960;&#20010;&#38382;&#39064;&#65292;&#20854;&#20013;&#26368;&#20005;&#37325;&#30340;&#26159;&#21482;&#26377;&#25105;&#20204;&#25552;&#20132;&#20102;&#20107;&#21153;&#25165;&#33021;&#30830;&#35748;&#23427;&#25104;&#21151;&#23436;&#25104;&#8212;&#8212;&#20294;&#22312;"Open Session in View"&#30340;&#20107;&#21153;&#25552;&#20132;&#26102;&#65292;&#35270;&#22270;&#24050;&#32463;&#23436;&#20840;&#28210;&#26579;&#20102;&#65292;&#29978;&#33267;&#28210;&#26579;&#22909;&#30340;&#24212;&#31572;&#21487;&#33021;&#24050;&#32463;&#21047;&#26032;&#21040;&#23458;&#25143;&#31471;&#12290;&#25105;&#20204;&#24590;&#26679;&#25165;&#33021;&#36890;&#30693;&#29992;&#25143;&#20182;&#20204;&#30340;&#20107;&#21153;&#24050;&#22833;&#36133;&#21602;&#65311;
    	</p><p>
            Seam&#22312;&#35299;&#20915;"Open Session in View"&#38382;&#39064;&#26102;&#65292;&#20063;&#35299;&#20915;&#20102;&#20107;&#21153;&#38548;&#31163;&#21644;&#20851;&#32852;&#33719;&#21462;&#38382;&#39064;&#12290;&#35813;&#26041;&#26696;&#26377;&#26377;&#20004;&#20010;&#37096;&#20998;&#65306;
    	</p><div class="itemizedlist"><ul type="disc"><li><p>
               &#20351;&#29992;&#20351;&#29992;&#24050;&#25193;&#23637;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65292;&#21487;&#20197;&#35206;&#30422;&#19968;&#20010;&#20250;&#35805;&#20316;&#29992;&#22495;&#32780;&#19981;&#26159;&#21333;&#20010;&#20107;&#21153;&#20316;&#29992;&#22495;&#12290;
    			</p></li><li><p>
                    &#27599;&#27425;&#35831;&#27714;&#20351;&#29992;&#20004;&#20010;&#20107;&#21153;&#65307;&#31532;&#19968;&#20010;&#20174;&#26356;&#26032;&#27169;&#22411;&#20540;&#30340;&#36215;&#22987;&#38454;&#27573;&#21040;&#24212;&#29992;&#31243;&#24207;&#35843;&#29992;&#32467;&#26463;&#65307;&#31532;&#20108;&#20010;&#36328;&#36234;&#28210;&#26579;&#21709;&#24212;&#38454;&#27573;&#12290;
    			</p></li></ul></div><p>
            &#19979;&#19968;&#33410;&#65292;&#25105;&#20204;&#23558;&#20250;&#21578;&#35785;&#20320;&#22914;&#20309;&#23433;&#35013;&#19968;&#20010;&#20250;&#35805;&#20316;&#29992;&#22495;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#12290;&#20294;&#39318;&#20808;&#25105;&#20204;&#38656;&#35201;&#20320;&#30693;&#36947;&#22914;&#20309;&#21551;&#29992;Seam&#20107;&#21153;&#31649;&#29702;&#12290;
            &#27880;&#24847;&#20320;&#21487;&#20197;&#33073;&#31163;Seam&#30340;&#20107;&#21153;&#31649;&#29702;&#26469;&#20351;&#29992;&#20250;&#35805;&#20316;&#29992;&#22495;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#12290;&#24403;&#20320;&#19981;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#26102;&#65292;&#20320;&#20063;&#26377;&#24456;&#22810;&#20351;&#29992;Seam&#20107;&#21153;&#31649;&#29702;&#30340;&#29702;&#30001;&#12290;
            &#28982;&#32780;&#36825;&#20004;&#31181;&#21151;&#33021;&#34987;&#35774;&#35745;&#20026;&#19968;&#36215;&#20351;&#29992;&#30340;&#65292;&#19968;&#36215;&#20351;&#29992;&#26102;&#25928;&#26524;&#26368;&#22909;&#12290;
        </p><p>
            &#21363;&#20351;&#20320;&#20351;&#29992;EJB 3.0&#23481;&#22120;&#31649;&#29702;&#20107;&#21153;&#19978;&#19979;&#25991;&#65292;Seam&#20107;&#21153;&#31649;&#29702;&#20063;&#26159;&#24456;&#26377;&#29992;&#30340;&#12290;&#22914;&#26524;&#20320;&#22312;Java EE 5&#29615;&#22659;&#22806;&#20351;&#29992;Seam&#65292;&#25110;&#32773;&#22312;&#20219;&#20309;&#20320;&#24819;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#26102;&#65292;&#23427;&#21516;&#26679;&#24456;&#26377;&#29992;&#30340;&#12290;
    	</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6119"></a>8.2.1.&nbsp;&#20851;&#38381;Seam&#31649;&#29702;&#30340;&#20107;&#21153;</h3></div></div><div></div></div><p>
                &#25152;&#26377;&#30340;JSF&#35831;&#27714;&#40664;&#35748;&#24320;&#21551;Seam&#20107;&#21153;&#31649;&#29702;&#12290;&#22914;&#26524;&#20320;&#24819; <span class="emphasis"><em>&#20851;&#38381;</em></span> &#35813;&#21151;&#33021;&#65292;&#20320;&#33021;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#20570;&#22914;&#19979;&#35774;&#32622;&#65306;
    		</p><pre class="programlisting">&lt;core:init transaction-management-enabled="false"/&gt;

&lt;transaction:no-transaction /&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6132"></a>8.2.2.&nbsp;&#37197;&#32622;Seam&#20107;&#21153;&#31649;&#29702;&#22120;</h3></div></div><div></div></div><p>
                Seam&#20026;&#20107;&#21153;&#30340;&#24320;&#22987;&#65292;&#25552;&#20132;&#65292;&#22238;&#28378;&#65292;&#21516;&#27493;&#25552;&#20379;&#20102;&#19968;&#20010;&#20107;&#21153;&#31649;&#29702;&#25277;&#35937;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Seam&#20351;&#29992;&#19968;&#20010;JTA&#20107;&#21153;&#32452;&#20214;&#65292;&#23427;&#21516;&#23481;&#22120;&#31649;&#29702;&#30340;EJB&#21644;&#32534;&#31243;&#24335;EJB&#20107;&#21153;&#38598;&#25104;&#12290;
    		</p><p>
				Seam&#36824;&#20026;&#20197;&#19979;&#20107;&#21153;API&#25552;&#20379;&#20107;&#21153;&#32452;&#20214;&#65306;
    		</p><div class="itemizedlist"><ul type="disc"><li><tt class="literal">javax.persistence.EntityTransaction</tt> &#25509;&#21475;&#25552;&#20379;&#30340;JPA RESOURCE_LOCAL&#20107;&#21153;&#12290;
    			</li><li><tt class="literal">org.hibernate.Transaction</tt> &#25509;&#21475;&#25552;&#20379;&#30340;Hibernate&#31649;&#29702;&#30340;&#20107;&#21153;&#12290;
    			</li><li><tt class="literal">org.springframework.transaction.PlatformTransactionManager</tt> &#25509;&#21475;&#25552;&#20379;&#30340;Spring&#31649;&#29702;&#30340;&#20107;&#21153;&#12290;
    			</li><li>
                    &#26174;&#24335;&#20851;&#38381;Seam&#31649;&#29702;&#30340;&#20107;&#21153;&#12290;
                </li></ul></div><p>
                &#21521;components.xml&#25991;&#20214;&#22686;&#21152;&#20197;&#19979;&#39033;&#26469;&#37197;&#32622;JPA RESOURCE_LOCAL&#20107;&#21153;&#65292;&#22312;&#37197;&#32622;&#25991;&#20214;&#20013;&#65292;<tt class="literal">#{entityManager}</tt> &#26159;
                <tt class="literal">persistence:managed-persistence-context</tt> &#32452;&#20214;&#30340;&#21517;&#31216;&#12290;&#65288;&#21442;&#32771;
                <a href="#persistence.seam-managed-persistence-contexts" title="8.3.&nbsp;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;">Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</a>&#12290;&#65289;
    		</p><pre class="programlisting">&lt;transaction:entity-transaction entity-manager="#{entityManager}"/&gt;</pre><p>
                &#21521;&#20320;&#30340;components.xml&#25991;&#20214;&#22768;&#26126;&#20197;&#19979;&#39033;&#26469;&#37197;&#32622;Hibernate&#31649;&#29702;&#30340;&#20107;&#21153;&#65292;&#22312;&#37197;&#32622;&#25991;&#20214;&#20013;&#65292;<tt class="literal">#{hiberanteSession}</tt> &#26159;&#39033;&#30446;&#20013;
                <tt class="literal">persistence:managed-hibernate-session</tt> &#32452;&#20214;&#30340;&#21517;&#31216;&#12290;&#65288;&#21442;&#32771;<a href="#persistence.seam-managed-persistence-contexts" title="8.3.&nbsp;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;">Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</a>&#65289;
    		</p><pre class="programlisting">&lt;transaction:hibernate-transaction session="#{hiberanteSession}"/&gt;</pre><p>
                &#22312;components.xml&#20013;&#22768;&#26126;&#20197;&#19979;&#20869;&#23481;&#26469;&#26174;&#24335;&#22320;&#20851;&#38381;Seam&#31649;&#29702;&#30340;&#20107;&#21153;&#65306;
            </p><pre class="programlisting">&lt;transaction:no-transaction /&gt;</pre><p>
    			&#21442;&#32771; <a href="#spring-transactions" title="23.5.&nbsp;&#20351;&#29992;Spring PlatformTransactionManagement">&#20351;&#29992;Spring PlatformTransactionManagement</a> &#26469;&#37197;&#32622;Spring&#31649;&#29702;&#30340;&#20107;&#21153;&#12290;
    		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6189"></a>8.2.3.&nbsp;&#20107;&#21153;&#21516;&#27493;</h3></div></div><div></div></div><p>
                &#20107;&#21153;&#21516;&#27493;&#20026;&#21508;&#31181;&#21508;&#26679;&#30340;&#20107;&#21153;&#30456;&#20851;&#20107;&#20214;&#25552;&#20379;&#20102;&#22238;&#35843;&#21151;&#33021;&#65292;&#20363;&#22914; <tt class="literal">beforeCompletion()</tt> &#21644; <tt class="literal">afterCompletion()</tt> &#20107;&#20214;&#12290;
                &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Seam&#20351;&#29992;&#23427;&#33258;&#24049;&#30340;&#20107;&#21153;&#21516;&#27493;&#32452;&#20214;&#65292;&#19968;&#20010;&#20107;&#21153;&#34987;&#25552;&#20132;&#26102;&#65292;&#38656;&#35201;&#26174;&#24335;&#22320;&#20351;&#29992;Seam&#20107;&#21153;&#32452;&#20214;&#20197;&#30830;&#20445;&#21516;&#27493;&#22238;&#35843;&#34987;&#27491;&#30830;&#25191;&#34892;&#12290;
                &#22914;&#26524;&#22312;Java EE 5&#29615;&#22659;&#37324;&#65292;&#24212;&#35813;&#22312;components.xml&#25991;&#20214;&#20013;&#22768;&#26126; <tt class="literal">&lt;transaction:ejb-transaction/&gt;</tt>&#65292;&#20174;&#32780;&#20445;&#35777;&#23481;&#22120;&#22312;Seam&#30340;&#21487;&#39044;&#35265;&#33539;&#22260;&#22806;&#25552;&#20132;&#20107;&#21153;&#26102;&#65292;Seam&#21516;&#27493;&#22238;&#35843;&#34987;&#27491;&#30830;&#35843;&#29992;&#12290;
    		</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="persistence.seam-managed-persistence-contexts"></a>8.3.&nbsp;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</h2></div></div><div></div></div><p>
            &#22914;&#26524;&#20320;&#26159;&#22312;Java EE 5&#29615;&#22659;&#22806;&#20351;&#29992;Seam&#65292;&#20320;&#19981;&#33021;&#20381;&#38752;&#23481;&#22120;&#26469;&#20026;&#20320;&#31649;&#29702;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#29983;&#21629;&#21608;&#26399;&#12290;
            &#21363;&#20351;&#22312;Java EE 5 &#29615;&#22659;&#20013;&#65292;&#20320;&#21487;&#33021;&#26377;&#19968;&#20010;&#24456;&#22810;&#26494;&#32806;&#21512;&#32452;&#20214;&#22312;&#20250;&#35805;&#20316;&#29992;&#22495;&#20869;&#30456;&#20114;&#21327;&#20316;&#30340;&#22797;&#26434;&#24212;&#29992;&#65292;&#36825;&#31181;&#24773;&#20917;&#19979;&#20320;&#21487;&#33021;&#21457;&#29616;&#22312;&#32452;&#20214;&#38388;&#20256;&#36882;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#26082;&#22256;&#38590;&#21448;&#23481;&#26131;&#20986;&#38169;&#12290;
        </p><p>
            &#22312;&#20219;&#20309;&#19968;&#31181;&#24773;&#20917;&#19979;&#65292;&#20320;&#37117;&#38656;&#35201;&#22312;&#20320;&#30340;&#32452;&#20214;&#20013;&#20351;&#29992;&#19968;&#20010; <span class="emphasis"><em>&#21463;&#31649;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</em></span>&#65288;&#22312;JPA&#20013;&#65289;&#25110;&#32773;&#19968;&#20010;
            <span class="emphasis"><em>&#21463;&#31649;&#20250;&#35805;</em></span>&#65288;Hibernate&#20013;&#65289;&#12290;&#19968;&#20010;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#26159;&#22312;&#20250;&#35805;&#19978;&#19979;&#25991;&#20013;&#31649;&#29702;&#19968;&#20010;
            <tt class="literal">EntityManager</tt> &#23454;&#20363;&#25110;&#32773; <tt class="literal">Session</tt> &#23454;&#20363;&#30340;&#20869;&#32622;Seam&#32452;&#20214;&#12290;&#20320;&#21487;&#20197;&#20351;&#29992; <tt class="literal">@In</tt> &#27880;&#20837;&#23427;&#12290;
        </p><p>
            Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#22312;&#38598;&#32676;&#29615;&#22659;&#20013;&#23588;&#20854;&#26377;&#25928;&#12290;EJB 3.0&#35268;&#33539;&#20013;&#19981;&#20801;&#35768;&#23481;&#22120;&#20351;&#29992;&#23481;&#22120;&#31649;&#29702;&#30340;&#25193;&#23637;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65292;Seam&#33021;&#22815;&#23545;&#27492;&#36827;&#34892;&#20248;&#21270;&#12290;
            Seam&#25903;&#25345;&#25193;&#23637;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#36879;&#26126;&#25925;&#38556;&#24674;&#22797;&#65292;&#32780;&#26080;&#38656;&#22312;&#33410;&#28857;&#38388;&#22797;&#21046;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#29366;&#24577;&#12290;&#65288;&#25105;&#20204;&#24076;&#26395;&#22312;EJB&#35268;&#33539;&#30340;&#19979;&#20010;&#29256;&#26412;&#20013;&#20462;&#22797;&#27492;&#28431;&#27934;&#12290;&#65289;
        </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6227"></a>8.3.1.&nbsp;&#22312;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#20013;&#20351;&#29992;JPA</h3></div></div><div></div></div><p>
            &#37197;&#32622;&#19968;&#20010;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#24456;&#31616;&#21333;&#65292;&#22312; <tt class="literal">components.xml</tt> &#20013;&#21152;&#19978;&#65306;
        </p><pre class="programlisting">&lt;persistence:managed-persistence-context name="bookingDatabase"
                                  auto-create="true"
                   persistence-unit-jndi-name="java:/EntityManagerFactories/bookingData"/&gt;</pre><p>
            &#36825;&#20010;&#37197;&#32622;&#21019;&#24314;&#20102;&#19968;&#20010;&#21517;&#20026; <tt class="literal">bookingDatabase</tt> &#30340;&#23545;&#35805;&#20316;&#29992;&#33539;&#22260;Seam&#32452;&#20214;&#65292;&#23427;&#31649;&#29702;&#32473;&#25345;&#20037;&#21270;&#21333;&#20803;&#65288;<tt class="literal">EntityManagerFactory</tt> &#23454;&#20363;&#65289;&#20351;&#29992;&#30340; <tt class="literal">EntityManager</tt> &#23454;&#20363;&#30340;&#29983;&#21629;&#21608;&#26399;&#12290;
            &#20854;JNDI&#21517;&#20026; <tt class="literal">java:/EntityManagerFactories/bookingData</tt>&#12290;
        </p><p>
            &#24403;&#28982;&#65292;&#20320;&#38656;&#35201;&#30830;&#35748;&#24050;&#32463;&#22312;JNDI&#20013;&#32465;&#23450;&#20102; <tt class="literal">EntityManagerFactory</tt>&#12290;
            &#22312;JBoss&#20013;&#65292;&#20320;&#33021;&#22312; <tt class="literal">persistence.xml</tt> &#20013;&#36890;&#36807;&#22686;&#21152;&#20197;&#19979;&#23646;&#24615;&#35774;&#32622;&#26469;&#32465;&#23450;&#23427;&#12290;
        </p><pre class="programlisting">&lt;property name="jboss.entity.manager.factory.jndi.name"
          value="java:/EntityManagerFactories/bookingData"/&gt;</pre><p>
            &#29616;&#22312;&#25105;&#20204;&#33021;&#29992;&#20197;&#19979;&#26041;&#24335;&#26469;&#27880;&#20837; <tt class="literal">EntityManager</tt> &#20102;&#65306;
        </p><pre class="programlisting">@In EntityManager bookingDatabase;</pre><p>
        	&#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;EJB3&#65292;&#24182;&#19988;&#20320;&#30340;&#31867;&#25110;&#32773;&#26041;&#27861;&#19978;&#21152;&#20102; <tt class="literal">@TransactionAttribute(REQUIRES_NEW)</tt>&#65292;&#37027;&#20040;&#20107;&#21153;&#21644;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#19981;&#24212;&#35813;&#34987;&#20256;&#25773;&#21040;&#36825;&#20010;&#23545;&#35937;&#30340;&#26041;&#27861;&#35843;&#29992;&#19978;&#12290;
        	&#20294;&#26159;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#20250;&#34987;&#20256;&#25773;&#21040;&#20250;&#35805;&#20869;&#30340;&#25152;&#26377;&#32452;&#20214;&#19978;&#65292;&#23427;&#20063;&#20250;&#34987;&#20256;&#25773;&#21040;&#26631;&#26377;<tt class="literal">REQUIRES_NEW</tt>&#30340;&#26041;&#27861;&#19978;&#12290;
        	&#22240;&#27492;&#65292;&#22914;&#26524;&#20320;&#26631;&#35760;&#20102;&#19968;&#20010;<tt class="literal">REQUIRES_NEW</tt>&#26041;&#27861;&#65292;&#37027;&#20040;&#23601;&#24212;&#35813;&#29992;@PersistenceContext&#26469;&#35775;&#38382;&#23454;&#20307;&#31649;&#29702;&#22120;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6279"></a>8.3.2.&nbsp;&#20351;&#29992;Seam&#31649;&#29702;&#30340;Hibernate&#20250;&#35805;</h3></div></div><div></div></div><p>
            Seam&#31649;&#29702;&#30340;Hibernate sessions&#21644;&#21069;&#32773;&#24456;&#30456;&#20284;&#12290;&#22312; <tt class="literal">components.xml</tt> &#20013;&#21152;&#20837;&#22914;&#19979;&#20869;&#23481;&#65306;
        </p><pre class="programlisting">&lt;persistence:hibernate-session-factory name="hibernateSessionFactory"/&gt;

&lt;persistence:managed-hibernate-session name="bookingDatabase"
                                auto-create="true"
                  session-factory-jndi-name="java:/bookingSessionFactory"/&gt;</pre><p>
            <tt class="literal">java:/bookingSessionFactory</tt> &#26159;&#22312; <tt class="literal">hibernate.cfg.xml</tt> &#20013;&#37197;&#32622;&#30340;&#20250;&#35805;&#24037;&#21378;&#21517;&#12290;
        </p><pre class="programlisting">&lt;session-factory name="java:/bookingSessionFactory"&gt;
    &lt;property name="transaction.flush_before_completion"&gt;true&lt;/property&gt;
    &lt;property name="connection.release_mode"&gt;after_statement&lt;/property&gt;
    &lt;property name="transaction.manager_lookup_class"&gt;org.hibernate.transaction.JBossTransactionManagerLookup&lt;/property&gt;
    &lt;property name="transaction.factory_class"&gt;org.hibernate.transaction.JTATransactionFactory&lt;/property&gt;
    &lt;property name="connection.datasource"&gt;java:/bookingDatasource&lt;/property&gt;
    ...
&lt;/session-factory&gt;</pre><p>
            &#27880;&#24847;&#65306;Seam&#24182;&#27809;&#26377;&#28165;&#31354;&#27492;&#20250;&#35805;&#65292;&#25152;&#20197;&#20320;&#24212;&#21551;&#29992; <tt class="literal">hibernate.transaction.flush_before_completion</tt>&#65292;&#30830;&#20445;&#22312;JTA&#20107;&#21153;&#25552;&#20132;&#21069;&#20250;&#35805;&#34987;&#33258;&#21160;&#22320;&#28165;&#31354;&#32531;&#23384;&#12290;
        </p><p>
            &#29616;&#22312;&#25105;&#20204;&#21487;&#20197;&#29992;&#20197;&#19979;&#20195;&#30721;&#21521;JavaBean&#32452;&#20214;&#20013;&#27880;&#20837;&#19968;&#20010;&#21463;&#31649;Hibernate <tt class="literal">Session</tt>&#20102;&#65306;
        </p><pre class="programlisting">@In Session bookingDatabase;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6311"></a>8.3.3.&nbsp;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#21644;&#21407;&#23376;&#20250;&#35805;</h3></div></div><div></div></div><p>
            &#20250;&#35805;&#26399;&#38388;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#35753;&#20320;&#33021;&#32534;&#20889;&#36328;&#36234;&#22810;&#20010;&#26381;&#21153;&#22120;&#35831;&#27714;&#30340;&#20048;&#35266;&#20107;&#21153;&#65292;&#32780;&#19988;&#26080;&#38656;&#20351;&#29992;<tt class="literal">merge()</tt>&#25805;&#20316;&#65292;&#20063;&#19981;&#38656;&#35201;&#22312;&#27599;&#27425;&#35831;&#27714;&#24320;&#22987;&#26102;&#37325;&#36733;&#25968;&#25454;&#65292;&#20063;&#19981;&#38656;&#35201;&#22788;&#29702; <tt class="literal">LazyInitializationException</tt> &#24322;&#24120;&#25110; <tt class="literal">NonUniqueObjectException</tt> &#24322;&#24120;&#12290;
        </p><p>
            &#23545;&#20219;&#20309;&#20048;&#35266;&#20107;&#21153;&#31649;&#29702;&#26469;&#35828;&#65292;&#20107;&#21153;&#38548;&#31163;&#24615;&#21644;&#19968;&#33268;&#24615;&#21487;&#20197;&#20351;&#29992;&#20048;&#35266;&#38145;&#26469;&#33719;&#24471;&#12290;
            &#24184;&#36816;&#30340;&#26159;&#65292;Hibernate&#21644;EJB 3.0&#37117;&#36890;&#36807;&#20351;&#29992; <tt class="literal">@Version</tt> &#27880;&#35299;&#26469;&#20351;&#29992;&#20048;&#35266;&#38145;&#12290;
        </p><p>
            &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#22312;&#27599;&#20010;&#20107;&#21153;&#32467;&#26463;&#26102;&#20250;&#28165;&#31354;&#32531;&#23384;&#65288;&#19982;&#25968;&#25454;&#24211;&#21516;&#27493;&#65289;&#12290;&#26377;&#26102;&#36825;&#26159;&#25105;&#20204;&#26399;&#26395;&#30340;&#26041;&#24335;&#12290;
            &#20294;&#32463;&#24120;&#25105;&#20204;&#24076;&#26395;&#25152;&#26377;&#30340;&#25913;&#21464;&#22312;&#20869;&#23384;&#20013;&#20445;&#23384;&#65292;&#19988;&#21482;&#26377;&#22312;&#20250;&#35805;&#25104;&#21151;&#32467;&#26463;&#26102;&#20889;&#22238;&#25968;&#25454;&#24211;&#12290;&#36825;&#23545;&#20110;&#27491;&#30495;&#30340;&#21407;&#23376;&#20250;&#35805;&#26469;&#35828;&#26159;&#20801;&#35768;&#30340;&#12290;
            &#20316;&#20026;&#38750;JBoss&#65292;&#38750;Sun&#65292;&#38750;Sybase&#30340;EJB 3.0&#19987;&#23478;&#32452;&#25104;&#21592;&#30340;&#24858;&#34850;&#21644;&#30701;&#35270;&#20915;&#31574;&#30340;&#32467;&#26524;&#65292;&#20351;&#29992;EJB 3.0&#25345;&#20037;&#21270;&#36824;&#19981;&#33021;&#31616;&#21333;&#12289;&#26377;&#25928;&#21644;&#26041;&#20415;&#30340;&#23454;&#29616;&#21407;&#23376;&#20250;&#35805;&#12290;
            &#20294;&#26159;Hibernate&#36890;&#36807;&#25193;&#23637;&#35268;&#33539;&#23450;&#20041;&#30340; <tt class="literal">FlushModeType</tt> &#25552;&#20379;&#20102;&#36825;&#20010;&#21151;&#33021;&#65292;&#25105;&#20204;&#20063;&#26399;&#26395;&#20854;&#23427;&#30340;&#21378;&#21830;&#33021;&#23613;&#24555;&#25552;&#20379;&#31867;&#20284;&#25193;&#23637;&#12290;
        </p><p>
            Seam&#20801;&#35768;&#20320;&#22312;&#24320;&#22987;&#20250;&#35805;&#26102;&#25351;&#23450;<tt class="literal">FlushModeType.MANUAL</tt>&#21442;&#25968;&#12290;
            &#30446;&#21069;&#65292;&#21482;&#26377;Hibernate&#20316;&#20026;&#25345;&#20037;&#21270;&#24213;&#23618;&#25552;&#20379;&#32773;&#26102;&#23427;&#25165;&#33021;&#27491;&#24120;&#24037;&#20316;&#65292;&#20294;&#26159;&#25105;&#20204;&#35745;&#21010;&#25903;&#25345;&#20854;&#23427;&#21516;&#31867;&#35745;&#31639;&#26426;&#21378;&#21830;&#25193;&#23637;&#12290;
        </p><pre class="programlisting">@In EntityManager em; //a Seam-managed persistence context

@Begin(flushMode=MANUAL)
public void beginClaimWizard() {
    claim = em.find(Claim.class, claimId);
}</pre><p>
            &#29616;&#22312; <tt class="literal">claim</tt> &#23545;&#35937;&#20173;&#28982;&#22312;&#20854;&#20313;&#20250;&#35805;&#20013;&#34987;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#31649;&#29702;&#12290;&#25105;&#20204;&#33021;&#23545;&#27492;claim&#36827;&#34892;&#19968;&#20123;&#20462;&#25913;&#65306;
        </p><pre class="programlisting">public void addPartyToClaim() {
    Party party = ....;
    claim.addParty(party);
}</pre><p>
            &#38500;&#38750;&#25105;&#20204;&#36827;&#34892;&#26174;&#24335;&#30340;&#24378;&#21046;&#25552;&#20132;&#65292;&#21542;&#21017;&#36825;&#20123;&#25913;&#21464;&#19981;&#20250;&#34987;&#20889;&#21040;&#25968;&#25454;&#24211;&#20013;&#12290;
        </p><pre class="programlisting">@End
public void commitClaim() {
    em.flush();
}</pre><p>
            &#24403;&#28982;&#20320;&#21487;&#20197;&#22312;pages.xml&#25991;&#20214;&#20013;&#23558; <tt class="literal">flushMode</tt> &#20540;&#35774;&#32622;&#20026; <tt class="literal">MANUAL</tt>&#65292;&#20363;&#22914;&#22312;&#19968;&#20010;&#23548;&#33322;&#35268;&#21017;&#20013;&#20889;&#20837;&#65306;
        </p><pre class="programlisting">&lt;begin-conversation flush-mode="MANUAL" /&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6363"></a>8.4.&nbsp;&#20351;&#29992;JPA &#8220;&#20195;&#29702;&#65288;delegate&#65289;&#8221;</h2></div></div><div></div></div><p>
            <tt class="literal">EntityManager</tt> &#25509;&#21475;&#33021;&#35753;&#20320;&#36890;&#36807;&#20351;&#29992; <tt class="literal">getDelegate()</tt> &#26041;&#27861;&#35775;&#38382;&#26576;&#20010;&#21378;&#21830;&#29305;&#23450;&#30340;API&#12290;
            &#24456;&#33258;&#28982;&#22320;&#65292;&#26368;&#35753;&#20154;&#24863;&#20852;&#36259;&#30340;&#21378;&#21830;&#26159;Hibernate&#65292;&#20854;&#26368;&#24378;&#22823;&#30340;&#20195;&#29702;&#25509;&#21475;&#26159; <tt class="literal">org.hibernate.Session</tt>&#12290;
            &#20320;&#19981;&#24517;&#20877;&#29992;&#21035;&#30340;&#19996;&#35199;&#65292;&#30456;&#20449;&#25105;&#65292;&#25105;&#27809;&#26377;&#20219;&#20309;&#20559;&#35265;&#12290;
        </p><p>
            &#19981;&#31649;&#20320;&#20351;&#29992;Hibernate&#65288;&#26126;&#26234;&#65281;&#65289;&#36824;&#26159;&#20854;&#20182;&#30340;&#19996;&#35199;&#65288;&#21463;&#34384;&#29378;&#65292;&#25110;&#32773;&#35828;&#19981;&#22826;&#32874;&#26126;&#65289;&#65292;&#20320;&#24403;&#28982;&#24819;&#22312;&#20320;&#30340;Seam&#32452;&#20214;&#20013;&#32463;&#24120;&#20351;&#29992;&#20195;&#29702;&#12290;&#19979;&#38754;&#26159;&#19968;&#20010;&#26041;&#27861;&#65306;
        </p><pre class="programlisting">@In EntityManager entityManager;

@Create
public void init() {
    ( (Session) entityManager.getDelegate() ).enableFilter("currentVersions");
}</pre><p>
             &#20294;&#31867;&#22411;&#36716;&#21270;&#27627;&#26080;&#30097;&#38382;&#26159;Java&#35821;&#35328;&#20013;&#26368;&#38590;&#30475;&#30340;&#35821;&#27861;&#12290;&#22240;&#27492;&#22823;&#23478;&#37117;&#24212;&#23613;&#21487;&#33021;&#36991;&#20813;&#20351;&#29992;&#23427;&#20204;&#12290;&#36825;&#26377;&#21478;&#19968;&#20010;&#33719;&#24471;&#20195;&#29702;&#30340;&#26041;&#27861;&#12290;
             &#39318;&#20808;&#23558;&#19979;&#21015;&#35821;&#21477;&#21152;&#21040; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#65306;
        </p><pre class="programlisting">&lt;factory name="session"
         scope="STATELESS"
         auto-create="true"
         value="#{entityManager.delegate}"/&gt;</pre><p>
            &#29616;&#22312;&#25105;&#20204;&#21487;&#20197;&#30452;&#25509;&#27880;&#20837;&#27492;&#20250;&#35805;&#65306;
        </p><pre class="programlisting">@In Session session;

@Create
public void init() {
    session.enableFilter("currentVersions");
}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6392"></a>8.5.&nbsp;&#22312;EJB-QL/HQL&#20013;&#20351;&#29992;EL</h2></div></div><div></div></div><p>
            &#26080;&#35770;&#20320;&#20351;&#29992;&#19968;&#20010;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#36824;&#26159;&#29992; <tt class="literal">@PersistenceContext</tt> &#27880;&#20837;&#19968;&#20010;&#23481;&#22120;&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#12290;
            Seam&#37117;&#20195;&#29702; <tt class="literal">EntityManager</tt> &#25110;&#32773; <tt class="literal">Session</tt> &#23545;&#35937;&#65292;&#36825;&#20351;&#20320;&#33021;&#22312;&#26597;&#35810;&#35821;&#21477;&#20013;&#23433;&#20840;&#26377;&#25928;&#22320;&#20351;&#29992;EL&#34920;&#36798;&#24335;&#12290;&#20363;&#22914;&#36825;&#20010;&#20363;&#23376;&#65306;
        </p><pre class="programlisting">User user = em.createQuery("from User where username=#{user.username}")
         .getSingleResult();</pre><p>&#21644;&#19979;&#38754;&#31561;&#20215;&#65306;</p><pre class="programlisting">User user = em.createQuery("from User where username=:username")
         .setParameter("username", user.getUsername())
         .getSingleResult();</pre><p>
            &#24403;&#28982;&#20320;&#19981;&#35201;&#20889;&#25104;&#19979;&#38754;&#36825;&#26679;&#65306;
        </p><pre class="programlisting">User user = em.createQuery("from User where username=" + user.getUsername()) //BAD!
         .getSingleResult();</pre><p>
            &#65288;&#36825;&#22312;&#36973;&#21463;SQL&#27880;&#20837;&#25915;&#20987;&#26102;&#20250;&#21464;&#24471;&#20302;&#25928;&#19988;&#19981;&#22570;&#19968;&#20987;&#12290;&#65289;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6418"></a>8.6.&nbsp;&#20351;&#29992;Hibernate&#36807;&#28388;&#22120;</h2></div></div><div></div></div><p>
            Hibernate&#26368;&#37239;&#26368;&#29420;&#29305;&#30340;&#21151;&#33021;&#23601;&#26159; <span class="emphasis"><em>&#36807;&#28388;&#22120;&#65288;filter&#65289;</em></span>&#12290;&#36807;&#28388;&#22120;&#33021;&#35753;&#20320;&#25552;&#20379;&#19968;&#20010;&#25968;&#25454;&#24211;&#20013;&#25968;&#25454;&#30340;&#21463;&#38480;&#35270;&#22270;&#12290;
            &#20294;&#26159;&#24212;&#35813;&#26377;&#19968;&#20010;&#23558;&#36807;&#28388;&#22120;&#21512;&#24182;&#21040;Seam&#24212;&#29992;&#20013;&#30340;&#31616;&#20415;&#26041;&#27861;&#65292;&#35753;&#23427;&#21644;Seam&#24212;&#29992;&#26694;&#26550;&#33021;&#24037;&#20316;&#24471;&#24456;&#22909;&#12290;
        </p><p>
            Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#21487;&#20197;&#23450;&#20041;&#19968;&#31995;&#21015;&#30340;&#36807;&#28388;&#22120;&#65292;&#36825;&#20123;&#36807;&#28388;&#22120;&#22312;&#19968;&#20010; <tt class="literal">EntityManager</tt> &#25110;&#32773; Hibernate <tt class="literal">Session</tt> &#34987;&#21019;&#24314;&#26102;&#21551;&#29992;&#12290;&#65288;&#24403;&#28982;&#65292;&#23427;&#20204;&#21482;&#33021;&#22312;Hibernate&#20570;&#25345;&#20037;&#21270;&#24213;&#23618;&#26102;&#20351;&#29992;&#65289;
        </p><pre class="programlisting">&lt;persistence:filter name="regionFilter"&gt;
    &lt;persistence:name&gt;region&lt;/persistence:name&gt;
    &lt;persistence:parameters&gt;
        &lt;key&gt;regionCode&lt;/key&gt;
        &lt;value&gt;#{region.code}&lt;/value&gt;
    &lt;/persistence:parameters&gt;
&lt;/persistence:filter&gt;

&lt;persistence:filter name="currentFilter"&gt;
    &lt;persistence:name&gt;current&lt;/persistence:name&gt;
    &lt;persistence:parameters&gt;
        &lt;key&gt;date&lt;/key&gt;
        &lt;value&gt;#{currentDate}&lt;/value&gt;
    &lt;/persistence:parameters&gt;
&lt;/persistence:filter&gt;

&lt;persistence:managed-persistence-context name="personDatabase"
    persistence-unit-jndi-name="java:/EntityManagerFactories/personDatabase"&gt;
    &lt;core:filters&gt;
        &lt;value&gt;#{regionFilter}&lt;/value&gt;
        &lt;value&gt;#{currentFilter}&lt;/value&gt;
    &lt;/core:filters&gt;
&lt;/persistence:managed-persistence-context&gt;</pre></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="validation"></a>Chapter&nbsp;9.&nbsp;Seam&#20013;&#30340;JSF&#34920;&#21333;&#39564;&#35777;</h2></div></div><div></div></div><p>
        &#22312;&#26222;&#36890;JSF&#20013;&#65292;&#39564;&#35777;&#22312;&#35270;&#22270;&#20013;&#23450;&#20041;:
    </p><pre class="programlisting">&lt;h:form&gt;
    &lt;h:messages/&gt;

    &lt;div&gt;
        Country:
        &lt;h:inputText value="#{location.country}" required="true"&gt;
            &lt;my:validateCountry/&gt;
        &lt;/h:inputText&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Zip code:
        &lt;h:inputText value="#{location.zip}" required="true"&gt;
            &lt;my:validateZip/&gt;
        &lt;/h:inputText&gt;
    &lt;/div&gt;

    &lt;h:commandButton/&gt;
&lt;/h:form&gt;</pre><p>
        &#22312;&#23454;&#36341;&#20013;&#65292;&#36825;&#31181;&#26041;&#24335;&#24120;&#24120;&#36829;&#32972;&#20102;DRY&#21407;&#21017;&#65292;&#22240;&#20026;&#24456;&#22810;&#8220;validation&#8221;&#23454;&#38469;&#19978;&#20381;&#36182;&#30340;&#32422;&#26463;&#26159;&#25968;&#25454;&#27169;&#22411;&#30340;&#19968;&#37096;&#20998;&#65292;&#32780;&#19988;&#20063;&#26377;&#24456;&#22810;&#26041;&#27861;&#24341;&#20837;&#25968;&#25454;&#24211;Schema&#23450;&#20041;&#12290;
        Seam&#20351;&#29992;Hibernate Validator&#26469;&#25552;&#20379;&#23545;&#22522;&#20110;model&#30340;&#32422;&#26463;&#25903;&#25345;&#12290;
    </p><p>
        &#35753;&#25105;&#20204;&#20174;&#23450;&#20041; <tt class="literal">Location</tt> &#31867;&#30340;&#32422;&#26463;&#24320;&#22987;&#65306;
    </p><pre class="programlisting">public class Location {
    private String country;
    private String zip;

    @NotNull
    @Length(max=30)
    public String getCountry() { return country; }
    public void setCountry(String c) { country = c; }

    @NotNull
    @Length(max=6)
    @Pattern("^\d*$")
    public String getZip() { return zip; }
    public void setZip(String z) { zip = z; }
}</pre><p>
        &#22909;&#65292;&#36825;&#26159;&#19968;&#20010;&#19981;&#38169;&#30340;&#20999;&#20837;&#28857;&#65292;&#20294;&#22312;&#23454;&#36341;&#20013;&#20351;&#29992;&#33258;&#23450;&#20041;&#30340;&#32422;&#26463;&#21487;&#33021;&#27604; Hibernate Validator &#26356;&#20248;&#38597;&#65306;
    </p><pre class="programlisting">public class Location {
    private String country;
    private String zip;

    @NotNull
    @Country
    public String getCountry() { return country; }
    public void setCountry(String c) { country = c; }

    @NotNull
    @ZipCode
    public String getZip() { return zip; }
    public void setZip(String z) { zip = z; }
}</pre><p>
        &#26080;&#35770;&#25105;&#20204;&#20351;&#29992;&#21738;&#31181;&#26041;&#24335;&#65292;&#37117;&#19981;&#38656;&#35201;&#22312;JSF&#39029;&#38754;&#20013;&#25351;&#23450;&#39564;&#35777;&#31867;&#22411;&#12290;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992; <tt class="literal">&lt;s:validate&gt;</tt> &#26469;&#39564;&#35777;&#23450;&#20041;&#22312;model&#23545;&#35937;&#19978;&#30340;&#32422;&#26463;&#12290;
    </p><pre class="programlisting">&lt;h:form&gt;
    &lt;h:messages/&gt;

    &lt;div&gt;
        Country:
        &lt;h:inputText value="#{location.country}" required="true"&gt;
            &lt;s:validate/&gt;
        &lt;/h:inputText&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Zip code:
        &lt;h:inputText value="#{location.zip}" required="true"&gt;
            &lt;s:validate/&gt;
        &lt;/h:inputText&gt;
    &lt;/div&gt;

    &lt;h:commandButton/&gt;

&lt;/h:form&gt;</pre><p>
         <span class="emphasis"><em>&#27880;&#24847;&#65306;</em></span> &#22312;model&#19978;&#25351;&#23450; <tt class="literal">@NotNull</tt> <span class="emphasis"><em>&#24182;&#19981;&#33021;</em></span> &#22312;&#25511;&#21046;&#19978;&#30465;&#21435; <tt class="literal">required="true"</tt>&#65281;
         &#36825;&#26159;&#22240;&#20026;JSF&#39564;&#35777;&#26550;&#26500;&#30340;&#38480;&#21046;&#12290;
     </p><p>
        &#36825;&#31181;&#26041;&#24335;&#22312;model&#20013; <span class="emphasis"><em>&#23450;&#20041;</em></span> &#32422;&#26463;&#65292;&#28982;&#21518;&#22312;&#34920;&#29616;&#23618;&#20013; <span class="emphasis"><em>&#23637;&#31034;</em></span> &#32422;&#26463;&#36829;&#20363; &#8212; &#36825;&#26174;&#28982;&#26159;&#19968;&#31181;&#26356;&#22909;&#30340;&#35774;&#35745;&#12290;
    </p><p>
         &#20294;&#26159;&#65292;&#36825;&#24182;&#19981;&#27604;&#25105;&#20204;&#20043;&#21069;&#30340;&#26041;&#27861;&#31616;&#20415;&#22810;&#23569;&#65292;&#25152;&#20197;&#35753;&#25105;&#20204;&#35797;&#35797; <tt class="literal">&lt;s:validateAll&gt;</tt>&#65306;
     </p><pre class="programlisting">&lt;h:form&gt;

    &lt;h:messages/&gt;

    &lt;s:validateAll&gt;

        &lt;div&gt;
            Country:
            &lt;h:inputText value="#{location.country}" required="true"/&gt;
        &lt;/div&gt;

        &lt;div&gt;
            Zip code:
            &lt;h:inputText value="#{location.zip}" required="true"/&gt;
        &lt;/div&gt;

        &lt;h:commandButton/&gt;

    &lt;/s:validateAll&gt;

&lt;/h:form&gt;</pre><p>
         &#36825;&#20010;&#26631;&#31614;&#21482;&#26159;&#31616;&#21333;&#22320;&#32473;&#34920;&#21333;&#20013;&#30340;&#27599;&#20010;&#36755;&#20837;&#26694;&#22686;&#21152; <tt class="literal">&lt;s:validate&gt;</tt> &#26631;&#31614;&#12290;
         &#23545;&#20110;&#19968;&#20010;&#22823;&#30340;&#34920;&#21333;&#26469;&#35828;&#65292;&#36825;&#33021;&#22815;&#20943;&#23569;&#24456;&#22810;&#25171;&#23383;&#24037;&#20316;&#37327;&#65281;
     </p><p>
         &#29616;&#22312;&#25105;&#20204;&#38656;&#35201;&#20570;&#20123;&#20107;&#24773;&#26469;&#26174;&#31034;&#39564;&#35777;&#22833;&#36133;&#26102;&#30340;&#21453;&#39304;&#28040;&#24687;&#12290;&#24403;&#21069;&#25105;&#20204;&#26159;&#22312;&#34920;&#21333;&#30340;&#19978;&#26041;&#26174;&#31034;&#25152;&#26377;&#28040;&#24687;&#12290;
         &#32780;&#25105;&#20204;&#30495;&#27491;&#24819;&#35201;&#20570;&#30340;&#26159;&#22312;&#20540;&#22495;&#21518;&#38754;&#26174;&#31034;&#38169;&#35823;&#30340;&#25552;&#31034;&#28040;&#24687;&#65288;&#26222;&#36890;JSF&#20063;&#21487;&#20197;&#23454;&#29616;&#65289;&#65292;&#39640;&#20142;&#26174;&#31034;&#23383;&#27573;&#21644;&#26631;&#31614;&#65288;&#26222;&#36890;JSF&#26080;&#27861;&#23454;&#29616;&#65289;&#65292;
         &#26356;&#22909;&#30340;&#26159;&#22312;&#23383;&#27573;&#21518;&#38754;&#26174;&#31034;&#19968;&#20123;&#22270;&#29255;&#65288;&#26222;&#36890;JSF&#21516;&#26679;&#26080;&#27861;&#23454;&#29616;&#65289;&#12290;
         &#25105;&#20204;&#36824;&#24076;&#26395;&#22312;&#27599;&#20010;&#24517;&#39035;&#36755;&#20837;&#30340;&#23383;&#27573;&#25152;&#23545;&#24212;&#30340;&#26631;&#35760;&#21069;&#26174;&#31034;&#19968;&#20010;&#26377;&#39068;&#33394;&#30340;*&#21495;&#12290;
     </p><p>
         &#36825;&#30340;&#30830;&#32473;&#34920;&#21333;&#20013;&#30340;&#27599;&#20010;&#23383;&#27573;&#22686;&#21152;&#20102;&#19981;&#23569;&#21151;&#33021;&#12290;
         &#25105;&#20204;&#19981;&#24076;&#26395;&#32473;&#34920;&#21333;&#20013;&#30340;&#27599;&#19968;&#20010;&#23383;&#27573;&#25351;&#23450;&#22270;&#29255;&#12289;&#28040;&#24687;&#21644;&#36755;&#20837;&#23383;&#27573;&#30340;&#39640;&#20142;&#26174;&#31034;&#21644;&#24067;&#23616;&#12290;&#25152;&#20197;&#25105;&#20204;&#23558;&#36890;&#29992;&#24067;&#23616;&#23450;&#20041;&#22312;facelets&#27169;&#26495;&#20013;&#12290;
     </p><pre class="programlisting">&lt;ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:s="http://jboss.com/products/seam/taglib"&gt;

    &lt;div&gt;

        &lt;s:label styleClass="#{invalid?'error':''}"&gt;
            &lt;ui:insert name="label"/&gt;
            &lt;s:span styleClass="required" rendered="#{required}"&gt;*&lt;/s:span&gt;
        &lt;/s:label&gt;

        &lt;span class="#{invalid?'error':''}"&gt;
            &lt;h:graphicImage src="img/error.gif" rendered="#{invalid}"/&gt;
            &lt;s:validateAll&gt;
                &lt;ui:insert/&gt;
            &lt;/s:validateAll&gt;
        &lt;/span&gt;

        &lt;s:message styleClass="error"/&gt;

    &lt;/div&gt;

&lt;/ui:composition&gt;</pre><p>
         &#25105;&#20204;&#21487;&#20197;&#36890;&#36807; <tt class="literal">&lt;s:decorate&gt;</tt> &#35753;&#27599;&#19968;&#20010;&#34920;&#21333;&#23383;&#27573;&#37117;&#20351;&#29992;&#36825;&#20010;&#27169;&#26495;&#12290;
     </p><pre class="programlisting">&lt;h:form&gt;

    &lt;h:messages globalOnly="true"/&gt;

    &lt;s:decorate template="edit.xhtml"&gt;
        &lt;ui:define name="label"&gt;Country:&lt;/ui:define&gt;
        &lt;h:inputText value="#{location.country}" required="true"/&gt;
    &lt;/s:decorate&gt;

    &lt;s:decorate template="edit.xhtml"&gt;
        &lt;ui:define name="label"&gt;Zip code:&lt;/ui:define&gt;
        &lt;h:inputText value="#{location.zip}" required="true"/&gt;
    &lt;/s:decorate&gt;

    &lt;h:commandButton/&gt;

&lt;/h:form&gt;</pre><p>
        &#26368;&#21518;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992; RichFaces Ajax &#26469;&#22312;&#29992;&#25143;&#27983;&#35272;&#34920;&#21333;&#26102;&#26174;&#31034;&#39564;&#35777;&#28040;&#24687;&#65306;
    </p><pre class="programlisting">&lt;h:form&gt;

    &lt;h:messages globalOnly="true"/&gt;

    &lt;s:decorate id="countryDecoration" template="edit.xhtml"&gt;
        &lt;ui:define name="label"&gt;Country:&lt;/ui:define&gt;
        &lt;h:inputText value="#{location.country}" required="true"&gt;
            &lt;a:support event="onblur" reRender="countryDecoration" bypassUpdates="true"/&gt;
        &lt;/h:inputText&gt;
    &lt;/s:decorate&gt;

    &lt;s:decorate id="zipDecoration" template="edit.xhtml"&gt;
        &lt;ui:define name="label"&gt;Zip code:&lt;/ui:define&gt;
        &lt;h:inputText value="#{location.zip}" required="true"&gt;
            &lt;a:support event="onblur" reRender="zipDecoration" bypassUpdates="true"/&gt;
        &lt;/h:inputText&gt;
    &lt;/s:decorate&gt;

    &lt;h:commandButton/&gt;

&lt;/h:form&gt;</pre><p>
        &#26368;&#22909;&#20026;&#39029;&#38754;&#19978;&#30340;&#37325;&#35201;&#25511;&#20214;&#23450;&#20041;&#26174;&#24335;&#30340;id&#65292;&#29305;&#21035;&#26159;&#24403;&#20320;&#24076;&#26395;&#29992;&#20687; Selenium &#36825;&#26679;&#30340;&#24037;&#20855;&#26469;&#36827;&#34892;UI&#33258;&#21160;&#21270;&#27979;&#35797;&#26102;&#12290;
        &#22914;&#26524;&#20320;&#27809;&#26377;&#25552;&#20379;&#26174;&#24335;&#30340;id&#65292;JSF&#20250;&#29983;&#25104;&#23427;&#20204;&#65292;&#20294;&#20219;&#20309;&#39029;&#38754;&#19978;&#30340;&#25913;&#21160;&#37117;&#20250;&#23548;&#33268;&#29983;&#25104;&#30340;&#20540;&#21457;&#29983;&#21464;&#21270;&#12290;
    </p><pre class="programlisting">&lt;h:form id="form"&gt;

    &lt;h:messages globalOnly="true"/&gt;

    &lt;s:decorate id="countryDecoration" template="edit.xhtml"&gt;
        &lt;ui:define name="label"&gt;Country:&lt;/ui:define&gt;
        &lt;h:inputText id="country" value="#{location.country}" required="true"&gt;
            &lt;a:support event="onblur" reRender="countryDecoration" bypassUpdates="true"/&gt;
        &lt;/h:inputText&gt;
    &lt;/s:decorate&gt;

    &lt;s:decorate id="zipDecoration" template="edit.xhtml"&gt;
        &lt;ui:define name="label"&gt;Zip code:&lt;/ui:define&gt;
        &lt;h:inputText id="zip" value="#{location.zip}" required="true"&gt;
            &lt;a:support event="onblur" reRender="zipDecoration" bypassUpdates="true"/&gt;
        &lt;/h:inputText&gt;
    &lt;/s:decorate&gt;

    &lt;h:commandButton/&gt;

&lt;/h:form&gt;</pre><p>
		&#20294;&#26159;&#65292;&#22914;&#26524;&#20320;&#24819;&#22312;&#39564;&#35777;&#22833;&#36133;&#26102;&#25351;&#23450;&#21435;&#26174;&#31034;&#19981;&#21516;&#30340;&#28040;&#24687;&#21448;&#35813;&#24590;&#20040;&#20570;&#21602;&#65311;&#21487;&#20197;&#20351;&#29992;Seam&#23545;Hibernate Validator&#30340;&#28040;&#24687;&#32465;&#23450;&#65306;
		&#65288;&#21516;&#26679;&#20063;&#21253;&#25324;&#20854;&#20013;&#37027;&#20123;&#31867;&#20284;el&#34920;&#36798;&#24335;&#21644;&#29420;&#31435;&#35270;&#22270;&#28040;&#24687;&#32465;&#23450;&#20043;&#31867;&#30340;&#21508;&#31181;&#22909;&#22788;&#65289;
	</p><pre class="programlisting">public class Location {
    private String name;
    private String zip;

    // Getters and setters for name

    @NotNull
    @Length(max=6)
    @ZipCode(message="#{messages['location.zipCode.invalid']}")
    public String getZip() { return zip; }
    public void setZip(String z) { zip = z; }
}</pre><pre class="programlisting">
location.zipCode.invalid = The zip code is not valid for #{location.name}
</pre></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="groovy"></a>Chapter&nbsp;10.&nbsp;Groovy&#38598;&#25104;</h2></div></div><div></div></div><p>JBoss Seam&#30340;&#19968;&#20010;&#29305;&#24615;&#23601;&#26159;&#20855;&#26377;RAD&#65288;&#24555;&#36895;&#24212;&#29992;&#24320;&#21457;&#65289;&#33021;&#21147;&#12290;&#34429;&#28982;&#21160;&#24577;&#35821;&#35328;&#19982;RAD&#24182;&#38750;&#21516;&#19968;&#20010;&#24847;&#24605;&#65292;&#20294;&#23427;&#21364;&#26159;&#35813;&#39046;&#22495;&#20869;&#30340;&#19968;&#20010;&#21313;&#20998;&#26377;&#36259;&#30340;&#24037;&#20855;&#12290;
    &#30452;&#21040;&#26368;&#36817;&#65292;&#36873;&#25321;&#19968;&#31181;&#21160;&#24577;&#35821;&#35328;&#23601;&#24517;&#39035;&#36873;&#25321;&#23436;&#20840;&#19981;&#21516;&#30340;&#24320;&#21457;&#24179;&#21488;&#65288;&#19968;&#20010;&#24102;&#26377;&#19968;&#31995;&#21015;API&#21644;&#36816;&#34892;&#29615;&#22659;&#30340;&#24320;&#21457;&#24179;&#21488;&#65292;&#22914;&#26524;&#20320;&#19981;&#24819;&#20877;&#20351;&#29992;&#26087;&#30340;Java API&#65292;
    &#36825;&#21487;&#33021;&#26159;&#19968;&#31181;&#24184;&#36816;&#65292;&#22240;&#20026;&#20320;&#21487;&#33021;&#19981;&#24471;&#19981;&#34987;&#36843;&#20351;&#29992;&#24179;&#21488;&#25552;&#20379;&#30340;&#31169;&#26377;API&#65289;&#12290;
    <a href="http://groovy.codehaus.org" target="_top">Groovy</a> &#25171;&#30772;&#20102;&#36825;&#20010;&#32422;&#26463;&#65292;&#23427;&#26159;&#26500;&#24314;&#22312;Java&#34394;&#25311;&#26426;&#20043;&#19978;&#30340;&#21160;&#24577;&#35821;&#35328;&#12290;
	</p><p>&#29616;&#22312;&#65292;JBoss Seam&#36890;&#36807;&#38745;&#24577;&#35821;&#35328;&#21644;&#21160;&#24577;&#35821;&#35328;&#30340;&#26080;&#32541;&#38598;&#25104;&#25226;&#21160;&#24577;&#35821;&#35328;&#19990;&#30028;&#21644;Java EE&#19990;&#30028;&#32467;&#21512;&#36215;&#26469;&#12290;
	JBoss Seam&#35753;&#24320;&#21457;&#20154;&#21592;&#22312;&#20219;&#21153;&#20013;&#20351;&#29992;&#26368;&#20339;&#30340;&#24037;&#20855;&#65292;&#32780;&#19981;&#38656;&#35201;&#20851;&#24515;&#19978;&#19979;&#25991;&#20999;&#25442;&#12290;
	&#32534;&#20889;&#19968;&#20010;&#21160;&#24577;Seam&#32452;&#20214;&#21644;&#32534;&#20889;&#26222;&#36890;&#30340;Seam&#32452;&#20214;&#27809;&#20160;&#20040;&#20004;&#26679;&#65292;&#20320;&#20351;&#29992;&#30456;&#21516;&#30340;&#27880;&#37322;&#12289;&#30456;&#21516;&#30340;API&#65292;&#25152;&#26377;&#30340;&#19968;&#20999;&#37117;&#26159;&#30456;&#21516;&#30340;&#12290;
	</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6534"></a>10.1.&nbsp;Groovy&#31616;&#20171;</h2></div></div><div></div></div><p>Groovy&#26159;&#19968;&#20010;&#22522;&#20110;Java&#34394;&#25311;&#26426;&#30340;&#25935;&#25463;&#21160;&#24577;&#35821;&#35328;&#65292;&#23427;&#34701;&#21512;&#20102;&#20174;Python&#65292;Ruby&#21644;Smalltalk&#31561;&#35821;&#35328;&#20013;&#30340;&#35832;&#22810;&#29305;&#24615;&#12290;Groovy&#30340;&#24378;&#22823;&#20307;&#29616;&#22312;&#20004;&#20010;&#26041;&#38754;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>Groovy&#25903;&#25345;Java&#35821;&#27861;&#65306;Java&#20195;&#30721;&#23601;&#26159;Groovy&#20195;&#30721;&#65292;&#20351;&#23398;&#20064;&#26354;&#32447;&#38750;&#24120;&#24179;&#28369;&#65292;&#21363;&#23398;&#20064;&#30340;&#38590;&#24230;&#21464;&#24471;&#38750;&#24120;&#20302;&#12290;</p></li><li><p>Groovy&#23545;&#35937;&#23601;&#26159;Java&#23545;&#35937;&#65292;Groovy&#31867;&#23601;&#26159;Java&#31867;&#65306;Groovy&#26080;&#32541;&#38598;&#25104;&#25152;&#26377;&#24050;&#32463;&#23384;&#22312;&#30340;Java&#23545;&#35937;&#21644;&#31867;&#24211;&#12290;</p></li></ul></div><p>TODO: &#20877;&#20889;&#19968;&#20010;Groovy&#35821;&#27861;&#30340;&#24555;&#36895;&#20837;&#38376;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6548"></a>10.2.&nbsp;&#29992;Groovy&#32534;&#20889;Seam&#24212;&#29992;</h2></div></div><div></div></div><p>&#36825;&#20010;&#27809;&#26377;&#20160;&#20040;&#21487;&#22810;&#35828;&#30340;&#65292;Groovy&#23545;&#35937;&#23601;&#26159;Java&#23545;&#35937;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;Groovy&#32534;&#20889;&#20219;&#20309;Seam&#32452;&#20214;&#25110;&#32773;Java&#31867;&#24182;&#37096;&#32626;&#23427;&#20204;&#12290;
		&#20320;&#20063;&#21487;&#20197;&#22312;&#19968;&#20010;&#24212;&#29992;&#20013;&#28151;&#21512;&#20351;&#29992;Groovy&#21644;Java&#31867;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6553"></a>10.2.1.&nbsp;&#32534;&#20889;Groovy&#32452;&#20214;</h3></div></div><div></div></div><p>&#20320;&#21487;&#33021;&#24050;&#32463;&#27880;&#24847;&#21040;&#65292;Seam&#22823;&#37327;&#30340;&#20351;&#29992;&#27880;&#35299;&#65288;annotation&#65289;&#12290;&#35201;&#24819;Groovy&#25903;&#25345;&#27880;&#35299;&#24517;&#39035;&#30830;&#20445;&#20854;&#29256;&#26412;&#22312;1.1 Beta1&#20197;&#19978;&#12290;
            &#19979;&#38754;&#26159;&#22312;Seam&#24212;&#29992;&#20013;&#20351;&#29992;Groovy&#20195;&#30721;&#30340;&#20363;&#23376;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e6558"></a>10.2.1.1.&nbsp;&#23454;&#20307;</h4></div></div><div></div></div><pre class="programlisting">    @Entity
    @Name("hotel")
    class Hotel implements Serializable
    {
        @Id @GeneratedValue
        Long id

        @Length(max=50) @NotNull
        String name

        @Length(max=100) @NotNull
        String address

        @Length(max=40) @NotNull
        String city

        @Length(min=2, max=10) @NotNull
        String state

        @Length(min=4, max=6) @NotNull
        String zip

        @Length(min=2, max=40) @NotNull
        String country

        @Column(precision=6, scale=2)
        BigDecimal price

        @Override
        String toString()
        {
            return "Hotel(${name},${address},${city},${zip})"
        }
    }</pre><p>Groovy&#26412;&#36523;&#23601;&#25903;&#25345;&#65288;getter/setter&#65289;&#26041;&#27861;&#29305;&#24615;&#65292;&#25152;&#20197;&#20320;&#19981;&#29992;&#26174;&#31034;&#30340;&#32534;&#20889;&#20887;&#38271;&#30340;getter&#21644;setter&#26041;&#27861;&#65306;&#22312;&#21069;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;
				Hotel&#31867;&#21487;&#20197;&#36890;&#36807; <tt class="code">hotel.getCity()</tt> &#36825;&#26679;&#30340;&#35821;&#27861;&#34987;Java&#35775;&#38382;&#21040;&#65292;getter&#21644;setter&#26041;&#27861;&#26159;&#22312;Groovy&#32534;&#35793;&#26102;&#29983;&#25104;&#30340;&#12290;
				&#36825;&#26679;&#30340;&#35821;&#27861;&#35753;&#23454;&#20307;&#20195;&#30721;&#21464;&#24471;&#38750;&#24120;&#31616;&#27905;&#12290;</p><p>Groovy1.1 Beta1&#26242;&#26102;&#36824;&#19981;&#25903;&#25345;&#27867;&#22411;&#65288;Generics&#65289;&#12290;&#19968;&#20010;&#36127;&#38754;&#24433;&#21709;&#26159;&#23454;&#20307;&#20851;&#31995;&#27809;&#26377;&#20869;&#32622;&#30340;&#31867;&#22411;&#20449;&#24687;&#12290;
				&#36825;&#23601;&#24517;&#39035;&#36866;&#24403;&#30340;&#20351;&#29992; <tt class="literal">@*ToMany</tt> &#27880;&#35299;&#26469;&#20195;&#26367;&#31616;&#21333;&#30340;&#33539;&#22411;&#23450;&#20041;&#65292;&#23601;&#20687; <tt class="code">Collection&lt;Entity&gt;</tt>&#12290;
				&#20986;&#20110;&#21516;&#26679;&#30340;&#21407;&#22240;&#65292;&#20320;&#20063;&#19981;&#33021;&#20174;&#38750;&#24120;&#26377;&#29992;&#30340; <a href="#framework" title="Chapter&nbsp;11.&nbsp;Seam&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;">Chapter&nbsp;11, <i>Seam&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;</i></a> &#20013;&#21463;&#30410;&#12290;&#22909;&#28040;&#24687;&#26159;Groovy1.1&#27491;&#24335;&#29256;&#23558;&#25903;&#25345;&#33539;&#22411;&#65288;Groovy1.1 Beta2&#27491;&#22312;&#32534;&#20889;&#20013;&#65289;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e6578"></a>10.2.1.2.&nbsp;Seam&#32452;&#20214;</h4></div></div><div></div></div><p>&#20351;&#29992;Groovy&#32534;&#20889;Seam&#32452;&#20214;&#19982;&#20351;&#29992;Java&#27809;&#26377;&#20160;&#20040;&#21306;&#21035;&#65306;&#20351;&#29992;&#27880;&#35299;&#23558;&#31867;&#26631;&#35760;&#20026;Seam&#32452;&#20214;&#12290;</p><pre class="programlisting">@Scope(ScopeType.SESSION)
@Name("bookingList")
class BookingListAction implements Serializable
{
    @In EntityManager em
    @In User user
    @DataModel List&lt;Booking&gt; bookings
    @DataModelSelection Booking booking
    @Logger Log log

    @Factory public void getBookings()
    {
        bookings = em.createQuery('''
                select b from Booking b
                where b.user.username = :username
                order by b.checkinDate''')
            .setParameter("username", user.username)
            .getResultList()
    }

    public void cancel()
    {
        log.info("Cancel booking: #{bookingList.booking.id} for #{user.username}")
        Booking cancelled = em.find(Booking.class, booking.id)
        if (cancelled != null) em.remove( cancelled )
        getBookings()
        FacesMessages.instance().add("Booking cancelled for confirmation number #{bookingList.booking.id}", new Object[0])
    }
}</pre><p></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6586"></a>10.2.2.&nbsp;seam-gen</h3></div></div><div></div></div><p>Seam gen&#36879;&#26126;&#22320;&#38598;&#25104;&#20102;Groovy&#12290;&#20320;&#21487;&#20197;&#22312;&#26377;seam-gen&#25903;&#25345;&#30340;&#39033;&#30446;&#20013;&#32534;&#20889;Groovy&#20195;&#30721;&#32780;&#19981;&#38656;&#35201;&#20219;&#20309;&#38468;&#21152;&#25903;&#25345;&#12290;
			&#24403;&#20320;&#32534;&#20889;&#19968;&#20010;Groovy&#23454;&#20307;&#65292;&#21482;&#38656;&#35201;&#25226; <tt class="filename">.groovy</tt> &#25991;&#20214;&#25918;&#22312; <tt class="filename">src/model</tt> &#30446;&#24405;&#20013;&#21363;&#21487;&#12290;
			&#21516;&#26679;&#30340;&#22914;&#26524;&#32534;&#20889;&#19968;&#20010;action&#65292;&#21482;&#35201;&#25226; <tt class="filename">.groovy</tt> &#25991;&#20214;&#25918;&#22312; <tt class="filename">src/action</tt> &#30446;&#24405;&#20013;&#23601;&#21487;&#20197;&#20102;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6603"></a>10.3.&nbsp;&#37096;&#32626;</h2></div></div><div></div></div><p>&#37096;&#32626;Groovy&#31867;&#19982;&#37096;&#32626;Java&#31867;&#38750;&#24120;&#30456;&#20687;&#12290;&#65288;&#20196;&#20154;&#24778;&#35766;&#30340;&#26159;&#65292;&#19981;&#38656;&#35201;&#32534;&#20889;&#25110;&#32773;&#36981;&#24490;&#26576;&#20010;3&#20010;&#23383;&#27597;&#30340;&#35268;&#33539;&#20197;&#25903;&#25345;&#22810;&#22269;&#35821;&#35328;&#32452;&#20214;&#26694;&#26550;&#65289;&#12290;</p><p>JBoss Seam&#25317;&#26377;&#36229;&#36234;&#26631;&#20934;&#37096;&#32626;&#30340;&#33021;&#21147;&#65292;&#23601;&#26159;&#22312;&#24320;&#21457;&#26102;&#37325;&#26032;&#37096;&#32626;JavaBean Seam&#32452;&#20214;&#31867;&#32780;&#19981;&#24517;&#37325;&#21551;&#24212;&#29992;&#31243;&#24207;&#65292;&#36825;&#22312;&#24320;&#21457;&#65295;&#27979;&#35797;&#21608;&#26399;&#20013;&#33410;&#30465;&#20102;&#24456;&#22810;&#26102;&#38388;&#12290;
		&#22312; <tt class="filename">.groovy</tt> &#25991;&#20214;&#34987;&#37096;&#32626;&#26102;&#65292;Seam&#23545;GroovyBean Seam &#32452;&#20214;&#20063;&#25552;&#20379;&#20102;&#21516;&#26679;&#30340;&#28909;&#37096;&#32626;&#25903;&#25345;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6613"></a>10.3.1.&nbsp;&#37096;&#32626;Groovy&#20195;&#30721;</h3></div></div><div></div></div><p>Groovy&#31867;&#23601; <span class="emphasis"><em>&#26159;</em></span> Java&#31867;&#65292;&#21644;Java&#31867;&#26377;&#30528;&#21516;&#26679;&#30340;&#23383;&#33410;&#30721;&#12290;
			&#37096;&#32626;&#19968;&#20010;Groovy&#23454;&#20307;&#12289;Groovy Session Bean&#25110;&#32773;Groovy Seam&#32452;&#20214;&#65292;&#32534;&#35793;&#27493;&#39588;&#26159;&#19981;&#21487;&#32570;&#23569;&#30340;&#12290;&#19968;&#20010;&#36890;&#29992;&#30340;&#26041;&#27861;&#26159;&#20351;&#29992; <tt class="literal">groovyc</tt> Ant&#20219;&#21153;&#12290;
			&#19968;&#26086;&#32534;&#35793;&#65292;Groovy&#31867;&#21644;Java&#31867;&#19981;&#20877;&#26377;&#21306;&#21035;&#65292;&#24212;&#29992;&#26381;&#21153;&#22120;&#23558;&#23427;&#19982;Java&#31867;&#21516;&#26679;&#23545;&#24453;&#12290;&#36825;&#35753;Groovy&#19982;Java&#31867;&#26080;&#32541;&#38598;&#25104;&#36215;&#26469;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6624"></a>10.3.2.&nbsp;&#24320;&#21457;&#26102;&#37096;&#32626;&#26412;&#22320;.groovy&#25991;&#20214;</h3></div></div><div></div></div><p>JBoss Seam&#26412;&#36523;&#25903;&#25345; <tt class="literal">.groovy</tt> &#25991;&#20214;&#65288;&#19981;&#29992;&#32534;&#35793;&#65289;&#30340;&#22686;&#37327;&#28909;&#37096;&#32626;&#65288;&#24517;&#39035;&#26159;&#24320;&#21457;&#27169;&#24335;&#65289;&#12290;&#36825;&#35753;&#32534;&#36753;/&#27979;&#35797;&#21608;&#26399;&#38750;&#24120;&#30701;&#12290;
			&#20026;&#20102;&#35774;&#32622;.groovy&#37096;&#32626;&#65292;&#35831;&#25353;&#29031; <a href="#gettingstarted-hotdeployment" title="2.7.&nbsp;Seam&#19982;&#22686;&#37327;&#28909;&#37096;&#32626;">Section&nbsp;2.7, &#8220;Seam&#19982;&#22686;&#37327;&#28909;&#37096;&#32626;&#8221;</a> &#36827;&#34892;&#37197;&#32622;&#65292;&#28982;&#21518;&#37096;&#32626;&#20320;&#30340;Groovy&#20195;&#30721;&#65288;<tt class="filename">.groovy</tt>&#25991;&#20214;&#65289;&#21040; <tt class="filename">WEB-INF/dev</tt> &#30446;&#24405;&#19979;&#12290;
			&#19981;&#38656;&#35201;&#37325;&#21551;&#24212;&#29992;&#31243;&#24207;&#65292;GroovyBean&#32452;&#20214;&#23558;&#34987;&#22686;&#37327;&#21551;&#29992;&#65288;&#24403;&#28982;&#36816;&#34892;&#24212;&#29992;&#31243;&#24207;&#30340;&#26381;&#21153;&#22120;&#20063;&#19981;&#24517;&#37325;&#21551;&#65289;&#12290;</p><p>&#26412;&#22320;&#30340;.groovy&#25991;&#20214;&#30340;&#37096;&#32626;&#21644;&#20854;&#20182;&#30340;Seam&#28909;&#37096;&#32626;&#26377;&#21516;&#26679;&#30340;&#23616;&#38480;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#32452;&#20214;&#24517;&#39035;&#26159;JavaBean&#25110;GroovyBean&#12290;&#19981;&#33021;&#26159;EJB3 Bean</p></li><li><p>&#23454;&#20307;&#19981;&#33021;&#28909;&#37096;&#32626;</p></li><li><p>&#34987;&#28909;&#37096;&#32626;&#30340;&#32452;&#20214;&#23545;&#37096;&#32626;&#22312; <tt class="literal">WEB-INF/dev</tt> &#20197;&#22806;&#30340;&#20219;&#20309;&#31867;&#37117;&#26159;&#19981;&#21487;&#35265;&#30340;</p></li><li><p>&#24517;&#39035;&#29992;Seam Debug&#27169;&#24335;</p></li></ul></div><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6659"></a>10.3.3.&nbsp;seam-gen</h3></div></div><div></div></div><p>Seam-gen&#36879;&#26126;&#22320;&#25903;&#25345;Groovy&#25991;&#20214;&#30340;&#37096;&#32626;&#21644;&#32534;&#35793;&#12290;&#21253;&#25324;&#26412;&#22320; <tt class="filename">.groovy</tt> &#25991;&#20214;&#22312;&#24320;&#21457;&#27169;&#24335;&#65288;&#26410;&#32534;&#35793;&#30340;&#65289;&#19979;&#30340;&#37096;&#32626;&#12290;
			&#22914;&#26524;&#20320;&#26500;&#24314;&#20102;&#19968;&#20010;WAR&#31867;&#22411;&#30340;seam-gen&#39033;&#30446;&#65292;&#22312; <tt class="filename">src/action</tt> &#30446;&#24405;&#19979;&#30340;Java&#21644;Groovy&#31867;&#20250;&#33258;&#21160;&#21442;&#19982;&#22686;&#37327;&#28909;&#37096;&#32626;&#12290;
			&#22914;&#26524;&#20320;&#22312;&#29983;&#20135;&#27169;&#24335;&#19979;&#65292;Groovy&#25991;&#20214;&#20250;&#22312;&#37096;&#32626;&#20043;&#21069;&#34987;&#32534;&#35793;&#12290;</p><p>&#20320;&#23558;&#22312; <tt class="filename">examples/groovybooking</tt> &#30446;&#24405;&#19979;&#30340;Booking Demo&#20013;&#25214;&#21040;&#19968;&#20010;&#25903;&#25345;&#22686;&#37327;&#28909;&#37096;&#32626;&#30340;&#23436;&#20840;&#29992;Groovy&#20889;&#30340;&#20363;&#23376;&#12290;</p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="framework"></a>Chapter&nbsp;11.&nbsp;Seam&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;</h2></div></div><div></div></div><p>
        Seam&#36890;&#36807;&#32534;&#20889;&#24102;&#26377;&#27880;&#35299;&#30340;&#31616;&#21333;Java&#31867;&#26469;&#35753;&#21019;&#24314;&#24212;&#29992;&#31243;&#24207;&#30340;&#24037;&#20316;&#21464;&#24471;&#38750;&#24120;&#31616;&#21333;&#65292;&#19981;&#38656;&#25193;&#23637;&#20219;&#20309;&#29305;&#23450;&#25509;&#21475;&#21644;&#29238;&#31867;&#12290;&#20294;&#24120;&#35265;&#30340;&#32534;&#31243;&#20219;&#21153;&#36824;&#33021;&#36827;&#19968;&#27493;&#31616;&#21270;&#65292;&#36825;&#26159;&#36890;&#36807;&#19968;&#32452;&#39044;&#20808;&#21019;&#24314;&#30340;&#32452;&#20214;&#36827;&#34892;&#30340;&#65292;&#23427;&#20204;&#33021;&#22815;&#30001; <tt class="literal">component.xml</tt> &#25991;&#20214;&#37197;&#32622;&#65288;&#26368;&#31616;&#21333;&#30340;&#24773;&#20917;&#65289;&#25110;&#32773;&#31867;&#25193;&#23637;&#32780;&#23454;&#29616;&#22797;&#29992;&#12290;
    </p><p>
        &#22312;&#19968;&#20010;Web&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;Hibernate&#25110;&#32773;JPA&#36827;&#34892;&#22522;&#26412;&#30340;&#25968;&#25454;&#24211;&#25805;&#20316;&#26102;&#65292;<span class="emphasis"><em>Seam Application Framework&#65288;Seam&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;&#65289;</em></span> &#33021;&#22815;&#20943;&#23569;&#20320;&#38656;&#35201;&#20070;&#20889;&#30340;&#20195;&#30721;&#37327;&#12290;
    </p><p>
        &#25105;&#20204;&#38656;&#35201;&#24378;&#35843;&#30340;&#26159;&#65292;&#36825;&#20010;&#26694;&#26550;&#38750;&#24120;&#30340;&#31616;&#21333;&#65292;&#21482;&#26159;&#23569;&#37327;&#30340;&#26131;&#20110;&#29702;&#35299;&#21644;&#25193;&#23637;&#30340;&#31616;&#21333;&#31867;&#12290;
        &#8220;&#39764;&#21147;&#8221;&#26469;&#33258;&#20110;Seam&#33258;&#36523; &#8212; &#21363;&#20351;&#27809;&#26377;&#29992;&#36825;&#20010;&#26694;&#26550;&#26469;&#21019;&#24314;&#20219;&#20309;Seam&#24212;&#29992;&#31243;&#24207;&#30340;&#26102;&#20505;&#65292;&#20320;&#20063;&#21516;&#26679;&#29992;&#21040;&#36825;&#19968;&#8220;&#39764;&#21147;&#8221;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6690"></a>11.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>
            &#26377;&#20004;&#31181;&#19981;&#21516;&#30340;&#26041;&#27861;&#20351;&#29992;Seam Application Framework&#25152;&#25552;&#20379;&#30340;&#32452;&#20214;&#12290;&#31532;&#19968;&#31181;&#26041;&#27861;&#26159;&#20687;&#22788;&#29702;&#20854;&#20182;&#31181;&#31867;&#30340;Seam&#20869;&#32622;&#32452;&#20214;&#19968;&#26679;&#65292;&#22312; <tt class="literal">components.xml</tt> &#20013;&#23433;&#35013;&#21644;&#37197;&#32622;&#32452;&#20214;&#30340;&#23454;&#20363;&#12290;
            &#20030;&#20363;&#26469;&#35828;&#65292;&#19979;&#21015; <tt class="literal">components.xml</tt> &#20013;&#30340;&#29255;&#27573;&#23433;&#35013;&#20102;&#19968;&#20010;&#33021;&#22815;&#20026; <tt class="literal">Person</tt> &#23454;&#20307;&#25191;&#34892;&#22522;&#26412;&#30340;CRUD&#65288;&#21019;&#24314;(Create)&#12289;&#35835;&#21462;(Retrieve) &#12289;&#26356;&#26032;(Update)&#21644;&#21024;&#38500;(Delete)&#65289;&#25805;&#20316;&#30340;&#32452;&#20214;&#65306;
        </p><pre class="programlisting">&lt;framework:entity-home name="personHome"
                       entity-class="eg.Person"
                       entity-manager="#{personDatabase}"&gt;
    &lt;framework:id&gt;#{param.personId}&lt;/framework:id&gt;
&lt;/framework:entity-home&gt;</pre><p>
            &#22914;&#26524;&#19978;&#38754;&#30340;&#20195;&#30721;&#25353;&#20320;&#30340;&#21475;&#21619;&#26469;&#35828;&#22826;&#20687;&#8220;&#29992;XML&#32534;&#31243;&#8221;&#65292;&#20320;&#21487;&#20197;&#25913;&#20026;&#20351;&#29992;&#25193;&#23637;&#65306;
        </p><pre class="programlisting">@Stateful
@Name("personHome")
public class PersonHome extends EntityHome&lt;Person&gt; implements LocalPersonHome {
    @RequestParameter String personId;
    @In EntityManager personDatabase;

    public Object getId() { return personId; }
    public EntityManager getEntityManager() { return personDatabase; }

}</pre><p>
            &#31532;&#20108;&#31181;&#26041;&#27861;&#26377;&#19968;&#20010;&#24456;&#22823;&#30340;&#20248;&#28857;&#65306;&#20320;&#33021;&#22815;&#26041;&#20415;&#22320;&#28155;&#21152;&#39069;&#22806;&#30340;&#21151;&#33021;&#65292;&#35206;&#30422;&#20869;&#32622;&#30340;&#21151;&#33021;&#65288;&#26694;&#26550;&#30340;&#31867;&#37117;&#31934;&#24515;&#35774;&#35745;&#20197;&#20415;&#20110;&#25193;&#23637;&#21644;&#23450;&#21046;&#65289;&#12290;
        </p><p>
           &#31532;&#20108;&#20010;&#20248;&#28857;&#26159;&#65306;&#22914;&#26524;&#20320;&#21916;&#27426;&#30340;&#35805;&#65292;&#20320;&#30340;&#31867;&#21487;&#20197;&#26159;&#26377;&#29366;&#24577;&#20250;&#35805;Bean&#65288;&#36825;&#19981;&#26159;&#24517;&#39035;&#30340;&#65292;&#20063;&#21487;&#20197;&#26159;&#26222;&#36890;&#30340;JavaBean&#32452;&#20214;&#65292;&#22914;&#26524;&#20320;&#21916;&#27426;&#30340;&#35805;&#65289;&#12290;&#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;JBoss AS&#65292;&#20320;&#38656;&#35201;&#20351;&#29992;4.2.2.GA&#25110;&#26356;&#39640;&#30340;&#29256;&#26412;&#12290;
        </p><p>
			&#30446;&#21069;&#65292;Seam&#24212;&#29992;&#26694;&#26550;&#25552;&#20379;&#20102;&#22235;&#20010;&#20869;&#32622;&#30340;&#32452;&#20214;&#65306;&#29992;&#20110;CRUD&#25805;&#20316;&#30340; <tt class="literal">EntityHome</tt> &#21644; <tt class="literal">HibernateEntityHome</tt> &#20197;&#21450;&#29992;&#20110;&#26597;&#35810;&#30340; <tt class="literal">EntityQuery</tt> &#21644; <tt class="literal">HibernateEntityQuery</tt>&#12290;
        </p><p>
            &#20320;&#24471;&#32534;&#20889;Home&#21644;Query&#32452;&#20214;&#65292;&#23427;&#20204;&#33021;&#22312;session&#12289;event&#25110;conversation&#20316;&#29992;&#33539;&#22260;&#20013;&#36816;&#34892;&#65292;&#33267;&#20110;&#36873;&#25321;&#21738;&#20010;scope&#21462;&#20915;&#20110;&#20320;&#25152;&#24076;&#26395;&#22312;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;&#30340;&#29366;&#24577;&#27169;&#22411;&#12290;
        </p><p>
            Seam&#24212;&#29992;&#26694;&#26550;&#20165;&#22312;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#20013;&#24037;&#20316;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#36825;&#20123;&#32452;&#20214;&#20250;&#23547;&#25214;&#19968;&#20010;&#21483;&#20570; <tt class="literal">entityManager</tt> &#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6735"></a>11.2.&nbsp;Home&#23545;&#35937;</h2></div></div><div></div></div><p>
            Home&#23545;&#35937;&#23545;&#29305;&#23450;&#30340;&#23454;&#20307;&#31867;&#25552;&#20379;&#25345;&#20037;&#21270;&#25805;&#20316;&#65292;&#20551;&#35774;&#25105;&#20204;&#26377;&#20010;&#21487;&#38752;&#30340; <tt class="literal">Person</tt> &#31867;&#65306;
        </p><pre class="programlisting">@Entity
public class Person {
    @Id private Long id;
    private String firstName;
    private String lastName;
    private Country nationality;

    //getters and setters...
}</pre><p>
         &#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#37197;&#32622;&#23450;&#20041;&#19968;&#20010; <tt class="literal">personHome</tt> &#32452;&#20214;&#65306;
        </p><pre class="programlisting">&lt;framework:entity-home name="personHome" entity-class="eg.Person" /&gt;</pre><p>
            &#20063;&#21487;&#20197;&#36890;&#36807;&#31867;&#30340;&#25193;&#23637;
        </p><pre class="programlisting">@Name("personHome")
public class PersonHome extends EntityHome&lt;Person&gt; {}</pre><p>
             Home&#23545;&#35937;&#25552;&#20379;&#20102;&#22914;&#19979;&#30340;&#25805;&#20316;&#65306;<tt class="literal">persist()</tt>&#12289;<tt class="literal">remove()</tt>&#12289;<tt class="literal">update()</tt> &#21644; <tt class="literal">getInstance()</tt>&#12290;
             &#22312;&#20320;&#33021;&#22815;&#35843;&#29992; <tt class="literal">remove()</tt> &#25110; <tt class="literal">update()</tt> &#25805;&#20316;&#20043;&#21069;&#65292;&#20320;&#24517;&#39035;&#39318;&#20808;&#20351;&#29992; <tt class="literal">setId()</tt> &#26041;&#27861;&#23450;&#20041;&#20320;&#24863;&#20852;&#36259;&#30340;&#23545;&#35937;&#30340;&#26631;&#35782;&#31526;&#12290;
        </p><p>
            &#25105;&#20204;&#21487;&#20197;&#30452;&#25509;&#20174;&#19968;&#20010;JSF&#39029;&#38754;&#20351;&#29992;&#19968;&#20010;Home&#65292;&#22914;&#19979;&#20363;&#65306;
        </p><pre class="programlisting">&lt;h1&gt;Create Person&lt;/h1&gt;
&lt;h:form&gt;
    &lt;div&gt;First name: &lt;h:inputText value="#{personHome.instance.firstName}"/&gt;&lt;/div&gt;
    &lt;div&gt;Last name: &lt;h:inputText value="#{personHome.instance.lastName}"/&gt;&lt;/div&gt;
    &lt;div&gt;
        &lt;h:commandButton value="Create Person" action="#{personHome.persist}"/&gt;
    &lt;/div&gt;
&lt;/h:form&gt;</pre><p>
            &#36890;&#24120;&#65292;&#21482;&#29992;<tt class="literal">person</tt> &#25351;&#26126;person&#28418;&#20142;&#24471;&#22810;&#65292;&#25152;&#20197;&#22312; <tt class="literal">components.xml</tt> &#20013;&#28155;&#21152;&#19968;&#34892;&#35821;&#21477;&#26469;&#23454;&#29616;&#12290;
        </p><pre class="programlisting">&lt;factory name="person"
         value="#{personHome.instance}"/&gt;

&lt;framework:entity-home name="personHome"
                       entity-class="eg.Person" /&gt;</pre><p>
            &#65288;&#22914;&#26524;&#25105;&#20204;&#20351;&#29992;&#37197;&#32622;&#30340;&#26041;&#27861;&#12290;&#65289;
            &#25110;&#32773;&#65292;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#21521; <tt class="literal">PersonHome</tt> &#20013;&#28155;&#21152;&#19968;&#20010; <tt class="literal">@Factory</tt> &#26041;&#27861;&#26469;&#23454;&#29616;&#65306;
        </p><pre class="programlisting">@Name("personHome")
public class PersonHome extends EntityHome&lt;Person&gt; {

    @Factory("person")
    public Person initPerson() { return getInstance(); }

}</pre><p>
            &#65288;&#22914;&#26524;&#25105;&#20204;&#20351;&#29992;&#31867;&#25193;&#23637;&#30340;&#26041;&#27861;&#65289;
            &#36825;&#20010;&#20462;&#25913;&#20351;&#25105;&#20204;&#30340;JSF&#39029;&#38754;&#31616;&#21270;&#22914;&#19979;&#65306;
        </p><pre class="programlisting">&lt;h1&gt;Create Person&lt;/h1&gt;
&lt;h:form&gt;
    &lt;div&gt;First name: &lt;h:inputText value="#{person.firstName}"/&gt;&lt;/div&gt;
    &lt;div&gt;Last name: &lt;h:inputText value="#{person.lastName}"/&gt;&lt;/div&gt;
    &lt;div&gt;
        &lt;h:commandButton value="Create Person" action="#{personHome.persist}"/&gt;
    &lt;/div&gt;
&lt;/h:form&gt;</pre><p>
            &#22909;&#65292;&#36825;&#23601;&#21487;&#20197;&#29992;&#26469;&#21019;&#24314;&#26032;&#30340; <tt class="literal">Person</tt> &#23454;&#20307;&#20102;&#12290;&#26159;&#30340;&#65292;&#36825;&#23601;&#26159;&#25152;&#38656;&#30340;&#20840;&#37096;&#20195;&#30721;&#65281;&#29616;&#22312;&#65292;&#22914;&#26524;&#25105;&#20204;&#24819;&#26174;&#31034;&#65292;&#26356;&#26032;&#65292;&#21024;&#38500;&#25968;&#25454;&#24211;&#20013;&#24050;&#32463;&#23384;&#22312;&#30340; <tt class="literal">Person</tt> &#23454;&#20307;&#65292;&#25105;&#20204;&#38656;&#35201;&#23558;&#23454;&#20307;&#26631;&#35782;&#31526;&#20256;&#36882;&#32473; <tt class="literal">PersonHome</tt>&#12290;&#39029;&#38754;&#21442;&#25968;&#26159;&#19968;&#31181;&#38750;&#24120;&#22909;&#30340;&#23454;&#29616;&#26041;&#24335;&#65306;
        </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/editPerson.jsp"&gt;
        &lt;param name="personId" value="#{personHome.id}"/&gt;
    &lt;/page&gt;
&lt;/pages&gt;</pre><p>
            &#29616;&#22312;&#65292;&#25105;&#20204;&#21487;&#20197;&#21521;JSF&#39029;&#38754;&#20013;&#22686;&#21152;&#20854;&#20182;&#30340;&#25805;&#20316;&#65306;
        </p><pre class="programlisting">&lt;h1&gt;
    &lt;h:outputText rendered="#{!personHome.managed}" value="Create Person"/&gt;
    &lt;h:outputText rendered="#{personHome.managed}" value="Edit Person"/&gt;
&lt;/h1&gt;
&lt;h:form&gt;
    &lt;div&gt;First name: &lt;h:inputText value="#{person.firstName}"/&gt;&lt;/div&gt;
    &lt;div&gt;Last name: &lt;h:inputText value="#{person.lastName}"/&gt;&lt;/div&gt;
    &lt;div&gt;
        &lt;h:commandButton value="Create Person" action="#{personHome.persist}" rendered="#{!personHome.managed}"/&gt;
        &lt;h:commandButton value="Update Person" action="#{personHome.update}" rendered="#{personHome.managed}"/&gt;
        &lt;h:commandButton value="Delete Person" action="#{personHome.remove}" rendered="#{personHome.managed}"/&gt;
    &lt;/div&gt;
&lt;/h:form&gt;</pre><p>
            &#24403;&#25105;&#20204;&#27809;&#26377;&#24102;&#20219;&#20309;&#35831;&#27714;&#21442;&#25968;&#38142;&#25509;&#21040;&#35813;&#39029;&#38754;&#26102;&#65292;&#20250;&#26174;&#31034;"Create Person"&#39029;&#38754;&#65292;&#24403;&#25105;&#20204;&#20026; <tt class="literal">personId</tt> &#36825;&#20010;&#35831;&#27714;&#21442;&#25968;&#35774;&#23450;&#19968;&#20010;&#20540;&#26102;&#65292;&#20250;&#26174;&#31034;&#8220;Edit Person&#8221;&#39029;&#38754;&#12290;
        </p><p>
            &#20551;&#35774;&#25105;&#20204;&#38656;&#35201;&#21019;&#24314;&#19968;&#20123; <tt class="literal">Person</tt> &#23454;&#20307;&#65292;&#24182;&#19988;&#21021;&#22987;&#21270;&#36825;&#20123;&#20154;&#30340;&#22269;&#31821;&#12290;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#37197;&#32622;&#24456;&#36731;&#26494;&#22320;&#23436;&#25104;&#65306;
        </p><pre class="programlisting">&lt;factory name="person"
         value="#{personHome.instance}"/&gt;

&lt;framework:entity-home name="personHome"
                       entity-class="eg.Person"
                       new-instance="#{newPerson}"/&gt;

&lt;component name="newPerson"
           class="eg.Person"&gt;
    &lt;property name="nationality"&gt;#{country}&lt;/property&gt;
&lt;/component&gt;</pre><p>
             &#20063;&#21487;&#20197;&#36890;&#36807;&#25193;&#23637;&#31867;
         </p><pre class="programlisting">@Name("personHome")
public class PersonHome extends EntityHome&lt;Person&gt; {

    @In Country country;

    @Factory("person")
    public Person initPerson() { return getInstance(); }

    protected Person createInstance() {
        return new Person(country);
    }

}</pre><p>
            &#24403;&#28982;&#65292;<tt class="literal">Country</tt> &#26159;&#19968;&#20010;&#34987;&#20854;&#23427;&#30340;Home&#23545;&#35937;&#31649;&#29702;&#30340;&#23545;&#35937;&#65292;&#27604;&#22914;&#35828;&#65292;<tt class="literal">CountryHome</tt>&#12290;
        </p><p>
            &#20026;&#20102;&#22686;&#21152;&#26356;&#22810;&#22797;&#26434;&#30340;&#25805;&#20316;&#65288;&#32852;&#21512;&#31649;&#29702;&#31561;&#31561;&#65289;&#65292;&#25105;&#20204;&#21487;&#20197;&#21521; <tt class="literal">PersonHome</tt> &#20013;&#28155;&#21152;&#26041;&#27861;&#12290;
        </p><pre class="programlisting">@Name("personHome")
public class PersonHome extends EntityHome&lt;Person&gt; {

    @In Country country;

    @Factory("person")
    public Person initPerson() { return getInstance(); }

    protected Person createInstance() {
        return new Person(country);
    }

    public void migrate()
    {
        getInstance().setCountry(country);
        update();
    }

}</pre><p>
			&#24403;&#20107;&#21153;&#25104;&#21151;&#20043;&#21518;&#65288;&#35843;&#29992; <tt class="literal">persist()</tt>&#12289;<tt class="literal">update()</tt> &#25110; <tt class="literal">remove()</tt> &#25104;&#21151;&#21518;&#65289;&#65292;Home&#23545;&#35937;&#20250;&#21457;&#20986;&#19968;&#20010; <tt class="literal">org.jboss.seam.afterTransactionSuccess</tt> &#20107;&#20214;&#12290;
			&#36890;&#36807;&#30417;&#21548;&#36825;&#19968;&#20107;&#20214;&#65292;&#25105;&#20204;&#21487;&#20197;&#22312;&#24213;&#23618;&#23454;&#20307;&#25913;&#21464;&#21518;&#65292;&#21047;&#26032;&#26597;&#35810;&#12290;
			&#22914;&#26524;&#25105;&#20204;&#21482;&#38656;&#35201;&#22312;&#29305;&#23450;&#30340;&#23454;&#20307;&#20445;&#23384;&#12289;&#20462;&#25913;&#25110;&#21024;&#38500;&#21518;&#21047;&#26032;&#29305;&#23450;&#26597;&#35810;&#65292;&#25105;&#20204;&#21487;&#20197;&#30417;&#35270; <tt class="literal">org.jboss.seam.afterTransactionSuccess.&lt;name&gt;</tt> &#20107;&#20214;&#65288;<tt class="literal">&lt;name&gt;</tt> &#26159;&#23454;&#20307;&#30340;&#21517;&#23383;&#65289;&#12290;
		</p><p>
            &#24403;&#19968;&#20010;&#25805;&#20316;&#25104;&#21151;&#26102;&#65292;Home&#23545;&#35937;&#21487;&#20197;&#33258;&#21160;&#22320;&#26174;&#31034;Faces&#20449;&#24687;&#65292;&#25105;&#20204;&#21487;&#20197;&#20877;&#19968;&#27425;&#36890;&#36807;&#37197;&#32622;&#26469;&#23450;&#21046;&#20449;&#24687;&#12290;
        </p><pre class="programlisting">&lt;factory name="person"
         value="#{personHome.instance}"/&gt;

&lt;framework:entity-home name="personHome"
                       entity-class="eg.Person"
                       new-instance="#{newPerson}"&gt;
    &lt;framework:created-message&gt;New person #{person.firstName} #{person.lastName} created&lt;/framework:created-message&gt;
    &lt;framework:deleted-message&gt;Person #{person.firstName} #{person.lastName} deleted&lt;/framework:deleted-message&gt;
    &lt;framework:updated-message&gt;Person #{person.firstName} #{person.lastName} updated&lt;/framework:updated-message&gt;
&lt;/framework:entity-home&gt;

&lt;component name="newPerson"
           class="eg.Person"&gt;
    &lt;property name="nationality"&gt;#{country}&lt;/property&gt;
&lt;/component&gt;</pre><p>
             &#25110;&#32773;&#25193;&#23637;&#65306;
         </p><pre class="programlisting">@Name("personHome")
public class PersonHome extends EntityHome&lt;Person&gt; {

    @In Country country;

    @Factory("person")
    public Person initPerson() { return getInstance(); }

    protected Person createInstance() {
        return new Person(country);
    }

    protected String getCreatedMessage() { return "New person #{person.firstName} #{person.lastName} created"; }
    protected String getUpdatedMessage() { return "Person #{person.firstName} #{person.lastName} updated"; }
    protected String getDeletedMessage() { return "Person #{person.firstName} #{person.lastName} deleted"; }

}</pre><p>
            &#20294;&#26159;&#25351;&#23450;&#20449;&#24687;&#26368;&#22909;&#30340;&#26041;&#27861;&#26159;&#25226;&#20449;&#24687;&#32622;&#20110;Seam&#25152;&#30693;&#30340;resource bundle&#20013;&#65288;&#22312;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;bundle&#21483;&#20570; <tt class="literal">messages</tt> &#65289;&#12290;
        </p><pre class="programlisting">Person_created=New person #{person.firstName} #{person.lastName} created
Person_deleted=Person #{person.firstName} #{person.lastName} deleted
Person_updated=Person #{person.firstName} #{person.lastName} updated</pre><p>
			&#36825;&#26679;&#26041;&#20415;&#36827;&#34892;&#22269;&#38469;&#21270;&#65292;&#20174;&#34920;&#29616;&#23618;&#30340;&#35282;&#24230;&#32771;&#34385;&#20063;&#20445;&#25345;&#20102;&#20195;&#30721;&#21644;&#37197;&#32622;&#30340;&#25972;&#27905;&#12290;
        </p><p>
            &#26368;&#21518;&#19968;&#27493;&#26159;&#20351;&#29992; <tt class="literal">&lt;s:validateAll&gt;</tt> &#21644; <tt class="literal">&lt;s:decorate&gt;</tt> &#21521;&#39029;&#38754;&#20013;&#28155;&#21152;&#39564;&#35777;&#21151;&#33021;&#65292;&#25105;&#20250;&#25226;&#36825;&#20010;&#30041;&#32473;&#20320;&#20204;&#33258;&#24049;&#21435;&#23454;&#29616;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6900"></a>11.3.&nbsp;Query&#23545;&#35937;</h2></div></div><div></div></div><p>
            &#22914;&#26524;&#25105;&#20204;&#38656;&#35201;&#25968;&#25454;&#24211;&#20013;&#25152;&#26377; <tt class="literal">Person</tt> &#23454;&#20363;&#30340;&#21015;&#34920;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;Query&#23545;&#35937;&#65292;&#20363;&#22914;&#65306;
        </p><pre class="programlisting">&lt;framework:entity-query name="people"
                        ejbql="select p from Person p"/&gt;</pre><p>
            &#25105;&#20204;&#21487;&#20197;&#20174;&#19968;&#20010;JSF&#39029;&#38754;&#20013;&#20351;&#29992;&#23427;&#65306;
        </p><pre class="programlisting">&lt;h1&gt;List of people&lt;/h1&gt;
&lt;h:dataTable value="#{people.resultList}" var="person"&gt;
    &lt;h:column&gt;
        &lt;s:link view="/editPerson.jsp" value="#{person.firstName} #{person.lastName}"&gt;
            &lt;f:param name="personId" value="#{person.id}"/&gt;
        &lt;/s:link&gt;
    &lt;/h:column&gt;
&lt;/h:dataTable&gt;</pre><p>
            &#25105;&#20204;&#21487;&#33021;&#38656;&#35201;&#25903;&#25345;&#20998;&#39029;&#65306;
        </p><pre class="programlisting">&lt;framework:entity-query name="people"
                        ejbql="select p from Person p"
                        order="lastName"
                        max-results="20"/&gt;</pre><p>
            &#25105;&#20204;&#21487;&#20197;&#20351;&#29992;page&#21442;&#25968;&#26469;&#20915;&#23450;&#34987;&#26174;&#31034;&#30340;&#39029;&#38754;
        </p><pre class="programlisting">&lt;pages&gt;
    &lt;page view-id="/searchPerson.jsp"&gt;
        &lt;param name="firstResult" value="#{people.firstResult}"/&gt;
    &lt;/page&gt;
&lt;/pages&gt;</pre><p>
            &#29992;&#20110;&#20998;&#39029;&#30340;JSF&#20195;&#30721;&#21487;&#33021;&#26377;&#28857;&#20887;&#38271;&#65292;&#20294;&#20173;&#28982;&#26159;&#20415;&#20110;&#31649;&#29702;&#30340;&#65306;
        </p><pre class="programlisting">&lt;h1&gt;Search for people&lt;/h1&gt;
&lt;h:dataTable value="#{people.resultList}" var="person"&gt;
    &lt;h:column&gt;
        &lt;s:link view="/editPerson.jsp" value="#{person.firstName} #{person.lastName}"&gt;
            &lt;f:param name="personId" value="#{person.id}"/&gt;
        &lt;/s:link&gt;
    &lt;/h:column&gt;
&lt;/h:dataTable&gt;

&lt;s:link view="/search.xhtml" rendered="#{people.previousExists}" value="First Page"&gt;
    &lt;f:param name="firstResult" value="0"/&gt;
&lt;/s:link&gt;

&lt;s:link view="/search.xhtml" rendered="#{people.previousExists}" value="Previous Page"&gt;
    &lt;f:param name="firstResult" value="#{people.previousFirstResult}"/&gt;
&lt;/s:link&gt;

&lt;s:link view="/search.xhtml" rendered="#{people.nextExists}" value="Next Page"&gt;
    &lt;f:param name="firstResult" value="#{people.nextFirstResult}"/&gt;
&lt;/s:link&gt;

&lt;s:link view="/search.xhtml" rendered="#{people.nextExists}" value="Last Page"&gt;
    &lt;f:param name="firstResult" value="#{people.lastFirstResult}"/&gt;
&lt;/s:link&gt;</pre><p>
            &#30495;&#23454;&#30340;&#25628;&#32034;&#30028;&#38754;&#33021;&#22815;&#36890;&#36807;&#35753;&#29992;&#25143;&#36755;&#20837;&#19968;&#31995;&#21015;&#30340;&#21487;&#36873;&#30340;&#25628;&#32034;&#26631;&#20934;&#26469;&#32553;&#23567;&#36820;&#22238;&#30340;&#32467;&#26524;&#21015;&#34920;&#12290;Query&#23545;&#35937;&#36890;&#36807;&#35753;&#20320;&#25351;&#23450;&#21487;&#36873;&#30340;&#8220;&#32422;&#26463;&#8221;&#26469;&#25903;&#25345;&#36825;&#20010;&#37325;&#35201;&#30340;&#29992;&#20363;&#12290;
        </p><pre class="programlisting">&lt;component name="examplePerson" class="Person"/&gt;

&lt;framework:entity-query name="people"
                        ejbql="select p from Person p"
                        order="lastName"
                        max-results="20"&gt;
    &lt;framework:restrictions&gt;
        &lt;value&gt;lower(firstName) like lower( concat(#{examplePerson.firstName},'%') )&lt;/value&gt;
        &lt;value&gt;lower(lastName) like lower( concat(#{examplePerson.lastName},'%') )&lt;/value&gt;
    &lt;/framework:restrictions&gt;
&lt;/framework:entity-query&gt;</pre><p>
            &#27880;&#24847;&#8220;example&#8221;&#23545;&#35937;&#30340;&#20351;&#29992;&#12290;
        </p><pre class="programlisting">&lt;h1&gt;Search for people&lt;/h1&gt;
&lt;h:form&gt;
    &lt;div&gt;First name: &lt;h:inputText value="#{examplePerson.firstName}"/&gt;&lt;/div&gt;
    &lt;div&gt;Last name: &lt;h:inputText value="#{examplePerson.lastName}"/&gt;&lt;/div&gt;
    &lt;div&gt;&lt;h:commandButton value="Search" action="/search.jsp"/&gt;&lt;/div&gt;
&lt;/h:form&gt;

&lt;h:dataTable value="#{people.resultList}" var="person"&gt;
    &lt;h:column&gt;
        &lt;s:link view="/editPerson.jsp" value="#{person.firstName} #{person.lastName}"&gt;
            &lt;f:param name="personId" value="#{person.id}"/&gt;
        &lt;/s:link&gt;
    &lt;/h:column&gt;
&lt;/h:dataTable&gt;</pre><p>
			&#22312;&#24213;&#23618;&#23454;&#20307;&#21457;&#29983;&#25913;&#21464;&#21518;&#65292;&#21487;&#20197;&#36890;&#36807;&#30417;&#21548; <tt class="literal">org.jboss.seam.afterTransactionSuccess</tt> &#20107;&#20214;&#26469;&#21047;&#26032;&#26597;&#35810;&#65306;
		</p><pre class="programlisting">&lt;event type="org.jboss.seam.afterTransactionSuccess"&gt;
    &lt;action execute="#{people.refresh}" /&gt;
&lt;/event&gt;</pre><p>
			&#25110;&#32773;&#65292;&#22312;&#21457;&#29983;&#25345;&#20037;&#21270;&#12289;&#26356;&#26032;&#25110;&#32773;&#21024;&#38500;&#26102;&#65292;&#36890;&#36807; <tt class="literal">PersonHome</tt> &#26469;&#21047;&#26032;&#26597;&#35810;&#65306;
		</p><pre class="programlisting">&lt;event type="org.jboss.seam.afterTransactionSuccess.Person"&gt;
    &lt;action execute="#{people.refresh}" /&gt;
&lt;/event&gt;</pre><p>
            &#36825;&#20010;&#37096;&#20998;&#25152;&#26377;&#30340;&#20363;&#23376;&#37117;&#26159;&#36890;&#36807;&#37197;&#32622;&#26469;&#20307;&#29616;&#37325;&#29992;&#30340;&#65292;&#20294;&#26159;&#65292;&#23545;Query&#23545;&#35937;&#36890;&#36807;&#25193;&#23637;&#26469;&#36827;&#34892;&#37325;&#29992;&#20063;&#26159;&#21487;&#34892;&#30340;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6950"></a>11.4.&nbsp;Controller&#23545;&#35937;</h2></div></div><div></div></div><p>
            <tt class="literal">Controller</tt> &#31867;&#20197;&#21450;&#23427;&#30340;&#23376;&#31867; <tt class="literal">EntityController</tt>&#65292;<tt class="literal">HibernateEntityController</tt> &#21644; <tt class="literal">BusinessProcessController</tt> &#26159;Seam Application Framework&#30340;&#21487;&#36873;&#37096;&#20998;&#12290;
            &#36825;&#20123;&#31867;&#21482;&#26159;&#25552;&#20379;&#20102;&#19968;&#20123;&#35775;&#38382;&#24120;&#29992;&#20869;&#32622;&#32452;&#20214;&#21450;&#36825;&#20123;&#32452;&#20214;&#26041;&#27861;&#30340;&#20415;&#21033;&#25163;&#27573;&#65292;&#23427;&#20204;&#33021;&#22815;&#20943;&#23569;&#19968;&#20123;&#38190;&#30424;&#36755;&#20837;&#37327;&#65292;&#20063;&#20026;&#25506;&#32034;Seam&#20869;&#32622;&#20016;&#23500;&#21151;&#33021;&#30340;&#21021;&#23398;&#32773;&#25552;&#20379;&#20102;&#19968;&#20010;&#38750;&#24120;&#22909;&#30340;&#36339;&#26495;&#12290;
        </p><p>
            &#20363;&#22914;&#65292;&#36825;&#23601;&#26159;Seam&#27880;&#20876;&#23454;&#20363;&#20013;&#30340; <tt class="literal">RegisterAction</tt>&#65306;
        </p><pre class="programlisting">@Stateless
@Name("register")
public class RegisterAction extends EntityController implements Register
{

   @In private User user;

   public String register()
   {
      List existing = createQuery("select u.username from User u where u.username=:username")
         .setParameter("username", user.getUsername())
         .getResultList();

      if ( existing.size()==0 )
      {
         persist(user);
         info("Registered new user #{user.username}");
         return "/registered.jspx";
      }
      else
      {
         addFacesMessage("User #{user.username} already exists");
         return null;
      }
   }

}</pre><p>
            &#27491;&#22914;&#20320;&#25152;&#30475;&#21040;&#30340;&#19968;&#26679;&#65292;&#36825;&#19981;&#26159;&#20160;&#20040;&#24778;&#19990;&#39559;&#20439;&#30340;&#25552;&#39640;...
        </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="drools"></a>Chapter&nbsp;12.&nbsp;Seam&#21644;JBoss&#35268;&#21017;</h2></div></div><div></div></div><p>
        Seam&#31616;&#21270;&#20102;&#22312;Seam&#32452;&#20214;&#25110;jBPM&#36807;&#31243;&#23450;&#20041;&#20013;&#23545;JBoss Rules&#65288;Drools&#65289;&#35268;&#21017;&#24211;&#30340;&#35843;&#29992;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6981"></a>12.1.&nbsp;&#23433;&#35013;&#35268;&#21017;</h2></div></div><div></div></div><p>
            &#31532;&#19968;&#27493;&#26159;&#20351;&#19968;&#20010; <tt class="literal">org.drools.RuleBase</tt> &#30340;&#23454;&#20363;&#22312;Seam&#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#20013;&#21487;&#29992;&#12290;
            &#22522;&#20110;&#27979;&#35797;&#30446;&#30340;&#65292;Seam&#25552;&#20379;&#20102;&#19968;&#20010;&#20869;&#32622;&#32452;&#20214;&#29992;&#26469;&#32534;&#35793;&#26469;&#33258;class&#25628;&#32034;&#36335;&#24452;&#30340;&#19968;&#32452;&#38745;&#24577;&#35268;&#21017;&#12290;&#20320;&#21487;&#20197;&#36890;&#36807; <tt class="literal">components.xml</tt> &#25991;&#20214;&#23433;&#35013;&#27492;&#32452;&#20214;:
        </p><pre class="programlisting">&lt;drools:rule-base name="policyPricingRules"&gt;
    &lt;drools:rule-files&gt;
        &lt;value&gt;policyPricingRules&lt;/value&gt;
    &lt;/drools:rule-files&gt;
&lt;/drools:rule-base&gt;</pre><p>
             &#36825;&#20010;&#32452;&#20214;&#32534;&#35793;&#26469;&#33258;&#19968;&#32452; <tt class="literal">.drl</tt> &#25991;&#20214;&#20013;&#30340;&#35268;&#21017;&#24182;&#22312;Seam&#30340; <tt class="literal">APPLICATION</tt> &#19978;&#19979;&#25991; &#20013;&#32531;&#23384;&#19968;&#20010; <tt class="literal">org.drools.RuleBase</tt> &#23454;&#20363;&#12290;&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#36825;&#21644;&#22312;&#35268;&#21017;&#39537;&#21160;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#38656;&#35201;&#23433;&#35013;&#22810;&#20010;&#35268;&#21017;&#24211;&#24456;&#30456;&#20284;&#12290;
         </p><p>
             &#22914;&#26524;&#20320;&#24819;&#35201;&#20351;&#29992;Drools DSL&#65292;&#20320;&#36824;&#38656;&#35201;&#25351;&#23450;DSL&#23450;&#20041;&#65306;
         </p><pre class="programlisting">&lt;drools:rule-base name="policyPricingRules" dsl-file="policyPricing.dsl"&gt;
    &lt;drools:rule-files&gt;
        &lt;value&gt;policyPricingRules&lt;/value&gt;
    &lt;/drools:rule-files&gt;
&lt;/drools:rule-base&gt;</pre><p>
          &#22312;&#22823;&#22810;&#25968;&#35268;&#21017;&#39537;&#21160;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#65292;&#35268;&#21017;&#38656;&#35201;&#26159;&#21487;&#34987;&#21160;&#24577;&#37096;&#32626;&#30340;&#65292;&#25152;&#20197;&#19968;&#20010;&#29983;&#20135;&#29615;&#22659;&#24212;&#29992;&#31243;&#24207;&#20250;&#38656;&#35201;&#29992;Drools&#35268;&#21017;&#20195;&#29702;&#26469;&#31649;&#29702;&#35268;&#21017;&#24211;&#12290;
          &#35268;&#21017;&#20195;&#29702;&#21487;&#20197;&#36830;&#25509;&#19968;&#20010;Drools&#35268;&#21017;&#26381;&#21153;&#22120;&#65288;BRMS&#65289;&#25110;&#32773;&#28909;&#37096;&#32626;&#26469;&#33258;&#26412;&#22320;&#25991;&#20214;&#20179;&#24211;&#30340;&#35268;&#21017;&#21253;&#12290;&#35268;&#21017;&#20195;&#29702;&#31649;&#29702;&#30340;&#35268;&#21017;&#24211;&#20063;&#22312; <tt class="literal">components.xml</tt> &#20013;&#37197;&#32622;:
        </p><pre class="programlisting">&lt;drools:rule-agent name="insuranceRules"
                    configurationFile="/WEB-INF/deployedrules.properties" /&gt;</pre><p>
        &#23646;&#24615;&#25991;&#20214;&#21253;&#21547;&#26377;&#35268;&#21017;&#20195;&#29702;RulesAgent&#25152;&#29305;&#26377;&#30340;&#23646;&#24615;&#12290;&#36825;&#37324;&#26159;&#19968;&#20010;&#26469;&#33258;Drools&#33539;&#20363;&#21457;&#22411;&#20013;&#30340;&#37197;&#32622;&#25991;&#20214;&#20363;&#23376;&#12290;
        </p><pre class="programlisting">newInstance=true
url=http://localhost:8080/drools-jbrms/org.drools.brms.JBRMS/package/org.acme.insurance/fmeyer
localCacheDir=/Users/fernandomeyer/projects/jbossrules/drools-examples/drools-examples-brms/cache
poll=30
name=insuranceconfig</pre><p>&#32469;&#36807;&#37197;&#32622;&#25991;&#20214;&#65292;&#30452;&#25509;&#37197;&#32622;&#32452;&#20214;&#30340;&#36873;&#39033;&#20063;&#26159;&#21487;&#34892;&#30340;&#12290;</p><pre class="programlisting">&lt;drools:rule-agent name="insuranceRules"
                   url="http://localhost:8080/drools-jbrms/org.drools.brms.JBRMS/package/org.acme.insurance/fmeyer"
                   local-cache-dir="/Users/fernandomeyer/projects/jbossrules/drools-examples/drools-examples-brms/cache"
                   poll="30"
                   configuration-name="insuranceconfig" /&gt;</pre><p>
             &#25509;&#19979;&#26469;&#65292;&#25105;&#20204;&#38656;&#35201;&#20351; <tt class="literal">org.drools.WorkingMemory</tt> &#23454;&#20363;&#23545;&#27599;&#20010;&#23545;&#35805;&#37117;&#21487;&#29992;&#12290;
             &#65288;&#27599;&#20010; <tt class="literal">WorkingMemory</tt> &#32047;&#31215;&#19982;&#24403;&#21069;&#23545;&#35805;&#30456;&#20851;&#30340;fact&#12290;&#65289;
         </p><pre class="programlisting">&lt;drools:managed-working-memory name="policyPricingWorkingMemory" auto-create="true" rule-base="#{policyPricingRules}"/&gt;</pre><p>
             &#35831;&#27880;&#24847;&#65292;&#25105;&#20204;&#36890;&#36807; <tt class="literal">ruleBase</tt> &#37197;&#32622;&#23646;&#24615;&#32473;&#20102; <tt class="literal">policyPricingWorkingMemory</tt> &#19968;&#20010;&#25351;&#22238;&#35268;&#21017;&#24211;&#30340;&#24341;&#29992;&#12290;
         </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7042"></a>12.2.&nbsp;&#22312;Seam&#32452;&#20214;&#20013;&#20351;&#29992;&#35268;&#21017;</h2></div></div><div></div></div><p>
             &#29616;&#22312;&#21487;&#20197;&#23558;&#25105;&#20204;&#30340; <tt class="literal">WorkingMemory</tt> &#27880;&#20837;&#36827;&#20219;&#24847;&#30340;Seam&#32452;&#20214;&#20013;&#20102;&#65292;&#36827;&#34892;&#21028;&#26029;&#24182;&#25191;&#34892;&#35268;&#21017;&#65306;
         </p><pre class="programlisting">@In WorkingMemory policyPricingWorkingMemory;

@In Policy policy;
@In Customer customer;

public void pricePolicy() throws FactException
{
    policyPricingWorkingMemory.assertObject(policy);
    policyPricingWorkingMemory.assertObject(customer);
    policyPricingWorkingMemory.fireAllRules();
}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7052"></a>12.3.&nbsp;&#22312;jBPM&#27969;&#31243;&#23450;&#20041;&#20013;&#20351;&#29992;&#35268;&#21017;</h2></div></div><div></div></div><p>
             &#20320;&#29978;&#33267;&#21487;&#20197;&#29992;&#19968;&#20010;&#35268;&#21017;&#24211;&#26469;&#20805;&#24403;jBPM&#21160;&#20316;&#22788;&#29702;&#22120;&#12289;&#20915;&#23450;&#22788;&#29702;&#22120;&#25110;&#32773;&#20998;&#37197;&#22120;&#8212;&#26080;&#35770;&#26159;&#22312;&#39029;&#38754;&#27969;&#25110;&#32773;&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;&#20013;&#12290;
         </p><pre class="programlisting">&lt;decision name="approval"&gt;

    &lt;handler class="org.jboss.seam.drools.DroolsDecisionHandler"&gt;
        &lt;workingMemoryName&gt;orderApprovalRulesWorkingMemory&lt;/workingMemoryName&gt;
        &lt;assertObjects&gt;
            &lt;element&gt;#{customer}&lt;/element&gt;
            &lt;element&gt;#{order}&lt;/element&gt;
            &lt;element&gt;#{order.lineItems}&lt;/element&gt;
        &lt;/assertObjects&gt;
    &lt;/handler&gt;

    &lt;transition name="approved" to="ship"&gt;
        &lt;action class="org.jboss.seam.drools.DroolsActionHandler"&gt;
            &lt;workingMemoryName&gt;shippingRulesWorkingMemory&lt;/workingMemoryName&gt;
            &lt;assertObjects&gt;
                &lt;element&gt;#{customer}&lt;/element&gt;
                &lt;element&gt;#{order}&lt;/element&gt;
                &lt;element&gt;#{order.lineItems}&lt;/element&gt;
            &lt;/assertObjects&gt;
        &lt;/action&gt;
    &lt;/transition&gt;

    &lt;transition name="rejected" to="cancelled"/&gt;

&lt;/decision&gt;</pre><p>
             <tt class="literal">&lt;assertObjects&gt;</tt> &#20803;&#32032;&#25351;&#23450;&#20102;&#29992;&#26469;&#36820;&#22238;&#35201;&#34987;&#20316;&#20026;fact&#35774;&#32473; <tt class="literal">WorkingMemory</tt> &#30340;&#23545;&#35937;&#25110;&#32773;&#23545;&#35937;&#38598;&#21512;&#30340;EL&#34920;&#36798;&#24335;&#12290;
         </p><p>
             &#38500;&#27492;&#20043;&#22806;&#65292;Seam&#36824;&#25903;&#25345;&#22312;jBPM&#20219;&#21153;&#20998;&#37197;&#20013;&#20351;&#29992;Drools&#65306;
         </p><pre class="programlisting">&lt;task-node name="review"&gt;
    &lt;task name="review" description="Review Order"&gt;
        &lt;assignment handler="org.jboss.seam.drools.DroolsAssignmentHandler"&gt;
            &lt;workingMemoryName&gt;orderApprovalRulesWorkingMemory&lt;/workingMemoryName&gt;
            &lt;assertObjects&gt;
                &lt;element&gt;#{actor}&lt;/element&gt;
                &lt;element&gt;#{customer}&lt;/element&gt;
                &lt;element&gt;#{order}&lt;/element&gt;
                &lt;element&gt;#{order.lineItems}&lt;/element&gt;
            &lt;/assertObjects&gt;
        &lt;/assignment&gt;
    &lt;/task&gt;
    &lt;transition name="rejected" to="cancelled"/&gt;
    &lt;transition name="approved" to="approved"/&gt;
&lt;/task-node&gt;</pre><p>
             &#36825;&#20123;&#23545;&#35937;&#20316;&#20026;Drools global&#25552;&#20379;&#32473;&#35268;&#21017;&#65292;&#21363;jBPM <tt class="literal">Assignable</tt> &#23545;&#35937;&#65288;<tt class="literal">assignable</tt>&#65289;&#21644;Seam <tt class="literal">Decision</tt>&#23545;&#35937;&#65288;<tt class="literal">decision</tt>&#65289;&#12290;
             &#22788;&#29702;&#20915;&#23450;&#30340;&#35268;&#21017;&#24212;&#35813;&#35843;&#29992; <tt class="literal">decision.setOutcome("result")</tt> &#26469;&#20915;&#23450;&#32467;&#26524;&#12290;&#25191;&#34892;&#20998;&#37197;&#30340;&#35268;&#21017;&#35201;&#35843;&#29992; <tt class="literal">Assignable</tt> &#35774;&#32622;&#21442;&#19982;&#32773;id&#12290;
         </p><pre class="programlisting">package org.jboss.seam.examples.shop

import org.jboss.seam.drools.Decision

global Decision decision

rule "Approve Order For Loyal Customer"
  when
    Customer( loyaltyStatus == "GOLD" )
    Order( totalAmount &lt;= 10000 )
  then
    decision.setOutcome("approved");
end</pre><pre class="programlisting">package org.jboss.seam.examples.shop

import org.jbpm.taskmgmt.exe.Assignable

global Assignable assignable

rule "Assign Review For Small Order"
  when
    Order( totalAmount &lt;= 100 )
  then
    assignable.setPooledActors( new String[] {"reviewers"} );
end</pre></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="security"></a>Chapter&nbsp;13.&nbsp;&#23433;&#20840;</h2></div></div><div></div></div><p>
	Seam Security API&#26159;&#20010;&#21487;&#36873;&#30340;Seam&#29305;&#24615;&#65292;&#23427;&#20026;&#20445;&#25252;&#24744;&#30340;Seam&#39033;&#30446;&#20013;&#30340;&#39046;&#22495;&#21644;&#39029;&#38754;&#36164;&#28304;&#25552;&#20379;&#39564;&#35777;&#21644;&#25480;&#26435;&#29305;&#24615;&#12290;
	</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7100"></a>13.1.&nbsp;&#27010;&#36848;</h2></div></div><div></div></div><p>
		Seam Security&#25552;&#20379;&#20004;&#31181;&#19981;&#21516;&#30340;&#25805;&#20316;&#27169;&#24335;&#65306;
		</p><div class="itemizedlist"><ul type="disc"><li><p>
					<span class="emphasis"><em>&#31616;&#21270;&#27169;&#24335;</em></span> - &#36825;&#20010;&#27169;&#24335;&#25903;&#25345;&#39564;&#35777;&#26381;&#21153;&#21644;&#31616;&#21333;&#30340;&#22522;&#20110;&#35282;&#33394;&#30340;&#23433;&#20840;&#24615;&#26816;&#26597;&#12290;
				</p></li><li><p>
					<span class="emphasis"><em>&#39640;&#32423;&#27169;&#24335;</em></span> - &#36825;&#20010;&#27169;&#24335;&#25903;&#25345;&#31616;&#21270;&#27169;&#24335;&#30340;&#25152;&#26377;&#29305;&#24615;&#65292;&#36824;&#21033;&#29992;JBoss Rules&#25552;&#20379;&#22522;&#20110;&#35268;&#21017;&#30340;&#23433;&#20840;&#24615;&#26816;&#26597;&#12290;
				</p></li></ul></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7118"></a>13.1.1.&nbsp;&#21738;&#31181;&#27169;&#24335;&#26356;&#36866;&#21512;&#25105;&#30340;&#24212;&#29992;&#31243;&#24207;&#21602;&#65311;</h3></div></div><div></div></div><p>
			&#36825;&#23436;&#20840;&#21462;&#20915;&#20110;&#24212;&#29992;&#31243;&#24207;&#30340;&#38656;&#27714;&#12290;
			&#22914;&#26524;&#20320;&#30340;&#23433;&#20840;&#24615;&#38656;&#27714;&#19981;&#39640;&#65292;&#20363;&#22914;&#65292;&#22914;&#26524;&#21482;&#24076;&#26395;&#23545;&#30331;&#24405;&#30340;&#29992;&#25143;&#25110;&#32773;&#23646;&#20110;&#26576;&#20010;&#29305;&#23450;&#35282;&#33394;&#30340;&#29992;&#25143;&#38480;&#21046;&#26576;&#20123;&#39029;&#38754;&#21644;&#21160;&#20316;&#65292;&#37027;&#20040;&#31616;&#21270;&#27169;&#24335;&#21487;&#33021;&#23601;&#36275;&#22815;&#20102;&#12290;
			&#36825;&#20010;&#27169;&#24335;&#30340;&#22909;&#22788;&#22312;&#20110;&#23427;&#26159;&#19968;&#31181;&#26356;&#31616;&#21270;&#30340;&#37197;&#32622;&#65292;&#35201;&#21253;&#25324;&#30340;&#24211;&#26126;&#26174;&#26356;&#23569;&#65292;&#21344;&#29992;&#30340;&#20869;&#23384;&#31354;&#38388;&#65288;memory footprint&#65289;&#20063;&#26356;&#23567;&#12290;
			</p><p>
			&#21478;&#19968;&#26041;&#38754;&#65292;&#22914;&#26524;&#24212;&#29992;&#31243;&#24207;&#38656;&#35201;&#26681;&#25454;&#19978;&#19979;&#25991;&#25110;&#32773;&#22797;&#26434;&#30340;&#19994;&#21153;&#35268;&#21017;&#36827;&#34892;&#23433;&#20840;&#24615;&#26816;&#26597;&#65292;&#37027;&#23601;&#38656;&#35201;&#39640;&#32423;&#27169;&#24335;&#25552;&#20379;&#30340;&#29305;&#24615;&#20102;&#12290;
			</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7125"></a>13.2.&nbsp;&#38656;&#27714;</h2></div></div><div></div></div><p>
		&#22914;&#26524;&#20351;&#29992;Seam Security&#30340;&#39640;&#32423;&#27169;&#24335;&#29305;&#24615;&#65292;&#19979;&#21015;jar&#25991;&#20214;&#23601;&#35201;&#37197;&#32622;&#25104; <tt class="literal">application.xml</tt> &#20013;&#30340;&#27169;&#22359;&#12290;
		&#22914;&#26524;&#20320;&#27491;&#22312;&#31616;&#21270;&#27169;&#24335;&#19979;&#20351;&#29992;Seam Security&#65292;&#21017; <span class="emphasis"><em>&#19981;</em></span> &#38656;&#35201;&#36825;&#20123;&#20102;&#65306;
		</p><div class="itemizedlist"><ul type="disc"><li><p>drools-compiler-4.0.0.MR2.jar</p></li><li><p>drools-core-4.0.0.MR2.jar</p></li><li><p>janino-2.5.7.jar</p></li><li><p>antlr-runtime-3.0.jar</p></li><li><p>mvel14-1.2beta16.jar</p></li></ul></div><p>
		&#23545;&#20110;&#22522;&#20110;Web&#30340;&#23433;&#20840;&#24615;&#26469;&#35828;&#65292;<tt class="literal">jboss-seam-ui.jar</tt> &#20063;&#24517;&#39035;&#21253;&#25324;&#22312;&#24212;&#29992;&#31243;&#24207;&#30340;war&#25991;&#20214;&#20013;&#12290;
		</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7157"></a>13.3.&nbsp;&#21462;&#28040;&#23433;&#20840;</h2></div></div><div></div></div><p>
		&#22312;&#26576;&#20123;&#22330;&#26223;&#19979;&#65292;&#21487;&#33021;&#38656;&#35201;&#21462;&#28040;Seam Security&#65292;&#20363;&#22914;&#22312;&#21333;&#20803;&#27979;&#35797;&#30340;&#36807;&#31243;&#20013;&#12290;
		&#21487;&#20197;&#36890;&#36807;&#35843;&#29992;&#38745;&#24577;&#26041;&#27861; <tt class="literal">Identity.setSecurityEnabled(false)</tt> &#26469;&#21462;&#28040;&#23433;&#20840;&#26816;&#26597;&#12290;
		&#36825;&#26679;&#19968;&#26469;&#65292;&#23601;&#21487;&#20197;&#38459;&#27490;&#25191;&#34892;&#22914;&#19979;&#30340;&#20219;&#20309;&#23433;&#20840;&#26816;&#26597;&#65306;
		</p><div class="itemizedlist"><ul type="disc"><li><p>Entity Security</p></li><li><p>Hibernate Security Interceptor</p></li><li><p>Seam Security Interceptor</p></li><li><p>Page restrictions</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7178"></a>13.4.&nbsp;&#39564;&#35777;</h2></div></div><div></div></div><p>
		Seam Security&#25552;&#20379;&#30340;&#39564;&#35777;&#29305;&#24615;&#24314;&#31435;&#22312;JAAS&#65288;Java Authentication&#21644;Authorization Service&#65289;&#20043;&#19978;&#65292;&#32473;&#22788;&#29702;&#29992;&#25143;&#39564;&#35777;&#25552;&#20379;&#31283;&#20581;&#30340;&#12289;&#38750;&#24120;&#23481;&#26131;&#37197;&#32622;&#30340;API&#12290;
		&#28982;&#32780;&#65292;&#23545;&#20110;&#24182;&#19981;&#22797;&#26434;&#30340;&#39564;&#35777;&#38656;&#27714;&#65292;Seam&#25552;&#20379;&#20102;&#19968;&#31181;&#26356;&#21152;&#31616;&#21270;&#30340;&#39564;&#35777;&#26041;&#27861;&#65292;&#38544;&#34255;&#20102;JAAS&#30340;&#22797;&#26434;&#24615;&#12290;
		</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7183"></a>13.4.1.&nbsp;&#37197;&#32622;</h3></div></div><div></div></div><p>
			&#31616;&#21270;&#30340;&#39564;&#35777;&#26041;&#27861;&#20351;&#29992;&#19968;&#31181;&#20869;&#32622;&#30340;JAAS&#30331;&#24405;&#27169;&#22359;&#65306;<tt class="literal">SeamLoginModule</tt>&#65292;&#25226;&#39564;&#35777;&#22996;&#25176;&#32473;&#20320;&#39033;&#30446;&#20013;&#30340;&#19968;&#20010;Seam&#32452;&#20214;&#12290;
			&#36825;&#20010;&#30331;&#24405;&#27169;&#22359;&#24050;&#32463;&#22312;Seam&#20869;&#37096;&#37197;&#32622;&#20026;&#40664;&#35748;&#30340;&#24212;&#29992;&#31574;&#30053;&#30340;&#19968;&#37096;&#20998;&#65292;&#22240;&#27492;&#19981;&#38656;&#35201;&#20219;&#20309;&#39069;&#22806;&#30340;&#37197;&#32622;&#25991;&#20214;&#12290;&#23427;&#20801;&#35768;&#20320;&#21033;&#29992;&#20320;&#33258;&#24049;&#30340;&#24212;&#29992;&#31243;&#24207;&#25552;&#20379;&#30340;&#23454;&#20307;&#31867;&#32534;&#20889;&#39564;&#35777;&#26041;&#27861;&#12290;
			&#37197;&#32622;&#36825;&#20010;&#31616;&#21270;&#30340;&#39564;&#35777;&#24418;&#24335;&#38656;&#35201;&#22312; <tt class="literal">components.xml</tt> &#20013;&#37197;&#32622; <tt class="literal">identity</tt> &#32452;&#20214;&#12290;
			</p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:core="http://jboss.com/products/seam/core"
            xmlns:security="http://jboss.com/products/seam/security"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation=
                "http://jboss.com/products/seam/components http://jboss.com/products/seam/components-2.0.xsd
                 http://jboss.com/products/seam/security http://jboss.com/products/seam/security-2.0.xsd"&gt;

    &lt;security:identity authenticate-method="#{authenticator.authenticate}"/&gt;

&lt;/components&gt;</pre><p>
			&#22914;&#26524;&#20320;&#24076;&#26395;&#20351;&#29992;&#39640;&#32423;&#30340;&#23433;&#20840;&#24615;&#29305;&#24615;&#65292;&#22914;&#22522;&#20110;&#35268;&#21017;&#30340;&#35768;&#21487;&#26816;&#26597;&#65292;&#20320;&#25152;&#35201;&#20570;&#30340;&#23601;&#26159;&#25226;Drools&#65288;JBoss Rules&#65289;jars&#21253;&#21547;&#22312;&#20320;&#30340;classpath&#20013;&#65292;&#24182;&#28155;&#21152;&#19968;&#20123;&#39069;&#22806;&#30340;&#37197;&#32622;&#65292;&#21518;&#38754;&#20250;&#35762;&#21040;&#12290;
			</p><p>
			EL&#34920;&#36798;&#24335; <tt class="literal">#{authenticator.authenticate}</tt> &#26159;&#19968;&#31181;&#26041;&#27861;&#32465;&#23450;&#65292;&#34920;&#31034; <tt class="literal">authenticator</tt> &#32452;&#20214;&#30340; <tt class="literal">authenticate</tt> &#26041;&#27861;&#23558;&#29992;&#26469;&#39564;&#35777;&#35813;&#29992;&#25143;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7212"></a>13.4.2.&nbsp;&#32534;&#20889;&#39564;&#35777;&#26041;&#27861;</h3></div></div><div></div></div><p>
			&#22312; <tt class="literal">components.xml</tt> &#20013;&#32473; <tt class="literal">identity</tt> &#25351;&#23450;&#30340; <tt class="literal">authenticate-method</tt> &#23646;&#24615;&#65292;&#35268;&#23450;&#20102;&#21738;&#31181;&#26041;&#27861;&#23558;&#34987;SeamLoginModule&#29992;&#26469;&#39564;&#35777;&#29992;&#25143;&#12290;
			&#36825;&#20010;&#26041;&#27861;&#27809;&#26377;&#21442;&#25968;&#65292;&#24182;&#23558;&#35201;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#20540;&#65292;&#34920;&#31034;&#39564;&#35777;&#26159;&#21542;&#25104;&#21151;&#12290;&#29992;&#25143;&#30340;&#29992;&#25143;&#21517;&#21644;&#23494;&#30721;&#21487;&#20197;&#20998;&#21035;&#22320;&#36890;&#36807; <tt class="literal">Identity.instance().getUsername()</tt> &#21644; <tt class="literal">Identity.instance().getPassword()</tt> &#33719;&#21462;&#65292;&#29992;&#25143;&#25152;&#23646;&#30340;&#20219;&#20309;&#35282;&#33394;&#37117;&#24212;&#35813;&#21033;&#29992; <tt class="literal">Identity.instance().addRole()</tt> &#20998;&#37197;&#12290;
			&#19979;&#38754;&#26159;JavaBean&#32452;&#20214;&#20869;&#37096;&#19968;&#20010;&#39564;&#35777;&#26041;&#27861;&#30340;&#23436;&#25972;&#23454;&#20363;&#65306;
			</p><pre class="programlisting">@Name("authenticator")
public class Authenticator {
   @In EntityManager entityManager;

   public boolean authenticate() {
      try
      {
         User user = (User) entityManager.createQuery(
            "from User where username = :username and password = :password")
            .setParameter("username", Identity.instance().getUsername())
            .setParameter("password", Identity.instance().getPassword())
            .getSingleResult();

         if (user.getRoles() != null)
         {
            for (UserRole mr : user.getRoles())
               Identity.instance().addRole(mr.getName());
         }

         return true;
      }
      catch (NoResultException ex)
      {
         return false;
      }

   }

}</pre><p>
			&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;<tt class="literal">User</tt> &#21644; <tt class="literal">UserRole</tt> &#37117;&#26159;&#24212;&#29992;&#31243;&#24207;&#25351;&#23450;&#30340;&#23454;&#20307;Bean&#12290;
			<tt class="literal">roles</tt> &#21442;&#25968;&#20197;&#29992;&#25143;&#25152;&#23646;&#30340;&#35282;&#33394;&#22635;&#20805;&#65292;&#23427;&#24212;&#35813;&#28155;&#21152;&#21040; <tt class="literal">Set</tt> &#20316;&#20026;&#25991;&#23383;&#22411;&#23383;&#31526;&#20018;&#20540;&#65292;&#22914;&#8220;admin&#8221;&#12289;&#8220;user&#8221;&#12290;
			&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#22914;&#26524;&#27809;&#26377;&#25214;&#21040;&#29992;&#25143;&#35760;&#24405;&#65292;&#24182;&#25243;&#20986;&#19968;&#20010; <tt class="literal">NoResultException</tt>&#65292;&#39564;&#35777;&#26041;&#27861;&#23601;&#36820;&#22238;false&#65292;&#34920;&#31034;&#39564;&#35777;&#22833;&#36133;&#12290;
			</p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e7254"></a>13.4.2.1.&nbsp;Identity.addRole()</h4></div></div><div></div></div><p>
					<tt class="literal">Identity.addRole()</tt> &#26041;&#27861;&#34920;&#29616;&#30340;&#19981;&#21516;&#21462;&#20915;&#20110;&#24403;&#21069;&#20250;&#35805;&#26159;&#21542;&#24050;&#32463;&#39564;&#35777;&#36807;&#20102;&#12290;
				&#22914;&#26524;&#20250;&#35805;&#27809;&#26377;&#39564;&#35777;&#36807;&#65292;&#37027;&#20040; <tt class="literal">addRole()</tt> &#23601; <span class="emphasis"><em>&#21482;&#33021;</em></span> &#22312;&#39564;&#35777;&#30340;&#36807;&#31243;&#20013;&#34987;&#35843;&#29992;&#12290;
				&#24403;&#34987;&#35843;&#29992;&#21040;&#36825;&#37324;&#26102;&#65292;&#35282;&#33394;&#21517;&#31216;&#34987;&#25918;&#36827;&#19968;&#20010;&#39044;&#39564;&#35777;&#35282;&#33394;&#30340;&#20020;&#26102;&#21015;&#34920;&#20013;&#12290;
				&#19968;&#24403;&#39564;&#35777;&#25104;&#21151;&#65292;&#39044;&#39564;&#35777;&#35282;&#33394;&#23601;&#21464;&#25104;&#8220;&#30495;&#23454;&#30340;&#8221;&#35282;&#33394;&#20102;&#65292;&#24182;&#19988;&#35843;&#29992; <tt class="literal">Identity.hasRole()</tt> &#23601;&#21487;&#20197;&#36820;&#22238;true&#20102;&#12290;
				&#19979;&#38754;&#30340;&#24207;&#21015;&#22270;&#23637;&#31034;&#20102;&#39044;&#39564;&#35777;&#35282;&#33394;&#21015;&#34920;&#20316;&#20026;&#31532;&#19968;&#31867;&#23545;&#35937;&#65292;&#20197;&#26356;&#28165;&#26970;&#22320;&#34920;&#26126;&#23427;&#22914;&#20309;&#36866;&#24212;&#22312;&#25972;&#20010;&#39564;&#35777;&#36807;&#31243;&#12290;
				</p><div class="mediaobject" align="center"><img src="images/security-addrole.png" align="middle"></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7276"></a>13.4.3.&nbsp;&#32534;&#20889;&#30331;&#24405;&#34920;&#21333;</h3></div></div><div></div></div><p>
				<tt class="literal">Identity</tt> &#32452;&#20214;&#25552;&#20379; <tt class="literal">username</tt> &#21644; <tt class="literal">password</tt> &#23646;&#24615;&#65292;&#36866;&#21512;&#26368;&#24120;&#35265;&#30340;&#39564;&#35777;&#22330;&#26223;&#12290;
			&#36825;&#20123;&#23646;&#24615;&#21487;&#20197;&#30452;&#25509;&#32465;&#23450;&#21040;&#30331;&#24405;&#34920;&#21333;&#19978;&#30340;&#29992;&#25143;&#21517;&#21644;&#23494;&#30721;&#23383;&#27573;&#12290;&#19968;&#26086;&#35774;&#32622;&#20102;&#36825;&#20123;&#23646;&#24615;&#65292;&#35843;&#29992; <tt class="literal">identity.login()</tt> &#26041;&#27861;&#23601;&#21487;&#20197;&#39564;&#35777;&#20351;&#29992;&#25152;&#25552;&#20379;&#30340;&#35777;&#20070;&#30340;&#29992;&#25143;&#12290;
			&#19979;&#38754;&#26159;&#19968;&#20010;&#31616;&#21333;&#30340;&#30331;&#24405;&#34920;&#21333;&#30340;&#20363;&#23376;&#65306;
			</p><pre class="programlisting">&lt;div&gt;
    &lt;h:outputLabel for="name" value="Username"/&gt;
    &lt;h:inputText id="name" value="#{identity.username}"/&gt;
&lt;/div&gt;

&lt;div&gt;
    &lt;h:outputLabel for="password" value="Password"/&gt;
    &lt;h:inputSecret id="password" value="#{identity.password}"/&gt;
&lt;/div&gt;

&lt;div&gt;
    &lt;h:commandButton value="Login" action="#{identity.login}"/&gt;
&lt;/div&gt;</pre><p>
			&#31867;&#20284;&#22320;&#65292;&#27880;&#38144;&#29992;&#25143;&#36890;&#36807;&#35843;&#29992; <tt class="literal">#{identity.logout}</tt> &#26469;&#23436;&#25104;&#12290;&#35843;&#29992;&#36825;&#20010;&#21160;&#20316;&#23558;&#28165;&#38500;&#24403;&#21069;&#34987;&#39564;&#35777;&#29992;&#25143;&#30340;&#23433;&#20840;&#24615;&#29366;&#24577;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7300"></a>13.4.4.&nbsp;&#31616;&#21270;&#37197;&#32622; - &#27010;&#36848;</h3></div></div><div></div></div><p>
			&#22240;&#27492;&#24402;&#32467;&#36215;&#26469;&#65292;&#37197;&#32622;&#39564;&#35777;&#26377;&#19977;&#20010;&#31616;&#21333;&#30340;&#27493;&#39588;&#65306;
			</p><div class="itemizedlist"><ul type="disc"><li><p>
					&#22312; <tt class="literal">components.xml</tt> &#20013;&#37197;&#32622;&#19968;&#31181;&#39564;&#35777;&#26041;&#27861;&#12290;
					</p></li><li><p>
					&#32534;&#20889;&#19968;&#31181;&#39564;&#35777;&#26041;&#27861;&#12290;
					</p></li><li><p>
					&#32534;&#20889;&#19968;&#20010;&#30331;&#24405;&#34920;&#21333;&#65292;&#20197;&#20415;&#29992;&#25143;&#21487;&#20197;&#39564;&#35777;&#12290;
					</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7318"></a>13.4.5.&nbsp;&#22788;&#29702;&#23433;&#20840;&#24322;&#24120;</h3></div></div><div></div></div><p>
			&#20026;&#20102;&#38450;&#27490;&#29992;&#25143;&#38543;&#23433;&#20840;&#38169;&#35823;&#32780;&#25910;&#21040;&#40664;&#35748;&#30340;&#38169;&#35823;&#39029;&#38754;&#65292;&#24314;&#35758; <tt class="literal">pages.xml</tt> &#37197;&#32622;&#20026;&#25226;&#23433;&#20840;&#38169;&#35823;&#37325;&#23450;&#21521;&#21040;&#19968;&#20010;&#26356;&#8220;&#28418;&#20142;&#8221;&#30340;&#39029;&#38754;&#12290;&#30001;Security API&#25243;&#20986;&#30340;&#20004;&#31181;&#20027;&#35201;&#30340;&#24322;&#24120;&#31867;&#22411;&#26159;&#65306;
			</p><div class="itemizedlist"><ul type="disc"><li><p>
						<tt class="literal">NotLoggedInException</tt> - &#22914;&#26524;&#29992;&#25143;&#35797;&#22270;&#22312;&#27809;&#26377;&#30331;&#24405;&#30340;&#24773;&#20917;&#19979;&#35775;&#38382;&#19968;&#20010;&#21463;&#38480;&#30340;&#21160;&#20316;&#25110;&#32773;&#39029;&#38754;&#65292;&#23601;&#20250;&#25243;&#20986;&#36825;&#20010;&#24322;&#24120;&#12290;
					</p></li><li><p>
						<tt class="literal">AuthorizationException</tt> - &#21482;&#26377;&#24403;&#29992;&#25143;&#24050;&#32463;&#30331;&#24405;&#65292;&#24182;&#19988;&#35797;&#22270;&#35775;&#38382;&#20182;&#20204;&#27809;&#26377;&#24517;&#35201;&#26435;&#38480;&#30340;&#21463;&#38480;&#21160;&#20316;&#25110;&#32773;&#39029;&#38754;&#26102;&#65292;&#25165;&#20250;&#25243;&#20986;&#36825;&#20010;&#24322;&#24120;&#12290;
					</p></li></ul></div><p>
			&#22312; <tt class="literal">NotLoggedInException</tt> &#25243;&#20986;&#30340;&#24773;&#20917;&#19979;&#65292;&#24314;&#35758;&#25226;&#29992;&#25143;&#38480;&#21046;&#21040;&#19968;&#20010;&#30331;&#24405;&#39029;&#38754;&#25110;&#32773;&#27880;&#20876;&#39029;&#38754;&#65292;&#20197;&#20415;&#30331;&#24405;&#12290;
			&#23545;&#20110; <tt class="literal">AuthorizationException</tt>&#65292;&#25226;&#29992;&#25143;&#37325;&#23450;&#21521;&#21040;&#19968;&#20010;&#38169;&#35823;&#39029;&#38754;&#21487;&#33021;&#26356;&#21512;&#36866;&#12290;
			&#20197;&#19979;&#26159; <tt class="literal">pages.xml</tt> &#25991;&#20214;&#30340;&#19968;&#20010;&#20363;&#23376;&#65292;&#23427;&#25226;&#36825;&#20004;&#31181;&#23433;&#20840;&#24322;&#24120;&#37117;&#22788;&#29702;&#20102;&#65306;
			</p><pre class="programlisting">&lt;pages&gt;

    ...

    &lt;exception class="org.jboss.seam.security.NotLoggedInException"&gt;
        &lt;redirect view-id="/login.xhtml"&gt;
            &lt;message&gt;You must be logged in to perform this action &#20320;&#24517;&#39035;&#30331;&#24405;&#25191;&#34892;&#36825;&#20010;&#21160;&#20316;&lt;/message&gt;
        &lt;/redirect&gt;
    &lt;/exception&gt;

    &lt;exception class="org.jboss.seam.security.AuthorizationException"&gt;
        &lt;end-conversation/&gt;
        &lt;redirect view-id="/security_error.xhtml"&gt;
            &lt;message&gt;You do not have the necessary security privileges to perform this action.&#20320;&#27809;&#26377;&#25191;&#34892;&#36825;&#20010;&#21160;&#20316;&#30340;&#24517;&#35201;&#26435;&#38480;&#12290;&lt;/message&gt;
        &lt;/redirect&gt;
    &lt;/exception&gt;

&lt;/pages&gt;</pre><p>
			&#22823;&#22810;&#25968;Web&#24212;&#29992;&#31243;&#24207;&#38656;&#35201;&#26356;&#22797;&#26434;&#30340;&#30331;&#24405;&#37325;&#23450;&#21521;&#22788;&#29702;&#65292;&#22240;&#27492;Seam&#21253;&#21547;&#20102;&#22788;&#29702;&#36825;&#20010;&#38382;&#39064;&#30340;&#19968;&#20123;&#29305;&#27530;&#21151;&#33021;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7354"></a>13.4.6.&nbsp;&#30331;&#24405;&#37325;&#23450;&#21521;</h3></div></div><div></div></div><p>
			&#24403;&#26410;&#34987;&#39564;&#35777;&#30340;&#29992;&#25143;&#35797;&#22270;&#35775;&#38382;&#26576;&#20010;&#29305;&#23450;&#30340;&#35270;&#22270;&#65288;&#25110;&#32773;&#36890;&#37197;&#31526;id&#65289;&#26102;&#65292;&#21487;&#20197;&#35753;Seam&#25226;&#29992;&#25143;&#37325;&#23450;&#21521;&#21040;&#19968;&#20010;&#30331;&#24405;&#39029;&#38754;&#65306;
			</p><pre class="programlisting">&lt;pages login-view-id="/login.xhtml"&gt;

    &lt;page view-id="/members/*" login-required="true"/&gt;

    ...

&lt;/pages&gt;</pre><p>
			&#65288;&#36825;&#20010;&#19981;&#20687;&#19978;&#36848;&#30340;&#24322;&#24120;&#22788;&#29702;&#22120;&#37027;&#20040;&#31616;&#27905;&#65292;&#20294;&#26159;&#21487;&#33021;&#35201;&#32467;&#21512;&#36215;&#26469;&#20351;&#29992;&#12290;&#65289;
			</p><p>
			&#29992;&#25143;&#30331;&#24405;&#20197;&#21518;&#65292;&#25105;&#20204;&#35201;&#33258;&#21160;&#36820;&#22238;&#21040;&#21407;&#26469;&#30340;&#22320;&#26041;&#65288;&#32593;&#22336;&#65289;&#65292;&#20197;&#20415;&#21487;&#20197;&#37325;&#35797;&#35201;&#27714;&#30331;&#24405;&#20043;&#21518;&#25165;&#33021;&#36827;&#34892;&#30340;&#25805;&#20316;&#12290;
			&#22914;&#26524;&#25226;&#19979;&#21015;&#20107;&#20214;&#30417;&#21548;&#22120;&#28155;&#21152;&#21040; <tt class="literal">components.xml</tt>&#65292;&#22914;&#26524;&#29992;&#25143;&#22312;&#27809;&#26377;&#30331;&#24405;&#30340;&#24773;&#20917;&#19979;&#21435;&#35775;&#38382;&#21463;&#38480;&#30340;&#39029;&#38754;&#65292;&#37027;&#20040;&#39029;&#38754;&#20449;&#24687;&#23601;&#20250;&#34987;&#35760;&#24405;&#19979;&#26469;&#12290;
			&#29992;&#25143;&#30331;&#24405;&#20043;&#21518;&#65292;&#23601;&#20250;&#34987;&#37325;&#23450;&#21521;&#21040;&#21018;&#25165;&#30340;&#21463;&#38480;&#39029;&#38754;&#65292;&#24182;&#19988;&#25226;&#21407;&#26469;&#30340;&#35831;&#27714;&#21442;&#25968;&#20063;&#19968;&#36215;&#20256;&#36807;&#21435;&#12290;
			</p><pre class="programlisting">&lt;event type="org.jboss.seam.notLoggedIn"&gt;
    &lt;action execute="#{redirect.captureCurrentView}"/&gt;
&lt;/event&gt;

&lt;event type="org.jboss.seam.postAuthenticate"&gt;
    &lt;action execute="#{redirect.returnToCapturedView}"/&gt;
&lt;/event&gt;</pre><p>
			&#27880;&#24847;&#30331;&#24405;&#37325;&#23450;&#21521;&#34987;&#23454;&#29616;&#20026;&#19968;&#31181;&#23545;&#35805;&#33539;&#22260;&#30340;&#26426;&#21046;&#65292;&#22240;&#27492;&#19981;&#35201;&#22312; <tt class="literal">authenticate()</tt> &#26041;&#27861;&#20013;&#32456;&#27490;&#23545;&#35805;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7375"></a>13.4.7.&nbsp;HTTP&#39564;&#35777;</h3></div></div><div></div></div><p>
			&#34429;&#28982;&#19981;&#24314;&#35758;&#20351;&#29992;&#65292;&#38500;&#38750;&#32477;&#23545;&#24517;&#35201;&#65292;Seam&#25552;&#20379;HTTP Basic&#25110;HTTP Digest&#65288;RFC 2617 &#65289;&#26041;&#27861;&#30340;&#39564;&#35777;&#12290;
			&#20026;&#20351;&#29992;&#34920;&#21333;&#30340;&#39564;&#35777;&#26041;&#24335;&#65292;<tt class="literal">authentication-filter</tt> &#32452;&#20214;&#24517;&#39035;&#33021;&#22815;&#22312;components.xml&#20013;&#28608;&#27963;&#65306;
			</p><pre class="programlisting">
  &lt;web:authentication-filter url-pattern="*.seam" auth-type="basic"/&gt;
      </pre><p>
			&#20026;&#20102;&#28608;&#27963;Basic&#39564;&#35777;&#30340;&#36807;&#28388;&#22120;&#65292;&#35774;&#32622; <tt class="literal">auth-type</tt> &#20026; <tt class="literal">basic</tt>
			&#25110;&#32773;&#23545;&#20110;Digest&#39564;&#35777; &#65292;&#35774;&#32622; <tt class="literal">auth-type</tt> &#20026; <tt class="literal">digest</tt>&#12290;
			&#22914;&#26524;&#26159;&#20351;&#29992;Digest&#39564;&#35777;&#65292;<tt class="literal">key</tt> &#21644; <tt class="literal">realm</tt> &#20063;&#24517;&#39035;&#36827;&#34892;&#35774;&#32622;&#65306;
			</p><pre class="programlisting">
  &lt;web:authentication-filter url-pattern="*.seam" auth-type="digest" key="AA3JK34aSDlkj" realm="My App"/&gt;
      </pre><p>
				<tt class="literal">key</tt> &#21487;&#20197;&#26159;&#20219;&#20309;&#23383;&#31526;&#20018;&#20540;&#12290;
			<tt class="literal">realm</tt> &#23601;&#26159;&#36827;&#34892;&#29992;&#25143;&#39564;&#35777;&#26102;&#25152;&#29992;&#30340;&#39564;&#35777;Realm&#30340;&#21517;&#31216;&#12290;
			</p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e7415"></a>13.4.7.1.&nbsp;&#32534;&#20889;Digest&#39564;&#35777;&#32773;</h4></div></div><div></div></div><p>
				&#22914;&#26524;&#26159;&#20351;&#29992;Digest&#35748;&#35777;&#65292;&#20320;&#30340;&#37492;&#23450;&#32773;&#31867;&#38656;&#35201;&#32487;&#25215;&#25277;&#35937;&#31867; <tt class="literal">org.jboss.seam.security.digest.digestauthenticator </tt> &#65292;&#24182;&#20351;&#29992;
				<tt class="literal">validatePassword()</tt> &#26041;&#27861;&#65292;&#20197;&#26681;&#25454;Digest&#30340;&#35201;&#27714;&#26469;&#39564;&#35777;&#29992;&#25143;&#30340;&#32431;&#25991;&#26412;&#23494;&#30721;&#12290;&#19979;&#38754;&#26159;&#19968;&#20010;&#20363;&#23376;&#65306;
				</p><pre class="programlisting">
   public boolean authenticate()
   {
      try
      {
         User user = (User) entityManager.createQuery(
            "from User where username = :username")
            .setParameter("username", identity.getUsername())
            .getSingleResult();

         return validatePassword(user.getPassword());
      }
      catch (NoResultException ex)
      {
         return false;
      }
   }
        </pre></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7428"></a>13.4.8.&nbsp;&#39640;&#32423;&#39564;&#35777;&#29305;&#24615;</h3></div></div><div></div></div><p>
			&#26412;&#33410;&#25506;&#35752;Security API&#25552;&#20379;&#30340;&#37096;&#20998;&#39640;&#32423;&#29305;&#24615;&#65292;&#29992;&#26469;&#28385;&#36275;&#26356;&#22797;&#26434;&#30340;&#23433;&#20840;&#38656;&#27714;&#12290;
			</p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e7433"></a>13.4.8.1.&nbsp;&#20351;&#29992;&#23481;&#22120;&#30340;JAAS&#37197;&#32622;</h4></div></div><div></div></div><p>
				&#22914;&#26524;&#20320;&#23425;&#21487;&#19981;&#29992;Seam Security API&#25552;&#20379;&#30340;&#31616;&#21270;&#30340;JAAS&#37197;&#32622;&#65292;&#21487;&#20197;&#22996;&#25176;&#32473;&#40664;&#35748;&#30340;&#31995;&#32479;JAAS&#37197;&#32622;&#65292;&#35813;&#37197;&#32622;&#26159;&#22312; <tt class="literal">components.xml</tt> &#20013;&#25552;&#20379;&#30340;&#19968;&#20010; <tt class="literal">jaasConfigName</tt>&#12290;
				&#20363;&#22914;&#65292;&#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;JBoss AS&#65292;&#24182;&#24076;&#26395;&#20351;&#29992; <tt class="literal">&#20854;&#23427;</tt> &#31574;&#30053;&#65288;&#20351;&#29992;JBoss AS&#25552;&#20379;&#30340; <tt class="literal">UsersRolesLoginModule</tt> &#30331;&#24405;&#27169;&#22359;&#65289;&#65292;&#37027;&#20040; <tt class="literal">components.xml</tt> &#20013;&#30340;&#39033;&#30475;&#36215;&#26469;&#23601;&#20687;&#36825;&#26679;&#65306;
				</p><pre class="programlisting">&lt;security:identity authenticate-method="#{authenticator.authenticate}"
                      jaas-config-name="other"/&gt;</pre></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7455"></a>13.5.&nbsp;&#38169;&#35823;&#28040;&#24687;</h2></div></div><div></div></div><p>
		Security API&#32473;&#21508;&#31181;&#23433;&#20840;&#30456;&#20851;&#30340;&#20107;&#20214;&#29983;&#25104;&#35768;&#22810;&#40664;&#35748;&#30340;&#23637;&#29616;&#28040;&#24687;&#12290;&#19979;&#34920;&#21015;&#20986;&#20102;&#21487;&#20197;&#29992;&#26469;&#35206;&#30422;&#36825;&#20123;&#28040;&#24687;&#30340;Key&#65292;&#23427;&#20204;&#22312; <tt class="literal">message.properties</tt> &#36164;&#28304;&#25991;&#20214;&#20013;&#25351;&#23450;&#12290;&#20026;&#20102;&#31105;&#27490;&#28040;&#24687;&#65292;&#21482;&#35201;&#22312;&#36164;&#28304;&#25991;&#20214;&#37324;&#32473;&#30456;&#24212;&#30340;Key&#36171;&#20104;&#31354;&#20540;&#23601;&#34892;&#20102;&#12290;
		</p><div class="table"><a name="d0e7463"></a><p class="title"><b>Table&nbsp;13.1.&nbsp;&#23433;&#20840;&#28040;&#24687;Key</b></p><table summary="&#23433;&#20840;&#28040;&#24687;Key" border="1"><colgroup><col><col></colgroup><tbody><tr><td><p>
								<tt class="literal">org.jboss.seam.loginSuccessful</tt>
							</p></td><td><p>
							&#36825;&#20010;&#28040;&#24687;&#22312;&#29992;&#25143;&#36890;&#36807;Security API&#25104;&#21151;&#30331;&#24405;&#26102;&#29983;&#25104;&#12290;
							</p></td></tr><tr><td><p>
								<tt class="literal">org.jboss.seam.loginFailed</tt>
							</p></td><td><p>
							&#36825;&#20010;&#28040;&#24687;&#22312;&#30331;&#24405;&#36807;&#31243;&#22833;&#36133;&#26102;&#29983;&#25104;&#12290;&#22833;&#36133;&#26159;&#30001;&#20110;&#29992;&#25143;&#25552;&#20379;&#20102;&#38169;&#35823;&#30340;&#29992;&#25143;&#21517;&#25110;&#32773;&#23494;&#30721;&#65292;&#25110;&#32773;&#30001;&#20110;&#20854;&#20182;&#38382;&#39064;&#36896;&#25104;&#30340;&#12290;
							</p></td></tr><tr><td><p>
								<tt class="literal">org.jboss.seam.NotLoggedIn</tt>
							</p></td><td><p>
							&#36825;&#20010;&#28040;&#24687;&#22312;&#29992;&#25143;&#35797;&#22270;&#25191;&#34892;&#19968;&#20010;&#21160;&#20316;&#65292;&#25110;&#32773;&#35775;&#38382;&#19968;&#20010;&#38656;&#35201;&#23433;&#20840;&#26816;&#26597;&#30340;&#39029;&#38754;&#65292;&#24182;&#19988;&#29992;&#25143;&#30446;&#21069;&#26410;&#34987;&#39564;&#35777;&#26102;&#29983;&#25104;&#12290;
							</p></td></tr></tbody></table></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7500"></a>13.6.&nbsp;&#25480;&#26435;</h2></div></div><div></div></div><p>
		Seam Security API&#25552;&#20379;&#20102;&#22823;&#37327;&#25480;&#26435;&#29305;&#24615;&#65292;&#29992;&#26469;&#20445;&#25252;&#23545;&#32452;&#20214;&#12289;&#32452;&#20214;&#26041;&#27861;&#21644;&#39029;&#38754;&#30340;&#35775;&#38382;&#12290;&#26412;&#33410;&#38416;&#36848;&#36825;&#27599;&#19968;&#31181;&#25480;&#26435;&#29305;&#24615;&#12290;
		&#35201;&#27880;&#24847;&#30340;&#19968;&#20214;&#37325;&#35201;&#30340;&#20107;&#26159;&#65292;&#22914;&#26524;&#20320;&#24076;&#26395;&#20351;&#29992;&#20219;&#20309;&#39640;&#32423;&#29305;&#24615;&#65288;&#22914;&#22522;&#20110;&#35268;&#21017;&#30340;&#35768;&#21487;&#65289;&#65292;&#37027;&#20040;&#20320;&#30340; <tt class="literal">components.xml</tt> &#25991;&#20214;&#23601;&#24517;&#39035;&#37197;&#32622;&#25104;&#25903;&#25345;&#35813;&#29305;&#24615; - &#35831;&#35265;&#21069;&#38754;&#30340;&#37197;&#32622;&#23567;&#33410;&#12290;
		</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7508"></a>13.6.1.&nbsp;&#26680;&#24515;&#27010;&#24565;</h3></div></div><div></div></div><p>
			Seam Security API&#25552;&#20379;&#30340;&#27599;&#31181;&#25480;&#26435;&#26426;&#21046;&#65292;&#37117;&#26500;&#24314;&#22312;&#29992;&#25143;&#34987;&#25480;&#19982;&#20102;&#35282;&#33394;&#21644;&#65295;&#25110;&#35768;&#21487;&#30340;&#27010;&#24565;&#20043;&#19978;&#12290;
			&#35282;&#33394;&#26159;&#29992;&#25143;&#30340;&#19968;&#20010; <span class="emphasis"><em>&#32676;&#32452;</em></span>&#65292;&#25110;&#32773;&#19968;&#31181; <span class="emphasis"><em>&#31867;&#22411;</em></span>&#65292;&#35813;&#29992;&#25143;&#21487;&#33021;&#24050;&#32463;&#34987;&#25480;&#19982;&#26576;&#31181;&#29305;&#26435;&#65292;&#29992;&#26469;&#22312;&#24212;&#29992;&#31243;&#24207;&#20869;&#37096;&#25191;&#34892;&#19968;&#20010;&#25110;&#32773;&#26356;&#22810;&#30340;&#29305;&#23450;&#25805;&#20316;&#12290;
			&#35768;&#21487;&#26159;&#25191;&#34892;&#21333;&#20010;&#25351;&#23450;&#21160;&#20316;&#30340;&#19968;&#31181;&#65288;&#26377;&#26102;&#26159;&#19968;&#27425;&#24615;&#30340;&#65289;&#29305;&#26435;&#12290;
			&#21482;&#29992;&#35768;&#21487;&#32780;&#19981;&#29992;&#20854;&#23427;&#20219;&#20309;&#19996;&#35199;&#26469;&#26500;&#24314;&#24212;&#29992;&#31243;&#24207;&#26159;&#23436;&#20840;&#21487;&#33021;&#30340;&#65292;&#28982;&#32780;&#35282;&#33394;&#22312;&#25480;&#19982;&#29992;&#25143;&#32676;&#32452;&#29305;&#26435;&#26102;&#26356;&#28789;&#27963;&#26041;&#20415;&#12290;
		</p><p>
			&#35282;&#33394;&#24456;&#31616;&#21333;&#65292;&#21482;&#30001;&#19968;&#20010;&#21517;&#31216;&#32452;&#25104;&#65292;&#22914;&#8220;admin&#8221;&#12289;&#8220;user&#8221;&#12289;&#8220;customer&#8221;&#31561;&#31561;&#12290;&#35768;&#21487;&#30001;&#19968;&#20010;&#21517;&#31216;&#21644;&#19968;&#20010;&#21160;&#20316;&#32452;&#25104;&#65292;&#22312;&#36825;&#20010;&#25991;&#26723;&#20013;&#20197; <tt class="literal">name:action</tt> &#30340;&#24418;&#24335;&#34920;&#31034;&#65292;&#20363;&#22914; <tt class="literal">customer:delete</tt>&#65292;&#25110;&#32773; <tt class="literal">customer:insert</tt>&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7530"></a>13.6.2.&nbsp;&#20445;&#25252;&#32452;&#20214;</h3></div></div><div></div></div><p>
			&#25105;&#20204;&#20174;&#26816;&#39564;&#25480;&#26435;&#30340;&#26368;&#31616;&#21333;&#30340;&#24418;&#24335;&#24320;&#22987;&#65306;&#32452;&#20214;&#23433;&#20840;&#65292;&#20174; <tt class="literal">@Restrict</tt> &#27880;&#35299;&#24320;&#22987;&#12290;
			</p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e7538"></a>13.6.2.1.&nbsp;@Restrict&#27880;&#35299;</h4></div></div><div></div></div><p>
				Seam&#32452;&#20214;&#21487;&#20197;&#21033;&#29992; <tt class="literal">@Restrict</tt> &#27880;&#35299;&#22312;&#26041;&#27861;&#25110;&#32773;&#31867;&#32423;&#19978;&#24471;&#21040;&#20445;&#25252;&#12290;
				&#22914;&#26524;&#26041;&#27861;&#21644;&#22768;&#26126;&#23427;&#30340;&#31867;&#37117;&#36890;&#36807; <tt class="literal">@Restrict</tt> &#27880;&#35299;&#65292;&#26041;&#27861;&#38480;&#21046;&#23558;&#20248;&#20808;&#65288;&#31867;&#38480;&#21046;&#26159;&#19981;&#36215;&#20316;&#29992;&#65289;&#12290;
				&#22914;&#26524;&#26041;&#27861;&#35843;&#29992;&#22312;&#23433;&#20840;&#26816;&#26597;&#20013;&#22833;&#36133;&#65292;&#37027;&#20040;&#26681;&#25454;&#23545; <tt class="literal">Identity.checkRestriction()</tt> &#30340;&#32422;&#23450;&#23601;&#20250;&#25243;&#20986;&#19968;&#20010;&#24322;&#24120;&#65288;&#35831;&#35265;&#34892;&#20869;&#38480;&#21046;&#65289;&#12290;
				&#32452;&#20214;&#31867;&#33258;&#36523;&#19978;&#30340; <tt class="literal">@Restrict</tt> &#30456;&#24403;&#20110;&#25226; <tt class="literal">@Restrict</tt> &#28155;&#21152;&#21040;&#20102;&#23427;&#30340;&#27599;&#19968;&#20010;&#26041;&#27861;&#19978;&#12290;
				</p><p>
				&#31354;&#30340; <tt class="literal">@Restrict</tt> &#24847;&#21619;&#30528; <tt class="literal">componentName:methodName</tt> &#30340;&#19968;&#20010;&#35768;&#21487;&#26816;&#26597;&#12290;&#20197;&#19979;&#38754;&#30340;&#32452;&#20214;&#26041;&#27861;&#20026;&#20363;&#65306;
				</p><pre class="programlisting">@Name("account")
public class AccountAction {
    @Restrict public void delete() {
      ...
    }
}</pre><p>
				&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#35843;&#29992; <tt class="literal">delete()</tt> &#26041;&#27861;&#38656;&#35201;&#30340;&#38544;&#21547;&#35768;&#21487;&#26159; <tt class="literal">account:delete</tt>&#12290;
				&#36824;&#26377;&#19968;&#31181;&#26041;&#24335;&#65292;&#23601;&#26159;&#20889; <tt class="literal">@Restrict("#{s:hasPermission('account','delete',null)}")</tt>&#12290;
				&#29616;&#22312;&#26469;&#30475;&#21478;&#19968;&#20010;&#20363;&#23376;&#65306;
				</p><pre class="programlisting">@Restrict @Name("account")
public class AccountAction {
    public void insert() {
      ...
    }
    @Restrict("#{s:hasRole('admin')}")
    public void delete() {
      ...
    }
}</pre><p>
				&#36825;&#19968;&#27425;&#65292;&#32452;&#20214;&#31867;&#26412;&#36523;&#36890;&#36807; <tt class="literal">@Restrict</tt> &#27880;&#35299;&#12290;&#36825;&#24847;&#21619;&#30528;&#20219;&#20309;&#27809;&#26377;&#35206;&#30422; <tt class="literal">@Restrict</tt> &#27880;&#35299;&#30340;&#26041;&#27861;&#37117;&#38656;&#35201;&#19968;&#20010;&#38544;&#24335;&#30340;&#35768;&#21487;&#26816;&#26597;&#12290;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;<tt class="literal">insert()</tt> &#26041;&#27861;&#38656;&#35201; <tt class="literal">account:insert</tt> &#30340;&#19968;&#20010;&#35768;&#21487;&#65292;&#32780; <tt class="literal">delete()</tt> &#26041;&#27861;&#21017;&#35201;&#27714;&#29992;&#25143;&#24517;&#39035;&#26159; <tt class="literal">admin</tt> &#35282;&#33394;&#30340;&#19968;&#21592;&#12290;
				</p><p>
				&#22312;&#36827;&#19968;&#27493;&#25506;&#35752;&#20043;&#21069;&#65292;&#20808;&#30475;&#30475;&#22312;&#21069;&#38754;&#30340;&#20363;&#23376;&#20013;&#35265;&#36807;&#30340; <tt class="literal">#{s:hasRole()}</tt> &#34920;&#36798;&#24335;&#12290;
				<tt class="literal">s:hasRole</tt> &#21644; <tt class="literal">s:hasPermission</tt> &#37117;&#26159;EL&#26041;&#27861;&#65292;&#23427;&#20204;&#22996;&#25176;&#32473; <tt class="literal">Identity</tt> &#31867;&#30456;&#24212;&#30340;&#20855;&#21517;&#26041;&#27861;&#12290;
				&#36825;&#20123;&#20989;&#25968;&#21487;&#20197;&#22312;&#25152;&#26377;Security API&#30340;&#20219;&#20309;EL&#34920;&#36798;&#24335;&#20013;&#20351;&#29992;&#12290;
				</p><p>
				&#20316;&#20026;&#19968;&#20010;EL&#34920;&#36798;&#24335;&#65292;<tt class="literal">@Restrict</tt> &#27880;&#35299;&#30340;&#20540;&#21487;&#20197;&#24341;&#29992;Seam&#19978;&#19979;&#25991;&#20013;&#23384;&#22312;&#30340;&#20219;&#20309;&#23545;&#35937;&#12290;
				&#36825;&#22312;&#32473;&#29305;&#23450;&#30340;&#23545;&#35937;&#23454;&#20363;&#25191;&#34892;&#35768;&#21487;&#26816;&#26597;&#26102;&#26497;&#20026;&#26377;&#29992;&#12290;&#30475;&#30475;&#36825;&#20010;&#20363;&#23376;&#65306;
				</p><pre class="programlisting">@Name("account")
public class AccountAction {
    @In Account selectedAccount;
    @Restrict("#{s:hasPermission('account','modify',selectedAccount)}")
    public void modify() {
        selectedAccount.modify();
    }
}</pre><p>
				&#36825;&#20010;&#20363;&#23376;&#20013;&#26368;&#20540;&#24471;&#20851;&#27880;&#30340;&#19996;&#35199;&#26159;&#65292;&#23545;&#22312; <tt class="literal">hasPermission()</tt> &#20989;&#25968;&#35843;&#29992;&#20013;&#35265;&#21040;&#30340; <tt class="literal">selectedAccount</tt> &#30340;&#24341;&#29992;&#12290;
				&#36825;&#20010;&#21464;&#37327;&#30340;&#20540;&#23558;&#20174;Seam&#19978;&#19979;&#25991;&#20869;&#37096;&#26597;&#25214;&#65292;&#24182;&#20256;&#36882;&#21040; <tt class="literal">Identity</tt> &#20013;&#30340; <tt class="literal">hasPermission()</tt> &#26041;&#27861;&#65292;
				&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#23427;&#38543;&#21518;&#21487;&#20197;&#30830;&#23450;&#29992;&#25143;&#26159;&#21542;&#20855;&#26377;&#20462;&#25913;&#25351;&#23450; <tt class="literal">Account</tt> &#23545;&#35937;&#25152;&#38656;&#30340;&#35768;&#21487;&#12290;
				</p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e7639"></a>13.6.2.2.&nbsp;&#34892;&#20869;&#38480;&#21046;</h4></div></div><div></div></div><p>
				&#26377;&#26102;&#20505;&#65292;&#21487;&#33021;&#24076;&#26395;&#22312;&#20195;&#30721;&#20013;&#25191;&#34892;&#23433;&#20840;&#26816;&#26597;&#65292;&#32780;&#19981;&#29992; <tt class="literal">@Restrict</tt> &#27880;&#35299;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#21482;&#35201;&#29992; <tt class="literal">Identity.checkRestriction()</tt> &#26469;&#35745;&#31639;&#23433;&#20840;&#34920;&#36798;&#24335;&#65292;&#20687;&#36825;&#26679;&#65306;
				</p><pre class="programlisting">public void deleteCustomer() {
    Identity.instance().checkRestriction("#{s:hasPermission('customer','delete',selectedCustomer)}");
}</pre><p>
				&#22914;&#26524;&#25351;&#23450;&#30340;&#34920;&#36798;&#24335;&#27809;&#26377;&#21462;&#20540;&#20026; <tt class="literal">true</tt>&#65292;&#25110;&#32773;
				</p><div class="itemizedlist"><ul type="disc"><li><p>
						&#22914;&#26524;&#29992;&#25143;&#27809;&#26377;&#30331;&#24405;&#65292;&#23601;&#25243;&#20986; <tt class="literal">NotLoggedInException</tt> &#24322;&#24120;&#65292;&#25110;&#32773;
						</p></li><li><p>
						&#22914;&#26524;&#29992;&#25143;&#30331;&#24405;&#20102;&#65292;&#23601;&#25243;&#20986; <tt class="literal">AuthorizationException</tt> &#24322;&#24120;&#12290;
						</p></li></ul></div><p>
				&#30452;&#25509;&#22312;Java&#20195;&#30721;&#20013;&#35843;&#29992; <tt class="literal">hasRole()</tt> &#21644; <tt class="literal">hasPermission()</tt> &#26041;&#27861;&#20063;&#26159;&#21487;&#33021;&#30340;&#65306;
				</p><pre class="programlisting">if (!Identity.instance().hasRole("admin"))
     throw new AuthorizationException("Must be admin to perform this action");

if (!Identity.instance().hasPermission("customer", "create", null))
     throw new AuthorizationException("You may not create new customers");</pre></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7680"></a>13.6.3.&nbsp;&#29992;&#25143;&#30028;&#38754;&#20013;&#30340;&#23433;&#20840;</h3></div></div><div></div></div><p>
			&#35774;&#35745;&#20248;&#33391;&#30340;&#29992;&#25143;&#30028;&#38754;&#30340;&#19968;&#31181;&#34920;&#29616;&#26159;&#65292;&#19981;&#20250;&#21521;&#29992;&#25143;&#23637;&#29616;&#20182;&#20204;&#27809;&#26377;&#24517;&#35201;&#30340;&#26435;&#38480;&#36827;&#34892;&#20351;&#29992;&#30340;&#36873;&#39033;&#12290;Seam Security&#20801;&#35768;&#26465;&#20214;&#24615;&#30340;&#28210;&#26579;&#65306;
			1&#65289;&#19968;&#20010;&#39029;&#38754;&#30340;&#20960;&#20010;&#37096;&#20998;&#65292;&#25110;&#32773;2&#65289;&#29420;&#31435;&#30340;&#25511;&#21046;&#65292;&#26681;&#25454;&#29992;&#25143;&#30340;&#26435;&#38480;&#65292;&#20351;&#29992;&#19982;&#29992;&#32473;&#32452;&#20214;&#23433;&#20840;&#30340;&#23436;&#20840;&#30456;&#21516;&#30340;EL&#34920;&#36798;&#24335;&#12290;
			</p><p>
			&#25105;&#20204;&#26469;&#30475;&#30475;&#30028;&#38754;&#23433;&#20840;&#30340;&#19968;&#20123;&#20363;&#23376;&#12290;&#39318;&#20808;&#65292;&#25105;&#20204;&#20551;&#35774;&#26377;&#19968;&#20010;&#30331;&#24405;&#34920;&#21333;&#65292;&#23427;&#24212;&#35813;&#21482;&#22312;&#29992;&#25143;&#36824;&#27809;&#26377;&#30331;&#24405;&#30340;&#24773;&#20917;&#19979;&#25165;&#34987;&#28210;&#26579;&#12290;
			&#25105;&#20204;&#21487;&#20197;&#21033;&#29992; <tt class="literal">identity.isLoggedIn()</tt> &#23646;&#24615;&#20687;&#36825;&#26679;&#32534;&#20889;&#65306;
			</p><pre class="programlisting">&lt;h:form class="loginForm" rendered="#{not identity.loggedIn}"&gt;</pre><p>
			&#22914;&#26524;&#29992;&#25143;&#27809;&#26377;&#30331;&#24405;&#65292;&#30331;&#24405;&#34920;&#21333;&#23601;&#28210;&#26579; - &#30446;&#21069;&#20026;&#27490;&#36825;&#36824;&#26159;&#38750;&#24120;&#30452;&#30333;&#26131;&#25026;&#12290;
			&#29616;&#22312;&#20551;&#35774;&#39029;&#38754;&#19978;&#26377;&#19968;&#20010;&#33756;&#21333;&#65292;&#21253;&#21547;&#19968;&#20123;&#24212;&#35813;&#21482;&#23545; <tt class="literal">manager</tt> &#35282;&#33394;&#20013;&#30340;&#29992;&#25143;&#21487;&#29992;&#30340;&#25805;&#20316;&#12290;&#19979;&#38754;&#26159;&#19968;&#31181;&#32534;&#20889;&#26041;&#24335;&#65306;
			</p><pre class="programlisting">&lt;h:outputLink action="#{reports.listManagerReports}" rendered="#{s:hasRole('manager')}"&gt;
    Manager Reports
&lt;/h:outputLink&gt;</pre><p>
			&#36825;&#20063;&#24456;&#23481;&#26131;&#29702;&#35299;&#12290;&#22914;&#26524;&#29992;&#25143;&#19981;&#26159; <tt class="literal">manager</tt> &#35282;&#33394;&#30340;&#19968;&#21592;&#65292;&#37027;&#20040;outputLink&#23601;&#19981;&#28210;&#26579;&#12290;
			<tt class="literal">rendered</tt> &#23646;&#24615;&#26412;&#36523;&#19968;&#33324;&#26469;&#35828;&#21487;&#20197;&#29992;&#22312;&#25511;&#21046;&#65292;&#25110;&#32773;&#21608;&#22260;&#30340; <tt class="literal">&lt;s:div&gt;</tt> &#25110;&#32773; <tt class="literal">&lt;s:span&gt;</tt> &#25511;&#21046;&#19978;&#12290;
			</p><p>
			&#29616;&#22312;&#25506;&#35752;&#19968;&#20123;&#26356;&#22797;&#26434;&#30340;&#19996;&#35199;&#12290;&#25105;&#20204;&#20551;&#35774;&#20320;&#22312;&#39029;&#38754;&#19978;&#26377;&#19968;&#20010; <tt class="literal">h:dataTable</tt> &#25511;&#21046;&#65292;&#35813;&#39029;&#38754;&#32599;&#21015;&#20102;&#21487;&#33021;&#24076;&#26395;&#25110;&#32773;&#19981;&#24076;&#26395;&#26681;&#25454;&#29992;&#25143;&#30340;&#26435;&#38480;&#65292;&#23545;&#20854;&#28210;&#26579;&#21160;&#20316;&#38142;&#25509;&#30340;&#35760;&#24405;&#12290;
			<tt class="literal">s:hasPermission</tt> EL&#20989;&#25968;&#20801;&#35768;&#25105;&#20204;&#20256;&#36827;&#19968;&#20010;&#23545;&#35937;&#21442;&#25968;&#65292;&#23427;&#21487;&#20197;&#29992;&#26469;&#30830;&#23450;&#29992;&#25143;&#26159;&#21542;&#20855;&#26377;&#23545;&#35813;&#23545;&#35937;&#30340;&#24517;&#35201;&#35768;&#21487;&#12290;
			&#19979;&#38754;&#23637;&#29616;&#20102;&#24102;&#26377;&#21463;&#20445;&#25252;&#30340;&#38142;&#25509;&#30340;dataTable&#21487;&#33021;&#26159;&#20160;&#20040;&#26679;&#23376;&#65306;
      </p><pre class="programlisting">&lt;h:dataTable value="#{clients}" var="cl"&gt;
    &lt;h:column&gt;
        &lt;f:facet name="header"&gt;Name&lt;/f:facet&gt;
        #{cl.name}
    &lt;/h:column&gt;
    &lt;h:column&gt;
        &lt;f:facet name="header"&gt;City&lt;/f:facet&gt;
        #{cl.city}
    &lt;/h:column&gt;
    &lt;h:column&gt;
        &lt;f:facet name="header"&gt;Action&lt;/f:facet&gt;
        &lt;s:link value="Modify Client" action="#{clientAction.modify}"
                rendered="#{s:hasPermission('client','modify',cl)"/&gt;
        &lt;s:link value="Delete Client" action="#{clientAction.delete}"
                rendered="#{s:hasPermission('client','delete',cl)"/&gt;
    &lt;/h:column&gt;
&lt;/h:dataTable&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7723"></a>13.6.4.&nbsp;&#20445;&#25252;&#39029;&#38754;</h3></div></div><div></div></div><p>
			&#39029;&#38754;&#23433;&#20840;&#35201;&#27714;&#24212;&#29992;&#31243;&#24207;&#20351;&#29992; <tt class="literal">pages.xml</tt> &#25991;&#20214;&#65292;&#20294;&#26159;&#37197;&#32622;&#26497;&#20026;&#31616;&#21333;&#12290;
			&#21482;&#35201;&#22312;&#20320;&#24076;&#26395;&#20445;&#25252;&#30340; <tt class="literal">page</tt> &#20803;&#32032;&#20869;&#37096;&#21253;&#25324;&#19968;&#20010; <tt class="literal">&lt;restrict/&gt;</tt> &#20803;&#32032;&#12290;
			&#22914;&#26524;&#27809;&#26377;&#36890;&#36807; <tt class="literal">restrict</tt> &#20803;&#32032;&#25351;&#23450;&#26126;&#30830;&#30340;&#38480;&#21046;&#65292;&#24403;&#32593;&#39029;&#36890;&#36807;non-faces&#65288;GET&#65289;&#30340;&#35831;&#27714;&#34987;&#35775;&#38382;&#26102;&#65292;
			<tt class="literal">/viewId.xhtml:render</tt> &#38544;&#21547;&#30340;&#35768;&#21487;&#23558;&#34987;&#26816;&#26597;&#65292;
			&#24182;&#19988;&#24403;&#32593;&#39029;&#19978;&#20219;&#20309;&#30340;JSF postback&#65288;&#34920;&#21333;&#25552;&#20132;&#65289;&#37117;&#38656;&#35201; <tt class="literal">/viewId.xhtml:restore</tt> &#35768;&#21487;&#12290;
			&#21542;&#21017;&#65292;&#29305;&#23450;&#30340;&#32422;&#26463;&#23558;&#20316;&#20026;&#19968;&#20010;&#26631;&#20934;&#30340;&#23433;&#20840;&#34920;&#36798;&#24335;&#36827;&#34892;&#21462;&#20540;&#12290;&#19979;&#38754;&#26377;&#20960;&#20010;&#20363;&#23376;&#65306;
			</p><pre class="programlisting">&lt;page view-id="/settings.xhtml"&gt;
    &lt;restrict/&gt;
&lt;/page&gt;</pre><p>
			&#26412;&#39029;&#38754;&#24050;&#32463;&#38544;&#21547;&#20102; <tt class="literal">/settings.xhtml:render</tt> &#25152;&#38656;&#30340;non-faces&#35831;&#27714;&#30340;&#35768;&#21487;&#65292;
			&#24182;&#38544;&#21547;&#20102; <tt class="literal">/settings.xhtml:restore</tt> &#25152;&#38656;&#30340;faces&#35831;&#27714;&#30340;&#35768;&#21487;&#12290;
			</p><pre class="programlisting">&lt;page view-id="/reports.xhtml"&gt;
    &lt;restrict&gt;#{s:hasRole('admin')}&lt;/restrict&gt;
&lt;/page&gt;</pre><p>
			&#36825;&#20010;&#39029;&#38754;&#30340;faces&#21644;non-faces&#35831;&#27714;&#65292;&#37117;&#38656;&#35201;&#29992;&#25143;&#26159; <tt class="literal">admin</tt> &#35282;&#33394;&#30340;&#19968;&#20010;&#25104;&#21592;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7763"></a>13.6.5.&nbsp;&#20445;&#25252;&#23454;&#20307;</h3></div></div><div></div></div><p>
			Seam Security&#20063;&#20351;&#24471;&#23545;&#23454;&#20307;&#30340;&#35835;&#21462;&#12289;&#25554;&#20837;&#12289;&#26356;&#26032;&#21644;&#21024;&#38500;&#21160;&#20316;&#24212;&#29992;&#23433;&#20840;&#38480;&#21046;&#25104;&#20026;&#21487;&#33021;&#12290;
			</p><p>
			&#20026;&#20102;&#20445;&#25252;&#19968;&#20010;&#23454;&#20307;&#31867;&#30340;&#25152;&#26377;&#21160;&#20316;&#65292;&#22312;&#31867;&#33258;&#36523;&#19978;&#28155;&#21152;&#19968;&#20010; <tt class="literal">@Restrict</tt> &#27880;&#35299;&#65306;
			</p><pre class="programlisting">@Entity
@Name("customer")
@Restrict
public class Customer {
  ...
}</pre><p>
			&#22914;&#26524;&#27809;&#26377;&#22312; <tt class="literal">@Restrict</tt> &#27880;&#35299;&#20013;&#25351;&#23450;&#20219;&#20309;&#34920;&#36798;&#24335;&#65292;&#25191;&#34892;&#30340;&#40664;&#35748;&#23433;&#20840;&#26816;&#26597;&#23601;&#26159; <tt class="literal">entityName:action</tt> &#30340;&#35768;&#21487;&#26816;&#26597;&#65292;
			&#22312;&#36825;&#37324;&#65292;<tt class="literal">entityName</tt> &#26159;&#23454;&#20307;&#30340;Seam&#32452;&#20214;&#21517;&#65288;&#25110;&#32773;&#22914;&#26524;&#25351;&#23450;&#20102;@Name&#65292;&#21017;&#26159;&#23436;&#20840;&#21305;&#37197;&#30340;&#31867;&#21517;&#65289;&#65292;&#24182;&#19988; <tt class="literal">action</tt> &#21487;&#20197;&#26159; <tt class="literal">read</tt>&#12289;<tt class="literal">insert</tt>&#12289;<tt class="literal">update</tt> &#25110;&#32773; <tt class="literal">delete</tt>&#12290;
			</p><p>
			&#20063;&#21487;&#33021;&#36890;&#36807;&#25226;<tt class="literal">@Restrict</tt>&#27880;&#35299;&#25918;&#22312;&#30456;&#20851;&#30340;&#23454;&#20307;&#29983;&#21629;&#21608;&#26399;&#30340;&#26041;&#27861;&#19978;&#65288;&#34987;&#27880;&#35299;&#22914;&#19979;&#65289;&#65292;&#32780;&#21482;&#38480;&#21046;&#26576;&#20123;&#21160;&#20316;&#65306;
			</p><div class="itemizedlist"><ul type="disc"><li><p>
						<tt class="literal">@PostLoad</tt> - &#22312;&#23454;&#20307;&#23454;&#20363;&#20174;&#25968;&#25454;&#24211;&#20013;&#21152;&#36733;&#20043;&#21518;&#35843;&#29992;&#12290;&#29992;&#36825;&#20010;&#26041;&#27861;&#37197;&#32622;&#19968;&#20010; <tt class="literal">read</tt> &#35768;&#21487;&#12290;
					</p></li><li><p>
						<tt class="literal">@PrePersist</tt> - &#22312;&#25554;&#20837;&#23454;&#20307;&#30340;&#19968;&#20010;&#26032;&#23454;&#20363;&#20043;&#21069;&#35843;&#29992;&#12290;&#29992;&#36825;&#20010;&#26041;&#27861;&#37197;&#32622;&#19968;&#20010; <tt class="literal">insert</tt> &#35768;&#21487;&#12290;
					</p></li><li><p>
						<tt class="literal">@PreUpdate</tt> - &#22312;&#23454;&#20307;&#26356;&#26032;&#20043;&#21069;&#35843;&#29992;&#12290;&#29992;&#36825;&#20010;&#26041;&#27861;&#37197;&#32622;&#19968;&#20010; <tt class="literal">update</tt> &#35768;&#21487;&#12290;
					</p></li><li><p>
						<tt class="literal">@PreRemove</tt> - &#22312;&#23454;&#20307;&#21024;&#38500;&#20043;&#21069;&#35843;&#29992;&#12290;&#29992;&#36825;&#20010;&#26041;&#27861;&#37197;&#32622;&#19968;&#20010;<tt class="literal">delete</tt>&#35768;&#21487;&#12290;
					</p></li></ul></div><p>
			&#36825;&#37324;&#26377;&#19968;&#20010;&#20363;&#23376;&#65292;&#35828;&#26126;&#23454;&#20307;&#26041;&#27861;&#22914;&#20309;&#37197;&#32622;&#25104;&#32473;&#20219;&#20309; <tt class="literal">insert</tt> &#25805;&#20316;&#25191;&#34892;&#23433;&#20840;&#26816;&#26597;&#12290;
			&#35831;&#27880;&#24847;&#19981;&#38656;&#35201;&#26041;&#27861;&#21435;&#20570;&#20219;&#20309;&#20107;&#24773;&#65292;&#26377;&#20851;&#23433;&#20840;&#30340;&#21807;&#19968;&#37325;&#35201;&#30340;&#19996;&#35199;&#26159;&#23427;&#22914;&#20309;&#34987;&#27880;&#35299;&#65306;
			</p><pre class="programlisting">
  @PrePersist @Restrict
  public void prePersist() {}
   </pre><p>
			&#36825;&#37324;&#36824;&#26377;&#19968;&#20010;&#20363;&#23376;&#65292;&#35828;&#26126;&#23454;&#20307;&#35768;&#21487;&#35268;&#21017;&#26816;&#26597;&#34987;&#39564;&#35777;&#30340;&#29992;&#25143;&#26159;&#21542;&#34987;&#20801;&#35768;&#65288;&#20174;seamspace&#20363;&#23376;&#20013;&#65289;&#25554;&#20837;&#26032;&#30340; <tt class="literal">MemberBlog</tt> &#35760;&#24405;&#12290;
			&#27491;&#22312;&#36827;&#34892;&#23433;&#20840;&#26816;&#26597;&#30340;&#23454;&#20307;&#65292;&#34987;&#33258;&#21160;&#26029;&#35328;&#21040;&#24037;&#20316;&#20869;&#23384;&#20013;&#65288;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#26159; <tt class="literal">MemberBlog</tt>&#65289;&#65306;
			</p><pre class="programlisting">rule InsertMemberBlog
  no-loop
  activation-group "permissions"
when
  check: PermissionCheck(name == "memberBlog", action == "insert", granted == false)
  Principal(principalName : name)
  MemberBlog(member : member -&gt; (member.getUsername().equals(principalName)))
then
  check.grant();
end;</pre><p>
			&#36825;&#20010;&#35268;&#21017;&#23558;&#25480;&#19982;&#35768;&#21487; <tt class="literal">memberBlog:insert</tt>&#65292;&#22914;&#26524;&#24403;&#21069;&#34987;&#39564;&#35777;&#30340;&#29992;&#25143;&#65288;&#30001; <tt class="literal">Principal</tt> fact&#34920;&#26126;&#65289;&#26377;&#30528;&#19982;&#27491;&#22312;&#20026;&#20854;&#21019;&#24314;Blog&#39033;&#30340;&#19968;&#26679;&#30340;&#25104;&#21592;&#12290;
			&#21487;&#20197;&#22312; <tt class="literal">Principal</tt> fact&#65288;&#21644;&#20854;&#23427;&#22320;&#26041;&#65289;&#20013;&#35265;&#21040;&#30340;&#8220;<tt class="literal">name : name</tt>&#8221;&#32467;&#26500;&#26159;&#19968;&#20010;&#21464;&#37327;&#32465;&#23450; - &#23427;&#25226; <tt class="literal">Principal</tt>&#30340; <tt class="literal">name</tt> &#23646;&#24615;&#32465;&#23450;&#21040;&#19968;&#20010;&#20855;&#21517; <tt class="literal">name</tt> &#30340;&#21464;&#37327;&#19978;&#12290;
			&#21464;&#37327;&#32465;&#23450;&#20801;&#35768;&#20540;&#22312;&#20854;&#23427;&#22320;&#26041;&#34987;&#24341;&#29992;&#65292;&#20363;&#22914;&#19979;&#38754;&#30340;&#34892;&#25226;&#25104;&#21592;&#30340;&#29992;&#25143;&#21517;&#19982; <tt class="literal">Principal</tt> &#21517;&#31216;&#36827;&#34892;&#27604;&#36739;&#12290;
			&#24819;&#20102;&#35299;&#26356;&#22810;&#32454;&#33410;&#65292;&#35831;&#21442;&#32771;JBoss Rules&#25991;&#26723;&#12290;
			</p><p>
			&#26368;&#21518;&#65292;&#38656;&#35201;&#23433;&#35013;&#19968;&#20010;&#30417;&#21548;&#22120;&#31867;&#65292;&#25226;Seam Security&#19982;&#20320;&#30340;JPA&#25552;&#20379;&#32773;&#25972;&#21512;&#36215;&#26469;&#12290;
			</p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e7888"></a>13.6.5.1.&nbsp;&#20351;&#29992;JPA&#30340;&#23454;&#20307;&#23433;&#20840;</h4></div></div><div></div></div><p>
				&#23545;EJB3&#23454;&#20307;Bean&#30340;&#23433;&#20840;&#26816;&#26597;&#36890;&#36807;&#19968;&#20010; <tt class="literal">EntityListener</tt> &#25191;&#34892;&#26469;&#23436;&#25104;&#30340;&#12290;
				&#20320;&#21487;&#20197;&#21033;&#29992;&#19979;&#21015; <tt class="literal">META-INF/orm.xml</tt> &#25991;&#20214;&#23433;&#35013;&#36825;&#20010;&#30417;&#21548;&#22120;&#65306;
				</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd"
                 version="1.0"&gt;

    &lt;persistence-unit-metadata&gt;
        &lt;persistence-unit-defaults&gt;
            &lt;entity-listeners&gt;
                &lt;entity-listener class="org.jboss.seam.security.EntitySecurityListener"/&gt;
            &lt;/entity-listeners&gt;
        &lt;/persistence-unit-defaults&gt;
    &lt;/persistence-unit-metadata&gt;

&lt;/entity-mappings&gt;</pre></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e7901"></a>13.6.5.2.&nbsp;&#20351;&#29992;Hibernate&#30340;&#23454;&#20307;&#23433;&#20840;</h4></div></div><div></div></div><p>
				&#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;&#19968;&#20010;&#32463;&#30001;Seam&#37197;&#32622;&#30340;Hibernate <tt class="literal">SessionFactory</tt>&#65292;&#20351;&#29992;&#23454;&#20307;&#23433;&#20840;&#23601;&#19981;&#38656;&#35201;&#20570;&#20219;&#20309;&#29305;&#21035;&#30340;&#20107;&#24773;&#12290;
				</p></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7909"></a>13.7.&nbsp;&#32534;&#20889;&#23433;&#20840;&#35268;&#21017;</h2></div></div><div></div></div><p>
		&#36804;&#20170;&#20026;&#27490;&#65292;&#25105;&#20204;&#24050;&#32463;&#25552;&#21040;&#20102;&#35768;&#22810;&#35768;&#21487;&#65292;&#20294;&#26159;&#27809;&#26377;&#25552;&#21450;&#35768;&#21487;&#20107;&#23454;&#19978;&#22914;&#20309;&#23450;&#20041;&#25110;&#32773;&#25480;&#19982;&#12290;
		&#26412;&#33410;&#23558;&#23545;&#27492;&#36827;&#34892;&#38416;&#36848;&#65292;&#35299;&#37322;&#35768;&#21487;&#26816;&#26597;&#22914;&#20309;&#36827;&#34892;&#65292;&#20197;&#21450;&#22914;&#20309;&#32473;&#19968;&#20010;Seam&#24212;&#29992;&#31243;&#24207;&#23454;&#29616;&#35768;&#21487;&#26816;&#26597;&#12290;
		</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7914"></a>13.7.1.&nbsp;&#35768;&#21487;&#27010;&#36848;</h3></div></div><div></div></div><p>
			Security API&#22914;&#20309;&#30693;&#36947;&#29992;&#25143;&#26159;&#21542;&#20855;&#26377;&#23545;&#19968;&#20010;&#29305;&#23450;&#23458;&#25143;&#30340; <tt class="literal">customer:modify</tt> &#35768;&#21487;&#65311;
			Seam Security&#25552;&#20379;&#19968;&#31181;&#26032;&#22855;&#30340;&#26041;&#27861;&#65292;&#26681;&#25454;JBoss Rules&#30830;&#23450;&#29992;&#25143;&#35768;&#21487;&#12290;
			&#20351;&#29992;&#35268;&#21017;&#24341;&#25806;&#30340;&#20004;&#20010;&#22909;&#22788;&#22312;&#20110;&#65306;1&#65289;&#23427;&#26159;&#27599;&#20010;&#29992;&#25143;&#35768;&#21487;&#32972;&#21518;&#30340;&#19994;&#21153;&#36923;&#36753;&#30340;&#19968;&#20010;&#38598;&#20013;&#20301;&#32622;&#65292;
			2&#65289;&#36895;&#24230; - JBoss Rules&#20351;&#29992;&#38750;&#24120;&#26377;&#25928;&#30340;&#31639;&#27861;&#65292;&#29992;&#26469;&#32473;&#28041;&#21450;&#22810;&#20010;&#26465;&#20214;&#30340;&#22823;&#37327;&#22797;&#26434;&#35268;&#21017;&#21462;&#20540;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7922"></a>13.7.2.&nbsp;&#37197;&#32622;&#35268;&#21017;&#25991;&#20214;</h3></div></div><div></div></div><p>
			Seam Security&#24076;&#26395;&#25214;&#21040;&#19968;&#20010;&#31216;&#20316; <tt class="literal">securityRules</tt> &#30340; <tt class="literal">RuleBase</tt> &#32452;&#20214;&#65292;Seam Security&#29992;&#23427;&#26469;&#32473;&#35768;&#21487;&#26816;&#26597;&#21462;&#20540;&#12290;
			&#36825;&#22312; <tt class="literal">components.xml</tt> &#20013;&#37197;&#32622;&#22914;&#19979;&#65306;
			</p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:core="http://jboss.com/products/seam/core"
            xmlns:security="http://jboss.com/products/seam/security"
            xmlns:drools="http://jboss.com/products/seam/drools"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation=
                "http://jboss.com/products/seam/core http://jboss.com/products/seam/core-2.0.xsd
                 http://jboss.com/products/seam/components http://jboss.com/products/seam/components-2.0.xsd
                 http://jboss.com/products/seam/drools http://jboss.com/products/seam/drools-2.0.xsd"
                 http://jboss.com/products/seam/security http://jboss.com/products/seam/security-2.0.xsd"&gt;

   &lt;drools:rule-base name="securityRules"&gt;
       &lt;drools:rule-files&gt;
           &lt;value&gt;/META-INF/security.drl&lt;/value&gt;
       &lt;/drools:rule-files&gt;
   &lt;/drools:rule-base&gt;

&lt;/components&gt;</pre><p>
			&#19968;&#26086;&#37197;&#32622;&#20102; <tt class="literal">RuleBase</tt> &#32452;&#20214;&#65292;&#23601;&#21487;&#20197;&#32534;&#20889;&#23433;&#20840;&#35268;&#21017;&#20102;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7943"></a>13.7.3.&nbsp;&#21019;&#24314;&#23433;&#20840;&#35268;&#21017;&#25991;&#20214;</h3></div></div><div></div></div><p>
			&#23545;&#20110;&#36825;&#20010;&#27493;&#39588;&#65292;&#35201;&#22312;&#24212;&#29992;&#31243;&#24207;&#30340;jar&#25991;&#20214;&#30340; <tt class="literal">/META-INF</tt> &#30446;&#24405;&#20013;&#21019;&#24314;&#19968;&#20010;&#21517;&#20026; <tt class="literal">security.drl</tt> &#30340;&#25991;&#20214;&#12290;
			&#20107;&#23454;&#19978;&#65292;&#36825;&#20010;&#25991;&#20214;&#21487;&#20197;&#21629;&#21517;&#20026;&#20320;&#21916;&#27426;&#30340;&#20219;&#20309;&#21517;&#23383;&#65292;&#24182;&#23384;&#22312;&#20110;&#20219;&#20309;&#20301;&#32622;&#65292;&#21482;&#35201;&#23427;&#22312; <tt class="literal">components.xml</tt> &#20013;&#36827;&#34892;&#20102;&#36866;&#24403;&#30340;&#37197;&#32622;&#12290;
			</p><p>
			&#37027;&#20040;&#23433;&#20840;&#35268;&#21017;&#25991;&#20214;&#24212;&#35813;&#21253;&#21547;&#20160;&#20040;&#21602;&#65311;&#30446;&#21069;&#65292;&#33267;&#23569;&#27983;&#35272;&#19968;&#19979;JBoss Rules&#25991;&#26723;&#21487;&#33021;&#26159;&#20010;&#22909;&#20027;&#24847;&#65292;&#20294;&#26159;&#36825;&#37324;&#20171;&#32461;&#30340;&#26159;&#19968;&#20010;&#26497;&#20026;&#31616;&#21333;&#30340;&#20363;&#23376;&#65306;
			</p><pre class="programlisting">package MyApplicationPermissions;

import org.jboss.seam.security.PermissionCheck;
import org.jboss.seam.security.Role;

rule CanUserDeleteCustomers
when
  c: PermissionCheck(name == "customer", action == "delete")
  Role(name == "admin")
then
  c.grant();
end;</pre><p>
			&#25105;&#20204;&#26469;&#20998;&#35299;&#19968;&#19979;&#12290;&#25105;&#20204;&#35265;&#21040;&#30340;&#31532;&#19968;&#20010;&#19996;&#35199;&#26159;&#21253;&#22768;&#26126;&#12290;&#21253;&#22312;JBoss Rules&#20013;&#22522;&#26412;&#19978;&#26159;&#19968;&#20010;&#35268;&#21017;&#30340;&#38598;&#21512;&#12290;
			&#21253;&#21517;&#21487;&#20197;&#26159;&#20320;&#21916;&#27426;&#30340;&#20219;&#20309;&#21517;&#31216; &#65293; &#23427;&#19981;&#24433;&#21709;&#35268;&#21017;&#22522;&#30784;&#33539;&#22260;&#20043;&#22806;&#30340;&#20219;&#20309;&#20854;&#23427;&#19996;&#35199;&#12290;
			</p><p>
			&#28982;&#21518;&#65292;&#25105;&#20204;&#21487;&#33021;&#27880;&#24847;&#21040;&#20108;&#20010;&#23545; <tt class="literal">PermissionCheck</tt> &#21644; <tt class="literal">Role</tt> &#31867;&#30340;&#23548;&#20837;&#35821;&#21477;&#12290;
			&#36825;&#20123;&#23548;&#20837;&#36890;&#30693;&#35268;&#21017;&#24341;&#25806;&#25105;&#20204;&#23558;&#22312;&#35268;&#21017;&#20013;&#24341;&#29992;&#36825;&#20123;&#31867;&#12290;
			</p><p>
			&#26368;&#21518;&#26159;&#35268;&#21017;&#30340;&#20195;&#30721;&#12290;&#21253;&#20013;&#30340;&#27599;&#19968;&#20010;&#35268;&#21017;&#37117;&#24212;&#35813;&#26377;&#19968;&#20010;&#21807;&#19968;&#30340;&#21517;&#31216;&#65288;&#19968;&#33324;&#25551;&#36848;&#35268;&#21017;&#30340;&#30446;&#30340;&#65289;&#12290;
			&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#30340;&#35268;&#21017;&#31216;&#20316; <tt class="literal">CanUserDeleteCustomers</tt>&#65292;&#29992;&#26469;&#26816;&#26597;&#29992;&#25143;&#26159;&#21542;&#34987;&#20801;&#35768;&#21024;&#38500;&#19968;&#20010;&#23458;&#25143;&#35760;&#24405;&#12290;
			</p><p>
			&#30475;&#30475;&#35268;&#21017;&#23450;&#20041;&#30340;&#20027;&#20307;&#65292;&#21487;&#20197;&#21457;&#29616;&#20004;&#20010;&#29420;&#29305;&#30340;&#37096;&#20998;&#12290;&#35268;&#21017;&#26377;&#31216;&#20026;LHS(&#24038;&#25163;&#36793;&#65289;&#21644;RHS&#65288;&#21491;&#25163;&#36793;&#65289;&#30340;&#19996;&#35199;&#12290;
			LHS&#30001;&#35268;&#21017;&#30340;&#26465;&#20214;&#37096;&#20998;&#32452;&#25104;&#65292;&#22914;&#24517;&#39035;&#28385;&#36275;&#35268;&#21017;&#20197;&#20415;&#35302;&#21457;&#30340;&#19968;&#31995;&#21015;&#26465;&#20214;&#12290;
			LHS&#30001; <tt class="literal">when</tt> &#37096;&#20998;&#34920;&#31034;&#12290;RHS&#26159;&#32467;&#26524;&#65292;&#25110;&#32773;&#26159;&#35268;&#21017;&#30340;&#21160;&#20316;&#37096;&#20998;&#65292;&#35813;&#35268;&#21017;&#21482;&#22312;&#28385;&#36275;LHS&#30340;&#25152;&#26377;&#26465;&#20214;&#26102;&#25165;&#35302;&#21457;&#12290;
			RHS&#30001; <tt class="literal">then</tt> &#37096;&#20998;&#32452;&#25104;&#12290;&#35268;&#21017;&#30340;&#26411;&#31471;&#29992; <tt class="literal">end;</tt> &#32447;&#34920;&#31034;&#12290;
			</p><p>
			&#22914;&#26524;&#30475;&#30475;&#35268;&#21017;&#30340;LHS&#65292;&#23601;&#21487;&#35265;&#21040;&#37027;&#37324;&#21015;&#20986;&#20102;&#20004;&#20010;&#26465;&#20214;&#12290;&#25105;&#20204;&#20808;&#26469;&#26816;&#39564;&#31532;&#19968;&#20010;&#26465;&#20214;&#65306;
			</p><pre class="programlisting">c: PermissionCheck(name == "customer", action == "delete")</pre><p>
			&#35828;&#24471;&#36890;&#20439;&#20123;&#65292;&#36825;&#20010;&#26465;&#20214;&#22768;&#26126;&#24037;&#20316;&#20869;&#23384;&#20013;&#24517;&#39035;&#23384;&#22312;&#19968;&#20010; <tt class="literal">PermissionCheck</tt> &#23545;&#35937;&#65292;&#23427;&#20855;&#26377;&#19982;"customer"&#30456;&#24403;&#30340; <tt class="literal">name</tt> &#23646;&#24615;&#65292;&#20197;&#21450;&#19982;"delete"&#30456;&#24403;&#30340; <tt class="literal">action</tt> &#23646;&#24615;&#12290;
			&#20160;&#20040;&#26159;&#24037;&#20316;&#20869;&#23384;&#65311;&#23427;&#26159;&#20010;&#20250;&#35805;&#33539;&#22260;&#30340;&#23545;&#35937;&#65292;&#21253;&#21547;&#35268;&#21017;&#24341;&#25806;&#36827;&#34892;&#26377;&#20851;&#35768;&#21487;&#26816;&#26597;&#20915;&#31574;&#26102;&#25152;&#38656;&#30340;&#19978;&#19979;&#25991;&#20449;&#24687;&#12290;
			&#27599;&#27425;&#35843;&#29992; <tt class="literal">hasPermission()</tt> &#26041;&#27861;&#26102;&#65292;&#19968;&#20010;&#20020;&#26102;&#30340; <tt class="literal">PermissionCheck</tt> &#23545;&#35937;&#25110;&#32773; <span class="emphasis"><em>Fact</em></span> &#23601;&#34987;&#26029;&#35328;&#21040;&#24037;&#20316;&#20869;&#23384;&#20013;&#12290;
			&#36825;&#20010; <tt class="literal">PermissionCheck</tt> &#27491;&#22909;&#23545;&#24212;&#20110;&#27491;&#34987;&#26816;&#26597;&#30340;&#35768;&#21487;&#65292;&#22240;&#27492;&#65292;&#20363;&#22914;&#22914;&#26524;&#35843;&#29992; <tt class="literal">hasPermission("account", "create", null)</tt>&#65292;&#37027;&#20040;&#24102;&#26377;&#30456;&#24403;&#20110;"account"&#30340; <tt class="literal">name</tt> &#21644;&#30456;&#24403;&#20110;"create"&#30340; <tt class="literal">action</tt> &#30340; <tt class="literal">PermissionCheck</tt> &#23545;&#35937;&#65292;&#23601;&#23558;&#22312;&#35768;&#21487;&#26816;&#26597;&#25345;&#32493;&#26399;&#38388;&#34987;&#26029;&#35328;&#21040;&#24037;&#20316;&#20869;&#23384;&#12290;
			</p><p>
			&#24037;&#20316;&#20869;&#23384;&#20013;&#36824;&#26377;&#20160;&#20040;&#20854;&#23427;&#30340;&#19996;&#35199;&#65311;
			&#38500;&#20102;&#22312;&#35768;&#21487;&#26816;&#26597;&#26399;&#38388;&#26029;&#35328;&#30340;&#30701;&#26399;&#20020;&#26102;fact&#34987;&#25554;&#20837;&#20043;&#22806;&#65292;&#24037;&#20316;&#20869;&#23384;&#20013;&#36824;&#26377;&#19968;&#20123;&#38271;&#26399;&#30340;&#23545;&#35937;&#65292;&#22312;&#29992;&#25143;&#39564;&#35777;&#30340;&#25972;&#20010;&#25345;&#32493;&#26399;&#38388;&#37117;&#20445;&#30041;&#22312;&#37027;&#12290;
			&#36825;&#20123;&#21253;&#25324;&#20316;&#20026;&#39564;&#35777;&#36807;&#31243;&#19968;&#37096;&#20998;&#32780;&#21019;&#24314;&#30340;&#20219;&#20309; <tt class="literal">java.security.Principal</tt> &#23545;&#35937;&#65292;
			&#36824;&#21253;&#25324;&#29992;&#25143;&#25152;&#23646;&#35282;&#33394;&#20013;&#30340;&#27599;&#19968;&#20010;&#35282;&#33394;&#30340; <tt class="literal">org.jboss.seam.security.Role</tt>&#12290;
			&#36890;&#36807;&#35843;&#29992; <tt class="literal">((RuleBasedIdentity) RuleBasedIdentity.instance()).getSecurityContext().insert()</tt>&#65292;
			&#20063;&#21487;&#33021;&#26029;&#35328;&#39069;&#22806;&#30340;&#38271;&#26399;fact&#21040;&#24037;&#20316;&#20869;&#23384;&#20013;&#65292;&#25226;&#23545;&#35937;&#24403;&#20316;&#21442;&#25968;&#20256;&#36882;&#12290;
			</p><p>
			&#22238;&#21040;&#25105;&#20204;&#30340;&#31616;&#21333;&#20363;&#23376;&#19978;&#26469;&#65292;&#20063;&#20250;&#27880;&#24847;&#21040;&#25105;&#20204;LHS&#30340;&#31532;&#19968;&#34892;&#21152;&#19978;&#20102; <tt class="literal">c:</tt> &#30340;&#21069;&#32512;&#12290;
			&#36825;&#26159;&#20010;&#21464;&#37327;&#32465;&#23450;&#65292;&#29992;&#26469;&#25351;&#22238;&#21040;&#31526;&#21512;&#26465;&#20214;&#30340;&#23545;&#35937;&#12290;&#31227;&#21040;LHS&#30340;&#31532;&#20108;&#34892;&#65292;&#20250;&#30475;&#21040;&#65306;
			</p><pre class="programlisting">Role(name == "admin")</pre><p>
			&#36825;&#20010;&#26465;&#20214;&#21482;&#22768;&#26126;&#24037;&#20316;&#20869;&#23384;&#20013;&#24517;&#39035;&#26377; <tt class="literal">Role</tt> &#23545;&#35937;&#24102;&#26377;"admin"&#30340; <tt class="literal">name</tt>&#12290;
			&#22914;&#21069;&#25152;&#36848;&#65292;&#29992;&#25143;&#35282;&#33394;&#34987;&#20316;&#20026;&#38271;&#26399;fact&#26029;&#35328;&#21040;&#24037;&#20316;&#20869;&#23384;&#20013;&#12290;
			&#22240;&#27492;&#65292;&#25226;&#20004;&#20010;&#26465;&#20214;&#25918;&#22312;&#19968;&#36215;&#65292;&#36825;&#20010;&#35268;&#21017;&#22522;&#26412;&#19978;&#31561;&#20110;&#22312;&#35828;&#65306;
			&#8220;&#22914;&#26524;&#20320;&#26816;&#26597; <tt class="literal">customer:delete</tt> &#35768;&#21487;&#65292;&#24182;&#19988;&#29992;&#25143;&#26159; <tt class="literal">admin</tt> &#35282;&#33394;&#30340;&#19968;&#21592;&#26102;&#65292;&#25105;&#23558;&#20250;&#35302;&#21457;&#12290;&#8221;
			</p><p>
			&#37027;&#20040;&#35268;&#21017;&#35302;&#21457;&#30340;&#32467;&#26524;&#20250;&#24590;&#26679;&#65311;&#25105;&#20204;&#26469;&#30475;&#30475;&#35268;&#21017;&#30340;RHS&#65306;
			</p><pre class="programlisting">c.grant()</pre><p>
			RHS&#30001;Java&#20195;&#30721;&#32452;&#25104;&#65292;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#26159;&#35843;&#29992; <tt class="literal">c</tt> &#23545;&#35937;&#30340; <tt class="literal">grant()</tt> &#26041;&#27861;&#65292;
			&#22914;&#21069;&#38754;&#25552;&#21040;&#36807;&#30340;&#65292;&#23427;&#26159;&#20010;&#23545; <tt class="literal">PermissionCheck</tt> &#23545;&#35937;&#30340;&#21464;&#37327;&#32465;&#23450;&#12290;
			&#38500;&#20102; <tt class="literal">PermissionCheck</tt> &#23545;&#35937;&#30340; <tt class="literal">name</tt> &#21644; <tt class="literal">action</tt> &#23646;&#24615;&#20043;&#22806;&#65292;
			&#20063;&#26377;&#19968;&#20010; <tt class="literal">granted</tt> &#23646;&#24615;&#65292;&#23427;&#30340;&#21021;&#22987;&#20540;&#35774;&#32622;&#20026; <tt class="literal">false</tt>&#12290;
			&#22312; <tt class="literal">PermissionCheck</tt> &#19978;&#35843;&#29992; <tt class="literal">grant()</tt> &#26041;&#27861;&#65292;
			&#35774;&#32622; <tt class="literal">granted</tt> &#23646;&#24615;&#20026; <tt class="literal">true</tt>&#65292;&#36825;&#24847;&#21619;&#30528;&#35768;&#21487;&#26816;&#26597;&#25104;&#21151;&#20102;&#65292;&#20801;&#35768;&#29992;&#25143;&#25191;&#34892;&#35768;&#21487;&#26816;&#26597;&#39044;&#23450;&#30340;&#20219;&#20309;&#21160;&#20316;&#12290;
			</p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e8100"></a>13.7.3.1.&nbsp;&#36890;&#37197;&#31526;&#35768;&#21487;&#26816;&#26597;</h4></div></div><div></div></div><p>
				&#36890;&#36807;&#22312;&#35268;&#21017;&#20013;&#32473; <tt class="literal">PermissionCheck</tt> &#21024;&#38500; <tt class="literal">action</tt> &#32422;&#26463;&#65292;
				&#21487;&#33021;&#23454;&#29616;&#36890;&#37197;&#31526;&#35768;&#21487;&#26816;&#26597;&#65288;&#23545;&#19968;&#20010;&#25351;&#23450;&#30340;&#35768;&#21487;&#21517;&#31216;&#20801;&#35768;&#25152;&#26377;&#21160;&#20316;&#65289;&#65292;&#20687;&#36825;&#26679;&#65306;
				</p><pre class="programlisting">rule CanDoAnythingToCustomersIfYouAreAnAdmin
when
  c: PermissionCheck(name == "customer")
  Role(name == "admin")
then
  c.grant();
end;
        </pre><p>
				&#36825;&#20010;&#35268;&#21017;&#20801;&#35768;&#24102;&#26377; <tt class="literal">admin</tt> &#35282;&#33394;&#30340;&#29992;&#25143;&#23545;&#20219;&#20309; <tt class="literal">customer</tt> &#35768;&#21487;&#26816;&#26597;&#25191;&#34892;&#20219;&#20309;&#25805;&#20316;&#12290;
				</p></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8121"></a>13.8.&nbsp;SSL&#23433;&#20840;</h2></div></div><div></div></div><p>
		Seam&#21253;&#25324;&#23545;&#36890;&#36807;HTTPS&#21327;&#35758;&#25552;&#20379;&#25935;&#24863;&#30340;&#39029;&#38754;&#30340;&#22522;&#26412;&#25903;&#25345;&#12290;
		&#36825;&#24456;&#23481;&#26131;&#36890;&#36807;&#22312; <tt class="literal">pages.xml</tt> &#20013;&#32473;&#39029;&#38754;&#25351;&#23450; <tt class="literal">scheme</tt> &#32780;&#37197;&#32622;&#12290;
		&#19979;&#21015;&#20363;&#23376;&#35828;&#26126;&#35270;&#22270; <tt class="literal">/login.xhtml</tt> &#22914;&#20309;&#37197;&#32622;&#20026;&#20351;&#29992;HTTPS&#65306;
		</p><pre class="programlisting">&lt;page view-id="/login.xhtml" scheme="https"&gt;</pre><p>
		&#36825;&#20010;&#37197;&#32622;&#33258;&#21160;&#25193;&#23637;&#20026; <tt class="literal">s:link</tt> &#21644; <tt class="literal">s:button</tt> JSF&#25511;&#21046;&#65292;&#23427;&#65288;&#22312;&#25351;&#23450; <tt class="literal">view</tt> &#26102;&#65289;&#36824;&#23558;&#28210;&#26579;&#20351;&#29992;&#20102;&#27491;&#30830;&#21327;&#35758;&#30340;&#38142;&#25509;&#12290;&#22312;&#21069;&#19968;&#20010;&#20363;&#23376;&#30340;&#22522;&#30784;&#19978;&#65292;&#19979;&#21015;&#38142;&#25509;&#23558;&#20351;&#29992;HTTPS&#21327;&#35758;&#65292;&#22240;&#20026; <tt class="literal">/login.xhtml</tt> &#37197;&#32622;&#20026;&#20351;&#29992;HTTPS&#65306;
		</p><pre class="programlisting">&lt;s:link view="/login.xhtml" value="Login"/&gt;</pre><p>
		&#20351;&#29992; <span class="emphasis"><em>&#38169;&#35823;</em></span> &#21327;&#35758;&#26102;&#65292;&#30452;&#25509;&#27983;&#35272;&#35270;&#22270;&#23558;&#23548;&#33268;&#37325;&#23450;&#21521;&#21040;&#19982;&#20351;&#29992; <span class="emphasis"><em>&#27491;&#30830;</em></span> &#21327;&#35758;&#19968;&#26679;&#30340;&#35270;&#22270;&#12290;
		&#20363;&#22914;&#65292;&#27983;&#35272;&#19968;&#20010;&#35753; <tt class="literal">scheme="https"</tt> &#20351;&#29992;HTTP&#30340;&#39029;&#38754;&#26102;&#65292;&#23558;&#37325;&#23450;&#21521;&#21040;&#19982;&#20351;&#29992;HTTPS&#19968;&#26679;&#30340;&#39029;&#38754;&#12290;
		</p><p>
		&#20063;&#21487;&#33021;&#32473;&#25152;&#26377;&#39029;&#38754;&#37197;&#32622;&#19968;&#20010; <tt class="literal">&#40664;&#35748;&#30340;scheme</tt>&#12290;&#36825;&#20107;&#23454;&#19978;&#30456;&#24403;&#37325;&#35201;&#65292;&#23601;&#20687;&#20320;&#21487;&#33021;&#21482;&#24076;&#26395;&#32473;&#19968;&#20123;&#39029;&#38754;&#20351;&#29992;HTTPS&#19968;&#26679;&#12290;
		&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#40664;&#35748;&#30340;scheme&#65292;&#37027;&#20040;&#40664;&#35748;&#30340;&#34892;&#20026;&#23601;&#26159;&#32487;&#32493;&#20351;&#29992;&#24403;&#21069;&#30340;scheme&#12290;
		&#36825;&#24847;&#21619;&#30528;&#19968;&#26086;&#20320;&#36890;&#36807;HTTPS&#36827;&#20837;&#20102;&#19968;&#20010;&#39029;&#38754;&#65292;HTTPS&#23601;&#23558;&#25345;&#32493;&#20351;&#29992;&#65292;&#21363;&#20351;&#20320;&#23548;&#33322;&#21040;&#20102;&#21478;&#19968;&#20010;&#38750;HTTPS&#30340;&#39029;&#38754;&#65288;&#31967;&#31957;&#30340;&#20107;&#65281;&#65289;&#12290;
		&#22240;&#27492;&#24378;&#28872;&#24314;&#35758;&#21253;&#25324;&#19968;&#20010;&#40664;&#35748;&#30340; <tt class="literal">scheme</tt>&#65292;&#36890;&#36807;&#22312;&#40664;&#35748;&#30340; <tt class="literal">"*"</tt> &#35270;&#22270;&#19978;&#37197;&#32622;&#23427;&#65306;
		</p><pre class="programlisting">&lt;page view-id="*" scheme="http" /&gt;</pre><p>
		&#24403;&#28982;&#65292;&#22914;&#26524;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013; <span class="emphasis"><em>&#27809;&#26377;</em></span> &#20219;&#20309;&#39029;&#38754;&#20351;&#29992;HTTPS&#65292;&#37027;&#23601;&#19981;&#38656;&#35201;&#25351;&#23450;&#40664;&#35748;&#30340;scheme&#12290;
		</p><p>
		&#20320;&#21487;&#20197;&#37197;&#32622;Seam&#26469;&#33258;&#21160;&#22320;&#22312;&#27599;&#27425;scheme&#25913;&#21464;&#26102;&#20351;&#24403;&#21069;&#30340;HTTP&#20250;&#35805;&#22833;&#25928;&#12290;&#21482;&#35201;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#21152;&#20837;&#36825;&#19968;&#34892;&#65306;
		</p><pre class="programlisting">&lt;core:servlet-session invalidate-on-scheme-change="true"/&gt;</pre><p>
		&#36825;&#20010;&#36873;&#39033;&#21487;&#20197;&#35753;&#20320;&#30340;&#31995;&#32479;&#20943;&#23569;&#34987;&#21957;&#25506;&#21040;Session ID&#25110;&#32773;&#22240;&#20026;&#39029;&#38754;&#20174;&#20351;&#29992;HTTPS&#36716;&#21040;HTTP&#26102;&#23548;&#33268;&#25935;&#24863;&#25968;&#25454;&#30340;&#27844;&#38706;&#12290;
		</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8191"></a>13.9.&nbsp;&#23454;&#29616;Captcha&#27979;&#35797;</h2></div></div><div></div></div><p>
		&#34429;&#28982;&#20005;&#26684;&#26469;&#35828;&#23427;&#19981;&#26159;Security API&#30340;&#19968;&#37096;&#20998;&#65292;&#20294;&#26159;&#23427;&#22312;&#26576;&#20123;&#29615;&#22659;&#19979;&#65288;&#20363;&#22914;&#26032;&#29992;&#25143;&#27880;&#20876;&#65292;&#21457;&#24067;&#21040;&#19968;&#20010;&#20844;&#20849;&#30340;blog&#25110;&#32773;&#35770;&#22363;&#65289;&#65292;
		&#21487;&#20197;&#29992;&#26469;&#23454;&#29616;Captcha&#65288;<span class="emphasis"><em>C</em></span>ompletely <span class="emphasis"><em>A</em></span>utomated <span class="emphasis"><em>P</em></span>ublic <span class="emphasis"><em>T</em></span>uring test to tell <span class="emphasis"><em>C</em></span>omputers and <span class="emphasis"><em>H</em></span>umans <span class="emphasis"><em>A</em></span>part&#65289;&#65292;&#20197;&#38450;&#27490;&#33258;&#21160;&#30340;&#26426;&#22120;&#20154;&#19982;&#24212;&#29992;&#31243;&#24207;&#36827;&#34892;&#20132;&#20114;&#12290;
		Seam&#25552;&#20379;&#19982;JCaptcha&#30340;&#26080;&#32541;&#25972;&#21512;&#65292;&#26159;&#20135;&#29983;Captcha challenge&#30340;&#19968;&#20010;&#26497;&#22909;&#30340;&#24211;&#12290;&#22914;&#26524;&#20320;&#24076;&#26395;&#22312;&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;Captcha&#29305;&#24615;&#65292;&#23601;&#35201;&#25226;&#26469;&#33258;Seam lib&#30446;&#24405;&#30340;jcaptcha-* jar&#25991;&#20214;&#21253;&#25324;&#22312;&#39033;&#30446;&#20013;&#65292;&#24182;&#22312; <tt class="literal">application.xml</tt> &#20013;&#25226;&#23427;&#27880;&#20876;&#20026;&#19968;&#20010;Java&#27169;&#22359;&#12290;
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8220"></a>13.9.1.&nbsp;&#37197;&#32622;Captcha Servlet</h3></div></div><div></div></div><p>
			&#20026;&#20102;&#24314;&#31435;&#24182;&#36816;&#34892;&#36215;&#26469;&#65292;&#38656;&#35201;&#37197;&#32622;Seam Resource Servlet&#65292;&#36825;&#23558;&#32473;&#20320;&#30340;&#39029;&#38754;&#25552;&#20379;Captcha challenge&#26144;&#23556;&#12290;&#36825;&#22312; <tt class="literal">web.xml</tt> &#20013;&#38656;&#35201;&#19979;&#21015;&#39033;&#65306;
			</p><pre class="programlisting">&lt;servlet&gt;
    &lt;servlet-name&gt;Seam Resource Servlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.jboss.seam.servlet.SeamResourceServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Seam Resource Servlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/seam/resource/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8230"></a>13.9.2.&nbsp;&#28155;&#21152;Captcha&#21040;&#39029;&#38754;</h3></div></div><div></div></div><p>
			&#28155;&#21152;&#19968;&#20010;Captcha challenge&#21040;&#39029;&#38754;&#26497;&#20026;&#23481;&#26131;&#12290;
			Seam&#25552;&#20379;&#19968;&#20010;page-scoped&#32452;&#20214;&#65292;<tt class="literal">captcha</tt>&#65292;&#23427;&#25552;&#20379;&#23427;&#25152;&#38656;&#35201;&#30340;&#19968;&#20999;&#65292;&#21253;&#25324;&#20869;&#32622;&#30340;captcha&#26657;&#39564;&#12290;&#36825;&#37324;&#26377;&#20010;&#20363;&#23376;&#65306;
			</p><pre class="programlisting">&lt;div&gt;
    &lt;h:graphicImage value="/seam/resource/captcha?#{captcha.id}"/&gt;
&lt;/div&gt;

&lt;div&gt;
    &lt;h:outputLabel for="verifyCaptcha"&gt;Enter the above letters&lt;/h:outputLabel&gt;
    &lt;h:inputText id="verifyCaptcha" value="#{captcha.response}" required="true"&gt;
      &lt;s:validate /&gt;
    &lt;/h:inputText&gt;
    &lt;div class="validationError"&gt;&lt;h:message for="verifyCaptcha"/&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div&gt;
    &lt;h:commandButton action="#{register.next}" value="Register"/&gt;
&lt;/div&gt;</pre><p>
			&#36825;&#23601;&#26159;&#20851;&#20110;&#23427;&#30340;&#25152;&#26377;&#20449;&#24687;&#12290;<tt class="literal">graphicImage</tt> &#25511;&#21046;&#26174;&#31034;Captcha challenge&#65292;<tt class="literal">inputText</tt> &#25509;&#25910;&#29992;&#25143;&#30340;&#21709;&#24212;&#12290;
			&#24403;&#34920;&#21333;&#34987;&#25552;&#20132;&#26102;&#36825;&#20010;&#21709;&#24212;&#20250;&#26681;&#25454;Captcha&#34987;&#33258;&#21160;&#22320;&#26657;&#39564;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8248"></a>13.9.3.&nbsp;&#23450;&#21046;Captcha&#22270;&#29255;</h3></div></div><div></div></div><p>
			Captcha&#22270;&#29255;&#26412;&#36523;&#21487;&#20197;&#36890;&#36807; <tt class="literal">ImageCaptchaService</tt> &#21644;&#40664;&#35748;&#30340;&#65288;<tt class="literal">DefaultManageableImageCaptchaService</tt>&#65289;&#36827;&#34892;&#23450;&#21046;&#12290;
			&#35201;&#37197;&#32622;&#19981;&#21516;&#30340; <tt class="literal">ImageCaptchaService</tt>&#65292;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#28155;&#21152;&#20197;&#19979;&#26465;&#30446;&#65306;
			</p><pre class="programlisting">  &lt;component name="org.jboss.seam.captcha.captchaImage" service="#{customCaptcha.service}"/&gt;</pre><p>
				<tt class="literal">service</tt> &#23646;&#24615;&#25351;&#26126; <tt class="literal">ImageCaptchaService</tt> &#23454;&#20363;&#29992;&#26469;&#29983;&#25104;Captcha&#22270;&#29255;&#12290;
			&#26356;&#22810;&#20851;&#20110;&#37197;&#32622;&#19968;&#20010; <tt class="literal">ImageCaptchaService</tt> &#30340;&#20449;&#24687;&#65292;&#35831;&#21442;&#35265;JCaptcha&#25991;&#26723;&#12290;
			&#36825;&#37324;&#26377;&#19968;&#20010;&#23450;&#21046;&#22270;&#29255;&#29983;&#25104;&#22120;&#30340;&#20363;&#23376;&#65288;&#21487;&#20197;&#22312;seamspace&#20363;&#23376;&#37324;&#25214;&#21040;&#65289;&#65306;
			</p><pre class="programlisting">@Name("customCaptcha")
public class CustomCaptcha
{
   public ImageCaptchaService getService()
   {
      BasicGimpyEngine customCaptcha = new BasicGimpyEngine();
      GimpyFactory factory = new GimpyFactory(
            new RandomWordGenerator("ABCDEFGHIJKLMNOPQRSTUVWXYZ23456789"),
            new ComposedWordToImage(new RandomFontGenerator(new Integer(15),
                  new Integer(15)), new UniColorBackgroundGenerator(new Integer(150),
                        new Integer(30)), new RandomTextPaster(new Integer(4),
                              new Integer(7), Color.BLACK)));
      GimpyFactory[] factories = {factory};
      customCaptcha.setFactories(factories);

      return new DefaultManageableImageCaptchaService(
                   new FastHashMapCaptchaStore(),
                   customCaptcha,
                   180,
                   120000,
                   75000);
   }
}</pre></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="i18n"></a>Chapter&nbsp;14.&nbsp;&#22269;&#38469;&#21270;&#21644;&#20027;&#39064;</h2></div></div><div></div></div><p>
        Seam&#36890;&#36807;&#25552;&#20379;&#20960;&#20010;&#20869;&#32622;&#37096;&#20214;&#26469;&#20026;UI&#25552;&#20379;&#22810;&#35821;&#35328;&#25903;&#25345;&#65292;&#20174;&#32780;&#20351;&#26500;&#24314;&#22269;&#38469;&#21270;&#30340;&#24212;&#29992;&#31243;&#24207;&#21464;&#24471;&#21313;&#20998;&#23481;&#26131;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8285"></a>14.1.&nbsp;&#26412;&#22320;&#21270;</h2></div></div><div></div></div><p>
            &#27599;&#19968;&#20010;&#29992;&#25143;&#30331;&#24405;&#20250;&#35805;&#37117;&#26377;&#19968;&#20010;&#30456;&#20851;&#30340; <tt class="literal">java.util.Locale</tt> &#23454;&#20363;&#65288;&#20197;&#21517;&#20026; <tt class="literal">locale</tt> &#30340;&#32452;&#20214;&#24418;&#24335;&#25552;&#20379;&#32473;&#24212;&#29992;&#31243;&#24207;&#65289;&#12290;
            &#19968;&#33324;&#24773;&#20917;&#19979;&#65292;&#19981;&#38656;&#35201;&#20570;&#20219;&#20309;&#29305;&#21035;&#30340;&#37197;&#32622;&#35774;&#32622;locale&#65292;Seam &#22996;&#25176;JSF&#26469;&#21028;&#26029;&#24403;&#21069;&#30340;&#27963;&#21160;locale&#65306;
        </p><div class="itemizedlist"><ul type="disc"><li>
                 &#22914;&#26524;HTTP&#35831;&#27714;&#20013;&#26377;&#19968;&#20010;&#30456;&#20851;&#32852;&#30340;locale&#65288;&#27983;&#35272;&#22120;&#30340;locale&#65289;&#65292;&#24182;&#19988;&#36825;&#20010;locale&#22312; <tt class="literal">faces-config.xml</tt> &#30340;&#25903;&#25345;&#21015;&#34920;&#20013;&#65292;&#37027;&#20040;&#20854;&#20182;&#20250;&#35805;&#20063;&#20351;&#29992;&#35813;locale&#12290;
            </li><li>
                &#21542;&#21017;&#65292;&#22914;&#26524;&#22312; <tt class="literal">faces-config.xml</tt> &#25351;&#23450;&#20102;&#40664;&#35748;&#30340;locale&#65292; &#37027;&#20040;&#20854;&#20182;&#20250;&#35805;&#20063;&#20351;&#29992;&#35813;locale&#12290;
            </li><li>
                &#21542;&#21017;&#65292;&#20351;&#29992;&#26381;&#21153;&#22120;&#30340;&#40664;&#35748;locale&#12290;
            </li></ul></div><p>
            &#36890;&#36807;Seam&#30340;&#20197;&#19979;&#20960;&#20010;&#37197;&#32622;&#23646;&#24615;&#26469;&#25163;&#24037;&#35774;&#32622;locale&#20063;&#26159;&#20320; <span class="emphasis"><em>&#21487;&#33021;&#30340;</em></span>&#65306;
            <tt class="literal">org.jboss.seam.international.localeSelector.language</tt>&#12289;
            <tt class="literal">org.jboss.seam.international.localeSelector.country</tt>&#21644;
            <tt class="literal">org.jboss.seam.international.localeSelector.variant</tt>&#65292;&#20294;&#26159;&#24182;&#19981;&#25512;&#33616;&#36825;&#31181;&#20570;&#27861;&#12290;
        </p><p>
            &#28982;&#32780;&#65292;&#20801;&#35768;&#29992;&#25143;&#36890;&#36807;&#24212;&#29992;&#31243;&#24207;&#30340;&#29992;&#25143;&#30028;&#38754;&#26469;&#25163;&#24037;&#35774;&#32622;locale&#20063;&#26159;&#24456;&#26377;&#30410;&#22788;&#30340;&#12290;Seam&#25552;&#20379;&#20102;&#20869;&#32622;&#30340;&#21151;&#33021;&#26469;&#35206;&#30422;&#36890;&#36807;&#19978;&#36848;&#31639;&#27861;&#20915;&#23450;&#30340;locale&#12290;&#20320;&#25152;&#35201;&#20570;&#30340;&#21482;&#26159;
            &#22312;JSP&#25110;Facelet&#30340;Form&#20013;&#22686;&#21152;&#20197;&#19979;&#20195;&#30721;&#27573;&#65306;
        </p><pre class="programlisting">&lt;h:selectOneMenu value="#{localeSelector.language}"&gt;
    &lt;f:selectItem itemLabel="English" itemValue="en"/&gt;
    &lt;f:selectItem itemLabel="Deutsch" itemValue="de"/&gt;
    &lt;f:selectItem itemLabel="Francais" itemValue="fr"/&gt;
&lt;/h:selectOneMenu&gt;
&lt;h:commandButton action="#{localeSelector.select}" value="#{messages['ChangeLanguage']}"/&gt;</pre><p>
            &#25110;&#32773;&#65292;&#22914;&#26524;&#20320;&#24819;&#35201;&#19968;&#20010; <tt class="literal">faces-config.xml</tt> &#25903;&#25345;&#30340;&#25152;&#26377;locale&#30340;&#21015;&#34920;&#65292;&#23601;&#29992;&#65306;
        </p><pre class="programlisting">&lt;h:selectOneMenu value="#{localeSelector.localeString}"&gt;
    &lt;f:selectItems value="#{localeSelector.supportedLocales}"/&gt;
&lt;/h:selectOneMenu&gt;
&lt;h:commandButton action="#{localeSelector.select}" value="#{messages['ChangeLanguage']}"/&gt;</pre><p>
            &#24403;&#22312;&#19979;&#25289;&#21015;&#34920;&#20013;&#36873;&#25321;&#19968;&#39033;&#65292;&#24182;&#25353;&#19979;&#25353;&#38062;&#21518;&#65292;&#38543;&#21518;&#20250;&#35805;&#20013;Seam&#21644;JSF&#30340;locale&#23601;&#34987;&#21047;&#26032;&#20102;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8336"></a>14.2.&nbsp;&#26631;&#31614;</h2></div></div><div></div></div><p>
            JSF &#36890;&#36807;&#20351;&#29992; <tt class="literal">&lt;f:loadBundle /&gt;</tt> &#26469;&#25903;&#25345;&#29992;&#25143;&#30028;&#38754;&#26631;&#31614;&#21644;&#25551;&#36848;&#25991;&#26412;&#30340;&#22269;&#38469;&#21270;&#12290;&#36825;&#20010;&#26041;&#27861;&#21516;&#26679;&#21487;&#20197;&#29992;&#22312;Seam&#24212;&#29992;&#31243;&#24207;&#20013;&#12290;
            &#25110;&#32773;&#65292;&#21487;&#20197;&#21033;&#29992;Seam&#30340; <tt class="literal">messages</tt> &#32452;&#20214;&#29992;&#20869;&#23884;&#30340;EL&#34920;&#36798;&#24335;&#26469;&#26174;&#31034;&#27169;&#26495;&#26631;&#31614;&#12290;
        </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8347"></a>14.2.1.&nbsp;&#23450;&#20041;&#26631;&#31614;</h3></div></div><div></div></div><p>
        	Seam&#25552;&#20379;&#20102;&#19968;&#20010; <tt class="literal">java.util.ResourceBundle</tt> &#65288;&#20197;<tt class="literal">org.jboss.seam.core.resourceBundle</tt> &#30340;&#21517;&#23383;&#25552;&#20379;&#32473;&#24212;&#29992;&#31243;&#24207;&#65289;&#12290;
        	&#20320;&#38656;&#35201;&#36890;&#36807;&#36825;&#20010;&#25351;&#23450;&#30340;&#36164;&#28304;&#21253;&#26469;&#20351;&#20320;&#30340;&#22269;&#38469;&#21270;&#26631;&#31614;&#21487;&#29992;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Seam &#20351;&#29992;&#21517;&#20026;<tt class="literal">messages</tt>&#30340;&#36164;&#28304;&#21253;&#65292;
        	&#20320;&#38656;&#35201;&#22312; <tt class="literal">messages.properties</tt>&#12289;<tt class="literal">messages_en.properties</tt>&#12289;<tt class="literal">messages_en_AU.properties</tt>
        	&#31561;&#25991;&#20214;&#20013;&#23450;&#20041;&#20320;&#30340;&#26631;&#31614;&#12290;&#36825;&#20123;&#25991;&#20214;&#36890;&#24120;&#22312; <tt class="literal">WEB-INF/classes</tt> &#30446;&#24405;&#19979;&#12290; 
        </p><p>
            &#22240;&#27492;&#65292;&#22312; <tt class="literal">messages_en.properties</tt>&#20013;&#65306;
        </p><pre class="programlisting">Hello=Hello</pre><p>
            &#21644;&#22312; <tt class="literal">messages_en_AU.properties</tt>&#20013;&#65306;
        </p><pre class="programlisting">Hello=G'day</pre><p>
            &#20320;&#21487;&#20197;&#36890;&#36807;&#35774;&#32622;Seam&#30340;&#37197;&#32622;&#23646;&#24615; <tt class="literal">org.jboss.seam.core.resourceLoader.bundleNames</tt> &#20026;&#36164;&#28304;&#21253;&#36873;&#25321;&#19968;&#20010;&#19981;&#21516;&#30340;&#21517;&#23383;&#12290;
            &#29978;&#33267;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#36164;&#28304;&#21253;&#21517;&#31216;&#21015;&#34920;&#65292;&#20197;&#28145;&#24230;&#20248;&#20808;&#36827;&#34892;&#28040;&#24687;&#30340;&#25628;&#32034;&#12290;
        </p><pre class="programlisting">&lt;core:resource-loader&gt;
    &lt;core:bundle-names&gt;
        &lt;value&gt;mycompany_messages&lt;/value&gt;
        &lt;value&gt;standard_messages&lt;/value&gt;       
    &lt;/core:bundle-names&gt;
&lt;/core:resource-loader&gt;</pre><p>
            &#22914;&#26524;&#24819;&#20026;&#19968;&#20010;&#29305;&#27530;&#39029;&#23450;&#20041;&#28040;&#24687;&#65292;&#21487;&#22312;&#20197;&#19968;&#20010;&#21644;JSF View id&#21516;&#21517;&#30340;&#36164;&#28304;&#21253;&#20013;&#25351;&#23450;&#65292;&#21435;&#25481;&#21069;&#32622; <tt class="literal">/</tt> &#21644;&#25991;&#20214;&#25193;&#23637;&#21517;&#12290;
            &#36825;&#26679;&#65292;&#22914;&#26524;&#25105;&#20204;&#21482;&#24819;&#22312; <tt class="literal">/welcome/hello.jsp</tt> &#20013;&#26174;&#31034;&#28040;&#24687;&#65292;&#23601;&#25226;&#23427;&#32622;&#20110; <tt class="literal">welcome/hello_en.properties</tt> &#20013;&#12290;
        </p><p>
            &#20320;&#36824;&#21487;&#20197;&#22312; <tt class="literal">pages.xml</tt> &#20013;&#25351;&#23450;&#19968;&#20010;&#26174;&#24335;&#30340;&#32465;&#23450;&#21517;&#31216;&#65306;
        </p><pre class="programlisting">&lt;page view-id="/welcome/hello.jsp" bundle="HelloMessages"/&gt;</pre><p>
            &#36825;&#26679;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#22312; <tt class="literal">/welcome/hello.jsp</tt> &#20013;&#20351;&#29992;&#23450;&#20041;&#22312; <tt class="literal">HelloMessages.properties</tt> &#20013;&#30340;&#28040;&#24687;&#20102;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8420"></a>14.2.2.&nbsp;&#26631;&#31614;&#26174;&#31034;</h3></div></div><div></div></div><p>
            &#22914;&#26524;&#20351;&#29992;Seam&#30340;&#36164;&#28304;&#21253;&#26469;&#23450;&#20041;&#26631;&#31614;&#65292;&#23601;&#19981;&#29992;&#27599;&#39029;&#20877;&#20889; <tt class="literal">&lt;f:loadBundle ... /&gt;</tt> &#20102;&#65292;&#21487;&#20197;&#20351;&#29992;&#36825;&#31181;&#31616;&#21333;&#30340;&#24418;&#24335;&#65306;
        </p><pre class="programlisting">&lt;h:outputText value="#{messages['Hello']}"/&gt;</pre><p>
            &#25110;&#32773;&#65306;
        </p><pre class="programlisting">&lt;h:outputText value="#{messages.Hello}"/&gt;</pre><p>
            &#26356;&#22909;&#30340;&#19968;&#28857;&#26159;&#65292;message&#33258;&#36523;&#21487;&#20197;&#21253;&#21547;EL&#34920;&#36798;&#24335;&#65306;
        </p><pre class="programlisting">Hello=Hello, #{user.firstName} #{user.lastName}</pre><pre class="programlisting">Hello=G'day, #{user.firstName}</pre><p>
            &#20320;&#20063;&#21487;&#20197;&#22312;&#20195;&#30721;&#20013;&#36825;&#26679;&#20351;&#29992;&#28040;&#24687;&#65306;
        </p><pre class="programlisting">@In private Map&lt;String, String&gt; messages;</pre><pre class="programlisting">@In("#{messages['Hello']}") private String helloMessage;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8446"></a>14.2.3.&nbsp;Faces Messages</h3></div></div><div></div></div><p>
             <tt class="literal">facesMessages</tt> &#32452;&#20214;&#26159;&#19968;&#20010;&#21521;&#29992;&#25143;&#26174;&#31034;&#25104;&#21151;&#25110;&#32773;&#22833;&#36133;&#28040;&#24687;&#30340;&#38750;&#24120;&#26041;&#20415;&#30340;&#36884;&#24452;&#12290;
             &#25105;&#20204;&#20043;&#21069;&#25551;&#36848;&#30340;&#21151;&#33021;&#23545;Faces Messages&#21516;&#26679;&#26377;&#25928;&#65306;
        </p><pre class="programlisting">@Name("hello")
@Stateless
public class HelloBean implements Hello {
    @In FacesMessages facesMessages;
    
    public String sayIt() {
        facesMessages.addFromResourceBundle("Hello");
    }
}</pre><p>
            &#36825;&#23558;&#26681;&#25454;&#29992;&#25143;&#30340;locale&#26174;&#31034; <tt class="literal">Hello, Gavin King</tt> &#25110;&#32773; <tt class="literal">G'day, Gavin</tt>&#12290;
        </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8464"></a>14.3.&nbsp;&#26102;&#21306;</h2></div></div><div></div></div><p>
           Seam&#20013;&#36824;&#26377;&#19968;&#20010;session&#33539;&#22260;&#30340; <tt class="literal">java.util.Timezone</tt> &#23454;&#20363;&#65292;&#21483;&#20570; <tt class="literal">org.jboss.seam.international.timezone</tt>&#65292;
           &#21644;&#19968;&#20010;&#21517;&#20026; <tt class="literal">org.jboss.seam.international.timezoneSelector</tt> &#30340;&#29992;&#20110;&#35774;&#32622;&#26102;&#21306;&#30340;&#32452;&#20214;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#26102;&#21306;&#21462;&#26381;&#21153;&#22120;&#30340;&#40664;&#35748;&#26102;&#21306;&#12290;
           &#19981;&#24184;&#30340;&#26159;&#65292;JSF&#35268;&#33539;&#20013;&#35762;&#25152;&#26377;&#30340;&#26085;&#26399;&#21644;&#26102;&#38388;&#37117;&#20551;&#35774;&#26159;UTC &#30340;&#65292;&#24182;&#19988;&#26174;&#31034;&#20026;UTC&#65292;&#38500;&#38750;&#20351;&#29992; <tt class="literal">&lt;f:convertDateTime&gt;</tt> &#26126;&#30830;&#22320;&#20026;&#20854;&#25351;&#23450;&#26102;&#21306;&#12290;
           &#36825;&#26159;&#19968;&#20010;&#38750;&#24120;&#19981;&#26041;&#20415;&#30340;&#40664;&#35748;&#34892;&#20026;&#12290;
        </p><p>
            Seam&#35206;&#20889;&#20102;&#36825;&#20010;&#34892;&#20026;&#65292;&#40664;&#35748;&#25152;&#26377;&#30340;&#26085;&#26399;&#21644;&#26102;&#38388;&#37117;&#26159;Seam&#30340;&#26102;&#21306;&#12290;&#21478;&#22806;&#65292;Seam&#25552;&#20379;&#20102; <tt class="literal">&lt;s:convertDateTime&gt;</tt>  &#26631;&#31614;&#65292;&#29992;&#26469;&#22788;&#29702;Seam &#26102;&#21306;&#30340;&#36716;&#21270;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8486"></a>14.4.&nbsp;&#20027;&#39064;</h2></div></div><div></div></div><p>
            Seam&#24212;&#29992;&#31243;&#24207;&#21487;&#20197;&#24456;&#26041;&#20415;&#22320;&#25913;&#21464;&#30382;&#32932;&#12290;Theme API&#21644;&#26412;&#22320;&#21270;API&#38750;&#24120;&#30456;&#20284;&#65292;&#20294;&#26159;&#23427;&#20204;&#20108;&#32773;&#30340;&#20851;&#27880;&#28857;&#25130;&#28982;&#19981;&#21516;&#65292;&#19968;&#20123;&#24212;&#29992;&#21516;&#26102;&#25903;&#25345;&#26412;&#22320;&#21270;&#21644;&#20027;&#39064;&#12290;
        </p><p>
            &#39318;&#20808;&#65292;&#37197;&#32622;&#25152;&#25903;&#25345;&#30340;&#20027;&#39064;&#38598;&#21512;&#65306;
        </p><pre class="programlisting">&lt;theme:theme-selector cookie-enabled="true"&gt;
    &lt;theme:available-themes&gt;
        &lt;value&gt;default&lt;/value&gt;
        &lt;value&gt;accessible&lt;/value&gt;
        &lt;value&gt;printable&lt;/value&gt;
    &lt;/theme:available-themes&gt;
&lt;/theme:theme-selector&gt;</pre><p>
            &#27880;&#24847;&#65292;&#31532;&#19968;&#20010;&#26159;&#40664;&#35748;&#30340;&#20027;&#39064;&#12290;
		</p><p>
            &#20027;&#39064;&#23450;&#20041;&#22312;&#19968;&#20010;&#21644;&#35813;&#20027;&#39064;&#21516;&#21517;&#30340;&#23646;&#24615;&#25991;&#20214;&#20013;&#12290;&#20363;&#22914;&#65292;<tt class="literal">default</tt> &#20027;&#39064;&#23450;&#20041;&#22312;<tt class="literal">default.properties</tt>&#20013;&#12290;
            <tt class="literal">default.properties</tt>&#21487;&#33021;&#26159;&#36825;&#26679;&#23450;&#20041;&#30340;&#65306;
        </p><pre class="programlisting">css ../screen.css
template /template.xhtml</pre><p>
            &#36890;&#24120;&#20027;&#39064;&#36164;&#28304;&#21253;&#30340;&#20869;&#23481;&#26159;CSS&#26679;&#24335;&#25110;&#22270;&#29255;&#30340;&#36335;&#24452;&#21644;facelet&#27169;&#26495;&#65288;&#19981;&#20687;&#26412;&#22320;&#21270;&#36164;&#28304;&#21253;&#37027;&#26679;&#36890;&#24120;&#26159;&#25991;&#26412;&#65289;&#12290;
        </p><p>
            &#29616;&#22312;&#25105;&#20204;&#21487;&#20197;&#22312;JSP&#25110;&#32773;Facelet&#39029;&#38754;&#20013;&#20351;&#29992;&#36825;&#20123;&#20869;&#23481;&#20102;&#12290;&#20363;&#22914;&#65292;&#19968;&#20010;Facelet&#39029;&#30340;&#39118;&#26684;&#21487;&#20197;&#36825;&#26679;&#65306;
        </p><pre class="programlisting">&lt;link href="#{theme.css}" rel="stylesheet" type="text/css" /&gt;</pre><p>&#25110;&#32773;&#65292;&#24403;&#39029;&#38754;&#23450;&#20041;&#22312;&#19968;&#20010;&#23376;&#30446;&#24405;&#20013;&#26102;&#21487;&#20197;&#36825;&#26679;&#65306;</p><pre class="programlisting">&lt;link href="#{facesContext.externalContext.requestContextPath}#{theme.css}" 
    rel="stylesheet" type="text/css" /&gt;</pre><p>
            &#26368;&#24378;&#22823;&#30340;&#26159;&#65292;Facelet&#35753;&#25105;&#20204;&#36890;&#36807; <tt class="literal">&lt;ui:composition&gt;</tt> &#25226;&#27169;&#26495;&#20027;&#39064;&#21270;:
        </p><pre class="programlisting">&lt;ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    template="#{theme.template}"&gt;</pre><p>
            &#27491;&#22914;locale&#36873;&#25321;&#22120;&#19968;&#26679;&#65292;&#26377;&#19968;&#20010;&#20869;&#32622;&#30340;&#20027;&#39064;&#36873;&#25321;&#22120;&#20801;&#35768;&#29992;&#25143;&#22312;&#21508;&#20027;&#39064;&#38388;&#33258;&#30001;&#22320;&#20999;&#25442;&#65306;
        </p><pre class="programlisting">&lt;h:selectOneMenu value="#{themeSelector.theme}"&gt;
    &lt;f:selectItems value="#{themeSelector.themes}"/&gt;
&lt;/h:selectOneMenu&gt;
&lt;h:commandButton action="#{themeSelector.select}" value="Select Theme"/&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8531"></a>14.5.&nbsp;&#20351;&#29992;cookie&#20445;&#23384;locale&#21644;&#20027;&#39064;&#35774;&#32622;</h2></div></div><div></div></div><p>
            locale&#36873;&#25321;&#22120;&#12289;&#20027;&#39064;&#36873;&#25321;&#22120;&#21644;&#26102;&#21306;&#36873;&#25321;&#22120;&#20840;&#37117;&#25903;&#25345;&#25345;&#20037;&#21270;&#65292;&#25226;&#21442;&#25968;&#20445;&#23384;&#21040;cookie&#20013;&#12290;&#20165;&#38656;&#35201;&#22312;<tt class="literal">components.xml</tt>&#20013;&#35774;&#32622; <tt class="literal">cookie-enabled</tt> &#37197;&#32622;&#23646;&#24615;&#65306;
        </p><pre class="programlisting">&lt;theme:theme-selector cookie-enabled="true"&gt;
    &lt;theme:available-themes&gt;
        &lt;value&gt;default&lt;/value&gt;
        &lt;value&gt;accessible&lt;/value&gt;
        &lt;value&gt;printable&lt;/value&gt;
    &lt;/theme:available-themes&gt;
&lt;/theme:theme-selector&gt;

&lt;international:locale-selector cookie-enabled="true"/&gt;</pre></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="text"></a>Chapter&nbsp;15.&nbsp;Seam Text</h2></div></div><div></div></div><p>
        &#38754;&#21521;&#21327;&#20316;&#30340;&#32593;&#31449;&#38656;&#35201;&#19968;&#20010;&#21451;&#22909;&#30340;&#26631;&#35760;&#35821;&#35328;&#26469;&#31616;&#21270;&#23545;&#35770;&#22363;&#24086;&#23376;&#12289;Wiki&#39029;&#38754;&#12289;&#21338;&#23458;&#65288;Blog&#65289;&#12289;&#35780;&#35770;&#31561;&#31561;&#26684;&#24335;&#21270;&#25991;&#26412;&#30340;&#22788;&#29702;&#12290;
        Seam&#25552;&#20379;&#20102; <tt class="literal">&lt;s:formattedText/&gt;</tt> &#25511;&#20214;&#26469;&#26174;&#31034;&#31526;&#21512; <span class="emphasis"><em>Seam Text</em></span> &#35821;&#35328;&#30340;&#26684;&#24335;&#21270;&#25991;&#26412;&#12290;
        Seam Text&#26159;&#29992;&#19968;&#20010;&#22522;&#20110;ANTLR&#30340;&#35821;&#27861;&#20998;&#26512;&#22120;&#26469;&#23454;&#29616;&#30340;&#12290;&#20294;&#20320;&#19981;&#38656;&#35201;&#30693;&#36947;ANTLR&#23601;&#33021;&#26041;&#20415;&#22320;&#20351;&#29992;&#23427;&#20102;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8555"></a>15.1.&nbsp;&#22522;&#26412;&#26684;&#24335;&#21270;</h2></div></div><div></div></div><p>&#19979;&#38754;&#26159;&#20010;&#31616;&#21333;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting">It's easy to make *bold text*, /italic text/, |monospace|,
~deleted text~, super^scripts^ or _underlines_.</pre><p>&#22914;&#26524;&#25105;&#20204;&#29992; <tt class="literal">&lt;s:formattedText/&gt;</tt> &#26469;&#26174;&#31034;&#23427;&#65292;&#20250;&#20135;&#29983;&#19979;&#38754;&#30340;HTML&#65306;</p><pre class="programlisting">&lt;p&gt;
It's easy to make &lt;b&gt;bold text&lt;/b&gt;, &lt;i&gt;italic text&lt;/i&gt;, &lt;tt&gt;monospace&lt;/tt&gt;
&lt;del&gt;deleted text&lt;/del&gt;, super&lt;sup&gt;scripts&lt;/sup&gt; or &lt;u&gt;underlines&lt;/u&gt;.
&lt;/p&gt;</pre><p>&#21487;&#20197;&#29992;&#19968;&#20010;&#31354;&#34892;&#26469;&#34920;&#31034;&#26032;&#30340;&#27573;&#33853;&#65292;&#29992; <tt class="literal">+</tt> &#26469;&#34920;&#31034;&#19968;&#20010;&#26631;&#39064;&#65306;</p><pre class="programlisting">+This is a big heading
You /must/ have some text following a heading!

++This is a smaller heading
This is the first paragraph. We can split it across multiple
lines, but we must end it with a blank line.

This is the second paragraph.</pre><p>&#65288;&#35831;&#27880;&#24847;&#31616;&#21333;&#30340;&#25442;&#34892;&#26159;&#34987;&#24573;&#30053;&#30340;&#65292;&#20320;&#38656;&#35201;&#19968;&#20010;&#39069;&#22806;&#30340;&#31354;&#34892;&#25226;&#25991;&#26412;&#25442;&#34892;&#21040;&#19968;&#20010;&#26032;&#30340;&#27573;&#33853;&#20013;&#12290;&#65289;&#19979;&#38754;&#23601;&#26159;HTML&#30340;&#32467;&#26524;&#65306;</p><pre class="programlisting">&lt;h1&gt;This is a big heading&lt;/h1&gt;
&lt;p&gt;
You &lt;i&gt;must&lt;/i&gt; have some text following a heading!
&lt;/p&gt;

&lt;h2&gt;This is a smaller heading&lt;/h2&gt;
&lt;p&gt;
This is the first paragraph. We can split it across multiple
lines, but we must end it with a blank line.
&lt;/p&gt;

&lt;p&gt;
This is the second paragraph.
&lt;/p&gt;</pre><p>&#29992; <tt class="literal">#</tt> &#23383;&#31526;&#26469;&#24314;&#31435;&#26377;&#24207;&#30340;&#21015;&#34920;&#12290;&#33267;&#20110;&#26080;&#24207;&#30340;&#21015;&#34920;&#23601;&#29992; <tt class="literal">=</tt> &#23383;&#31526;&#65306;</p><pre class="programlisting">An ordered list:

#first item
#second item
#and even the /third/ item

An unordered list:

=an item
=another item</pre><pre class="programlisting">&lt;p&gt;
An ordered list:
&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;first item&lt;/li&gt;
&lt;li&gt;second item&lt;/li&gt;
&lt;li&gt;and even the &lt;i&gt;third&lt;/i&gt; item&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;
An unordered list:
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;an item&lt;/li&gt;
&lt;li&gt;another item&lt;/li&gt;
&lt;/ul&gt;</pre><p>&#24341;&#29992;&#30340;&#37096;&#20998;&#24212;&#35813;&#29992;&#21452;&#24341;&#21495;&#25324;&#36215;&#26469;&#65306;</p><pre class="programlisting">The other guy said:

"Nyeah nyeah-nee
/nyeah/ nyeah!"

But what do you think he means by "nyeah-nee"?</pre><pre class="programlisting">&lt;p&gt;
The other guy said:
&lt;/p&gt;

&lt;q&gt;Nyeah nyeah-nee
&lt;i&gt;nyeah&lt;/i&gt; nyeah!&lt;/q&gt;

&lt;p&gt;
But what do you think he means by &lt;q&gt;nyeah-nee&lt;/q&gt;?
&lt;/p&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8598"></a>15.2.&nbsp;&#36755;&#20837;&#20195;&#30721;&#21644;&#26377;&#29305;&#27530;&#23383;&#31526;&#30340;&#25991;&#26412;</h2></div></div><div></div></div><p>
        &#20687; <tt class="literal">*</tt>&#12289;<tt class="literal">|</tt> &#21644; <tt class="literal">#</tt> &#36825;&#26679;&#30340;&#29305;&#27530;&#23383;&#31526;&#65292;
        &#21644;&#35832;&#22914; <tt class="literal">&lt;</tt>&#12289;<tt class="literal">&gt;</tt> &#21644; <tt class="literal">&amp;</tt> &#20043;&#31867;&#30340;HTML&#23383;&#31526;&#21487;&#20197;&#29992;&#26469; <tt class="literal">\</tt> &#26469;&#36716;&#20041;&#65306;
        </p><pre class="programlisting">You can write down equations like 2\*3\=6 and HTML tags
like \&lt;body\&gt; using the escape character: \\.</pre><pre class="programlisting">&lt;p&gt;
You can write down equations like 2*3=6 and HTML tags
like &amp;lt;body&amp;gt; using the escape character: \.
&lt;/p&gt;</pre><p>&#20195;&#30721;&#27573;&#21487;&#20197;&#29992;&#20498;&#21333;&#24341;&#21495;&#65288;`&#65289;&#25324;&#36215;&#26469;&#65306;</p><pre class="programlisting">My code doesn't work:

`for (int i=0; i&lt;100; i--)
{
    doSomething();
}`

Any ideas?</pre><pre class="programlisting">&lt;p&gt;
My code doesn't work:
&lt;/p&gt;

&lt;pre&gt;for (int i=0; i&amp;lt;100; i--)
{
    doSomething();
}&lt;/pre&gt;

&lt;p&gt;
Any ideas?
&lt;/p&gt;</pre><p>&#35831;&#27880;&#24847;&#34892;&#38388;&#30340;&#31354;&#26684;&#20250;&#36716;&#30721;&#65288;&#22823;&#37096;&#20998;&#30340;&#31354;&#26684;&#37117;&#20250;&#34987;&#26684;&#24335;&#21270;&#25104;&#25991;&#26412;&#24418;&#24335;&#65292;&#23454;&#38469;&#19978;&#26377;&#24456;&#22810;&#30340;&#29305;&#23450;&#23383;&#31526;&#37117;&#26159;&#20195;&#30721;&#25110;&#32773;&#26631;&#31614;&#65289;&#12290;&#22240;&#27492;&#20320;&#21487;&#20197;&#20889;&#25104;&#65306;</p><pre class="programlisting">This is a |&lt;tag attribute="value"/&gt;| example.</pre><p>&#22312;&#36825;&#37324;&#38754;&#30340;&#31354;&#26684;&#27809;&#26377;&#36716;&#25442;&#25104;&#20219;&#20309;&#30340;&#23383;&#31526;&#12290;&#19979;&#38754;&#20320;&#19981;&#33021;&#36890;&#36807;&#20219;&#20309;&#26041;&#24335;&#26469;&#26684;&#24335;&#21270;&#34892;&#38388;&#30340;&#31354;&#26684;&#25991;&#26412;&#65288;&#26012;&#20307;&#23383;&#65292;&#19979;&#21010;&#32447;&#31561;&#31561;&#65289;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8640"></a>15.3.&nbsp;&#38142;&#25509;</h2></div></div><div></div></div><p>&#21487;&#20197;&#29992;&#19979;&#38754;&#30340;&#35821;&#27861;&#26469;&#24314;&#31435;&#19968;&#20010;&#38142;&#25509;&#65306;</p><pre class="programlisting">Go to the Seam website at [=&gt;http://jboss.com/products/seam].</pre><p>&#22914;&#26524;&#20320;&#24819;&#25351;&#23450;&#38142;&#25509;&#30340;&#25991;&#26412;&#65292;&#20063;&#21487;&#20197;&#36825;&#26679;&#65306;</p><pre class="programlisting">Go to [the Seam website=&gt;http://jboss.com/products/seam].</pre><p>&#23545;&#20110;&#39640;&#32423;&#29992;&#25143;&#65292;&#29978;&#33267;&#21487;&#20197;&#33258;&#23450;&#20041;Seam Text&#35299;&#26512;&#22120;&#65292;&#35753;&#23427;&#35808;&#37322;&#36825;&#20010;&#35821;&#27861;&#20070;&#20889;&#30340;Wiki&#35789;&#27719;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8653"></a>15.4.&nbsp;&#36755;&#20837;HTML</h2></div></div><div></div></div><p>&#25991;&#26412;&#21487;&#33021;&#20250;&#21253;&#21547;&#19968;&#20010;HTML&#30340;&#26377;&#38480;&#23376;&#38598;&#65288;&#19981;&#29992;&#25285;&#24515;&#65292;&#36825;&#20010;&#23376;&#38598;&#21487;&#20197;&#25269;&#24481;&#36328;&#31449;&#33050;&#26412;&#25915;&#20987;&#65289;&#12290;&#36825;&#22312;&#24314;&#31435;&#38142;&#25509;&#26102;&#24456;&#26377;&#29992;&#65306;</p><pre class="programlisting">You might want to link to &lt;a href="http://jboss.com/products/seam"&gt;something
cool&lt;/a&gt;, or even include an image: &lt;img src="/logo.jpg"/&gt;</pre><p>&#24314;&#31435;&#34920;&#26684;&#26102;&#20063;&#19968;&#26679;&#65306;</p><pre class="programlisting">&lt;table&gt;
    &lt;tr&gt;&lt;td&gt;First name:&lt;/td&gt;&lt;td&gt;Gavin&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Last name:&lt;/td&gt;&lt;td&gt;King&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</pre><p>&#22914;&#26524;&#20320;&#24819;&#30340;&#35805;&#20320;&#36824;&#33021;&#20570;&#24471;&#26356;&#22810;&#65281;</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="itext"></a>Chapter&nbsp;16.&nbsp;iText PDF&#29983;&#25104;</h2></div></div><div></div></div><p>
    Seam&#30446;&#21069;&#21253;&#25324;&#20102;&#19968;&#20010;&#21033;&#29992;iText&#29983;&#25104;&#25991;&#26723;&#30340;&#32452;&#20214;&#38598;&#12290;Seam&#30340;iText&#25991;&#26723;&#25903;&#25345;&#20027;&#35201;&#20851;&#27880;&#20110;PDF&#25991;&#26723;&#30340;&#29983;&#25104;&#65292;&#20294;&#23427;&#20063;&#23545;&#29983;&#25104;RTF&#25991;&#26723;&#25552;&#20379;&#22522;&#26412;&#30340;&#25903;&#25345;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="itext.intro"></a>16.1.&nbsp;&#20351;&#29992;PDF&#25903;&#25345;</h2></div></div><div></div></div><p>
        	iText&#25903;&#25345;&#30001; <tt class="literal">jboss-seam-pdf.jar</tt> &#25552;&#20379;&#12290;
        	&#36825;&#20010;JAR&#21253;&#20013;&#21547;&#26377;&#29992;&#26469;&#26500;&#36896;&#21487;&#20197;&#28210;&#26579;&#25104;PDF&#30340;&#35270;&#22270;&#30340;iText JSF&#25511;&#20214;&#21644;&#25226;&#25226;&#28210;&#26579;&#22909;&#30340;&#25991;&#26723;&#25552;&#20379;&#32473;&#29992;&#25143;&#30340;DocumentStore&#32452;&#20214;&#12290;
        	&#20026;&#20102;&#22312;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#21253;&#25324;PDF&#25903;&#25345;&#65292;&#35201;&#25226; <tt class="literal">jboss-seam-pdf.jar</tt> &#21644;iText JAR &#25991;&#20214;&#19968;&#36215;&#25918;&#22312;&#20320;&#30340; <tt class="literal">WEB-INF/lib</tt> &#36335;&#24452;&#19979;&#12290;
            &#35201;&#20351;&#29992;Seam&#30340;iText&#25903;&#25345;&#23601;&#21482;&#26159;&#36825;&#26679;&#65292;&#26080;&#38656;&#26356;&#22810;&#30340;&#37197;&#32622;&#20102;&#12290;
        </p><p>
        Seam iText&#27169;&#22359;&#38656;&#35201;&#20351;&#29992;Facelets&#20316;&#20026;&#35270;&#22270;&#25216;&#26415;&#12290;&#36825;&#20010;&#24211;&#30340;&#26410;&#26469;&#29256;&#26412;&#20063;&#21487;&#33021;&#25903;&#25345;&#20351;&#29992;JSP&#12290;&#27492;&#22806;&#65292;&#36825;&#20010;&#27169;&#22359;&#36824;&#38656;&#35201;&#29992;&#21040;seam-ui&#21253;&#12290;
        </p><p>
        	&#24037;&#31243; <tt class="literal">examples/itext</tt> &#21253;&#21547;&#20102;&#19968;&#20010;PDF&#25903;&#25345;&#23454;&#36341;&#30340;&#20363;&#23376;&#12290;
            &#36825;&#20010;&#20363;&#23376;&#31034;&#33539;&#20102;&#27491;&#30830;&#30340;&#37096;&#32626;&#21253;&#65292;&#23427;&#21253;&#21547;&#19968;&#20123;&#20363;&#23376;&#65292;&#29992;&#26469;&#31034;&#33539;&#30446;&#21069;&#25903;&#25345;PDF&#29983;&#25104;&#30340;&#20851;&#38190;&#29305;&#24615;&#12290;
        </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="itext.document"></a>16.1.1.&nbsp;&#21019;&#24314;&#19968;&#20010;&#25991;&#26723;</h3></div></div><div></div></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:document&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
                                	&#25991;&#26723;&#26159;&#30001;facelets&#25991;&#26723;&#21033;&#29992;&#21629;&#21517;&#31354;&#38388; <tt class="literal">http://jboss.com/products/seam/pdf</tt> &#20013;&#30340;&#26631;&#31614;&#29983;&#25104;&#30340;&#12290;
                                    &#25991;&#26723;&#24212;&#35813;&#24635;&#26159;&#20197; <tt class="literal">document</tt> &#26631;&#31614;&#20316;&#20026;&#25991;&#20214;&#30340;&#26681;&#32467;&#28857;&#12290;
                                    <tt class="literal">document</tt> &#26631;&#31614;&#20026;Seam&#20135;&#29983;&#25991;&#26723;&#21040;&#25991;&#26723;&#24211;&#24182;&#28210;&#26579;&#19968;&#20010;HTML&#37325;&#23450;&#21521;&#21040;&#23384;&#20648;&#20869;&#23481;&#20570;&#20934;&#22791;&#12290;
                                </p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">type</tt> &#8212; &#35201;&#29983;&#25104;&#25991;&#26723;&#30340;&#31867;&#22411;&#12290;
                                            &#26377;&#25928;&#20540;&#20026;<tt class="literal">PDF</tt>&#12289;<tt class="literal">RTF</tt> &#21644; <tt class="literal">HTML</tt> &#27169;&#24335;&#12290;
                                            Seam&#40664;&#35748;&#20026;PDF&#29983;&#25104;&#65292;&#24182;&#19988;&#24456;&#22810;&#29305;&#24615;&#21482;&#26377;&#22312;&#29983;&#25104;PDF&#25991;&#26723;&#26102;&#25165;&#33021;&#27491;&#30830;&#24037;&#20316;&#12290;
                                        </p></li><li><p>
                                             &#26368;&#24120;&#29992;&#30340;&#20540;&#26159; <tt class="literal">LETTER</tt> &#21644;<tt class="literal">A4</tt>&#12290;
                                             &#34987;&#25903;&#25345;&#39029;&#38754;&#22823;&#23567;&#30340;&#20840;&#37096;&#21015;&#34920;&#21487;&#20197;&#22312;&#31867; <tt class="literal">com.lowagie.text.PageSize</tt> &#20013;&#25214;&#21040;&#12290;
                                             &#20063;&#21487;&#20197;&#36825;&#26679;&#65292;pageSize&#21487;&#20197;&#30452;&#25509;&#25351;&#23450;&#23485;&#24230;&#21644;&#39640;&#24230;&#12290;&#20363;&#22914;&#65292;&#20540;"612 792"&#19982;LETTER&#30340;&#39029;&#38754;&#22823;&#23567;&#26159;&#19968;&#26679;&#30340;&#12290;
                                          </p></li><li><p>
											<tt class="literal">orientation</tt> &#8212; &#39029;&#38754;&#30340;&#23450;&#20301;&#12290;
                                            &#26377;&#25928;&#20540;&#26159; <tt class="literal">portrait</tt> &#21644; <tt class="literal">landscape</tt>&#65292;&#22312;&#21069;&#26223;&#27169;&#24335;&#19979;&#65292;&#39029;&#38754;&#22823;&#23567;&#30340;&#39640;&#24230;&#21644;&#23485;&#24230;&#20540;&#26159;&#39072;&#20498;&#30340;&#12290;
                                     </p></li><li><p>
											<tt class="literal">margins</tt> &#8212; &#26377;&#24038;&#36793;&#36317;&#65292;&#21491;&#36793;&#36317;&#65292;&#19978;&#36793;&#36317;&#21644;&#19979;&#36793;&#36317;&#20540;&#12290;
                                        </p></li><li><p>
											<tt class="literal">marginMirroring</tt> &#8212; &#26174;&#31034;&#39029;&#36793;&#36317;&#35774;&#32622;&#24212;&#35813;&#21453;&#36716;&#19968;&#20010;&#20132;&#25442;&#39029;&#38754;&#12290;
                                        </p></li></ul></div><p>
									<span class="emphasis"><em>Metadata&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">&#26631;&#39064;</tt>
										</p></li><li><p>
											<tt class="literal">&#20027;&#39064;</tt>
										</p></li><li><p>
											<tt class="literal">&#20851;&#38190;&#23383;</tt>
										</p></li><li><p>
											<tt class="literal">&#20316;&#32773;</tt>
										</p></li><li><p>
											<tt class="literal">&#21019;&#24314;&#32773;</tt>
										</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:document xmlns:p="http://jboss.com/products/seam/pdf"&gt;
  The document goes here.&#25991;&#26723;&#25351;&#21521;&#36825;&#37324;&#12290;
&lt;/p:document&gt;</pre></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="itext.text"></a>16.1.2.&nbsp;&#22522;&#26412;&#30340;&#25991;&#26412;&#20803;&#32032;</h3></div></div><div></div></div><p>
            &#26377;&#29992;&#30340;&#25991;&#26723;&#38656;&#35201;&#21253;&#21547;&#30340;&#19981;&#20165;&#20165;&#26159;&#25991;&#26412;&#12290;&#20294;&#26159;&#26631;&#20934;&#30340;UI&#32452;&#20214;&#21482;&#36866;&#21512;&#29983;&#25104;HTML&#65292;&#32780;&#19981;&#36866;&#21512;&#29983;&#25104;PDF&#20869;&#23481;&#12290;
            &#21453;&#20043;&#65292;Seam&#21017;&#25552;&#20379;&#20102;&#19968;&#31181;&#29305;&#27530;&#30340;UI&#32452;&#20214;&#65292;&#29992;&#26469;&#29983;&#25104;&#36866;&#24403;&#30340;PDF&#20869;&#23481;&#12290;
            &#20687; <tt class="literal">&lt;p:image&gt;</tt> &#21644; <tt class="literal">&lt;p:paragraph&gt;</tt> &#36825;&#26679;&#26631;&#31614;&#26159;&#31616;&#21333;&#25991;&#26723;&#30340;&#26681;&#26412;&#12290;
            &#20687; <tt class="literal">&lt;p:font&gt;</tt> &#36825;&#26679;&#30340;&#26631;&#31614;&#32473;&#23427;&#20204;&#21608;&#22260;&#30340;&#25152;&#26377;&#20869;&#23481;&#37117;&#25552;&#20379;&#20102;&#26679;&#24335;&#20449;&#24687;&#12290;
            </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:paragraph&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>&#20026;&#20102;&#20351;&#25991;&#26412;&#29255;&#27573;&#33021;&#22815;&#25353;&#29031;&#36923;&#36753;&#20998;&#32452;&#24067;&#23616;&#12289;&#26684;&#24335;&#21270;&#12289;&#20462;&#39280;&#65292;&#27573;&#33853;&#26631;&#31614;&#20013;&#21253;&#21547;&#20102;&#25991;&#26412;&#30340;&#22823;&#37096;&#20998;&#29992;&#27861;&#12290;</p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">firstLineIndent &#34892;&#39318;&#32553;&#36827;</tt>
										</p></li><li><p>
											<tt class="literal">extraParagraphSpace &#39069;&#22806;&#27573;&#33853;&#31354;&#38388;</tt>
										</p></li><li><p>
											<tt class="literal">leading &#27573;&#39318;</tt>
										</p></li><li><p>
											<tt class="literal">multipliedLeading &#22797;&#21512;&#27573;&#39318;</tt>
										</p></li><li><p>
											<tt class="literal">spacingBefore</tt> &#8212; &#27573;&#33853;&#20803;&#32032;&#21069;&#35201;&#25554;&#20837;&#30340;&#31354;&#30333;</p></li><li><p>
											<tt class="literal">spacingAfter</tt> &#8212; &#27573;&#33853;&#20803;&#32032;&#21518;&#35201;&#25554;&#20837;&#30340;&#31354;&#30333;</p></li><li><p>
											<tt class="literal">indentationLeft &#24038;&#32553;&#36827;</tt>
										</p></li><li><p>
											<tt class="literal">indentationRight &#21491;&#32553;&#36827;</tt>
										</p></li><li><p>
											<tt class="literal">keepTogether &#20445;&#25345;&#23545;&#40784;</tt>
										</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:paragraph alignment="justify"&gt;
    This is a simple document.  It isn't very fancy. &#36825;&#26159;&#19968;&#20010;&#31616;&#21333;&#30340;&#25991;&#26723;&#65292;&#23427;&#19981;&#26159;&#24456;&#24120;&#29992;&#12290;
&lt;/p:paragraph&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:text&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
									<tt class="literal">text</tt> &#26631;&#31614;&#33021;&#22815;&#20351;&#29992;&#19968;&#33324;&#30340;JSF&#36716;&#25442;&#26426;&#21046;&#20174;&#24212;&#29992;&#31243;&#24207;&#25968;&#25454;&#20013;&#29983;&#25104;&#20026;&#25991;&#26412;&#29255;&#27573;&#12290;
                                &#22312;&#28210;&#26579;HTML&#25991;&#26723;&#30340;&#26102;&#20505;&#65292;&#23427;&#30340;&#29992;&#27861;&#38750;&#24120;&#31867;&#20284;&#20110; <tt class="literal">outputText</tt> &#26631;&#31614;&#12290;
                                </p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">value</tt> &#8212; &#35201;&#26174;&#31034;&#30340;&#36825;&#20010;&#20540;&#65292;&#36890;&#24120;&#26159;&#19968;&#20010;&#20540;&#32465;&#23450;&#34920;&#36798;&#24335;&#12290;</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:paragraph&gt;
    The item costs &#26174;&#31034;&#19968;&#20214;&#21830;&#21697;&#30340;&#20215;&#26684;&lt;p:text value="#{product.price}"&gt;
        &lt;f:convertNumber type="currency" currencySymbol="$"/&gt;
    &lt;/p:text&gt;
&lt;/p:paragraph&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:font&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>font&#26631;&#31614;&#20026;&#23427;&#20869;&#37096;&#30340;&#25152;&#26377;&#25991;&#26412;&#23450;&#20041;&#35201;&#20351;&#29992;&#30340;&#40664;&#35748;&#23383;&#20307;&#12290;</p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">name</tt> &#8212; &#23383;&#20307;&#21517;&#31216;&#65292;&#20363;&#22914;&#65306;
                                                <tt class="literal">COURIER</tt>&#12289;<tt class="literal">HELVETICA</tt>&#12289;
                                                <tt class="literal">TIMES-ROMAN</tt>&#12289;<tt class="literal">SYMBOL</tt> &#25110;&#32773; <tt class="literal">ZAPFDINGBATS</tt>&#12290;
										</p></li><li><p>
											<tt class="literal">size</tt> &#8212; &#23383;&#20307;&#22823;&#23567;</p></li><li><p>
											<tt class="literal">style</tt> &#8212; &#23383;&#20307;&#26679;&#24335;&#65292;&#19979;&#38754;&#36825;&#20123;&#30340;&#20219;&#24847;&#32452;&#21512;&#65306;
                                                <tt class="literal">NORMAL</tt>&#12289;<tt class="literal">BOLD</tt>&#12289;
                                            <tt class="literal">ITALIC</tt>&#12289;<tt class="literal">OBLIQUE</tt>&#12289;
                                            <tt class="literal">UNDERLINE</tt>&#12289;<tt class="literal">LINE-THROUGH</tt>
										</p></li><li><p>
											<tt class="literal">encoding</tt> &#8212; &#23383;&#31526;&#35774;&#32622;&#32534;&#30721;</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:font family="courier" style="bold" size="24"&gt;
    &lt;p:paragraph&gt;My Title&lt;/p:paragraph&gt;
&lt;/p:font&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:newPage&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
									<tt class="literal">p:newPage</tt> &#25554;&#20837;&#19968;&#20010;&#26032;&#39029;&#38754;&#12290;</p><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:newPage /&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:image&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
									<tt class="literal">p:image</tt> &#23558;&#19968;&#24352;&#22270;&#29255;&#25554;&#20837;&#21040;&#25991;&#26723;&#20013;&#12290;
                                &#21033;&#29992;<tt class="literal">value</tt> &#23646;&#24615;&#20174;classpath&#25110;&#32773;Web&#24212;&#29992;&#31243;&#24207;&#19978;&#19979;&#25991;&#21152;&#36733;&#22270;&#29255;&#12290;
                                </p><p>
                                &#36164;&#28304;&#20063;&#21487;&#20197;&#30001;&#24212;&#29992;&#31243;&#24207;&#20195;&#30721;&#21160;&#24577;&#22320;&#29983;&#25104;&#12290;
                                <tt class="literal">imageData</tt> &#23646;&#24615;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#20540;&#20026; <tt class="literal">java.awt.Image</tt> &#23545;&#35937;&#30340;&#20540;&#32465;&#23450;&#34920;&#36798;&#24335;&#12290;
                                </p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">value</tt> &#8212;&#19968;&#20010;&#36164;&#28304;&#21517;&#31216;&#25110;&#32773;&#26159;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;&#29983;&#25104;&#30340;&#22270;&#29255;&#30340;&#26041;&#27861;&#34920;&#36798;&#24335;&#32465;&#23450;&#12290;
                                        </p></li><li><p>
											<tt class="literal">rotation</tt> &#8212; &#22270;&#29255;&#26059;&#36716;&#35282;&#24230;&#12290;</p></li><li><p>
											<tt class="literal">height</tt> &#8212; &#22270;&#29255;&#39640;&#24230;&#12290;</p></li><li><p>
											<tt class="literal">width</tt> &#8212; &#22270;&#29255;&#23485;&#24230;&#12290;</p></li><li><p>
											<tt class="literal">alignment</tt>&#8212; &#22270;&#29255;&#23545;&#40784;&#26041;&#24335;&#12290;&#65288;&#21487;&#33021;&#30340;&#20540;&#35831;&#35265; <a href="#itext.alignment" title="16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;">Section&nbsp;16.1.7.2, &#8220;&#23545;&#40784;&#26041;&#24335;&#20540;&#8221;</a>&#65289;
                                        </p></li><li><p>
											<tt class="literal">alt</tt> &#8212; &#26367;&#25442;&#22270;&#29255;&#30340;&#25991;&#26412;&#12290;</p></li><li><p>
											<tt class="literal">indentationLeft &#24038;&#32553;&#36827;</tt>
										</p></li><li><p>
											<tt class="literal">indentationRight &#21491;&#32553;&#36827;</tt>
										</p></li><li><p>
											<tt class="literal">spacingBefore</tt> &#8212; &#20803;&#32032;&#21069;&#35201;&#25554;&#20837;&#30340;&#31354;&#30333;&#12290;</p></li><li><p>
											<tt class="literal">spacingAfter</tt> &#8212; &#20803;&#32032;&#21518;&#35201;&#25554;&#20837;&#30340;&#31354;&#30333;</p></li><li><p>
											<tt class="literal">widthPercentage &#23485;&#24230;&#30334;&#20998;&#27604;</tt>
										</p></li><li><p>
											<tt class="literal">initialRotation &#21021;&#22987;&#26059;&#36716;</tt>
										</p></li><li><p>
											<tt class="literal">dpi &#20687;&#32032;</tt>
										</p></li><li><p>
											<tt class="literal">scalePercent&#65288;&#22270;&#29255;&#25918;&#32553;&#27604;&#20363;&#65289;</tt> &#8212; &#22270;&#29255;&#25918;&#32553;&#27604;&#20363;&#22240;&#23376;&#65288;&#30334;&#20998;&#27604;&#65289;&#12290;
                                        &#21487;&#20197;&#26159;&#19968;&#20010;&#30334;&#20998;&#27604;&#20540;&#65292;&#20063;&#21487;&#20197;&#20004;&#20010;&#20998;&#21035;&#20195;&#34920;X&#26041;&#21521;&#21644;Y&#26041;&#21521;&#30340;&#30334;&#20998;&#27604;&#20540;&#12290;
                                        </p></li><li><p>
											<tt class="literal">wrap</tt>
										</p></li><li><p>
											<tt class="literal">underlying &#19979;&#21010;&#32447;</tt>
										</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:image value="/jboss.jpg" /&gt;</pre><pre class="programlisting">&lt;p:image value="#{images.chart}" /&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:anchor&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
									<tt class="literal">p:anchor</tt> &#23450;&#20041;&#25991;&#26723;&#20013;&#30340;&#27963;&#38142;&#25509;. &#23427;&#25903;&#25345;&#19979;&#38754;&#30340;&#23646;&#24615;&#65306;</p><p>
									<span class="emphasis"><em> &#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">name</tt> &#8212; &#25991;&#26723;&#20013;&#30446;&#26631;&#38170;&#28857;&#30340;&#21517;&#31216;&#12290;</p></li><li><p>
											<tt class="literal">reference</tt> &#8212; &#38142;&#25509;&#25351;&#21521;&#30340;&#30446;&#26631;&#12290;&#25991;&#26723;&#20013;&#20854;&#20182;&#28857;&#30340;&#38142;&#25509;&#24212;&#35813;&#20197;&#19968;&#20010;"#"&#24320;&#22836;&#12290;
                                       	&#20363;&#22914;&#65292;"#link1" &#29992; <tt class="literal">link1</tt> &#30340;&#19968;&#22806;&#21517;&#31216;&#25351;&#21521; <tt class="literal">name</tt> &#21478;&#19968;&#20010;&#38170;&#28857;&#20301;&#32622;&#12290;
                                   		&#38142;&#25509;&#20063;&#21487;&#20197;&#26159;&#25351;&#21521;&#25991;&#26723;&#20043;&#22806;&#30340;&#19968;&#20010;&#36164;&#28304;&#30340;&#23436;&#25972;URL&#36335;&#24452;&#12290;
                                   		</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:listItem&gt;&lt;p:anchor reference="#reason1"&gt;Reason 1&lt;/p:anchor&gt;&lt;/p:listItem&gt;
...
&lt;p:paragraph&gt;
    &lt;p:anchor name="reason1"&gt;It's the quickest way to get "rich"&lt;/p:anchor&gt;
    ...
&lt;/p:paragraph&gt;</pre></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="itext.header"></a>16.1.3.&nbsp;&#39029;&#30473;&#21644;&#39029;&#33050;</h3></div></div><div></div></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:header&gt;</tt>
								</p><p>
									<tt class="literal">&lt;p:footer&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
									<tt class="literal">p:header</tt> &#21644; <tt class="literal">p:footer</tt> &#32452;&#20214;&#25552;&#20379;&#20102;&#23558;&#39029;&#30473;&#21644;&#39029;&#33050;&#25991;&#26412;&#25918;&#22312;&#29983;&#25104;&#25991;&#26723;&#30340;&#27599;&#20010;&#39029;&#38754;&#19978;&#30340;&#33021;&#21147;&#65292;&#38500;&#20102;&#31532;&#19968;&#20010;&#39029;&#38754;&#20043;&#22806;&#12290;&#39029;&#30473;&#21644;&#39029;&#33050;&#22768;&#26126;&#24212;&#35813;&#20986;&#29616;&#22312;&#25991;&#26723;&#30340;&#39030;&#37096;&#12290;
                                 </p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">alignment</tt> &#8212; &#39029;&#30473;&#65295;&#39029;&#33050;&#26694;&#30340;&#23545;&#40784;&#26041;&#24335;&#12290;
                                            &#65288;&#23545;&#40784;&#26041;&#24335;&#30340;&#21462;&#20540;&#35831;&#35265; <a href="#itext.alignment" title="16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;">Section&nbsp;16.1.7.2, &#8220;&#23545;&#40784;&#26041;&#24335;&#20540;&#8221;</a>&#65289;
                                        </p></li><li><p>
											<tt class="literal">backgroundColor</tt> &#8212; &#39029;&#30473;&#65295;&#39029;&#33050;&#26694;&#30340;&#32972;&#26223;&#33394;&#12290;&#65288;&#39068;&#33394;&#20540;&#35831;&#35265; <a href="#itext.colors" title="16.1.7.1.&nbsp;&#39068;&#33394;&#20540;">Section&nbsp;16.1.7.1, &#8220;&#39068;&#33394;&#20540;&#8221;</a>&#65289;
                                        </p></li><li><p>
											<tt class="literal">borderColor</tt> &#8212; &#39029;&#30473;&#65295;&#39029;&#33050;&#26694;&#30340;&#36793;&#26694;&#39068;&#33394;&#12290;
                                        &#21333;&#29420;&#35774;&#32622;&#21508;&#36793;&#26694;&#39068;&#33394;&#29992; <tt class="literal">borderColorLeft</tt>&#12289;<tt class="literal">borderColorRight</tt>&#12289;<tt class="literal">borderColorTop</tt> &#21644; <tt class="literal">borderColorBottom</tt>&#12290;&#65288;&#39068;&#33394;&#20540;&#35831;&#35265; <a href="#itext.colors" title="16.1.7.1.&nbsp;&#39068;&#33394;&#20540;">Section&nbsp;16.1.7.1, &#8220;&#39068;&#33394;&#20540;&#8221;</a>&#65289;
                                        </p></li><li><p>
											<tt class="literal">borderWidth</tt> &#8212; &#36793;&#26694;&#30340;&#23485;&#24230;&#12290;
                                          	&#27599;&#19968;&#26465;&#21333;&#29420;&#30340;&#36793;&#21487;&#20197;&#21033;&#29992; <tt class="literal">borderWidthLeft</tt>&#12289;<tt class="literal">borderWidthRight</tt>&#12289;<tt class="literal">borderWidthTop</tt> &#21644; <tt class="literal">borderWidthBottom</tt> &#26469;&#25351;&#23450;&#12290;</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:facet name="header"&gt;
  &lt;p:font size="12"&gt;
    &lt;p:footer borderWidthTop="1" borderColorTop="blue"
              borderWidthBottom="0" alignment="center"&gt;
        Why Seam? [&lt;p:pageNumber /&gt;]
    &lt;/p:footer&gt;
  &lt;/p:font&gt;
&lt;/f:facet&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:pageNumber&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
                                &#36890;&#36807; <tt class="literal">p:pageNumber</tt> &#26631;&#31614;&#33021;&#22815;&#23558;&#24403;&#21069;&#39029;&#30721;&#25918;&#21040;&#39029;&#30473;&#25110;&#32773;&#39029;&#33050;&#30340;&#20301;&#32622;&#12290;
                                &#35813;&#26631;&#31614;&#21482;&#33021;&#29992;&#22312;&#39029;&#30473;&#25110;&#32773;&#39029;&#33050;&#30340;&#19978;&#19979;&#25991;&#20013;&#65292;&#24182;&#19988;&#21482;&#33021;&#20351;&#29992;&#19968;&#27425;&#12290;
                                </p><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:footer borderWidthTop="1" borderColorTop="blue"
          borderWidthBottom="0" alignment="center"&gt;
    Why Seam? [&lt;p:pageNumber /&gt;]
&lt;/p:footer&gt;</pre></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="itext.chapters"></a>16.1.4.&nbsp;&#31456;&#33410;</h3></div></div><div></div></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:chapter&gt;</tt>
								</p><p>
									<tt class="literal">&lt;p:section&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
                                &#22914;&#26524;&#25353;&#29031;&#20070;&#31821;&#65295;&#25991;&#31456;&#30340;&#32467;&#26500;&#29983;&#25104;&#25991;&#26723;&#65292;<tt class="literal">p:chapter</tt> &#21644; <tt class="literal">p:section</tt> &#26631;&#31614;&#23601;&#21487;&#20197;&#29992;&#26469;&#25552;&#20379;&#24517;&#35201;&#30340;&#32467;&#26500;&#12290;
                                &#23567;&#33410;&#26631;&#31614;&#21482;&#33021;&#22312;&#31456;&#30340;&#20869;&#37096;&#20351;&#29992;&#65292;&#20294;&#26159;&#23427;&#20204;&#20043;&#38388;&#21364;&#21487;&#20197;&#20219;&#24847;&#22320;&#23884;&#22871;&#12290;
                                &#22823;&#22810;&#25968;&#30340;PDF&#27983;&#35272;&#24037;&#20855;&#37117;&#25552;&#20379;&#21487;&#20197;&#22312;&#25991;&#26723;&#20869;&#37096;&#31456;&#33410;&#20043;&#38388;&#33258;&#30001;&#20999;&#25442;&#30340;&#21151;&#33021;&#12290;
                                 </p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">alignment</tt> &#8212; &#39029;&#30473;&#65295;&#39029;&#33050;&#26694;&#30340;&#23545;&#40784;&#26041;&#24335;&#12290;
                                        &#65288;&#23545;&#40784;&#26041;&#24335;&#21462;&#20540;&#35831;&#35265; <a href="#itext.alignment" title="16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;">Section&nbsp;16.1.7.2, &#8220;&#23545;&#40784;&#26041;&#24335;&#20540;&#8221;</a>&#65289;
                                        </p></li><li><p>
											<tt class="literal">number</tt> &#8212; &#31456;&#24207;&#21495;&#12290;&#27599;&#31456;&#37117;&#24212;&#35813;&#26377;&#19968;&#20010;&#31456;&#24207;&#21495;&#12290;</p></li><li><p>
											<tt class="literal">numberDepth</tt> &#8212; &#25991;&#26723;&#20013;&#31456;&#33410;&#30340;&#23618;&#27425;&#25968;&#12290;&#25152;&#26377;&#30340;&#23567;&#33410;&#37117;&#26377;&#19968;&#20010;&#30456;&#23545;&#20110;&#23427;&#20204;&#21608;&#22260;&#31456;&#65295;&#33410;&#30340;&#24207;&#21495;&#12290;
                                        &#22914;&#26524;&#25991;&#31456;&#30340;&#40664;&#35748;&#26174;&#31034;&#23618;&#27425;&#25968;&#26159;3&#65292;&#37027;&#20040;3.1.4&#23601;&#34920;&#31034;&#31532;&#19977;&#31456;&#31532;&#19968;&#33410;&#30340;&#31532;&#22235;&#23567;&#33410;&#12290;
                                        &#22914;&#26524;&#24573;&#30053;&#31456;&#24207;&#21495;&#65292;&#37027;&#20040;&#23618;&#25968;&#23601;&#26159;2&#65292;&#19978;&#36848;&#23567;&#33410;&#30340;&#24207;&#21495;&#23601;&#24212;&#35813;&#26174;&#31034;&#20026;1.4&#12290;
                                        </p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:document xmlns:p="http://jboss.com/products/seam/pdf"
            title="Hello"&gt;

   &lt;p:chapter number="1"&gt;
      &lt;p:title&gt;&lt;p:paragraph&gt;Hello&lt;/p:paragraph&gt;&lt;/p:title&gt;
      &lt;p:paragraph&gt;Hello #{user.name}!&lt;/p:paragraph&gt;
   &lt;/p:chapter&gt;

   &lt;p:chapter number="2"&gt;
      &lt;p:title&gt;&lt;p:paragraph&gt;Goodbye&lt;/p:paragraph&gt;&lt;/p:title&gt;
      &lt;p:paragraph&gt;Goodbye #{user.name}.&lt;/p:paragraph&gt;
   &lt;/p:chapter&gt;

&lt;/p:document&gt; </pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:header&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
                                &#20219;&#20309;&#19968;&#20010;&#31456;&#25110;&#33410;&#37117;&#21487;&#20197;&#21253;&#21547;&#19968;&#20010; <tt class="literal">p:title</tt> &#26631;&#31614;&#65292;&#29992;&#20110;&#26174;&#31034;&#19979;&#19968;&#31456;&#33410;&#30340;&#24207;&#21495;&#12290;
                                &#26631;&#31614;&#30340;&#20027;&#20307;&#21487;&#20197;&#21253;&#21547;&#21407;&#22987;&#25991;&#26412;&#65292;&#25110;&#32773;&#26159;&#19968;&#20010; <tt class="literal">p:paragraph</tt> &#26631;&#31614;&#12290;
                                </p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="itext.list"></a>16.1.5.&nbsp;&#21015;&#34920;</h3></div></div><div></div></div><p>&#26631;&#31614; <tt class="literal">p:list</tt> &#21644; <tt class="literal">p:listItem</tt> &#21487;&#20197;&#26174;&#31034;&#21015;&#34920;&#32467;&#26500;&#12290;
            &#21015;&#34920;&#37324;&#21487;&#20197;&#21253;&#21547;&#20219;&#24847;&#23884;&#22871;&#30340;&#23376;&#21015;&#34920;&#12290;&#21015;&#34920;&#20013;&#30340;&#39033;&#19981;&#33021;&#22312;&#21015;&#34920;&#20043;&#22806;&#20351;&#29992;&#12290;
            &#22312;&#25991;&#26723;&#20013;&#36890;&#36807;&#20197;&#19979;&#25991;&#26723;&#20351;&#29992; <tt class="literal">ui:repeat</tt> &#26631;&#31614;&#26174;&#31034;&#20174;Seam&#32452;&#20214;&#33719;&#21462;&#21040;&#30340;&#20540;&#30340;&#21015;&#34920;&#12290;
            </p><pre class="programlisting">&lt;p:document xmlns:p="http://jboss.com/products/seam/pdf"
            xmlns:ui="http://java.sun.com/jsf/facelets"
            title="Hello"&gt;
   &lt;p:list style="numbered"&gt;
      &lt;ui:repeat value="#{documents}" var="doc"&gt;
         &lt;p:listItem&gt;#{doc.name}&lt;/p:listItem&gt;
      &lt;/ui:repeat&gt;
   &lt;/p:list&gt;
&lt;/p:document&gt;</pre><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:list&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">style</tt> &#8212; &#21015;&#34920;&#30340;&#26377;&#24207;/&#26080;&#24207;&#25490;&#21015;&#26041;&#24335;&#12290;
                                            &#21487;&#36873;&#39033;&#65306;<tt class="literal">NUMBERED</tt>&#12289;<tt class="literal">LETTERED</tt>&#12289;
                                                <tt class="literal">GREEK</tt>&#12289;<tt class="literal">ROMAN</tt>&#12289;
                                                <tt class="literal">ZAPFDINGBATS</tt>&#12289;<tt class="literal">ZAPFDINGBATS_NUMBER</tt>&#12290;
                                            &#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#26679;&#24335;&#65292;&#21015;&#34920;&#39033;&#23601;&#20197;&#26080;&#24207;&#25490;&#21015;&#12290;</p></li><li><p>
											<tt class="literal">listSymbol</tt> &#8212; &#38024;&#23545;&#26080;&#24207;&#21015;&#34920;&#65292;&#25351;&#23450;&#21015;&#34920;&#31526;&#21495;&#12290;</p></li><li><p>
											<tt class="literal">indent</tt> &#8212; &#21015;&#34920;&#30340;&#32553;&#36827;&#31243;&#24230;&#12290;</p></li><li><p>
											<tt class="literal">lowerCase</tt> &#8212; &#38024;&#23545;&#20197;&#23383;&#27597;&#26041;&#24335;&#25490;&#24207;&#30340;&#21015;&#34920;&#65292;&#34920;&#26126;&#23383;&#27597;&#26159;&#21542;&#24212;&#35813;&#20026;&#23567;&#20889;&#12290;</p></li><li><p>
											<tt class="literal">charNumber</tt> &#8212; &#38024;&#23545;ZAPFDINGBATS&#25490;&#24207;&#65292;&#25351;&#26126;&#26080;&#24207;&#23383;&#31526;&#30340;&#23383;&#31526;&#32534;&#30721;&#12290;</p></li><li><p>
											<tt class="literal">numberType</tt> &#8212; &#38024;&#23545;ZAPFDINGBATS_NUMBER&#25490;&#24207;&#65292;&#25351;&#26126;&#32534;&#21495;&#26041;&#24335;&#12290;</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:list style="numbered"&gt;
  &lt;ui:repeat value="#{documents}" var="doc"&gt;
    &lt;p:listItem&gt;#{doc.name}&lt;/p:listItem&gt;
  &lt;/ui:repeat&gt;
&lt;/p:list&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:listItem&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
									<tt class="literal">p:listItem</tt> &#25903;&#25345;&#20197;&#19979;&#23646;&#24615;&#65306;</p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">alignment</tt> &#8212; &#39029;&#30473;&#65295;&#39029;&#33050;&#26694;&#30340;&#23545;&#40784;&#26041;&#24335;&#12290;
                                            &#65288;&#23545;&#40784;&#26041;&#24335;&#21462;&#20540;&#35831;&#35265; <a href="#itext.alignment" title="16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;">Section&nbsp;16.1.7.2, &#8220;&#23545;&#40784;&#26041;&#24335;&#20540;&#8221;</a>&#65289;
                                        </p></li><li><p>
											<tt class="literal">alignment</tt> &#8212; &#21015;&#34920;&#39033;&#30446;&#30340;&#23545;&#40784;&#26041;&#24335;&#12290;
                                        &#65288;&#21487;&#33021;&#21462;&#20540;&#35831;&#35265; <a href="#itext.alignment" title="16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;">Section&nbsp;16.1.7.2, &#8220;&#23545;&#40784;&#26041;&#24335;&#20540;&#8221;</a> &#65289;</p></li><li><p>
											<tt class="literal">indentationLeft</tt> &#8212; &#24038;&#32553;&#36827;&#30340;&#37327;&#12290;</p></li><li><p>
											<tt class="literal">indentationRight</tt> &#8212; &#21491;&#32553;&#36827;&#30340;&#37327;&#12290;</p></li><li><p>
											<tt class="literal">listSymbol</tt> &#8212; &#35206;&#30422;&#36825;&#20010;&#21015;&#34920;&#39033;&#30446;&#30340;&#40664;&#35748;&#21015;&#34920;&#31526;&#21495;&#12290;</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">...</pre></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="itext.tables"></a>16.1.6.&nbsp;&#34920;&#26684;</h3></div></div><div></div></div><p>
           &#21487;&#20197;&#20351;&#29992;&#26631;&#31614; <tt class="literal">p:table</tt> &#21644; <tt class="literal">p:cell</tt> &#21019;&#24314;&#34920;&#26684;&#32467;&#26500;&#12290;
           &#21644;&#35768;&#22810;&#34920;&#26684;&#32467;&#26500;&#19981;&#21516;&#65292;&#36825;&#37324;&#30340;&#30340;&#34920;&#26684;&#32467;&#26500;&#27809;&#26377;&#26126;&#30830;&#30340;&#34892;&#22768;&#26126;&#12290;&#22914;&#26524;&#19968;&#20010;&#34920;&#26684;&#26377;3&#21015;&#65292;&#37027;&#20040;&#27599;3&#20010;&#21333;&#20803;&#26684;&#20250;&#33258;&#21160;&#32452;&#25104;&#19968;&#34892;&#12290;
           &#21487;&#20197;&#22768;&#26126;&#26631;&#39064;&#34892;&#21644;&#27880;&#33050;&#34892;&#65292;&#24182;&#19988;&#24403;&#19968;&#20010;&#34920;&#26684;&#32467;&#26500;&#36328;&#36234;&#22810;&#20010;&#39029;&#38754;&#30340;&#26102;&#20505;&#65292;&#26631;&#39064;&#34892;&#21644;&#27880;&#33050;&#34892;&#23601;&#20250;&#37325;&#22797;&#22320;&#20986;&#29616;&#22312;&#27599;&#20010;&#39029;&#38754;&#19978;&#12290;
           </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:table&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
									<tt class="literal">p:table</tt> &#25903;&#25345;&#20197;&#19979;&#23646;&#24615;&#12290;</p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">columns</tt> &#8212; &#32452;&#25104;&#19968;&#20010;&#34920;&#34892;&#30340;&#21015;&#65288;&#21333;&#20803;&#26684;&#65289;&#30340;&#25968;&#37327;&#12290;</p></li><li><p>
											<tt class="literal">widths</tt> &#8212; &#27599;&#20010;&#21015;&#30340;&#30456;&#23545;&#23485;&#24230;&#12290;&#27599;&#20010;&#21015;&#24212;&#35813;&#37117;&#35201;&#26377;&#19968;&#20010;&#20540;&#12290;
                                        &#20363;&#22914;widths="2 1 1"&#34920;&#31034;&#36825;&#20010;&#34920;&#26684;&#26377;3&#21015;&#65292;&#31532;&#19968;&#21015;&#30340;&#23485;&#24230;&#26159;&#31532;&#20108;&#21015;&#21644;&#31532;&#19977;&#21015;&#30340;&#20004;&#20493;&#12290;
                                        </p></li><li><p>
											<tt class="literal">headerRows</tt> &#8212; &#21021;&#22987;&#34892;&#25968;&#37327;&#65292;
                                        &#21487;&#20197;&#35748;&#20026;&#26159;&#26631;&#39064;&#25110;&#32773;&#27880;&#33050;&#34892;&#30340;&#25968;&#37327;&#65292;&#22312;&#34920;&#26684;&#36328;&#22810;&#20010;&#39029;&#38754;&#30340;&#26102;&#20505;&#24212;&#35813;&#37325;&#22797;&#30340;&#34892;&#25968;&#12290;
                                        </p></li><li><p>
											<tt class="literal">footerRows</tt> &#8212; &#34987;&#35748;&#20026;&#26159;&#27880;&#33050;&#34892;&#30340;&#34892;&#25968;&#12290;
                                        &#36825;&#20010;&#20540;&#24212;&#35813;&#20943;&#21435; <tt class="literal">headerRows</tt> &#20540;&#12290;
                                        &#22914;&#26524;&#25991;&#26723;&#26377;2&#34892;&#26500;&#25104;&#26631;&#39064;&#34892;&#12289;1&#34892;&#26500;&#25104;&#27880;&#33050;&#34892;&#65292;&#37027;&#20040; <tt class="literal">headerRows</tt> &#24212;&#35813;&#35774;&#32622;&#20026;3&#65292;<tt class="literal">footerRows</tt> &#24212;&#35813;&#35774;&#32622;&#20026;1
                                        </p></li><li><p>
											<tt class="literal">widthPercentage</tt> &#8212; &#34920;&#26684;&#21344;&#39029;&#38754;&#23485;&#24230;&#30340;&#30334;&#20998;&#27604;&#12290;</p></li><li><p>
											<tt class="literal">horizontalAlignment</tt> &#8212; &#34920;&#26684;&#30340;&#27700;&#24179;&#23545;&#40784;&#26041;&#24335;&#12290;
                                        &#65288;&#21487;&#33021;&#21462;&#20540;&#35831;&#35265; <a href="#itext.alignment" title="16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;">Section&nbsp;16.1.7.2, &#8220;&#23545;&#40784;&#26041;&#24335;&#20540;&#8221;</a>&#65289;</p></li><li><p>
											<tt class="literal">skipFirstHeader</tt>
										</p></li><li><p>
											<tt class="literal">runDirection</tt>
										</p></li><li><p>
											<tt class="literal">lockedWidth</tt>
										</p></li><li><p>
											<tt class="literal">splitRows</tt>
										</p></li><li><p>
											<tt class="literal">spacingBefore</tt> &#8212; &#20803;&#32032;&#21069;&#35201;&#25554;&#20837;&#30340;&#31354;&#30333;&#12290;</p></li><li><p>
											<tt class="literal">spacingAfter</tt> &#8212; &#20803;&#32032;&#21518;&#35201;&#25554;&#20837;&#30340;&#31354;&#30333;&#12290;</p></li><li><p>
											<tt class="literal">extendLastRow</tt>
										</p></li><li><p>
											<tt class="literal">headersInEvent</tt>
										</p></li><li><p>
											<tt class="literal">splitLate</tt>
										</p></li><li><p>
											<tt class="literal">keepTogether</tt>
										</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:table columns="3" headerRows="1"&gt;
  &lt;p:cell&gt;name&lt;/p:cell&gt;
  &lt;p:cell&gt;owner&lt;/p:cell&gt;
  &lt;p:cell&gt;size&lt;/p:cell&gt;
  &lt;ui:repeat value="#{documents}" var="doc"&gt;
    &lt;p:cell&gt;#{doc.name}&lt;/p:cell&gt;
    &lt;p:cell&gt;#{doc.user.name}&lt;/p:cell&gt;
    &lt;p:cell&gt;#{doc.size}&lt;/p:cell&gt;
  &lt;/ui:repeat&gt;
&lt;/p:table&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
									<tt class="literal">&lt;p:cell&gt;</tt>
								</p></td><td valign="top"><p>
									<span class="emphasis"><em>&#25551;&#36848;</em></span>
								</p><p>
									<tt class="literal">p:cell</tt> &#25903;&#25345;&#19979;&#38754;&#30340;&#23646;&#24615;&#12290;</p><p>
									<span class="emphasis"><em>&#23646;&#24615;</em></span>
								</p><div class="itemizedlist"><ul type="disc"><li><p>
											<tt class="literal">colspan</tt> &#8212; &#36890;&#36807;&#22768;&#26126; <tt class="literal">colspan</tt> &#20540;&#22823;&#20110;1&#65292;&#21333;&#20803;&#26684;&#21487;&#20197;&#36328;&#22810;&#20010;&#21015;&#12290;&#34920;&#26684;&#19981;&#20855;&#22791;&#36328;&#22810;&#34892;&#30340;&#33021;&#21147;&#12290;</p></li><li><p>
											<tt class="literal">horizontalAlignment</tt> &#8212; &#21333;&#20803;&#26684;&#30340;&#27700;&#24179;&#23545;&#40784;&#26041;&#24335;&#12290;
                                        &#65288;&#21487;&#33021;&#21462;&#20540;&#35831;&#35265; <a href="#itext.alignment" title="16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;">Section&nbsp;16.1.7.2, &#8220;&#23545;&#40784;&#26041;&#24335;&#20540;&#8221;</a>&#65289;</p></li><li><p>
											<tt class="literal">verticalAlignment</tt> &#8212; &#21333;&#20803;&#26684;&#30340;&#22402;&#30452;&#23545;&#40784;&#26041;&#24335;&#12290;
                                        &#65288;&#21487;&#33021;&#21462;&#20540;&#35831;&#35265; <a href="#itext.alignment" title="16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;">Section&nbsp;16.1.7.2, &#8220;&#23545;&#40784;&#26041;&#24335;&#20540;&#8221;</a>&#65289;</p></li><li><p>
											<tt class="literal">padding</tt> &#8212; &#22635;&#20805;&#25351;&#23450;&#30340;&#36793;&#36824;&#21487;&#20197;&#36890;&#36807;&#20197;&#19979;&#23646;&#24615;&#26469;&#25351;&#23450;&#65306;
                                        <tt class="literal">paddingLeft</tt>&#12289;<tt class="literal">paddingRight</tt>&#12289;
                                        <tt class="literal">paddingTop</tt> &#21644; <tt class="literal">paddingBottom</tt>&#12290;
                                        </p></li><li><p>
											<tt class="literal">useBorderPadding</tt>
										</p></li><li><p>
											<tt class="literal">leading</tt>
										</p></li><li><p>
											<tt class="literal">multipliedLeading</tt>
										</p></li><li><p>
											<tt class="literal">indent &#32553;&#36827;</tt>
										</p></li><li><p>
											<tt class="literal">verticalAlignment &#22402;&#30452;&#23545;&#40784;</tt>
										</p></li><li><p>
											<tt class="literal">extraParagraphSpace &#39069;&#22806;&#27573;&#33853;&#31354;&#38388;</tt>
										</p></li><li><p>
											<tt class="literal">fixedHeight &#22266;&#23450;&#39640;&#24230;</tt>
										</p></li><li><p>
											<tt class="literal">noWrap</tt>
										</p></li><li><p>
											<tt class="literal">minimumHeight &#26368;&#23567;&#39640;&#24230;</tt>
										</p></li><li><p>
											<tt class="literal">followingIndent &#24213;&#37096;&#32553;&#36827;</tt>
										</p></li><li><p>
											<tt class="literal">rightIndent &#21491;&#32553;&#36827;</tt>
										</p></li><li><p>
											<tt class="literal">spaceCharRatio &#23383;&#31526;&#38388;&#36317;&#27604;</tt>
										</p></li><li><p>
											<tt class="literal">runDirection &#25490;&#21015;&#26041;&#21521;</tt>
										</p></li><li><p>
											<tt class="literal">arabicOptions &#38463;&#25289;&#20271;&#35821;&#36873;&#39033;</tt>
										</p></li><li><p>
											<tt class="literal">useAscender &#36882;&#22686;</tt>
										</p></li><li><p>
											<tt class="literal">grayFill &#28784;&#33394;&#22635;&#20805;</tt>
										</p></li><li><p>
											<tt class="literal">rotation &#26059;&#36716;&#24230;</tt>
										</p></li></ul></div><p>
									<span class="emphasis"><em>&#29992;&#27861;</em></span>
								</p><pre class="programlisting">&lt;p:cell&gt;...&lt;/p:cell&gt;</pre></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="itext.constant"></a>16.1.7.&nbsp;&#25991;&#26723;&#24120;&#37327;</h3></div></div><div></div></div><p>&#26412;&#33410;&#20363;&#20030;&#20102;&#19968;&#20123;&#34987;&#23646;&#24615;&#22312;&#22810;&#20010;&#39029;&#38754;&#20849;&#20139;&#30340;&#24120;&#37327;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="itext.colors"></a>16.1.7.1.&nbsp;&#39068;&#33394;&#20540;</h4></div></div><div></div></div><p>
                Seam &#23578;&#26410;&#25903;&#25345;&#20840;&#37096;&#39068;&#33394;&#30340;&#23450;&#20041;&#12290;&#30446;&#21069;&#21482;&#25903;&#25345;&#19979;&#38754;&#30340;&#39068;&#33394;&#65306;<tt class="literal">white</tt>&#12289;<tt class="literal">gray</tt>&#12289;
                <tt class="literal">lightgray</tt>&#12289;<tt class="literal">darkgray</tt>&#12289;<tt class="literal">black</tt>&#12289;
                <tt class="literal">red</tt>&#12289;<tt class="literal">pink</tt>&#12289;<tt class="literal">yellow</tt>&#12289;
                <tt class="literal">green</tt>&#12289;<tt class="literal">magenta</tt>&#12289;<tt class="literal">cyan</tt> &#21644; <tt class="literal">blue</tt>&#12290;
                </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="itext.alignment"></a>16.1.7.2.&nbsp;&#23545;&#40784;&#26041;&#24335;&#20540;</h4></div></div><div></div></div><p>
                &#22312;&#29992;&#21040;&#23545;&#40784;&#26041;&#24335;&#20540;&#30340;&#22320;&#26041;&#65292;Seam PDF&#25903;&#25345;&#19979;&#21015;&#27700;&#24179;&#23545;&#40784;&#20540;&#65306;
                <tt class="literal">left</tt>&#12289;<tt class="literal">right</tt>&#12289;<tt class="literal">center</tt>&#12289;
                <tt class="literal">justify</tt> &#21644; <tt class="literal">justifyall</tt>&#12290;
                &#22402;&#30452;&#23545;&#40784;&#20540;&#20026;&#65306;<tt class="literal">top</tt>&#12289;<tt class="literal">middle</tt>&#12289;<tt class="literal">bottom</tt> &#21644; <tt class="literal">baseline</tt>&#12290;
                </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="itext.configuration"></a>16.1.8.&nbsp;iText&#37197;&#32622;</h3></div></div><div></div></div><p>&#29983;&#25104;&#30340;&#25991;&#26723;&#26080;&#38656;&#20854;&#23427;&#30340;&#39069;&#22806;&#37197;&#32622;&#23601;&#21487;&#20197;&#20351;&#29992;&#12290;&#20294;&#26159;&#26356;&#21152;&#20005;&#26684;&#30340;&#24212;&#29992;&#31243;&#24207;&#21017;&#38656;&#35201;&#19968;&#20123;&#37197;&#32622;&#30340;&#35201;&#28857;&#12290;</p><p>
            &#40664;&#35748;&#30340;&#23454;&#29616;&#33021;&#22815;&#20174;&#19968;&#33324;&#30340;URL&#24471;&#21040;PDF&#25991;&#26723;&#65292;<tt class="literal">/seam-doc.seam</tt>&#12290;
            &#35768;&#22810;&#27983;&#35272;&#22120;&#65288;&#21644;&#29992;&#25143;&#65289;&#26356;&#20542;&#21521;&#20110;&#35265;&#21040;&#21253;&#21547;&#23454;&#38469;PDF&#25991;&#26723;&#21517;&#35832;&#22914; <tt class="literal">/myDocument.pdf</tt>&#30340;&#38142;&#25509;&#12290;
            &#36825;&#20010;&#21151;&#33021;&#38656;&#35201;&#19968;&#20123;&#37197;&#32622;&#12290;&#20026;&#20102;&#22312;&#27983;&#35272;&#22120;&#20013;&#27983;&#35272;PDF&#25991;&#20214;&#65292;&#25152;&#26377;&#30340;*.pdf&#36164;&#28304;&#37117;&#24212;&#35813;&#34987;&#26144;&#23556;&#21040;Seam Servlet&#36807;&#28388;&#22120;&#20197;&#21450;DocumentStoreServlet&#65306;
            </p><pre class="programlisting">&lt;filter&gt;
    &lt;filter-name&gt;Seam Servlet Filter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.jboss.seam.servlet.SeamServletFilter&lt;/filter-class&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
    &lt;filter-name&gt;Seam Servlet Filter&lt;/filter-name&gt;
    &lt;url-pattern&gt;*.pdf&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;

&lt;servlet&gt;
    &lt;servlet-name&gt;Document Store Servlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.jboss.seam.pdf.DocumentStoreServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Document Store Servlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.pdf&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre><p>&#25991;&#26723;&#23384;&#20648;&#32452;&#20214;&#20013;&#30340; <tt class="literal">useExtensions</tt> &#36873;&#39033;&#20445;&#35777;&#20102;&#25991;&#26723;&#23384;&#20648;&#26102;&#30340;&#25193;&#23637;&#21517;&#21644;&#29983;&#25104;&#26102;&#30340;&#19968;&#33268;&#12290;</p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:pdf="http://jboss.com/products/seam/pdf"&gt;
    &lt;pdf:documentStore useExtensions="true" /&gt;
&lt;/components&gt;</pre><p>
            &#29983;&#25104;&#30340;&#25991;&#26723;&#20445;&#23384;&#22312;&#24403;&#21069;&#23545;&#35805;&#33539;&#22260;&#20013;&#30452;&#21040;&#23545;&#35805;&#32467;&#26463;&#12290;&#27492;&#26102;&#65292;&#25991;&#26723;&#30340;&#24341;&#29992;&#23601;&#26080;&#25928;&#20102;&#12290;
            &#24403;&#23545;&#25991;&#26723;&#19981;&#23384;&#22312;&#26102;&#65292;&#20320;&#21487;&#20197;&#21033;&#29992;documentStore&#30340; <tt class="literal">errorPage</tt> &#23646;&#24615;&#25351;&#23450;&#35201;&#26174;&#31034;&#30340;&#40664;&#35748;&#35270;&#22270;&#12290;
            </p><pre class="programlisting">&lt;pdf:documentStore useExtensions="true" errorPage="/pdfMissing.seam" /&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="itext.charting"></a>16.2.&nbsp;&#22270;&#34920;</h2></div></div><div></div></div><div class="informaltable"><a name="itext.barchart"></a><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
								<tt class="literal">&lt;p:barchart&gt;</tt>
							</p></td><td valign="top"><p>
								<span class="emphasis"><em>&#25551;&#36848;</em></span>
							</p><p>&#26174;&#31034;&#26609;&#29366;&#22270;&#12290;</p><p>
								<span class="emphasis"><em>&#23646;&#24615;</em></span>
							</p><div class="itemizedlist"><ul type="disc"><li><p>
										<tt class="literal">borderVisible</tt> &#8212; &#25511;&#21046;&#22270;&#34920;&#36793;&#26694;&#26159;&#21542;&#35201;&#26174;&#31034;&#12290;</p></li><li><p>
										<tt class="literal">borderPaint</tt> &#8212; &#36793;&#26694;&#21487;&#35265;&#26102;&#30340;&#36793;&#26694;&#39068;&#33394;&#12290;
                                    </p></li><li><p>
										<tt class="literal">borderBackgroundPaint</tt> &#8212; &#22270;&#34920;&#30340;&#40664;&#35748;&#32972;&#26223;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">borderStroke</tt> &#8212; </p></li><li><p>
										<tt class="literal">domainAxisLabel</tt> &#8212; &#22495;&#22352;&#26631;&#36724;&#30340;&#25991;&#26412;&#26631;&#31614;&#12290;</p></li><li><p>
										<tt class="literal">domainAxisPaint</tt> &#8212; &#22495;&#22352;&#26631;&#36724;&#26631;&#31614;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">domainGridlinesVisible</tt>&#8212; &#26159;&#21542;&#22312;&#22270;&#34920;&#19978;&#26174;&#31034;&#22495;&#22352;&#26631;&#19978;&#30340;&#32593;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">domainGridlinePaint</tt>&#8212; &#22495;&#22352;&#26631;&#19978;&#32593;&#26684;&#21487;&#35265;&#26102;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">domainGridlineStroke</tt> &#8212; &#22495;&#22352;&#26631;&#36724;&#19978;&#32593;&#26684;&#32447;&#21487;&#35265;&#26102;&#30340;&#30011;&#31508;&#39118;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">height</tt> &#8212; &#22270;&#34920;&#30340;&#39640;&#24230;&#12290;</p></li><li><p>
										<tt class="literal">width</tt> &#8212; &#22270;&#34920;&#30340;&#23485;&#24230;&#12290;</p></li><li><p>
										<tt class="literal">is3D</tt> &#8212; &#34920;&#31034;&#22270;&#34920;&#24212;&#35813;&#20197;3D&#32780;&#19981;&#26159;2D&#28210;&#26579;&#30340;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;</p></li><li><p>
										<tt class="literal">legend</tt> &#8212; &#34920;&#31034;&#22270;&#34920;&#20013;&#26159;&#21542;&#24212;&#35813;&#26174;&#31034;&#22270;&#20363;&#30340;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;</p></li><li><p>
										<tt class="literal">legendItemPaint</tt>&#8212; &#22270;&#20363;&#20013;&#25991;&#26412;&#26631;&#31614;&#30340;&#40664;&#35748;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">legendItemBackgoundPaint</tt>&#8212; &#22270;&#20363;&#30340;&#32972;&#26223;&#33394;&#19982;&#22270;&#34920;&#30340;&#32972;&#26223;&#33394;&#19981;&#19968;&#33268;&#26102;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">orientation</tt> &#8212; &#32472;&#22270;&#26041;&#21521;&#65292;&#21487;&#20197;&#26159; <tt class="code">vertical</tt>&#65288;&#40664;&#35748;&#65289;&#65292;&#20063;&#21487;&#20197;&#26159; <tt class="code">horizontal</tt>&#12290; </p></li><li><p>
										<tt class="literal">plotBackgroundPaint</tt>&#8212; &#32472;&#22270;&#32972;&#26223;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">plotBackgroundAlpha</tt>&#8212; &#32472;&#22270;&#21306;&#22495;&#32972;&#26223;&#30340;alpha&#65288;&#36879;&#26126;&#24230;&#65289;&#32423;&#21035;&#12290;
                                    &#23427;&#24212;&#35813;&#26159;0&#65288;&#23436;&#20840;&#36879;&#26126;&#65289;&#21040;1&#65288;&#23436;&#20840;&#19981;&#36879;&#26126;&#65289;&#20043;&#38388;&#30340;&#19968;&#20010;&#25968;&#23383;&#12290;
                                    </p></li><li><p>
										<tt class="literal">plotForegroundAlpha</tt>&#8212; &#32472;&#22270;&#21306;&#22495;&#30340;alpha&#65288;&#36879;&#26126;&#24230;&#65289;&#32423;&#21035;&#12290;
                                        &#23427;&#24212;&#35813;&#26159;0&#65288;&#23436;&#20840;&#36879;&#26126;&#65289;&#21040;1&#65288;&#23436;&#20840;&#19981;&#36879;&#26126;&#65289;&#20043;&#38388;&#30340;&#19968;&#20010;&#25968;&#23383;&#12290;
                                    </p></li><li><p>
										<tt class="literal">plotOutlinePaint</tt>&#8212; &#32472;&#22270;&#21306;&#22495;&#36793;&#32447;&#21487;&#35265;&#26102;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">plotOutlineStroke</tt> &#8212; &#32472;&#22270;&#21306;&#22495;&#36793;&#32447;&#21487;&#35265;&#26102;&#30340;&#30011;&#31508;&#39118;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">rangeAxisLabel</tt> &#8212; &#20540;&#22352;&#26631;&#36724;&#19978;&#30340;&#25991;&#26412;&#26631;&#31614;&#12290;</p></li><li><p>
										<tt class="literal">rangeAxisPaint</tt> &#8212; &#20540;&#22352;&#26631;&#36724;&#19978;&#30340;&#26631;&#31614;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">rangeGridlinesVisible</tt>&#8212; &#26159;&#21542;&#26174;&#31034;&#20540;&#22352;&#26631;&#36724;&#19978;&#30340;&#32593;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">rangeGridlinePaint</tt>&#8212; &#20540;&#22352;&#26631;&#36724;&#19978;&#32593;&#26684;&#21487;&#35265;&#26102;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">rangeGridlineStroke</tt> &#8212; &#20540;&#22352;&#26631;&#36724;&#19978;&#32593;&#26684;&#32447;&#21487;&#35265;&#26102;&#30340;&#30011;&#31508;&#39118;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">title</tt> &#8212; &#22270;&#34920;&#26631;&#39064;&#25991;&#23383;&#12290;</p></li><li><p>
										<tt class="literal">titlePaint</tt>&#8212; &#22270;&#34920;&#26631;&#39064;&#25991;&#23383;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">titleBackgroundPaint</tt>&#8212; &#22270;&#34920;&#26631;&#39064;&#25991;&#23383;&#30340;&#32972;&#26223;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">width</tt> &#8212; &#22270;&#34920;&#30340;&#23485;&#24230;&#12290;</p></li></ul></div><p>
								<span class="emphasis"><em>&#29992;&#27861;</em></span>
							</p><pre class="programlisting">
&lt;p:barchart title="Bar Chart" legend="true"
            width="500" height="500"&gt;
    &lt;p:series key="Last Year"&gt;
        &lt;p:data columnKey="Joe" value="100" /&gt;
        &lt;p:data columnKey="Bob" value="120" /&gt;
    &lt;/p:series&gt;        &lt;p:series key="This Year"&gt;
        &lt;p:data columnKey="Joe" value="125" /&gt;
        &lt;p:data columnKey="Bob" value="115" /&gt;
    &lt;/p:series&gt;
&lt;/p:barchart&gt;
                            </pre></td></tr></tbody></table></div><div class="informaltable"><a name="itext.linechart"></a><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
								<tt class="literal">&lt;p:linechart&gt;</tt>
							</p></td><td valign="top"><p>
								<span class="emphasis"><em>&#25551;&#36848;</em></span>
							</p><p>&#26174;&#31034;&#19968;&#20010;&#25240;&#32447;&#22270;&#12290;</p><p>
								<span class="emphasis"><em>&#23646;&#24615;</em></span>
							</p><div class="itemizedlist"><ul type="disc"><li><p>
										<tt class="literal">borderVisible</tt> &#8212; &#25511;&#21046;&#26159;&#21542;&#26174;&#31034;&#25972;&#20010;&#22270;&#34920;&#30340;&#36793;&#26694;&#12290;</p></li><li><p>
										<tt class="literal">borderPaint</tt> &#8212; &#22270;&#34920;&#36793;&#26694;&#21487;&#35265;&#26102;&#30340;&#39068;&#33394;&#12290;
                                    </p></li><li><p>
										<tt class="literal">borderBackgroundPaint</tt> &#8212; &#22270;&#34920;&#30340;&#40664;&#35748;&#32972;&#26223;&#33394;</p></li><li><p>
										<tt class="literal">borderStroke</tt> &#8212; </p></li><li><p>
										<tt class="literal">domainAxisLabel</tt> &#8212; &#22495;&#22352;&#26631;&#36724;&#30340;&#25991;&#26412;&#26631;&#31614;&#12290;</p></li><li><p>
										<tt class="literal">domainAxisPaint</tt> &#8212; &#22495;&#22352;&#26631;&#36724;&#26631;&#31614;&#30340;&#39068;&#33394;&#12290; </p></li><li><p>
										<tt class="literal">domainGridlinesVisible</tt>&#8212; &#25511;&#21046;&#26159;&#21542;&#22312;&#22270;&#34920;&#19978;&#26174;&#31034;&#22495;&#22352;&#26631;&#30340;&#32593;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">domainGridlinePaint</tt>&#8212; &#22495;&#22352;&#26631;&#19978;&#32593;&#26684;&#21487;&#35265;&#26102;&#30340;&#39068;&#33394;&#12290; </p></li><li><p>
										<tt class="literal">domainGridlineStroke</tt> &#8212; &#22495;&#22352;&#26631;&#36724;&#19978;&#32593;&#26684;&#32447;&#21487;&#35265;&#26102;&#30340;&#30011;&#31508;&#39118;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">height</tt> &#8212; &#22270;&#34920;&#30340;&#39640;&#24230;&#12290;</p></li><li><p>
										<tt class="literal">width</tt> &#8212; &#22270;&#34920;&#30340;&#23485;&#24230;&#12290;</p></li><li><p>
										<tt class="literal">is3D</tt> &#8212; &#34920;&#31034;&#24212;&#35813;&#20197;3D&#32780;&#19981;&#26159;2D&#22270;&#34920;&#28210;&#26579;&#30340;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;</p></li><li><p>
										<tt class="literal">legend</tt> &#8212; &#34920;&#31034;&#26159;&#21542;&#24212;&#35813;&#22312;&#22270;&#34920;&#20013;&#21253;&#25324;&#22270;&#20363;&#30340;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;</p></li><li><p>
										<tt class="literal">legendItemPaint</tt>&#8212; &#22270;&#20363;&#20013;&#25991;&#26412;&#26631;&#31614;&#30340;&#40664;&#35748;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">legendItemBackgoundPaint</tt>&#8212; &#22270;&#20363;&#30340;&#32972;&#26223;&#33394;&#19982;&#22270;&#34920;&#30340;&#32972;&#26223;&#33394;&#19981;&#19968;&#33268;&#26102;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">orientation</tt> &#8212; &#32472;&#22270;&#21306;&#30340;&#26041;&#21521;&#65292;&#21487;&#20197;&#26159;<tt class="code">vertical</tt>(&#40664;&#35748;)&#65292;
                                        &#20063;&#21487;&#20197;&#26159; <tt class="code">horizontal</tt>&#12290; </p></li><li><p>
										<tt class="literal">plotBackgroundPaint</tt>&#8212; &#32472;&#22270;&#21306;&#22495;&#30340;&#32972;&#26223;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">plotBackgroundAlpha</tt>&#8212;  &#32472;&#22270;&#21306;&#22495;&#32972;&#26223;&#30340;alpha&#65288;&#36879;&#26126;&#24230;&#65289;&#32423;&#21035;&#12290;
                                    &#23427;&#24212;&#35813;&#26159;0&#65288;&#23436;&#20840;&#36879;&#26126;&#65289;&#21040;1&#65288;&#23436;&#20840;&#19981;&#36879;&#26126;&#65289;&#20043;&#38388;&#30340;&#19968;&#20010;&#25968;&#23383;&#12290;
                                    </p></li><li><p>
										<tt class="literal">plotForegroundAlpha</tt>&#8212; &#32472;&#22270;&#21306;&#22495;&#30340;alpha&#65288;&#36879;&#26126;&#24230;&#65289;&#32423;&#21035;&#12290;
                                    &#23427;&#24212;&#35813;&#26159;0&#65288;&#23436;&#20840;&#36879;&#26126;&#65289;&#21040;1&#65288;&#23436;&#20840;&#19981;&#36879;&#26126;&#65289;&#20043;&#38388;&#30340;&#19968;&#20010;&#25968;&#23383;&#12290;
                                    </p></li><li><p>
										<tt class="literal">plotOutlinePaint</tt>&#8212; &#32472;&#22270;&#21306;&#22495;&#36793;&#32447;&#21487;&#35265;&#26102;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">plotOutlineStroke</tt> &#8212; &#32472;&#22270;&#21306;&#22495;&#36793;&#32447;&#21487;&#35265;&#26102;&#30340;&#30011;&#31508;&#39118;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">rangeAxisLabel</tt> &#8212; &#20540;&#22352;&#26631;&#36724;&#19978;&#30340;&#25991;&#26412;&#26631;&#31614;&#12290;
                                    </p></li><li><p>
										<tt class="literal">rangeAxisPaint</tt> &#8212; &#20540;&#22352;&#26631;&#36724;&#19978;&#30340;&#26631;&#31614;&#39068;&#33394;&#12290;
                                    </p></li><li><p>
										<tt class="literal">rangeGridlinesVisible</tt>&#8212; &#25511;&#21046;&#26159;&#21542;&#22312;&#22270;&#34920;&#19978;&#26174;&#31034;&#20540;&#22352;&#26631;&#36724;&#30340;&#32593;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">rangeGridlinePaint</tt>&#8212; &#20540;&#22352;&#26631;&#36724;&#19978;&#32593;&#26684;&#21487;&#35265;&#26102;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">rangeGridlineStroke</tt> &#8212; &#20540;&#22352;&#26631;&#36724;&#19978;&#32593;&#26684;&#32447;&#21487;&#35265;&#26102;&#30340;&#30011;&#31508;&#39118;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">title</tt> &#8212; &#22270;&#34920;&#30340;&#26631;&#39064;&#25991;&#23383;&#12290;</p></li><li><p>
										<tt class="literal">titlePaint</tt>&#8212; &#22270;&#34920;&#26631;&#39064;&#25991;&#23383;&#30340;&#39068;&#33394;&#12290;
                                    </p></li><li><p>
										<tt class="literal">titleBackgroundPaint</tt>&#8212; &#22270;&#34920;&#26631;&#39064;&#30340;&#32972;&#26223;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">width</tt> &#8212; &#22270;&#34920;&#30340;&#23485;&#24230;&#12290;</p></li></ul></div><p>
								<span class="emphasis"><em>&#29992;&#27861;</em></span>
							</p><pre class="programlisting">&lt;p:linechart title="Line Chart"
            width="500" height="500"&gt;
    &lt;p:series key="Prices"&gt;
        &lt;p:data columnKey="2003" value="7.36" /&gt;
        &lt;p:data columnKey="2004" value="11.50" /&gt;
        &lt;p:data columnKey="2005" value="34.625" /&gt;
        &lt;p:data columnKey="2006" value="76.30" /&gt;
        &lt;p:data columnKey="2007" value="85.05" /&gt;
    &lt;/p:series&gt;
&lt;/p:linechart&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><a name="itext.piechart"></a><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
								<tt class="literal">&lt;p:piechart&gt;</tt>
							</p></td><td valign="top"><p>
								<span class="emphasis"><em>&#25551;&#36848;</em></span>
							</p><p>&#26174;&#31034;&#19968;&#20010;&#39292;&#29366;&#22270;&#12290;</p><p>
								<span class="emphasis"><em>&#23646;&#24615;</em></span>
							</p><div class="itemizedlist"><ul type="disc"><li><p>
										<tt class="literal">title &#26631;&#39064;</tt>
									</p></li><li><p>
										<tt class="literal">label &#26631;&#31614;</tt>
									</p></li><li><p>
										<tt class="literal">legend &#22270;&#20363;</tt>
									</p></li><li><p>
										<tt class="literal">is3D &#26159;&#21542;3D</tt>
									</p></li><li><p>
										<tt class="literal">labelLinkMargin &#26631;&#31614;&#38142;&#25509;&#36793;&#36317;</tt>
									</p></li><li><p>
										<tt class="literal">labelLinkPaint &#26631;&#31614;&#38142;&#25509;&#39068;&#33394;</tt>
									</p></li><li><p>
										<tt class="literal">labelLinkStroke &#26631;&#31614;&#38142;&#25509;&#30011;&#31508;&#39118;&#26684;</tt>
									</p></li><li><p>
										<tt class="literal">labelLinksVisible &#26631;&#31614;&#38142;&#25509;&#26159;&#21542;&#21487;&#35265;</tt>
									</p></li><li><p>
										<tt class="literal">labelOutlinePaint &#26631;&#31614;&#22806;&#36793;&#32447;&#39068;&#33394;</tt>
									</p></li><li><p>
										<tt class="literal">labelOutlineStroke &#26631;&#31614;&#22806;&#36793;&#32447;&#30011;&#31508;&#39118;&#26684;</tt>
									</p></li><li><p>
										<tt class="literal">labelShadowPaint &#26631;&#31614;&#38452;&#24433;&#39068;&#33394;</tt>
									</p></li><li><p>
										<tt class="literal">labelPaint &#26631;&#31614;&#39068;&#33394;</tt>
									</p></li><li><p>
										<tt class="literal">labelGap &#26631;&#31614;&#38388;&#38548;</tt>
									</p></li><li><p>
										<tt class="literal">labelBackgroundPaint &#26631;&#31614;&#32972;&#26223;&#33394;</tt>
									</p></li><li><p>
										<tt class="literal">startAngle &#36215;&#22987;&#35282;&#24230;</tt>
									</p></li><li><p>
										<tt class="literal">circular &#22278;&#24418;</tt>
									</p></li><li><p>
										<tt class="literal">direction &#26041;&#21521;</tt>
									</p></li><li><p>
										<tt class="literal">sectionOutlinePaint &#25130;&#38754;&#22806;&#36793;&#32447;&#39068;&#33394;</tt>
									</p></li><li><p>
										<tt class="literal">sectionOutlineStroke &#25130;&#38754;&#22806;&#36793;&#32447;&#30011;&#31508;&#39118;&#26684;</tt>
									</p></li><li><p>
										<tt class="literal">sectionOutlinesVisible &#25130;&#38754;&#22806;&#36793;&#32447;&#26159;&#21542;&#21487;&#35265;</tt>
									</p></li><li><p>
										<tt class="literal">baseSectionOutlinePaint &#22522;&#26412;&#25130;&#38754;&#22806;&#36793;&#32447;&#39068;&#33394;</tt>
									</p></li><li><p>
										<tt class="literal">baseSectionPaint &#22522;&#26412;&#30028;&#38754;&#39068;&#33394;</tt>
									</p></li><li><p>
										<tt class="literal">baseSectionOutlineStroke &#22522;&#26412;&#30028;&#38754;&#22806;&#36793;&#32447;&#30011;&#31508;&#39118;&#26684;</tt>
									</p></li></ul></div><p>
								<span class="emphasis"><em>&#29992;&#27861;</em></span>
							</p><pre class="programlisting"></pre></td></tr></tbody></table></div><div class="informaltable"><a name="itext.series"></a><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
								<tt class="literal">&lt;p:series&gt;</tt>
							</p></td><td valign="top"><p>
								<span class="emphasis"><em>&#25551;&#36848;</em></span>
							</p><p>&#31867;&#25968;&#25454;&#21487;&#20197;&#20998;&#35299;&#25104;&#31995;&#21015;&#12290;series&#26631;&#31614;&#29992;&#20110;&#25353;&#29031;&#31995;&#21015;&#32473;&#19968;&#32452;&#25968;&#25454;&#20998;&#31867;&#65292;&#24182;&#19988;&#23558;&#26679;&#24335;&#24212;&#29992;&#21040;&#25152;&#26377;&#31995;&#21015;&#12290;</p><p>
								<span class="emphasis"><em>&#23646;&#24615;</em></span>
							</p><div class="itemizedlist"><ul type="disc"><li><p>
										<tt class="literal">key</tt> &#8212; &#31995;&#21015;&#21517;&#12290; </p></li><li><p>
										<tt class="literal">seriesPaint</tt> &#8212; &#31995;&#21015;&#20013;&#27599;&#20010;&#39033;&#30340;&#39068;&#33394;&#12290;
                                    </p></li><li><p>
										<tt class="literal">seriesOutlinePaint</tt> &#8212; &#31995;&#21015;&#20013;&#27599;&#20010;&#39033;&#30340;&#22806;&#36793;&#32447;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">seriesOutlineStroke</tt> &#8212; &#31995;&#21015;&#20013;&#27599;&#20010;&#39033;&#25152;&#20351;&#29992;&#30340;&#30011;&#31508;&#39118;&#26684;</p></li><li><p>
										<tt class="literal">seriesVisible</tt> &#8212; &#34920;&#31034;&#31995;&#21015;&#26159;&#21542;&#26174;&#31034;&#30340;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;</p></li><li><p>
										<tt class="literal">seriesVisibleInLegend</tt> &#8212; &#34920;&#31034;&#26159;&#21542;&#22312;&#22270;&#20363;&#20013;&#21015;&#20986;&#31995;&#21015;&#30340;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;</p></li></ul></div><p>
								<span class="emphasis"><em>&#29992;&#27861;</em></span>
							</p><pre class="programlisting">&lt;p:series key="data1"&gt;
    &lt;ui:repeat value="#{data.pieData1}" var="item"&gt;
        &lt;p:data columnKey="#{item.name}" value="#{item.value}" /&gt;
    &lt;/ui:repeat&gt;
&lt;/p:series&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><a name="itext.chartdata"></a><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
								<tt class="literal">&lt;p:data&gt;</tt>
							</p></td><td valign="top"><p>
								<span class="emphasis"><em>&#25551;&#36848;</em></span>
							</p><p>&#35813;&#25968;&#25454;&#26631;&#31614;&#25551;&#36848;&#35201;&#22312;&#22270;&#34920;&#20013;&#26174;&#31034;&#30340;&#27599;&#20010;&#25968;&#25454;&#28857;&#12290;</p><p>
								<span class="emphasis"><em>&#23646;&#24615;</em></span>
							</p><div class="itemizedlist"><ul type="disc"><li><p>
										<tt class="literal">key</tt> &#8212; &#25968;&#25454;&#39033;&#30340;&#21517;&#31216;&#12290;</p></li><li><p>
										<tt class="literal">series</tt> &#8212; &#31995;&#21015;&#21517;&#65292;&#24403;&#35813;&#26631;&#31614;&#27809;&#26377;&#20869;&#23884;&#22312;<tt class="code">&lt;p:series&gt;</tt>&#20013;&#30340;&#26102;&#20505;&#12290;</p></li><li><p>
										<tt class="literal">value</tt> &#8212; &#25968;&#23383;&#21270;&#30340;&#25968;&#25454;&#20540;&#12290;</p></li><li><p>
										<tt class="literal">explodedPercent</tt> &#8212; &#23545;&#20110;&#39292;&#29366;&#22270;&#65292;&#34920;&#31034;&#20998;&#31163;&#22359;&#30340;&#30334;&#20998;&#27604;&#22823;&#23567;&#12290;</p></li><li><p>
										<tt class="literal">sectionOutlinePaint</tt> &#8212; &#23545;&#20110;&#26609;&#29366;&#22270;&#65292;&#34920;&#31034;&#25130;&#38754;&#22806;&#36793;&#32447;&#30340;&#39068;&#33394;&#12290;</p></li><li><p>
										<tt class="literal">sectionOutlineStroke</tt> &#8212; &#23545;&#20110;&#26609;&#29366;&#22270;&#65292;&#34920;&#31034;&#25130;&#38754;&#22806;&#36793;&#32447;&#30340;&#30011;&#31508;&#39118;&#26684;&#12290;</p></li><li><p>
										<tt class="literal">sectionPaint</tt> &#8212; &#23545;&#20110;&#26609;&#29366;&#22270;&#65292;&#34920;&#31034;&#25130;&#38754;&#30340;&#39068;&#33394;&#12290;</p></li></ul></div><p>
								<span class="emphasis"><em>&#29992;&#27861;</em></span>
							</p><pre class="programlisting">&lt;p:data key="foo" value="20" sectionPaint="#111111"
        explodedPercent=".2" /&gt;
&lt;p:data key="bar" value="30" sectionPaint="#333333" /&gt;
&lt;p:data key="baz" value="40" sectionPaint="#555555"
        sectionOutlineStroke="my-dot-style" /&gt;</pre></td></tr></tbody></table></div><div class="informaltable"><a name="itext.color"></a><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
								<tt class="literal">&lt;p:color&gt;</tt>
							</p></td><td valign="top"><p>
								<span class="emphasis"><em>&#25551;&#36848;</em></span>
							</p><p>&#39068;&#33394;&#32452;&#20214;&#22768;&#26126;&#19968;&#31181;&#39068;&#33394;&#25110;&#32773;&#19968;&#32452;&#28176;&#21464;&#30340;&#39068;&#33394;&#65292;&#21487;&#20197;&#22312;&#32472;&#21046;&#22635;&#20805;&#22270;&#24418;&#26102;&#20351;&#29992;&#12290;</p><p>
								<span class="emphasis"><em>&#23646;&#24615;</em></span>
							</p><div class="itemizedlist"><ul type="disc"><li><p>
										<tt class="literal">color</tt> &#8212; &#39068;&#33394;&#20540;&#65292;&#23545;&#20110;&#28176;&#21464;&#30340;&#39068;&#33394;&#65292;&#36825;&#34920;&#31034;&#36215;&#22987;&#30340;&#39068;&#33394;&#20540;&#12290; <a href="#itext.colors" title="16.1.7.1.&nbsp;&#39068;&#33394;&#20540;">Section&nbsp;16.1.7.1, &#8220;&#39068;&#33394;&#20540;&#8221;</a>
									</p></li><li><p>
										<tt class="literal">color2</tt> &#8212;&#12288;&#23545;&#20110;&#28176;&#21464;&#30340;&#39068;&#33394;&#65292;&#36825;&#34920;&#31034;&#32467;&#26463;&#28176;&#21464;&#30340;&#39068;&#33394;&#20540;&#12290;</p></li><li><p>
										<tt class="literal">point</tt> &#8212; &#28176;&#21464;&#39068;&#33394;&#30340;&#36215;&#22987;&#22352;&#26631;</p></li><li><p>
										<tt class="literal">point2</tt> &#8212; &#28176;&#21464;&#39068;&#33394;&#30340;&#32467;&#26463;&#22352;&#26631;</p></li></ul></div><p>
								<span class="emphasis"><em>&#29992;&#27861;</em></span>
							</p><pre class="programlisting">&lt;p:color id="foo" color="#0ff00f"/&gt;
&lt;p:color id="bar" color="#ff00ff" color2="#00ff00"
                  point="50 50" point2="300 300"/&gt;  </pre></td></tr></tbody></table></div><div class="informaltable"><a name="itext.stroke"></a><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
								<tt class="literal">&lt;p:stroke&gt;</tt>
							</p></td><td valign="top"><p>
								<span class="emphasis"><em>&#25551;&#36848;</em></span>
							</p><p>&#25551;&#36848;&#19968;&#31181;&#29992;&#26469;&#22312;&#22270;&#34920;&#20013;&#30011;&#32447;&#30340;&#30011;&#31508;&#39118;&#26684;&#12290;</p><p>
								<span class="emphasis"><em>&#23646;&#24615;</em></span>
							</p><div class="itemizedlist"><ul type="disc"><li><p>
										<tt class="literal">width</tt> &#8212; &#30011;&#31508;&#30340;&#23485;&#24230;&#12290;</p></li><li><p>
										<tt class="literal">cap</tt> &#8212; &#32447;&#31471;&#31867;&#22411;&#65292;&#26377;&#25928;&#20540;&#20026; <tt class="literal">butt</tt>&#12289;<tt class="literal">round</tt> &#21644; <tt class="literal">square</tt>
									</p></li><li><p>
										<tt class="literal">join</tt> &#8212; &#32447;&#20132;&#27719;&#28857;&#30340;&#31867;&#22411;&#65292;&#26377;&#25928;&#20540;&#20026; <tt class="literal">miter</tt>, <tt class="literal">round</tt> &#21644; <tt class="literal">bevel</tt>
									</p></li><li><p>
										<tt class="literal">miterLimit</tt> &#8212; &#32447;&#36793;&#32536;&#20132;&#27719;&#65292;&#36825;&#20010;&#20540;&#38480;&#21046;&#20132;&#27719;&#28857;&#30340;&#22823;&#23567;&#12290;</p></li><li><p>
										<tt class="literal">dash</tt> &#8212; &#35774;&#32622;&#35201;&#29992;&#26469;&#30011;&#32447;&#30340;&#34394;&#32447;&#27169;&#24335;&#30340;&#34394;&#32447;&#20540;&#12290;&#25972;&#25968;&#20195;&#34920;&#20132;&#26367;&#30011;&#23454;&#32447;&#21644;&#34394;&#32447;&#30340;&#38271;&#24230;&#12290;</p></li><li><p>
										<tt class="literal">dashPhase</tt> &#8212; &#34920;&#31034;&#34394;&#32447;&#27169;&#24335;&#20013;&#23454;&#32447;&#30340;&#20559;&#31227;&#37327;&#12290;</p></li></ul></div><p>
								<span class="emphasis"><em>&#29992;&#27861;</em></span>
							</p><pre class="programlisting">&lt;p:stroke id="dot2" width="2" cap="round" join="bevel" dash="2 3" /&gt;
                            </pre></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="itext.barcodes"></a>16.3.&nbsp;&#26609;&#29366;&#22270;&#32534;&#30721;</h2></div></div><div></div></div><p>...</p><div class="informaltable"><a name="itext.barcode"></a><table border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
								<tt class="literal">&lt;p:barcode&gt;</tt>
							</p></td><td valign="top"><p>
								<span class="emphasis"><em>&#25551;&#36848;</em></span>
							</p><p></p><p>
								<span class="emphasis"><em>&#23646;&#24615;</em></span>
							</p><div class="itemizedlist"><ul type="disc"><li><p>
										<tt class="literal">type &#31867;&#22411;</tt>
									</p></li><li><p>
										<tt class="literal">code &#32534;&#30721;</tt>
									</p></li><li><p>
										<tt class="literal">xpos &#27178;&#22352;&#26631;</tt>
									</p></li><li><p>
										<tt class="literal">ypos &#32437;&#22352;&#26631;</tt>
									</p></li><li><p>
										<tt class="literal">rotDegrees &#26059;&#36716;&#35282;&#24230;</tt>
									</p></li><li><p>
										<tt class="literal">barHeight &#39640;&#24230;</tt>
									</p></li><li><p>
										<tt class="literal">textSize &#25991;&#26412;&#22823;&#23567;</tt>
									</p></li><li><p>
										<tt class="literal">minBarWidth &#26368;&#23567;&#26609;&#29366;&#22270;&#23485;&#24230;</tt>
									</p></li><li><p>
										<tt class="literal">barMultiplier</tt>
									</p></li></ul></div><p>
								<span class="emphasis"><em>&#29992;&#27861;</em></span>
							</p><pre class="programlisting"></pre></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="itext.links"></a>16.4.&nbsp;&#26356;&#35814;&#32454;&#30340;&#25991;&#26723;</h2></div></div><div></div></div><p>&#20851;&#20110;iText&#30340;&#26356;&#22810;&#20449;&#24687;&#65292;&#35831;&#35265;&#65306;</p><p>
			</p><div class="itemizedlist"><ul type="disc"><li><p>
						<a href="http://www.lowagie.com/iText/" target="_top">iText &#20027;&#39029;</a>
					</p></li><li><p>
						<a href="http://www.manning.com/lowagie/" target="_top">iText in Action</a>
					</p></li></ul></div><p>
		</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="mail"></a>Chapter&nbsp;17.&nbsp;&#30005;&#23376;&#37038;&#20214;</h2></div></div><div></div></div><p>
	Seam&#29616;&#22312;&#21253;&#21547;&#20102;&#19968;&#20010;&#29992;&#20110;&#27169;&#26495;&#21644;&#21457;&#36865;&#37038;&#20214;&#30340;&#21487;&#36873;&#32452;&#20214;&#12290;
	</p><p>
    &#37038;&#20214;&#25903;&#25345;&#26159;&#30001; <tt class="literal">jboss-seam-mail.jar</tt> &#25552;&#20379;&#30340;&#12290;
	&#36825;&#20010;JAR&#21253;&#21253;&#25324;&#29992;&#20110;&#21019;&#24314;&#37038;&#20214;&#30340;mail JSF&#25511;&#20214;&#65292;&#20197;&#21450; <tt class="literal">mailSession</tt> &#31649;&#29702;&#32452;&#20214;&#12290;
  </p><p>
	examples/mail&#39033;&#30446;&#21253;&#25324;&#19968;&#20221;&#23454;&#29992;&#30340;email&#25903;&#25345;&#31034;&#20363;&#12290;&#35813;&#20363;&#23376;&#31034;&#33539;&#20102;&#24688;&#24403;&#30340;&#25171;&#21253;&#26041;&#24335;&#65292;&#24182;&#19988;&#21253;&#21547;&#20102;&#19968;&#20123;&#24403;&#21069;&#25903;&#25345;&#30340;&#20851;&#38190;&#29305;&#24615;&#12290;
	</p><p>
    &#20320;&#20063;&#21487;&#20197;&#20351;&#29992;Seam&#30340;&#38598;&#25104;&#27979;&#35797;&#29615;&#22659;&#26469;&#27979;&#35797;&#20320;&#30340;mail&#31243;&#24207;&#65292;&#21442;&#35265; <a href="#testing.mail" title="31.3.2.&nbsp;Seam Mail&#38598;&#25104;&#27979;&#35797;">Section&nbsp;31.3.2, &#8220;Seam Mail&#38598;&#25104;&#27979;&#35797;&#8221;</a>&#12290;
	</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11160"></a>17.1.&nbsp;&#21019;&#24314;&#19968;&#26465;&#28040;&#24687;</h2></div></div><div></div></div><p>
		&#20026;&#20102;&#20351;&#29992;Seam Mail&#65292;&#20320;&#24182;&#19981;&#38656;&#35201;&#23436;&#25972;&#30340;&#23398;&#20064;&#19968;&#38376;&#27169;&#26495;&#35821;&#35328;&#8212;&#19968;&#23553;&#37038;&#20214;&#20165;&#20165;&#26159;&#19968;&#20010;facelet&#65281;&#12304;Facelet&#26159;&#29992;&#26469;&#24314;&#31435;JSF&#24212;&#29992;&#31243;&#24207;&#26102;&#30340;&#19968;&#20010;&#21487;&#20379;&#36873;&#25321;&#30340;&#34920;&#29616;&#23618;&#25216;&#26415;&#12305;
		</p><pre class="programlisting">&lt;m:message xmlns="http://www.w3.org/1999/xhtml"
    xmlns:m="http://jboss.com/products/seam/mail"
    xmlns:h="http://java.sun.com/jsf/html"&gt;

    &lt;m:from name="Peter" address="peter@example.com" /&gt;
    &lt;m:to name="#{person.firstname} #{person.lastname}"&gt;#{person.address}&lt;/m:to&gt;
    &lt;m:subject&gt;Try out Seam!&lt;/m:subject&gt;

    &lt;m:body&gt;
        &lt;p&gt;&lt;h:outputText value="Dear #{person.firstname}" /&gt;,&lt;/p&gt;
        &lt;p&gt;You can try out Seam by visiting
        &lt;a href="http://labs.jboss.com/jbossseam"&gt;http://labs.jboss.com/jbossseam&lt;/a&gt;.&lt;/p&gt;
        &lt;p&gt;Regards,&lt;/p&gt;
        &lt;p&gt;Pete&lt;/p&gt;
    &lt;/m:body&gt;

&lt;/m:message&gt;</pre><p>
	  <tt class="literal">&lt;m:message&gt;</tt> &#26631;&#31614;&#21253;&#35013;&#25972;&#20010;&#28040;&#24687;&#65292;&#24182;&#19988;&#36890;&#30693;Seam&#24320;&#22987;&#28210;&#26579;&#19968;&#23553;&#37038;&#20214;&#12290;
	  &#22312;&#36825;&#20010; <tt class="literal">&lt;m:message&gt;</tt> &#26631;&#31614;&#20869;&#65292;&#25105;&#20204;&#20351;&#29992;&#26631;&#31614; <tt class="literal">&lt;m:from&gt;</tt> &#26469;&#35774;&#32622;&#36825;&#20010;&#28040;&#24687;&#26159;&#26469;&#33258;&#35841;&#65292;
	  &#20351;&#29992;&#26631;&#31614; <tt class="literal">&lt;m:to&gt;</tt> &#26469;&#26631;&#35782;&#21457;&#36865;&#32773;&#65288;&#27880;&#24847;&#25105;&#20204;&#23601;&#21644;&#22312;&#26222;&#36890;&#30340;facelet&#37324;&#19968;&#26679;&#20351;&#29992;EL&#65289;&#65292;&#21644; <tt class="literal">&lt;m:subject&gt;</tt> &#26631;&#31614;&#12290;
    </p><p>
		<tt class="literal">&lt;m:body&gt;</tt> &#26631;&#31614;&#21253;&#35013;&#37038;&#20214;&#30340;&#20027;&#20307;&#12290;&#20320;&#21487;&#20197;&#20687;JSF&#32452;&#20214;&#37027;&#26679;&#23558;&#27491;&#35268;&#30340;HTML&#26631;&#31614;&#29992;&#22312;&#37038;&#20214;&#20027;&#20307;&#20869;&#12290;
		</p><p>
		&#22909;&#65292;&#29616;&#22312;&#20320;&#24050;&#32463;&#26377;&#20102;email&#30340;&#27169;&#26495;&#65292;&#20320;&#23558;&#22914;&#20309;&#21457;&#36865;&#23427;&#21602;&#65311;
		&#22312; <tt class="literal">m:message</tt> &#30340;&#32467;&#23614;&#65292;<tt class="literal">mailSession</tt> &#23558;&#34987;&#35843;&#29992;&#65292;&#29992;&#20110;&#21457;&#36865;&#37038;&#20214;&#12290;
		&#25152;&#20197;&#65292;&#20320;&#25152;&#26377;&#35201;&#20570;&#30340;&#20165;&#20165;&#26159;&#35831;&#27714;Seam&#28210;&#26579;&#36825;&#20010;&#35270;&#22270;&#65306;
		</p><pre class="programlisting">@In(create=true)
private Renderer renderer;

public void send() {
    try {
       renderer.render("/simple.xhtml");
       facesMessages.add("Email sent successfully");
   }
   catch (Exception e) {
       facesMessages.add("Email sending failed: " + e.getMessage());
   }
}</pre><p>
		&#20551;&#22914;&#65306;&#20320;&#36755;&#20837;&#20102;&#19968;&#20010;&#26080;&#25928;&#30340;email&#22320;&#22336;&#65292;&#23558;&#20250;&#25243;&#20986;&#19968;&#20010;&#24322;&#24120;&#12290;&#35813;&#24322;&#24120;&#23558;&#34987;&#25429;&#25417;&#24182;&#26174;&#31034;&#32473;&#29992;&#25143;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11201"></a>17.1.1.&nbsp;&#38468;&#20214;</h3></div></div><div></div></div><p>
			Seam&#20013;&#37038;&#20214;&#28155;&#21152;&#38468;&#20214;&#30340;&#25805;&#20316;&#21464;&#24471;&#36731;&#32780;&#26131;&#20030;&#12290;&#22312;&#22788;&#29702;&#25991;&#20214;&#26102;&#65292;&#23427;&#25903;&#25345;&#32477;&#22823;&#22810;&#25968;&#30340;&#26631;&#20934;Java&#31867;&#22411;&#12290;
			</p><p>
			&#22914;&#26524;&#20320;&#24819;&#36890;&#36807;&#37038;&#20214;&#21457;&#36865; <tt class="literal">jboss-seam-mail.jar</tt>&#65306;
			</p><pre class="programlisting">&lt;m:attachment value="/WEB-INF/lib/jboss-seam-mail.jar"/&gt;</pre><p>
			Seam&#23558;&#36890;&#36807;classpath&#21152;&#36733;&#25991;&#20214;&#65292;&#24182;&#23558;&#20854;&#38468;&#20214;&#21152;&#20837;&#21040;&#21040;&#37038;&#20214;&#20013;&#12290;
			&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#23427;&#23558;&#34987;&#20687; <tt class="literal">jboss-seam-mail.jar</tt> &#19968;&#26679;&#21152;&#36733;&#65307;
			&#22914;&#26524;&#20320;&#24819;&#20026;&#23427;&#28155;&#21152;&#21035;&#21517;&#65292;&#21482;&#38656;&#35201;&#28155;&#21152; <tt class="literal">fileName</tt> &#23646;&#24615;&#21363;&#21487;&#12290;
      		</p><pre class="programlisting">&lt;m:attachment value="/WEB-INF/lib/jboss-seam-mail.jar" fileName="this-is-so-cool.jar"/&gt;</pre><p>
			&#20320;&#21516;&#26679;&#21487;&#20197;&#38468;&#21152; <tt class="literal">java.io.File</tt>&#12289;<tt class="literal">java.net.URL</tt>&#65306;
			</p><pre class="programlisting">&lt;m:attachment value="#{numbers}"/&gt;</pre><p>
			&#20063;&#21487;&#20197;&#26159; <tt class="literal">byte[]</tt> &#25110;&#26159; <tt class="literal">java.io.InputStream</tt>&#65306;
			</p><pre class="programlisting">&lt;m:attachment value="#{person.photo}" contentType="image/png"/&gt;</pre><p>
			&#20320;&#20250;&#27880;&#24847;&#21040;&#23545;&#20110; <tt class="literal">byte[]</tt> &#21644; <tt class="literal">java.io.InputStream</tt>&#65292;
			&#20320;&#38656;&#35201;&#25351;&#23450;&#38468;&#20214;&#30340;MIME&#31867;&#22411;&#65288;&#22240;&#20026;&#36825;&#20004;&#31181;&#25991;&#20214;&#19981;&#24102;&#27492;&#31867;&#20449;&#24687;&#12290;&#65289;
			</p><p>
			&#26356;&#22909;&#30340;&#26159;&#65292;&#20320;&#21487;&#20197;&#38468;Seam&#20135;&#29983;&#30340;PDF&#25110;&#20219;&#24847;&#26631;&#20934;&#30340;JSF&#35270;&#22270;&#65292;&#21482;&#38656;&#23558;&#20320;&#20351;&#29992;&#30340;&#26222;&#36890;&#26631;&#31614;&#29992; <tt class="literal">&lt;m:attachment&gt;</tt> &#23553;&#35013;&#36215;&#26469;&#21363;&#21487;&#65306;
			</p><pre class="programlisting">&lt;m:attachment fileName="tiny.pdf"&gt;
    &lt;p:document&gt;
        A very tiny PDF
    &lt;/p:document&gt;
&lt;/m:attachment&gt;</pre><p>
			&#22914;&#26524;&#20320;&#24819;&#23558;&#22810;&#20010;&#25991;&#20214;&#28155;&#21152;&#21040;&#38468;&#20214;&#20013;&#65288;&#20363;&#22914;&#20174;&#25968;&#25454;&#24211;&#21152;&#36733;&#30340;&#19968;&#22871;&#29031;&#29255;&#65289;&#65292;&#20320;&#21482;&#38656;&#35201;&#20351;&#29992; <tt class="literal">&lt;ui:repeat&gt;</tt>&#65306;
			</p><pre class="programlisting">&lt;ui:repeat value="#{people}" var="person"&gt;
    &lt;m:attachment value="#{person.photo}" contentType="image/jpeg" fileName="#{person.firstname}_#{person.lastname}.jpg"/&gt;
&lt;/ui:repeat&gt;</pre><p>
			&#22914;&#26524;&#20320;&#24819;&#30452;&#25509;&#26174;&#31034;&#19968;&#20010;&#38468;&#19978;&#30340;&#22270;&#29255;&#65306;
			</p><pre class="programlisting">&lt;m:attachment
    value="#{person.photo}"
    contentType="image/jpeg"
    fileName="#{person.firstname}_#{person.lastname}.jpg"
    status="personPhoto"
    disposition="inline" /&gt;
&lt;img src="cid:#{personPhoto.contentId}" /&gt;</pre><p>
			&#20320;&#21487;&#33021;&#20250;&#38382; <tt class="literal">cid:#{...}</tt> &#30340;&#20316;&#29992;&#26159;&#20160;&#20040;&#12290;
			&#26159;&#36825;&#26679;&#30340;&#65292;IETF&#26126;&#30830;&#35268;&#23450;&#23558;&#36825;&#20010;&#26631;&#31614;&#21152;&#20837;&#20316;&#20026;&#20320;&#22270;&#29255;&#30340;src&#65288;&#28304;&#25991;&#20214;&#65289;&#65292;&#24403;&#35797;&#30528;&#23450;&#20301;&#22270;&#29255;&#65288;<tt class="literal">Content-ID</tt>&#24517;&#39035;&#21305;&#37197;&#65289;&#26102;&#65292;&#23427;&#23601;&#33021;&#22815;&#34987;&#26597;&#25214;&#21040;&#12290;&#8212; &#22810;&#20040;&#31070;&#22855;&#65281;
			</p><p>
			&#22312;&#35775;&#38382;&#29366;&#24577;&#23545;&#35937;&#20043;&#21069;&#20320;&#24517;&#39035;&#22768;&#26126;&#38468;&#20214;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11279"></a>17.1.2.&nbsp;HTML/Text &#20132;&#26367;&#37096;&#20998;</h3></div></div><div></div></div><p>
			&#23613;&#31649;&#29616;&#22312;&#32477;&#22823;&#22810;&#25968;&#30340;&#37038;&#20214;&#26597;&#30475;&#22120;&#37117;&#25903;&#25345;HTML&#26684;&#24335;&#30340;&#37038;&#20214;&#65292;&#20294;&#36824;&#26159;&#26377;&#19968;&#20123;&#19981;&#25903;&#25345;&#65292;&#25152;&#20197;&#20320;&#21487;&#20197;&#22312;&#37038;&#20214;&#20307;&#37324;&#28155;&#21152;&#19968;&#20010;&#26080;&#26684;&#24335;&#30340;&#25991;&#26412;&#20316;&#20026;&#26367;&#25442;&#12290;
			</p><pre class="programlisting">&lt;m:body&gt;
    &lt;f:facet name="alternative"&gt;Sorry, your email reader can't show our fancy email,
please go to http://labs.jboss.com/jbossseam to explore Seam.&lt;/f:facet&gt;
&lt;/m:body&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11286"></a>17.1.3.&nbsp;&#22810;&#20010;&#25910;&#20214;&#20154;</h3></div></div><div></div></div><p>
			&#24456;&#22810;&#26102;&#20505;&#20320;&#24076;&#26395;&#21521;&#19968;&#20010;&#25910;&#20214;&#32452;&#65288;&#27604;&#22914;&#20320;&#30340;&#29992;&#25143;&#20204;&#65289;&#21457;&#36865;&#37038;&#20214;&#12290;
			&#25152;&#26377;&#30340;&#25910;&#20214;&#20154;&#26631;&#31614;&#21487;&#20197;&#34987;&#25918;&#22312;&#19968;&#20010; <tt class="literal">&lt;ui:repeat&gt;</tt> &#26631;&#31614;&#20013;&#65306;
			</p><pre class="programlisting">&lt;ui:repeat value="#{allUsers} var="user"&gt;
    &lt;m:to name="#{user.firstname} #{user.lastname}" address="#{user.emailAddress}" /&gt;
&lt;/ui:repeat&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11296"></a>17.1.4.&nbsp;&#22810;&#26465;&#20449;&#24687;</h3></div></div><div></div></div><p>
			&#26377;&#26102;&#20505;&#65292;&#20320;&#38656;&#35201;&#21521;&#27599;&#19968;&#20010;&#25910;&#20214;&#20154;&#21457;&#36865;&#19968;&#26465;&#31245;&#24494;&#26377;&#24046;&#21035;&#30340;&#20449;&#65288;&#20363;&#22914;&#65306;&#37325;&#35774;&#23494;&#30721;&#65289;&#12290;
			&#26368;&#22909;&#30340;&#26041;&#27861;&#23601;&#26159;&#23558;&#25972;&#20010;&#20449;&#24687;&#25918;&#22312; <tt class="literal">&lt;ui:repeat&gt;</tt> &#26631;&#31614;&#20013;&#65306;
			</p><pre class="programlisting">&lt;ui:repeat value="#{people}" var="p"&gt;
    &lt;m:message&gt;
        &lt;m:from name="#{person.firstname} #{person.lastname}"&gt;#{person.address}&lt;/m:from&gt;
        &lt;m:to name="#{p.firstname}"&gt;#{p.address}&lt;/m:to&gt;
            ...
    &lt;/m:message&gt;
&lt;/ui:repeat&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11306"></a>17.1.5.&nbsp;&#27169;&#26495;</h3></div></div><div></div></div><p>
			&#37038;&#20214;&#27169;&#26495;&#31034;&#20363;&#26174;&#31034;&#65288;facelets&#27169;&#26495;&#65289;&#21487;&#20197;&#21644;Seam&#30340;mail&#26631;&#31614;&#24456;&#22909;&#30340;&#32467;&#21512;&#12290;
			</p><p>
			&#25105;&#20204;&#30340; <tt class="literal">template.xhtml</tt> &#21253;&#25324;&#65306;
			</p><pre class="programlisting">&lt;m:message&gt;
   &lt;m:from name="Seam" address="do-not-reply@jboss.com" /&gt;
   &lt;m:to name="#{person.firstname} #{person.lastname}"&gt;#{person.address}&lt;/m:to&gt;
   &lt;m:subject&gt;#{subject}&lt;/m:subject&gt;
   &lt;m:body&gt;
       &lt;html&gt;
           &lt;body&gt;
               &lt;ui:insert name="body"&gt;This is the default body, specified by the template.&lt;/ui:insert&gt;
           &lt;/body&gt;
       &lt;/html&gt;
   &lt;/m:body&gt;
&lt;/m:message&gt;</pre><p>
			&#25105;&#20204;&#30340; <tt class="literal">templating.xhtml</tt> &#21253;&#25324;&#65306;
			</p><pre class="programlisting">&lt;ui:param name="subject" value="Templating with Seam Mail"/&gt;
&lt;ui:define name="body"&gt;
    &lt;p&gt;This example demonstrates that you can easily use &lt;i&gt;facelets templating&lt;/i&gt; in email!&lt;/p&gt;
&lt;/ui:define&gt;</pre><p>
			&#20320;&#20063;&#21487;&#20197;&#22312;&#20320;&#30340;&#37038;&#20214;&#20013;&#20351;&#29992;facelet&#30340;&#28304;&#26631;&#31614;&#65292;&#20294;&#20320;&#24517;&#39035;&#23558;&#23427;&#20204;&#32622;&#20110;&#19968;&#20010;jar&#21253;&#20013;&#24182;&#25918;&#22312; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#19979;
			&#65293; &#24403;&#20351;&#29992;Seam Mail&#20174; <tt class="literal">web.xml</tt> &#24341;&#29992; <tt class="literal">.taglib.xml</tt> &#24182;&#19981;&#21487;&#38752;&#12290;
			&#65288;&#22240;&#20026;&#22914;&#26524;&#20320;&#24322;&#27493;&#30340;&#21457;&#36865;&#20320;&#30340;&#37038;&#20214;&#65292;Seam Mail&#26080;&#27861;&#35775;&#38382;&#21040;&#23436;&#25972;&#30340;JSF&#25110;Servlet&#19978;&#19979;&#25991;&#65292;&#25152;&#20197;&#24182;&#19981;&#30693;&#36947;&#12288;<tt class="literal">web.xml</tt> &#30340;&#37197;&#32622;&#21442;&#25968;&#65289;
			</p><p>
			&#21457;&#36865;&#37038;&#20214;&#26102;&#65292;&#22914;&#26524;&#20320;&#38656;&#35201;&#26356;&#22810;&#30340;&#37197;&#32622;Facelets&#25110;JSF&#65292;&#20320;&#38656;&#35201;&#37325;&#36733;Renderer&#32452;&#20214;&#65292;&#24182;&#19988;&#32534;&#31243;&#24335;&#22320;&#20570;&#37197;&#32622;&#24037;&#20316; &#65293; &#20165;&#38480;&#20110;&#39640;&#32423;&#29992;&#25143;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11341"></a>17.1.6.&nbsp;&#22269;&#38469;&#21270;</h3></div></div><div></div></div><p>
			Seam&#25903;&#25345;&#21457;&#36865;&#22269;&#38469;&#21270;&#30340;&#20449;&#24687;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#20351;&#29992;JSF&#25552;&#20379;&#30340;&#32534;&#30721;&#65292;&#20294;&#20063;&#21487;&#20197;&#30001;&#22914;&#19979;&#30340;&#27169;&#26495;&#37325;&#20889;&#65306;
			</p><pre class="programlisting">&lt;m:message charset="UTF-8"&gt;
   ...
&lt;/m:message&gt;</pre><p>
			&#37038;&#20214;&#20869;&#23481;&#12289;&#20027;&#39064;&#21644;&#25910;&#20214;&#20154;&#65288;&#21644;&#21457;&#20214;&#20154;&#65289;&#30340;&#21517;&#31216;&#37117;&#20250;&#34987;&#32534;&#30721;&#12290;&#36890;&#36807;&#35774;&#32622;&#27169;&#26495;&#30340;&#32534;&#30721;&#65292;&#20320;&#38656;&#35201;&#30830;&#35748;facelets&#26159;&#21542;&#20351;&#29992;&#20102;&#27491;&#30830;&#30340;&#32534;&#30721;&#26041;&#24335;&#26469;&#35299;&#26512;&#20320;&#30340;&#39029;&#38754;&#12290;
			</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11352"></a>17.1.7.&nbsp;&#20854;&#23427;&#30340;&#26631;&#35782;&#22836;</h3></div></div><div></div></div><p>
			&#26377;&#26102;&#20505;&#20320;&#20250;&#24819;&#22312;&#37038;&#20214;&#19978;&#28155;&#21152;&#20854;&#20182;&#30340;&#22836;&#20449;&#24687;&#12290;Seam&#25552;&#20379;&#20102;&#19968;&#37096;&#20998;&#25903;&#25345;&#65288;&#35831;&#30475; <a href="#mail.tags" title="17.5.&nbsp;&#26631;&#31614;">Section&nbsp;17.5, &#8220;&#26631;&#31614;&#8221;</a>&#65289;&#12290;
			&#20363;&#22914;&#65306;&#25105;&#20204;&#21487;&#20197;&#35774;&#32622;&#37038;&#20214;&#30340;&#37325;&#35201;&#31243;&#24230;&#65292;&#25110;&#30528;&#35831;&#27714;&#19968;&#20010;&#38405;&#35835;&#22238;&#25191;&#12290;
			</p><pre class="programlisting">&lt;m:message xmlns:m="http://jboss.com/products/seam/mail"
    importance="low"
    requestReadReceipt="true"/&gt;</pre><p>
			&#21478;&#22806;&#20320;&#20063;&#21487;&#20197;&#36890;&#36807;&#20351;&#29992; <tt class="literal">&lt;m:header&gt;</tt> &#26631;&#31614;&#65292;&#20026;&#28040;&#24687;&#28155;&#21152;&#20854;&#23427;&#20219;&#24847;&#30340;&#22836;&#20449;&#24687;&#12290;
			</p><pre class="programlisting">&lt;m:header name="X-Sent-From" value="JBoss Seam"/&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11368"></a>17.2.&nbsp;&#25509;&#25910;&#37038;&#20214;</h2></div></div><div></div></div><p>
		&#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;EJB&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;MDB&#65288;&#28040;&#24687;&#39537;&#21160;Bean:Message Driven Bean&#65289;&#26469;&#25509;&#25910;&#28040;&#24687;&#12290;
		JBoss&#25552;&#20379;JCA&#36866;&#37197;&#22120; &#8212;<tt class="literal">mail-ra.rar</tt> &#20294;&#26159;&#36319;&#38543;JBoss&#21457;&#24067;&#30340;&#29256;&#26412;&#26377;&#19968;&#23450;&#30340;&#38480;&#21046;&#65288;&#26576;&#20123;&#29256;&#26412;&#27809;&#26377;&#20570;&#25414;&#32465;&#65289;&#12290;
	  	&#22240;&#27492;&#25105;&#20204;&#24314;&#35758;&#37319;&#29992;&#36319;&#38543;&#25512;&#33616;&#30340;Seam&#21457;&#24067;&#30340; <tt class="literal">mail-ra.rar</tt>&#65288;&#19981;&#22312;Seam&#21253;&#30340; <tt class="literal">mail</tt> &#30446;&#24405;&#65289;&#12290;
	  	<tt class="literal">mail-ra.rar</tt> &#24212;&#35813;&#34987;&#25918;&#32622;&#22312; <tt class="literal">$JBOSS_HOME/server/default/deploy</tt> &#30446;&#24405;&#19979;&#65307;
	  	&#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;&#30340;JBoss&#29256;&#26412;&#24050;&#32463;&#26377;&#20102;&#36825;&#20010;&#25991;&#20214;&#65292;&#23601;&#26367;&#25442;&#20102;&#23427;&#12290;
	  	</p><p>&#24744;&#21487;&#20197;&#21521;&#36825;&#26679;&#37197;&#32622;&#65306;</p><pre class="programlisting">@MessageDriven(activationConfig={
    @ActivationConfigProperty(propertyName="mailServer", propertyValue="localhost"),
    @ActivationConfigProperty(propertyName="mailFolder", propertyValue="INBOX"),
    @ActivationConfigProperty(propertyName="storeProtocol", propertyValue="pop3"),
    @ActivationConfigProperty(propertyName="userName", propertyValue="seam"),
    @ActivationConfigProperty(propertyName="password", propertyValue="seam")
})
@ResourceAdapter("mail-ra.rar")
@Name("mailListener")
public class MailListenerMDB implements MailListener {

    @In(create=true)
    private OrderProcessor orderProcessor;

    public void onMessage(Message message) {
       // Process the message
       orderProcessor.process(message.getSubject());
    }

}</pre><p>
		&#27599;&#19968;&#20010;&#25509;&#25910;&#21040;&#30340;&#28040;&#24687;&#37117;&#23558;&#23548;&#33268; <tt class="literal">onMessage(Message message)</tt> &#34987;&#35843;&#29992;&#12290;
		&#22823;&#22810;&#25968;Seam&#30340;&#27880;&#37322;&#23558;&#20250;&#22312;MDB&#20869;&#37096;&#36816;&#34892;&#65292;&#20294;&#20320;&#19981;&#21487;&#20197;&#35775;&#38382;&#25345;&#20037;&#19978;&#19979;&#25991;&#12290;
		</p><p>
		&#22312;&#38142;&#25509; <a href="http://wiki.jboss.org/wiki/Wiki.jsp?page=InboundJavaMail" target="_top">http://wiki.jboss.org/wiki/Wiki.jsp?page=InboundJavaMail</a> &#30340; <tt class="literal">mail-ra.rar</tt> &#19978;&#20320;&#21487;&#20197;&#25214;&#21040;&#26356;&#22810;&#30340;&#20449;&#24687;&#12290;
    </p><p>
		&#22914;&#26524;&#20320;&#27809;&#26377;&#20351;&#29992;JBoss&#65292;&#20320;&#20381;&#28982;&#21487;&#20197;&#20351;&#29992; <tt class="literal">mail-ra.rar</tt>&#65292;&#25110;&#35768;&#20320;&#21487;&#20197;&#22312;&#20320;&#30340;&#31243;&#24207;&#26381;&#21153;&#22120;&#19978;&#25214;&#21040;&#31867;&#20284;&#30340;&#36866;&#37197;&#22120;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11410"></a>17.3.&nbsp;&#37197;&#32622;</h2></div></div><div></div></div><p>
		&#20026;&#20102;&#22312;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#33021;&#22815;&#20351;&#29992;&#30005;&#23376;&#37038;&#20214;&#65292;&#35201;&#30830;&#20445; <tt class="literal">jboss-seam-mail.jar</tt> &#21253;&#21547;&#22312; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#20013;&#12290;
		&#22914;&#26524;&#20320;&#22312;&#20351;&#29992;JBoss AS&#65292;&#21017;&#20351;&#29992;Seam&#30340;&#37038;&#20214;&#25903;&#25345;&#19981;&#38656;&#35201;&#20570;&#26356;&#22810;&#30340;&#37197;&#32622;&#24037;&#20316;&#20102;&#12290;
		&#21542;&#21017;&#20320;&#21487;&#33021;&#38656;&#35201;&#30830;&#35748;&#20320;&#26159;&#21542;&#26377;JavaMail&#30340;API&#65292;&#19968;&#20010;&#21487;&#20379;&#20351;&#29992;&#30340;JavaMail API&#30340;&#23454;&#29616;&#65288;JBoss AS&#20013;&#20351;&#29992;&#30340;API&#21644;&#23454;&#29616;&#27491;&#22914;&#20316;&#20026; <tt class="literal">lib/mail.jar</tt> &#36319;&#38543;Seam&#21457;&#24067;&#30340;&#21253;&#65289;&#65292;&#21644;&#19968;&#20221;Java Activation Framework&#30340;&#25335;&#36125;&#65288;&#20316;&#20026; <tt class="literal">lib/activation.jar</tt> &#36319;&#38543;Seam&#21457;&#24067;&#65289;&#12290;
    </p><p>
		Seam&#30340;Email&#27169;&#22359;&#38656;&#35201;Facelets&#20316;&#20026;&#35270;&#22270;&#25216;&#26415;&#12290;&#23558;&#26469;&#24211;&#30340;&#29256;&#26412;&#21487;&#33021;&#20250;&#28155;&#21152;&#23545;JSP&#30340;&#25903;&#25345;&#12290;&#21478;&#22806;&#65292;&#23427;&#38656;&#35201;&#29992;&#21040;seam-ui&#21253;&#12290;
		</p><p>
		<tt class="literal">mailSession</tt> &#32452;&#20214;&#20351;&#29992;JavaMail&#23601;&#20687;&#19982;'&#30495;&#23454;&#30340;'SMTP&#26381;&#21153;&#22120;&#36890;&#35759;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11434"></a>17.3.1.&nbsp;
				<tt class="literal">mailSession</tt>
			</h3></div></div><div></div></div><p>
			&#22914;&#26524;&#20320;&#22312;&#20351;&#29992;JEE&#29615;&#22659;&#24037;&#20316;&#65292;&#21487;&#20197;&#36890;&#36807;JNDI&#26597;&#25214;&#21487;&#29992;&#30340;JavaMail Session&#65292;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;Seam&#37197;&#32622;&#22909;&#30340;Session&#12290;
			</p><p>
			&#22312; <a href="#components.mail" title="28.8.&nbsp;&#19982;&#37038;&#20214;&#30456;&#20851;&#30340;&#32452;&#20214;">Section&nbsp;28.8, &#8220;&#19982;&#37038;&#20214;&#30456;&#20851;&#30340;&#32452;&#20214;&#8221;</a> &#20013;&#26377;&#20851;&#20110;&#37038;&#20214;&#20250;&#35805;&#32452;&#20214;&#23646;&#24615;&#30340;&#35814;&#32454;&#20171;&#32461;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e11446"></a>17.3.1.1.&nbsp;&#22312;JBoss AS&#20013;&#26597;&#25214;JNDI</h4></div></div><div></div></div><p>
				JBossAS <tt class="literal">deploy/mail-service.xml</tt> &#37197;&#32622;JavaMail&#20250;&#35805;&#25414;&#32465;&#21040;JNDI&#12290;
				&#20320;&#38656;&#35201;&#20462;&#25913;&#40664;&#35748;&#30340;&#26381;&#21153;&#37197;&#32622;&#20877;&#24212;&#29992;&#21040;&#20320;&#30340;&#32593;&#32476;&#20013;&#12290;&#36825;&#37324;&#25551;&#36848;&#20102;&#26356;&#21152;&#35814;&#32454;&#30340;&#26381;&#21153; <a href="http://wiki.jboss.org/wiki/Wiki.jsp?page=JavaMail" target="_top">http://wiki.jboss.org/wiki/Wiki.jsp?page=JavaMail</a>
        </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
    xmlns:core="http://jboss.com/products/seam/core"
    xmlns:mail="http://jboss.com/products/seam/mail"&gt;

    &lt;mail:mail-session session-jndi-name="java:/Mail"/&gt;

&lt;/components&gt;</pre><p>
				&#36825;&#37324;&#25105;&#20204;&#21578;&#35785;Seam&#22312;JNDI&#20013;&#26159;&#36890;&#36807; <tt class="literal">java:/Mail</tt> &#26469;&#33719;&#24471;&#37038;&#20214;Session&#30340;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e11464"></a>17.3.1.2.&nbsp;Seam&#37197;&#32622;&#20250;&#35805;</h4></div></div><div></div></div><p>
				&#37038;&#20214;&#20250;&#35805;&#21487;&#20197;&#36890;&#36807; <tt class="literal">components.xml</tt> &#37197;&#32622;&#26469;&#35775;&#38382;&#30340;&#12290;
				&#36825;&#37324;&#25105;&#20204;&#21578;&#35785;Seam&#20351;&#29992; <tt class="literal">smtp.example.com</tt> &#20316;&#20026;SMTP&#26381;&#21153;&#22120;&#12290;
				</p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
    xmlns:core="http://jboss.com/products/seam/core"
    xmlns:mail="http://jboss.com/products/seam/mail"&gt;

    &lt;mail:mail-session host="smtp.example.com"/&gt;

&lt;/components&gt;</pre></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11477"></a>17.4.&nbsp;Meldware</h2></div></div><div></div></div><p>
		Seam&#30340;&#37038;&#20214;&#31034;&#20363;&#37319;&#29992;Meldware&#65288;&#26469;&#33258; <a href="http://buni.org" target="_top">buni.org</a>&#65289;&#20316;&#20026;&#37038;&#20214;&#26381;&#21153;&#22120;&#12290;
		Meldware&#26159;&#25552;&#20379;&#12288;<tt class="literal">SMTP</tt>&#12289;<tt class="literal">POP3</tt>&#12289;<tt class="literal">IMAP</tt>&#12289;WebMail&#12289;&#20849;&#20139;&#26085;&#21382;&#21644;&#22270;&#24418;&#21270;&#30340;&#31649;&#29702;&#24037;&#20855;&#30340;&#20110;&#19968;&#36523;&#30340;&#36719;&#20214;&#65307;
		&#23427;&#26159;&#20316;&#20026;&#19968;&#20010;JEE&#24212;&#29992;&#31243;&#24207;&#32534;&#20889;&#30340;&#65292;&#22240;&#27492;&#21487;&#20197;&#21644;&#20320;&#30340;Seam&#31243;&#24207;&#19968;&#36215;&#37096;&#32626;&#21040;JBoss&#19978;&#12290;
		</p><p>
		&#21644;Seam&#19968;&#36215;&#20998;&#21457;&#30340;Meldware&#30340;&#29256;&#26412;&#65288;&#22312;&#25991;&#20214;&#22841;<tt class="literal">mail/buni-meldware</tt>&#65289;&#20026;&#20102;&#24320;&#21457;&#37117;&#34987;&#29305;&#21035;&#20462;&#25913;&#36807; &#65293; &#37038;&#31665;&#12289;&#29992;&#25143;&#21644;&#21035;&#21517;&#65288;&#37038;&#20214;&#22320;&#22336;&#65289;&#22312;&#27599;&#27425;&#31243;&#24207;&#37096;&#32626;&#30340;&#26102;&#20505;&#21019;&#24314;&#12290;
		&#22914;&#26524;&#20320;&#24076;&#26395;&#22312;&#20135;&#21697;&#20013;&#19981;&#20165;&#20165;&#20351;&#29992;Meldware&#21457;&#36865;&#37038;&#20214;&#65292;&#24314;&#35758;&#20320;&#20351;&#29992;vanilla&#25335;&#36125;&#12290;
		&#20320;&#20063;&#21487;&#20197;&#20351;&#29992; <tt class="literal">meldware</tt> &#32452;&#20214;&#26469;&#21019;&#24314;&#37038;&#31665;&#65292;&#29992;&#25143;&#21644;&#21035;&#21517;&#31561;&#12290;
    </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
    xmlns:core="http://jboss.com/products/seam/core"
    xmlns:mail="http://jboss.com/products/seam/mail"&gt;

    &lt;mail:mail-session host="smtp.example.com"/&gt;

    &lt;mail:meldware&gt;
        &lt;mail:users&gt;
            &lt;value&gt;#{duke}&lt;/value&gt;
            &lt;value&gt;#{root}&lt;/value&gt;
	    &lt;/mail:users&gt;
    &lt;/mail:meldware&gt;

   	&lt;mail:meldware-user name="duke" username="duke" password="duke"&gt;
   	    &lt;mail:aliases&gt;
   	        &lt;value&gt;duke@jboss.org&lt;/value&gt;
   	        &lt;value&gt;duke@jboss.com&lt;/value&gt;
   	    &lt;/mail:aliases&gt;
   	&lt;mail:meldware-user name="root" username="root" password="root" administrator="true" /&gt;
&lt;/components&gt;</pre><p>
  		&#36825;&#37324;&#25105;&#20204;&#21019;&#24314;&#20102;&#20004;&#20010;&#29992;&#25143;&#65292;&#25317;&#26377;&#20004;&#20010;&#37038;&#20214;&#22320;&#22336;&#30340; <tt class="literal">duke</tt> &#21644;&#21517;&#20026; <tt class="literal">root</tt> &#30340;&#31649;&#29702;&#21592;&#12290;
	    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mail.tags"></a>17.5.&nbsp;&#26631;&#31614;</h2></div></div><div></div></div><p>
		&#37038;&#20214;&#36890;&#36807;&#20351;&#29992;&#21629;&#21517;&#31354;&#38388; <tt class="literal">http://jboss.com/products/seam/mail</tt> &#30340;&#26631;&#31614;&#29983;&#25104;&#12290;
		&#25991;&#26723;&#20013;&#22312;&#28040;&#24687;&#30340;&#26681;&#37096;&#36890;&#24120;&#24212;&#35813;&#26377; <tt class="literal">message</tt> &#26631;&#31614;&#65292;message&#26631;&#31614;&#20351;Seam&#20934;&#22791;&#29983;&#25104;&#19968;&#23553;&#37038;&#20214;&#12290;
		</p><p>
		&#26631;&#20934;&#30340;facelets&#30340;&#27169;&#26495;&#26631;&#31614;&#21487;&#20197;&#22914;&#21516;&#24448;&#24120;&#19968;&#26679;&#22320;&#26469;&#20351;&#29992;&#12290;
	  	&#20320;&#21487;&#20197;&#22312;&#20027;&#20307;&#20869;&#37096;&#20351;&#29992;&#20219;&#20309;JSF&#26631;&#31614;&#65307;&#22914;&#26524;&#38656;&#35201;&#35775;&#38382;&#22806;&#37096;&#36164;&#28304;&#65288;stylesheets&#12289;javascript&#65289;&#65292;&#37027;&#20040;&#23601;&#35201;&#30830;&#35748;&#26159;&#21542;&#35774;&#32622;&#20102; <tt class="literal">urlBase</tt>&#12290;
    </p><div class="variablelist"><dl><dt><span class="term">&lt;m:message&gt;</span></dt><dd><p>&#37038;&#20214;&#28040;&#24687;&#30340;&#26681;&#26631;&#31614;</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">importance</tt> &#8212; &#20302;&#12289;&#27491;&#24120;&#25110;&#26159;&#39640;&#12290;&#40664;&#35748;&#26159;&#27491;&#24120;&#65292;&#36825;&#26159;&#35774;&#32622;&#37038;&#20214;&#28040;&#24687;&#37325;&#35201;&#31243;&#24230;&#30340;&#26631;&#31614;&#12290;
							</p></li><li><p>
							<tt class="literal">precedence</tt> &#8212; &#35774;&#32622;&#28040;&#24687;&#30340;&#20248;&#20808;&#32423;&#65288;&#20363;&#22914;&#65306;&#31361;&#20986;&#65289;
							</p></li><li><p>
							<tt class="literal">requestReadReceipt</tt> &#8212;&#40664;&#35748;&#26159;false&#65292;&#22914;&#26524;&#35774;&#32622;&#65292;&#23558;&#20250;&#28155;&#21152;&#38405;&#35835;&#22238;&#25191;&#65292;&#38405;&#35835;&#22238;&#25191;&#23558;&#20250;&#34987;&#21457;&#32473; <tt class="literal">From:</tt> &#22320;&#22336;&#12290;
							</p></li><li><p>
							<tt class="literal">urlBase</tt> &#8212; &#22914;&#26524;&#35774;&#32622;&#65292;&#39044;&#35774;&#30340; <tt class="literal">requestContextPath</tt> &#23558;&#20801;&#35768;&#20320;&#22312;&#37038;&#20214;&#20013;&#20351;&#29992;&#24418;&#22914; <tt class="literal">&lt;h:graphicImage&gt;</tt> &#30340;&#32452;&#20214;&#12290;
							</p></li></ul></div></dd><dt><span class="term">&lt;m:from&gt;</span></dt><dd><p>
					&#35774;&#32622;&#37038;&#20214;&#30340;&#21457;&#20214;&#22320;&#22336;&#12290;&#27599;&#23553;&#37038;&#20214;&#21482;&#20801;&#35768;&#26377;&#19968;&#20010;&#36825;&#26679;&#30340;&#20540;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">name</tt> &#8212; &#37038;&#20214;&#24212;&#35813;&#26469;&#33258;&#30340;&#21517;&#31216;&#12290;
							</p></li><li><p>
							<tt class="literal">address</tt> &#8212; &#37038;&#20214;&#24212;&#35813;&#26469;&#33258;&#30340;&#22320;&#22336;&#12290;
							</p></li></ul></div></dd><dt><span class="term">&lt;m:replyTo&gt;</span></dt><dd><p>
			  		&#35774;&#32622;&#22238;&#22797;&#22320;&#22336;&#32473;&#37038;&#20214;&#12290;&#27599;&#23553;&#37038;&#20214;&#21516;&#26679;&#21482;&#33021;&#26377;&#19968;&#20010;&#36825;&#26679;&#30340;&#20540;&#12290;
			  		</p><div class="itemizedlist"><ul type="disc"><li><p>
			 				<tt class="literal">address</tt> &#8212; &#37038;&#20214;&#26469;&#28304;&#30340;&#22320;&#22336;&#12290;
			 				</p></li></ul></div></dd><dt><span class="term">&lt;m:to&gt;</span></dt><dd><p>
					&#28155;&#21152;&#19968;&#20010;&#25910;&#20214;&#20154;&#21040;&#37038;&#20214;&#12290;&#26377;&#22810;&#20010;&#25910;&#20214;&#20154;&#26102;&#20351;&#29992;&#22797;&#21512;&#30340;&lt;m:to&gt;&#26631;&#31614;&#12290;
					&#36825;&#20010;&#26631;&#31614;&#21487;&#20197;&#34987;&#23433;&#20840;&#30340;&#25918;&#32622;&#22312;&#37325;&#22797;&#26631;&#31614;&lt;ui:repeat&gt;&#20043;&#31867;&#20013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">name</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#21517;&#23383;&#12290;
							</p></li><li><p>
							<tt class="literal">address</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#22320;&#22336;&#12290;
							</p></li></ul></div></dd><dt><span class="term">&lt;m:cc&gt;</span></dt><dd><p>
					&#28155;&#21152;&#25220;&#36865;&#22320;&#22336;&#21040;&#37038;&#20214;&#12290;&#26377;&#22810;&#20010;&#25220;&#36865;&#22320;&#22336;&#26102;&#20351;&#29992;&#22797;&#21512;&#30340;&lt;m:cc&gt;&#26631;&#31614;&#12290;&#36825;&#20010;&#26631;&#31614;&#21487;&#20197;&#34987;&#23433;&#20840;&#30340;&#25918;&#32622;&#22312;&#37325;&#22797;&#26631;&#31614;&lt;ui:repeat&gt;&#20043;&#31867;&#20013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
			  				<tt class="literal">name</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#21517;&#23383;&#12290;
			  				</p></li><li><p>
			  				<tt class="literal">address</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#37038;&#20214;&#22320;&#22336;&#12290;
			  				</p></li></ul></div></dd><dt><span class="term">&lt;m:bcc&gt;</span></dt><dd><p>
					&#28155;&#21152;&#19968;&#20010;&#31192;&#25991;&#25220;&#36865;&#20154;&#21040;&#37038;&#20214;&#12290;&#26377;&#22810;&#20010;&#31192;&#23494;&#25220;&#36865;&#22320;&#22336;&#26102;&#20351;&#29992;&#22797;&#21512;&#30340;&lt;m:bcc&gt;&#26631;&#31614;&#12290;
					&#36825;&#20010;&#26631;&#31614;&#21487;&#20197;&#34987;&#23433;&#20840;&#30340;&#25918;&#32622;&#22312;&#37325;&#22797;&#26631;&#31614;&lt;ui:repeat&gt;&#20043;&#31867;&#20013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
			  				<tt class="literal">name</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#21517;&#23383;&#12290;
			  				</p></li><li><p>
				  			<tt class="literal">address</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#37038;&#20214;&#22320;&#22336;&#12290;
				  			</p></li></ul></div></dd><dt><span class="term">&lt;m:header&gt;</span></dt><dd><p>
					&#21521;&#37038;&#20214;&#28155;&#21152;&#19968;&#20010;&#22836;&#65288;&#20363;&#22914;&#65306;<tt class="literal">X-Sent-From: JBoss Seam</tt>&#65289;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
			  				<tt class="literal">name</tt> &#8212; &#35201;&#28155;&#21152;&#30340;&#22836;&#30340;&#21517;&#23383;&#65288;&#20363;&#22914;&#65306;<tt class="literal">X-Sent-From</tt>&#65289;&#12290;
			  				</p></li><li><p>
			  				<tt class="literal">value</tt> &#8212; &#35201;&#28155;&#21152;&#30340;&#22836;&#30340;&#20540;&#65288;&#20363;&#22914;&#65306;<tt class="literal">JBoss Seam</tt>&#65289;&#12290;
			  				</p></li></ul></div></dd><dt><span class="term">&lt;m:attachment&gt;</span></dt><dd><p>&#28155;&#21152;&#19968;&#20010;&#38468;&#20214;&#21040;&#37038;&#20214;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">value</tt> &#8212; &#35201;&#28155;&#21152;&#30340;&#38468;&#20214;&#65306;
							</p><div class="itemizedlist"><ul type="circle"><li><p>
				 					<tt class="literal">String</tt> &#8212; &#22312;classpath&#20013;&#19968;&#20010; <tt class="literal">String</tt> &#20316;&#20026;&#21040;&#25991;&#20214;&#30340;&#36335;&#24452;&#34987;&#35299;&#26512;&#12290;
				 					</p></li><li><p>
									<tt class="literal">java.io.File</tt> &#8212;&#19968;&#20010;&#25351;&#21521; <tt class="literal">File</tt> &#23545;&#35937;&#30340;EL&#34920;&#36798;&#24335;&#12290;
									</p></li><li><p>
			   						<tt class="literal">java.net.URL</tt> &#8212; &#19968;&#20010;&#25351;&#21521;<tt class="literal">URL</tt>&#23545;&#35937;&#30340;EL&#34920;&#36798;&#24335;&#12290;
			   						</p></li><li><p>
									<tt class="literal">java.io.InputStream</tt> &#8212; &#19968;&#20010;&#25351;&#21521; <tt class="literal">InputStream</tt> &#31867;&#22411;&#30340;EL&#34920;&#36798;&#24335;&#12290;
									&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;<tt class="literal">fileName</tt> &#21644; <tt class="literal">contentType</tt> &#37117;&#24517;&#39035;&#25351;&#23450;&#12290;
									</p></li><li><p>
									<tt class="literal">byte[]</tt> &#8212; &#19968;&#20010;&#25351;&#21521; <tt class="literal">byte[]</tt> &#31867;&#22411;&#30340;EL&#34920;&#36798;&#24335;&#12290;
									&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;<tt class="literal">fileName</tt> &#21644; <tt class="literal">contentType</tt> &#37117;&#24517;&#39035;&#25351;&#23450;&#12290;
									</p></li></ul></div><p>&#22914;&#26524;&#20540;&#23646;&#24615;&#34987;&#30465;&#30053;&#65306;</p><div class="itemizedlist"><ul type="circle"><li><p>
									&#22914;&#26524;&#36825;&#20010;&#26631;&#31614;&#21253;&#21547;&#19968;&#20010; <tt class="literal">&lt;p:document&gt;</tt> &#26631;&#31614;&#65292;&#36825;&#20010;&#34987;&#25551;&#36848;&#30340;&#25991;&#26723;&#23558;&#20250;&#34987;&#29983;&#25104;&#24182;&#19988;&#38468;&#21152;&#21040;&#37038;&#20214;&#19978;&#12290;
									<tt class="literal">fileName</tt> &#24212;&#35813;&#34987;&#25351;&#23450;&#12290;
									</p></li><li><p>
									&#22914;&#26524;&#36825;&#20010;&#26631;&#31614;&#21253;&#21547;&#20854;&#23427;&#30340;JSF&#26631;&#31614;&#65292;&#23558;&#20250;&#36890;&#36807;&#23427;&#20204;&#29983;&#25104;HTML&#25991;&#26723;&#24182;&#38468;&#21152;&#21040;&#37038;&#20214;&#12290;<tt class="literal">fileName</tt>&#24212;&#35813;&#34987;&#25351;&#23450;&#12290;
									</p></li></ul></div></li><li><p>
							<tt class="literal">fileName</tt> &#8212; &#25351;&#23450;&#21487;&#20379;&#20351;&#29992;&#30340;&#24050;&#32463;&#34987;&#38468;&#19978;&#30340;&#25991;&#20214;&#12290;
							</p></li><li><p>
							<tt class="literal">contentType</tt> &#8212;&#25351;&#23450;&#24050;&#38468;&#19978;&#30340;&#25991;&#20214;&#30340;MIME&#31867;&#22411;&#12290;
							</p></li></ul></div></dd><dt><span class="term">&lt;m:subject&gt;</span></dt><dd><p>&#35774;&#32622;&#37038;&#20214;&#20027;&#39064;&#12290;</p></dd><dt><span class="term">&lt;m:body&gt;</span></dt><dd><p>
					&#35774;&#32622;&#37038;&#20214;&#20027;&#20307;&#12290;&#25903;&#25345; <tt class="literal">alternative</tt> facet&#12290;
					&#27604;&#22914;&#29983;&#25104;&#30340;&#19968;&#20010;HTML&#37038;&#20214;&#21487;&#33021;&#21253;&#21547;&#38024;&#23545;&#19981;&#25903;&#25345;html&#30340;&#38405;&#35835;&#22120;&#30340;&#22791;&#36873;&#30340;&#25991;&#26412;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">type</tt> &#8212; &#22914;&#26524;&#35774;&#20026; <tt class="literal">plain</tt>&#65292;&#23558;&#20250;&#29983;&#25104;&#19968;&#20221;&#31616;&#21333;&#25991;&#26412;&#37038;&#20214;&#65292;&#21542;&#21017;&#23558;&#20250;&#29983;&#25104;&#19968;&#20221;HTML&#37038;&#20214;&#12290;
							</p></li></ul></div></dd></dl></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="jms"></a>Chapter&nbsp;18.&nbsp;&#24322;&#27493;&#21644;&#28040;&#24687;</h2></div></div><div></div></div><p>
	Seam&#20351;&#24471;&#24322;&#27493;&#25191;&#34892;&#19968;&#20010;&#26469;&#33258;Web&#35831;&#27714;&#30340;&#24037;&#20316;&#21464;&#24471;&#38750;&#24120;&#23481;&#26131;&#12290;&#24403;&#22823;&#22810;&#25968;&#20154;&#22312;Java EE&#37324;&#32771;&#34385;&#24322;&#27493;&#26102;&#65292;&#20182;&#20204;&#24819;&#21040;&#29992;JMS&#12290;
	&#22312;Seam&#20013;&#65292;&#36825;&#30830;&#23454;&#26159;&#19968;&#31181;&#35299;&#20915;&#26041;&#26696;&#65292;&#24403;&#20320;&#26377;&#20005;&#26684;&#21644;&#26126;&#30830;&#23450;&#20041;&#30340;QoS&#26381;&#21153;&#38656;&#27714;&#26102;&#65292;&#36825;&#26159;&#27491;&#30830;&#30340;&#12290;Seam&#21033;&#29992;Seam&#32452;&#20214;&#35753;&#21457;&#36865;&#21644;&#25509;&#25910;JMS&#28040;&#24687;&#26356;&#23481;&#26131;&#36827;&#34892;&#12290;
    </p><p>
	&#20294;&#26159;&#23545;&#20110;&#22810;&#25968;&#29992;&#20363;&#26469;&#35828;&#65292;&#29992;JMS&#26080;&#24322;&#20110;&#26432;&#40481;&#29992;&#29275;&#20992;&#12290;Seam&#23558;&#31616;&#21333;&#30340;&#24322;&#27493;&#26041;&#27861;&#21644;&#20107;&#20214;&#24212;&#29992;&#20998;&#23618;&#65292;&#32622;&#20110;&#20320;&#36873;&#25321;&#30340; <span class="emphasis"><em>dispatchers</em></span> &#20043;&#19978;&#12290;
    </p><div class="itemizedlist"><ul type="disc"><li><p>
				<tt class="literal">java.util.concurrent.ScheduledThreadPoolExecutor</tt> &#65288;&#40664;&#35748;&#65289;
            </p></li><li><p>
                EJB Timer Service &#65288;&#38024;&#23545; EJB 3.0 &#29615;&#22659;&#65289;
            </p></li><li><p>
                Quartz
            </p></li></ul></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11835"></a>18.1.&nbsp;&#24322;&#27493;</h2></div></div><div></div></div><p>
		&#24322;&#27493;&#30340;&#20107;&#20214;&#21644;&#26041;&#27861;&#35843;&#29992;&#19982;&#24213;&#23618;&#30340;&#20998;&#37197;&#26426;&#21046;&#26377;&#30528;&#30456;&#21516;&#30340;&#26381;&#21153;&#26399;&#24453;&#36136;&#37327;&#12290;
		&#22522;&#20110; <tt class="literal">ScheduledThreadPoolExecutor</tt> &#30340;&#40664;&#35748;dispatcher&#25191;&#34892;&#24471;&#24456;&#22909;&#65292;&#20294;&#19981;&#25552;&#20379;&#23545;&#25345;&#20037;&#21270;&#24322;&#27493;&#20219;&#21153;&#30340;&#25903;&#25345;&#65292;&#22240;&#27492;&#19981;&#20445;&#35777;&#19968;&#39033;&#20219;&#21153;&#30495;&#27491;&#20250;&#34987;&#25191;&#34892;&#12290;
		&#22914;&#26524;&#20320;&#22312;&#19968;&#20010;&#25903;&#25345;EJB 3.0&#30340;&#29615;&#22659;&#20013;&#24037;&#20316;&#65292;&#24182;&#23558;&#19979;&#38754;&#36825;&#19968;&#34892;&#28155;&#21152;&#21040; <tt class="literal">components.xml</tt> &#20013;&#65306;
        </p><pre class="programlisting">&lt;async:timer-service-dispatcher/&gt;</pre><p>
		&#37027;&#20040;&#65292;&#20320;&#30340;&#24322;&#27493;&#20219;&#21153;&#23558;&#30001;&#23481;&#22120;&#30340;EJB&#23450;&#26102;&#26381;&#21153;&#22788;&#29702;&#12290;
		&#22914;&#26524;&#20320;&#19981;&#29087;&#24713;Timer&#26381;&#21153;&#65292;&#20063;&#19981;&#24517;&#25285;&#24515;&#65292;&#22914;&#26524;&#20320;&#24819;&#35201;&#22312;Seam&#20013;&#20351;&#29992;&#24322;&#27493;&#26041;&#27861;&#65292;&#24182;&#19981;&#38656;&#35201;&#19982;&#23427;&#30452;&#25509;&#20132;&#20114;&#12290;
		&#35201;&#20102;&#35299;&#19968;&#20214;&#37325;&#35201;&#30340;&#20107;&#24773;&#65306;&#20219;&#20309;&#22909;&#30340;EJB 3.0&#23454;&#29616;&#37117;&#23558;&#26377;&#20351;&#29992;&#25345;&#20037;&#21270;&#23450;&#26102;&#22120;&#30340;&#36873;&#25321;&#65292;&#23427;&#20026;&#20219;&#21153;&#26368;&#32456;&#24471;&#21040;&#22788;&#29702;&#25552;&#20379;&#20102;&#19968;&#20123;&#20445;&#35777;&#12290;
        </p><p>
		&#21478;&#19968;&#31181;&#36873;&#25321;&#26159;&#20351;&#29992;&#24320;&#28304;&#30340;Quartz&#24211;&#26469;&#31649;&#29702;&#24322;&#27493;&#30340;&#26041;&#27861;&#12290;
		&#20320;&#35201;&#23558;Quartz&#24211;JAR&#65288;&#22312; <tt class="literal">lib</tt> &#36335;&#24452;&#20013;&#65289;&#32465;&#23450;&#22312;&#20320;&#30340;EAR&#20013;&#65292;&#24182;&#22312; <tt class="literal">application.xml</tt> &#20013;&#23558;&#23427;&#22768;&#26126;&#25104;&#19968;&#20010;Java&#27169;&#22359;&#12290;
		&#21478;&#22806;&#65292;&#20320;&#36824;&#38656;&#35201;&#23558;&#19979;&#38754;&#30340;&#34892;&#28155;&#21152;&#21040; <tt class="literal">components.xml</tt> &#20013;&#26469;&#23433;&#35013;Quartz Dispatcher&#12290;
        </p><pre class="programlisting">&lt;async:quartz-dispatcher/&gt;</pre><p>
		Seam&#30340;API&#23545;&#20110;&#40664;&#35748;&#30340; <tt class="literal">ScheduledThreadPoolExecutor</tt> &#30340;Seam API&#65292;&#21450;EJB3 <tt class="literal">Timer</tt>&#19982;Quartz <tt class="literal">Scheduler</tt> &#22823;&#20307;&#30456;&#21516;&#12290;
		&#23427;&#20204;&#21487;&#20197;&#21482;&#26159;&#36890;&#36807;&#22312; <tt class="literal">components.xml</tt> &#20013;&#28155;&#21152;&#19968;&#34892;&#26469;&#36827;&#34892;&#8221;&#21363;&#25554;&#21363;&#29992;&#65288;plug and play&#65289;&#8220;&#12290;
        </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11877"></a>18.1.1.&nbsp;&#24322;&#27493;&#26041;&#27861;</h3></div></div><div></div></div><p>
			&#26368;&#31616;&#21333;&#30340;&#24418;&#24335;&#65292;&#19968;&#20010;&#24322;&#27493;&#30340;&#35843;&#29992;&#21482;&#26159;&#24322;&#27493;&#22320;&#22788;&#29702;&#26469;&#33258;&#35775;&#38382;&#32773;&#30340;&#26041;&#27861;&#35843;&#29992;&#65288;&#22312;&#19981;&#21516;&#30340;&#32447;&#31243;&#20013;&#65289;&#12290;
            &#24403;&#25105;&#20204;&#35201;&#36820;&#22238;&#19968;&#20010;&#21363;&#26102;&#21709;&#24212;&#32473;&#23458;&#25143;&#31471;&#26102;&#65292;&#36890;&#24120;&#20351;&#29992;&#19968;&#20010;&#24322;&#27493;&#35843;&#29992;&#65292;&#24182;&#35753;&#19968;&#20123;&#36153;&#26102;&#30340;&#24037;&#20316;&#22312;&#21518;&#21488;&#22788;&#29702;&#12290;
            &#27492;&#27169;&#24335;&#22312;&#20351;&#29992;AJAX&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#36816;&#34892;&#33391;&#22909;&#65292;&#22312;AJAX&#24212;&#29992;&#20013;&#23458;&#25143;&#31471;&#33021;&#22815;&#33258;&#21160;&#22320;&#20174;&#26381;&#21153;&#22120;&#19978;&#33719;&#24471;&#24037;&#20316;&#32467;&#26524;&#12290;
        	</p><p>
            &#23545;&#20110;EJB&#32452;&#20214;&#65292;&#25105;&#20204;&#22312;&#26412;&#22320;&#25509;&#21475;&#19978;&#36827;&#34892;&#27880;&#35299;&#65292;&#26469;&#25351;&#23450;&#26576;&#20010;&#26041;&#27861;&#35201;&#34987;&#24322;&#27493;&#22320;&#22788;&#29702;&#12290;
            </p><pre class="programlisting">@Local
public interface PaymentHandler
{
    @Asynchronous
    public void processPayment(Payment payment);
}</pre><p>
            &#65288;&#23545;&#20110;JavaBean&#32452;&#20214;&#65292;&#22914;&#26524;&#21916;&#27426;&#30340;&#35805;&#65292;&#25105;&#20204;&#21487;&#20197;&#27880;&#35299;&#32452;&#20214;&#23454;&#29616;&#31867;&#12290;&#65289;
            </p><p>
            &#24322;&#27493;&#30340;&#20351;&#29992;&#23545;&#20110;Bean&#31867;&#26469;&#35828;&#26159;&#36879;&#26126;&#30340;&#65306;
            </p><pre class="programlisting">@Stateless
@Name("paymentHandler")
public class PaymentHandlerBean implements PaymentHandler
{
    public void processPayment(Payment payment)
    {
        //do some work!
    }
}</pre><p>
            &#24182;&#19988;&#23545;&#23458;&#25143;&#31471;&#20063;&#26159;&#36879;&#26126;&#30340;&#65306;
            </p><pre class="programlisting">@Stateful
@Name("paymentAction")
public class CreatePaymentAction
{
    @In(create=true) PaymentHandler paymentHandler;
    @In Bill bill;

    public String pay()
    {
        paymentHandler.processPayment( new Payment(bill) );
        return "success";
    }
}</pre><p>
			&#24322;&#27493;&#26041;&#27861;&#22312;&#19968;&#20010;&#20840;&#26032;&#30340;&#20107;&#20214;&#19978;&#19979;&#25991;&#20013;&#22788;&#29702;&#65292;&#32780;&#19988;&#26080;&#27861;&#35775;&#38382;&#35843;&#29992;&#32773;&#30340;&#20250;&#35805;&#25110;&#23545;&#35805;&#19978;&#19979;&#25991;&#29366;&#24577;&#12290;
            &#28982;&#32780;&#65292;&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991; <span class="emphasis"><em>&#24471;&#21040;&#20102;</em></span> &#20256;&#25773;&#12290;
            </p><p>
			&#24322;&#27493;&#26041;&#27861;&#35843;&#29992;&#21487;&#20197;&#21033;&#29992; <tt class="literal">@Duration</tt>&#12289;<tt class="literal">@Expiration</tt> &#21644; <tt class="literal">@IntervalDuration</tt>&#27880;&#35299;&#20026;&#21518;&#32493;&#30340;&#25191;&#34892;&#23450;&#26102;&#12290;
			</p><pre class="programlisting">@Local
public interface PaymentHandler
{
    @Asynchronous
    public void processScheduledPayment(Payment payment, @Expiration Date date);

    @Asynchronous
    public void processRecurringPayment(Payment payment, @Expiration Date date, @IntervalDuration Long interval)'
}</pre><pre class="programlisting">@Stateful
@Name("paymentAction")
public class CreatePaymentAction
{
    @In(create=true) PaymentHandler paymentHandler;
    @In Bill bill;

    public String schedulePayment()
    {
        paymentHandler.processScheduledPayment( new Payment(bill), bill.getDueDate() );
        return "success";
    }

    public String scheduleRecurringPayment()
    {
        paymentHandler.processRecurringPayment( new Payment(bill), bill.getDueDate(), ONE_MONTH );
        return "success";
    }
}</pre><p>
			&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#31471;&#20004;&#32773;&#37117;&#21487;&#20197;&#35775;&#38382;&#19982;&#35843;&#29992;&#30456;&#20851;&#32852;&#30340; <tt class="literal">Timer</tt> &#23545;&#35937;&#12290;&#24403;&#20351;&#29992;EJB3 Dispatcher&#26102;&#65292; The <tt class="literal">Timer</tt> &#23545;&#35937;&#20250;&#26174;&#31034;&#22312;&#19979;&#38754;&#12290;&#23545;&#20110;&#40664;&#35748;&#30340;<tt class="literal">ScheduledThreadPoolExecutor</tt>&#65292;&#36820;&#22238;&#30340;&#26159;JDK&#30340;&#23545;&#35937;<tt class="literal">Future</tt>&#12290;&#23545;&#20110;Quartz Dispatcher&#65292;&#36820;&#22238;<tt class="literal">QuartzTriggerHandle</tt>&#65292;&#25105;&#20204;&#20250;&#22312;&#19979;&#37096;&#20998;&#23545;&#27492;&#36827;&#34892;&#35752;&#35770;&#12290;
			</p><pre class="programlisting">@Local
public interface PaymentHandler
{
    @Asynchronous
    public Timer processScheduledPayment(Payment payment, @Expiration Date date);
}</pre><pre class="programlisting">@Stateless
@Name("paymentHandler")
public class PaymentHandlerBean implements PaymentHandler
{
    @In Timer timer;

    public Timer processScheduledPayment(Payment payment, @Expiration Date date)
    {
        //do some work!

        return timer; // &#27880;&#24847;&#36820;&#22238;&#20540;&#34987;&#23436;&#20840;&#24573;&#30053;
    }

}</pre><pre class="programlisting">@Stateful
@Name("paymentAction")
public class CreatePaymentAction
{
    @In(create=true) PaymentHandler paymentHandler;
    @In Bill bill;

    public String schedulePayment()
    {
        Timer timer = paymentHandler.processScheduledPayment( new Payment(bill), bill.getDueDate() );
        return "success";
    }
}</pre><p>
			&#24322;&#27493;&#26041;&#27861;&#19981;&#33021;&#36820;&#22238;&#20219;&#20309;&#20854;&#23427;&#20540;&#32473;&#35843;&#29992;&#32773;&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11941"></a>18.1.2.&nbsp;&#21253;&#21547;Quartz Dispatcher&#30340;&#24322;&#27493;&#26041;&#27861;</h3></div></div><div></div></div><p>
            Quartz dispatcher&#65288;&#23427;&#30340;&#23433;&#35013;&#26041;&#27861;&#35831;&#35265;&#21069;&#25991;&#65289;&#20801;&#35768;&#20320;&#20351;&#29992; <tt class="literal">@Asynchronous</tt>&#12289;<tt class="literal">@Duration</tt>&#12289;<tt class="literal">@Expiration</tt> &#21644; <tt class="literal">@IntervalDuration</tt> &#27880;&#35299;&#12290;&#20294;&#23427;&#36824;&#26377;&#19968;&#20123;&#20854;&#20182;&#30340;&#24378;&#22823;&#21151;&#33021;&#12290;Quartz dispatcher&#36824;&#25903;&#25345;&#19977;&#31181;&#26032;&#27880;&#35299;&#12290;
            </p><p>
			<tt class="literal">@FinalExpiration</tt> &#27880;&#35299;&#25351;&#23450;&#19968;&#20010;&#37325;&#29616;&#20219;&#21153;&#30340;&#32456;&#27490;&#26085;&#26399;&#12290;
			</p><pre class="programlisting">
    // Defines the method in the "processor" component
    @Asynchronous
    public QuartzTriggerHandle schedulePayment(@Expiration Date when,
                                 @IntervalDuration Long interval,
                                 @FinalExpiration Date endDate,
                                 Payment payment)
    {
        // do the repeating or long running task until endDate
    }

    ... ...

    // Schedule the task in the business logic processing code
    // Starts now, repeats every hour, and ends on May 10th, 2010
    Calendar cal = Calendar.getInstance ();
    cal.set (2010, Calendar.MAY, 10);
    processor.schedulePayment(new Date(), 60*60*1000, cal.getTime(), payment);
</pre><p>
			&#27880;&#24847;&#35813;&#26041;&#27861;&#36820;&#22238; <tt class="literal">QuartzTriggerHandle</tt> &#23545;&#35937;&#65292;&#20320;&#20197;&#21518;&#21487;&#20197;&#29992;&#23427;&#26469;&#20013;&#27490;&#12289;&#26242;&#20572;&#21644;&#24674;&#22797;&#23450;&#26102;&#22120;&#12290;
			<tt class="literal">QuartzTriggerHandle</tt> &#23545;&#35937;&#26159;&#21487;&#24207;&#21015;&#21270;&#30340;&#65292;&#22240;&#27492;&#65292;&#22914;&#26524;&#20320;&#38656;&#35201;&#20445;&#30041;&#26356;&#20037;&#19968;&#28857;&#65292;&#21487;&#20197;&#25226;&#23427;&#23384;&#21040;&#25968;&#25454;&#24211;&#20013;&#12290;
			</p><pre class="programlisting">QuartzTriggerHandle handle =
         processor.schedulePayment(payment.getPaymentDate(),
                                   payment.getPaymentCron(),
                                   payment);
        payment.setQuartzTriggerHandle( handle );
        // Save payment to DB

        // later ...

        // Retrieve payment from DB
        // Cancel the remaining scheduled tasks
        payment.getQuartzTriggerHandle().cancel();
</pre><p>
			<tt class="literal">@IntervalCron</tt> &#27880;&#35299;&#25903;&#25345;Unix cron&#35821;&#27861;&#30340;&#20219;&#21153;&#35843;&#24230;&#12290;&#20363;&#22914;&#65292;&#19979;&#38754;&#30340;&#24322;&#27493;&#26041;&#27861;&#22312;&#19977;&#26376;&#20221;&#27599;&#21608;&#19977;&#30340;2:10pm&#21644;2:44pm&#36816;&#34892;&#12290;
			</p><pre class="programlisting">
    // Define the method
    @Asynchronous
    public QuartzTriggerHandle schedulePayment(@Expiration Date when,
                                 @IntervalCron String cron,
                                 Payment payment)
    {
        // do the repeating or long running task
    }

    ... ...

    // Schedule the task in the business logic processing code
    QuartzTriggerHandle handle =
      processor.schedulePayment(new Date(), "0 10,44 14 ? 3 WED", payment);
</pre><p>
			<tt class="literal">@IntervalBusinessDay</tt> &#27880;&#35299;&#25903;&#25345;&#22312;&#8221;&#31532;n&#20010;Business Day&#8220;&#35843;&#29992;&#12290;
			&#20363;&#22914;&#65292;&#19979;&#38754;&#30340;&#24322;&#27493;&#26041;&#27861;&#22312;&#27599;&#20010;&#26376;&#30340;&#31532;2&#20010;business day&#30340;14:00&#36816;&#34892;&#12290;
			&#40664;&#35748;&#26102;&#65292;&#23427;&#20174;business day&#20013;&#25490;&#38500;&#20102;2010&#24180;&#20043;&#21069;&#30340;&#25152;&#26377;&#21608;&#26411;&#21644;&#31859;&#22269;&#32852;&#37030;&#20551;&#26399;&#12290;
			</p><pre class="programlisting">
    // Define the method
    @Asynchronous
    public QuartzTriggerHandle schedulePayment(@Expiration Date when,
                                 @IntervalBusinessDay NthBusinessDay nth,
                                 Payment payment)
    {
        // do the repeating or long running task
    }

    ... ...

    // Schedule the task in the business logic processing code
    QuartzTriggerHandle handle =
      processor.schedulePayment(new Date(),
          new NthBusinessDay(2, "14:00", WEEKLY), payment);
</pre><p>
			<tt class="literal">NthBusinessDay</tt> &#23545;&#35937;&#21253;&#21547;&#35843;&#29992;&#35302;&#21457;&#22120;&#30340;&#37197;&#32622;&#12290;
			&#20320;&#21487;&#20197;&#36890;&#36807; <tt class="literal">additionalHolidays</tt> &#23646;&#24615;&#25351;&#23450;&#26356;&#22810;&#30340;&#20551;&#26399;&#65288;&#20363;&#22914;&#65292;&#20844;&#21496;&#20551;&#26399;&#12289;&#38750;&#32654;&#22269;&#30340;&#20551;&#26399;&#31561;&#31561;&#12290;&#65289;
			</p><pre class="programlisting">
public class NthBusinessDay implements Serializable
{
      int n;
      String fireAtTime;
      List &lt;Date&gt; additionalHolidays;
      BusinessDayIntervalType interval;
      boolean excludeWeekends;
      boolean excludeUsFederalHolidays;

      public enum BusinessDayIntervalType { WEEKLY, MONTHLY, YEARLY }

      public NthBusinessDay ()
      {
        n = 1;
        fireAtTime = "12:00";
        additionalHolidays = new ArrayList &lt;Date&gt; ();
        interval = BusinessDayIntervalType.WEEKLY;
        excludeWeekends = true;
        excludeUsFederalHolidays = true;
      }
      ... ...
}
</pre><p>
			<tt class="literal">@IntervalDuration</tt>&#12289;<tt class="literal">@IntervalCron</tt> &#21644; <tt class="literal">@IntervalNthBusinessDay</tt> &#27880;&#35299;&#30456;&#20114;&#25490;&#26021;&#12290;
			&#22914;&#26524;&#25226;&#23427;&#20204;&#29992;&#22312;&#21516;&#19968;&#20010;&#26041;&#27861;&#20013;&#65292;&#23601;&#20250;&#25243;&#20986; <tt class="literal">RuntimeException</tt>&#12290;
			</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12013"></a>18.1.3.&nbsp;&#24322;&#27493;&#20107;&#20214;</h3></div></div><div></div></div><p>
			&#32452;&#20214;&#39537;&#21160;&#30340;&#20107;&#20214;&#20063;&#21487;&#20197;&#26159;&#24322;&#27493;&#30340;&#12290;
			&#20026;&#20102;&#32473;&#24322;&#27493;&#22788;&#29702;&#25552;&#20986;&#20107;&#20214;&#65292;&#21482;&#35201;&#35843;&#29992; <tt class="literal">Events</tt> &#31867;&#30340; <tt class="literal">raiseAsynchronousEvent()</tt> &#26041;&#27861;&#23601;&#21487;&#20197;&#20102;&#12290;
			&#35201;&#23433;&#25490;&#19968;&#20010;&#23450;&#26102;&#30340;&#20107;&#20214;&#65292;&#35201;&#35843;&#29992; <tt class="literal">raiseTimedEvent()</tt> &#30340;&#19968;&#20010;&#26041;&#27861;&#65292;&#24182;&#20256;&#36882;&#19968;&#20010; <span class="emphasis"><em>schedule</em></span> &#23545;&#35937;
			&#65288;&#23545;&#20110;&#40664;&#35748;&#30340;dispatcher&#25110;&#32773;&#23450;&#26102;&#26381;&#21153;dispatcher&#65292;&#35201;&#20351;&#29992; <tt class="literal">TimerSchedule</tt>&#65289;&#12290;
			&#32452;&#20214;&#21487;&#20197;&#29992;&#27491;&#24120;&#26041;&#24335;&#35266;&#23519;&#24322;&#27493;&#20107;&#20214;&#65292;&#20294;&#26159;&#35201;&#35760;&#20303;&#65292;&#21482;&#26377;&#19994;&#21153;&#22788;&#29702;&#19978;&#19979;&#25991;&#25165;&#34987;&#20256;&#25773;&#21040;&#24322;&#27493;&#32447;&#31243;&#19978;&#12290;
            </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12033"></a>18.2.&nbsp;Seam&#20013;&#30340;&#28040;&#24687;</h2></div></div><div></div></div><p>
		Seam&#35753;JMS&#28040;&#24687;&#21457;&#36865;&#21040;Seam&#32452;&#20214;&#21644;&#20174;Seam&#32452;&#20214;&#25509;&#25910;&#21464;&#24471;&#24456;&#23481;&#26131;&#12290;
		</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12038"></a>18.2.1.&nbsp;&#37197;&#32622;</h3></div></div><div></div></div><p>
			&#20026;&#20102;&#32473;&#21457;&#36865;JMS&#28040;&#24687;&#37197;&#32622;Seam&#30340;&#22522;&#30784;&#32467;&#26500;&#65292;&#20320;&#38656;&#35201;&#21578;&#35785;Seam&#20851;&#20110;&#20219;&#20309;&#20320;&#24819;&#21457;&#36865;&#28040;&#24687;&#21040;&#30340;&#20027;&#39064;&#65288;Topic&#65289;&#21644;&#38431;&#21015;&#65288;Queue&#65289;&#65292;&#24182;&#19988;&#20063;&#35201;&#21578;&#35785;Seam&#21040;&#21738;&#37324;&#23547;&#25214; <tt class="literal">QueueConnectionFactory</tt> &#21644;&#65295;&#25110; <tt class="literal">TopicConnectionFactory</tt>&#12290;
        </p><p>
            Seam&#40664;&#35748;&#20351;&#29992; <tt class="literal">UIL2ConnectionFactory</tt>&#65292;&#23427;&#26159;&#20351;&#29992;JBossMQ&#26102;&#24120;&#29992;&#30340;&#36830;&#25509;&#24037;&#21378;&#12290;
            &#22914;&#26524;&#20320;&#27491;&#20351;&#29992;&#20854;&#20182;&#30340;JMS&#25552;&#20379;&#32773;&#65292;&#23601;&#38656;&#35201;&#22312; <tt class="literal">seam.properties</tt>&#12289;<tt class="literal">web.xml</tt> &#25110; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#35774;&#32622;&#19968;&#20010;&#25110;&#20004;&#20010; <tt class="literal">queueConnection.queueConnectionFactoryJndiName</tt> &#21644; <tt class="literal">topicConnection.topicConnectionFactoryJndiName</tt>&#12290;
        </p><p>
            &#20320;&#20063;&#38656;&#35201;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#21015;&#20986;&#20027;&#39064;&#65288;Topic&#65289;&#21644;&#38431;&#21015;&#65288;Queue&#65289;&#65292;&#26469;&#23433;&#35013;Seam&#21463;&#25511;&#30340; <tt class="literal">TopicPublisher</tt> &#21644; <tt class="literal">QueueSender</tt>&#65306;
        </p><pre class="programlisting">&lt;jms:managed-topic-publisher name="stockTickerPublisher" auto-create="true" topic-jndi-name="topic/stockTickerTopic"/&gt;

&lt;jms:managed-queue-sender name="paymentQueueSender" auto-create="true" queue-jndi-name="queue/paymentQueue"/&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12082"></a>18.2.2.&nbsp;&#21457;&#36865;&#28040;&#24687;</h3></div></div><div></div></div><p>
            &#29616;&#22312;&#65292;&#20320;&#21487;&#20197;&#27880;&#20837;&#19968;&#20010;JMS <tt class="literal">TopicPublisher</tt> &#21644; <tt class="literal">TopicSession</tt> &#21040;&#20219;&#20309;&#32452;&#20214;&#37324;&#65306;
            </p><pre class="programlisting">@In
private TopicPublisher stockTickerPublisher;
@In
private TopicSession topicSession;

public void publish(StockPrice price) {
      try
      {
         stockTickerPublisher.publish( topicSession.createObjectMessage(price) );
      }
      catch (Exception ex)
      {
         throw new RuntimeException(ex);
      }
}</pre><p>&#25110;&#29992;&#26469;&#21516;Queue&#19968;&#36215;&#20351;&#29992;</p><pre class="programlisting">@In
private QueueSender paymentQueueSender;
@In
private QueueSession queueSession;

public void publish(Payment payment) {
      try
      {
         paymentQueueSender.send( queueSession.createObjectMessage(payment) );
      }
      catch (Exception ex)
      {
         throw new RuntimeException(ex);
      }
}</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12099"></a>18.2.3.&nbsp;&#21033;&#29992;&#28040;&#24687;&#39537;&#21160;Bean&#25509;&#25910;&#28040;&#24687;</h3></div></div><div></div></div><p>
			&#20320;&#21487;&#20197;&#21033;&#29992;&#20219;&#20309;EJB3&#28040;&#24687;&#39537;&#21160;Bean&#26469;&#22788;&#29702;&#28040;&#24687;&#12290;
            &#28040;&#24687;&#39537;&#21160;Bean&#29978;&#33267;&#21487;&#20197;&#26159;Seam&#32452;&#20214;&#65292;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#23427;&#21487;&#33021;&#27880;&#20837;&#20854;&#20182;&#20107;&#20214;&#21644;&#24212;&#29992;&#31243;&#24207;&#20316;&#29992;&#22495;&#30340;Seam&#32452;&#20214;&#12290;
        </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12104"></a>18.2.4.&nbsp;&#22312;&#23458;&#25143;&#31471;&#25509;&#25910;&#28040;&#24687;</h3></div></div><div></div></div><p>Seam Remoting&#20801;&#35768;&#20320;&#22312;&#23458;&#25143;&#31471;&#30340;JavaScript&#20195;&#30721;&#20013;&#35746;&#38405;JMS&#20027;&#39064;&#65288;Topic&#65289;&#12290;&#36825;&#20010;&#22312;&#19979;&#19968;&#31456;&#37324;&#35762;&#36848;&#12290;
        </p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="cache"></a>Chapter&nbsp;19.&nbsp;&#32531;&#23384;</h2></div></div><div></div></div><p>
		&#25968;&#25454;&#24211;&#25104;&#20026;&#20102;&#22823;&#22810;&#25968;&#20225;&#19994;&#24212;&#29992;&#30340;&#20027;&#35201;&#29942;&#39048;&#65292;&#20063;&#25104;&#20026;&#20102;&#36816;&#34892;&#29615;&#22659;&#20013;&#26368;&#19981;&#20855;&#20280;&#32553;&#24615;&#30340;&#23618;&#12290;PHP/Ruby&#30340;&#29992;&#25143;&#20250;&#35828;&#20160;&#20040;&#37117;&#19981;&#20849;&#20139;&#65288;share nothing&#65289;&#30340;&#26550;&#26500;&#29031;&#26679;&#20855;&#26377;&#24456;&#22909;&#30340;&#20280;&#32553;&#24615;&#12290;&#20174;&#34920;&#38754;&#19978;&#30475;&#20063;&#35768;&#26159;&#23545;&#30340;&#65292;&#21487;&#24796;&#25105;&#19981;&#30693;&#36947;&#26159;&#21542;&#23384;&#22312;&#36825;&#26679;&#30340;&#22810;&#29992;&#25143;&#24212;&#29992;&#65292;&#20854;&#23454;&#29616;&#26159;&#33021;&#22815;&#22312;&#38598;&#32676;&#30340;&#19981;&#21516;&#32467;&#28857;&#38388;&#19981;&#20849;&#20139;&#36164;&#28304;&#12290;&#36825;&#20123;&#20667;&#29916;&#30495;&#27491;&#24819;&#30340;&#26159;&#8220;&#38500;&#20102;&#25968;&#25454;&#24211;&#20197;&#22806;&#20160;&#20040;&#37117;&#19981;&#20849;&#20139;(Share nothing except for the database)&#8221;&#30340;&#26550;&#26500;&#12290;&#24403;&#28982;&#65292;&#20849;&#20139;&#25968;&#25454;&#24211;&#26159;&#22810;&#29992;&#25143;&#24212;&#29992;&#20280;&#32553;&#24615;&#30340;&#20027;&#35201;&#38382;&#39064;&#8212;&#8212;&#22240;&#27492;&#22768;&#31216;&#36825;&#26679;&#30340;&#26550;&#26500;&#20855;&#26377;&#39640;&#20280;&#32553;&#24615;&#26159;&#33618;&#35884;&#30340;&#65292;&#20320;&#21487;&#35201;&#30693;&#36947;&#23427;&#20204;&#33457;&#36153;&#20102;&#36825;&#20123;&#20154;&#30340;&#22823;&#37096;&#20998;&#26102;&#38388;&#12290;
    </p><p>
		&#36890;&#24120;&#65292;&#20960;&#20046;&#25152;&#26377;&#36890;&#36807;&#20849;&#20139;&#25968;&#25454;&#24211;&#20570;&#30340;&#20107;&#24773;<span class="emphasis"><em>&#24182;&#19981;</em></span>&#20540;&#24471;&#36825;&#26679;&#21435;&#20570;&#12290;
    </p><p>
		&#36825;&#23601;&#26159;&#32531;&#23384;&#65288;Cache&#65289;&#20135;&#29983;&#30340;&#21407;&#22240;&#12290;&#21999;&#65292;&#24403;&#28982;&#24182;&#19981;&#21482;&#26159;&#19968;&#20010;&#32531;&#23384;&#12290;&#19968;&#20010;&#35774;&#35745;&#33391;&#22909;&#30340;Seam&#24212;&#29992;&#23558;&#20855;&#26377;&#20016;&#23500;&#30340;&#22810;&#23618;&#32531;&#23384;&#31574;&#30053;&#65292;&#36825;&#20063;&#24433;&#21709;&#30528;&#24212;&#29992;&#30340;&#27599;&#19968;&#23618;&#65306;
    </p><div class="itemizedlist"><ul type="disc"><li><p>
				&#24403;&#28982;&#65292;&#25968;&#25454;&#24211;&#26377;&#23427;&#33258;&#24049;&#30340;&#32531;&#23384;&#65292;&#36825;&#26159;&#36229;&#32423;&#37325;&#35201;&#30340;&#65292;&#20294;&#26159;&#23427;&#19981;&#33021;&#20687;&#24212;&#29992;&#23618;&#30340;&#32531;&#23384;&#19968;&#26679;&#20855;&#26377;&#20280;&#32553;&#24615;&#12290;
            </p></li><li><p>
				&#23545;&#20174;&#25968;&#25454;&#24211;&#25552;&#21462;&#20986;&#30340;&#25968;&#25454;&#65292;&#20320;&#30340;ORM&#35299;&#20915;&#26041;&#26696;&#65288;Hibernate&#65292;&#25110;&#32773;&#21035;&#30340;JPA&#23454;&#29616;&#65289;&#20855;&#26377;&#20004;&#32423;&#32531;&#23384;&#12290;&#36825;&#26159;&#19968;&#31181;&#24456;&#24378;&#22823;&#30340;&#33021;&#21147;&#65292;&#20294;&#26159;&#32463;&#24120;&#34987;&#35823;&#29992;&#12290;&#22312;&#19968;&#20010;&#38598;&#32676;&#29615;&#22659;&#37324;&#65292;&#20445;&#25345;&#32531;&#23384;&#20013;&#30340;&#25968;&#25454;&#22312;&#25972;&#20010;&#38598;&#32676;&#20013;&#20855;&#26377;&#20107;&#21153;&#19968;&#33268;&#24615;&#65292;&#24182;&#19988;&#21644;&#25968;&#25454;&#24211;&#19968;&#33268;&#65292;&#20854;&#20195;&#20215;&#26159;&#30456;&#24403;&#26114;&#36149;&#30340;&#12290;&#36825;&#23545;&#20110;&#20849;&#20139;&#22312;&#22810;&#20010;&#29992;&#25143;&#38388;&#65292;&#19988;&#24456;&#23569;&#34987;&#26356;&#26032;&#30340;&#25968;&#25454;&#26368;&#26377;&#24847;&#20041;&#12290;&#22312;&#20256;&#32479;&#30340;&#26080;&#29366;&#24577;&#26550;&#26500;&#37324;&#65292;&#20154;&#20204;&#32463;&#24120;&#20351;&#29992;&#20108;&#32423;&#32531;&#23384;&#26469;&#20445;&#23384;&#20250;&#35805;&#29366;&#24577;&#12290;&#36825;&#31181;&#20570;&#27861;&#24635;&#26159;&#31967;&#31957;&#30340;&#65292;&#22312;Seam&#20013;&#26356;&#26159;&#22823;&#38169;&#29305;&#38169;&#30340;&#12290;
            </p></li><li><p>
				Seam&#20250;&#35805;&#19978;&#19979;&#25991;&#26159;&#20250;&#35805;&#29366;&#24577;&#30340;&#32531;&#23384;&#12290;&#23384;&#20648;&#20110;&#20250;&#35805;&#19978;&#19979;&#25991;&#20013;&#30340;&#32452;&#20214;&#21487;&#20197;&#20445;&#25345;&#24182;&#32531;&#23384;&#19982;&#24403;&#21069;&#29992;&#25143;&#20132;&#20114;&#30456;&#20851;&#30340;&#29366;&#24577;&#12290;
            </p></li><li><p>
				&#29305;&#21035;&#30340;&#65292;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65288;&#25110;&#32773;&#19968;&#20010;&#25193;&#23637;&#21463;&#31649;EJB&#23481;&#22120;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65292;&#23427;&#19982;&#20250;&#35805;&#33539;&#22260;&#30340;&#26080;&#29366;&#24577;&#20250;&#35805;Bean&#30456;&#20851;&#65289;&#25104;&#20026;&#20102;&#24403;&#21069;&#20250;&#35805;&#20013;&#25968;&#25454;&#30340;&#32531;&#23384;&#12290;&#36825;&#31181;&#32531;&#23384;&#36235;&#21521;&#20110;&#25317;&#26377;&#19968;&#20010;&#30456;&#24403;&#39640;&#30340;&#21629;&#20013;&#29575;&#65281;Seam&#20248;&#21270;&#20102;&#38598;&#32676;&#29615;&#22659;&#20013;&#21463;&#31649;Seam&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#22797;&#21046;&#65292;&#20063;&#19981;&#38656;&#35201;&#20445;&#35777;&#25968;&#25454;&#24211;&#20107;&#21153;&#30340;&#19968;&#33268;&#24615;&#65288;&#20048;&#35266;&#38145;&#24050;&#36275;&#22815;&#65289;&#65292;&#22240;&#27492;&#20320;&#19981;&#24517;&#25285;&#24515;&#36825;&#31181;&#32531;&#23384;&#30340;&#24615;&#33021;&#38382;&#39064;&#65292;&#38500;&#38750;&#20320;&#25226;&#25104;&#21315;&#19978;&#19975;&#20010;&#23545;&#35937;&#35835;&#21462;&#21040;&#19968;&#20010;&#21333;&#29420;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#20013;&#12290;
            </p></li><li><p>
				&#24212;&#29992;&#21487;&#20197;&#22312;Seam&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#32531;&#23384;&#38750;&#20107;&#21153;&#24615;&#29366;&#24577;&#12290;&#30456;&#24212;&#30340;&#65292;&#20445;&#23384;&#22312;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#30340;&#29366;&#24577;&#19981;&#33021;&#34987;&#38598;&#32676;&#20013;&#20854;&#23427;&#32467;&#28857;&#35775;&#38382;&#12290;
            </p></li><li><p>
				&#24212;&#29992;&#36890;&#36807;Seam&#30340; <tt class="literal">pojoCache</tt> &#32452;&#20214;&#21487;&#20197;&#32531;&#23384;&#20107;&#21153;&#24615;&#29366;&#24577;&#65292;&#36825;&#20010;&#32452;&#20214;&#25226;JBossCache&#38598;&#25104;&#21040;&#20102;Seam&#29615;&#22659;&#20013;&#12290;&#22914;&#26524;&#20320;&#22312;&#38598;&#32676;&#27169;&#24335;&#19979;&#36816;&#34892;&#20102;JBossCache&#65292;&#37027;&#20040;&#36825;&#20010;&#29366;&#24577;&#26159;&#21487;&#20197;&#34987;&#21035;&#30340;&#32467;&#28857;&#35775;&#38382;&#30340;&#12290;
            </p></li><li><p>
				&#26368;&#21518;&#65292;Seam&#35753;&#20320;&#33021;&#22815;&#32531;&#23384;&#29983;&#25104;&#30340;JSF&#39029;&#38754;&#30340;&#37096;&#20998;&#20869;&#23481;&#65288;rendered fragments&#65289;&#12290;&#19982;ORM&#30340;&#20108;&#32423;&#32531;&#23384;&#19981;&#19968;&#26679;&#30340;&#26159;&#65292;&#24403;&#25968;&#25454;&#21457;&#29983;&#21464;&#21270;&#26102;&#65292;&#36825;&#31181;&#32531;&#23384;&#19981;&#33021;&#33258;&#21160;&#30340;&#22833;&#25928;&#65292;&#22240;&#27492;&#20320;&#38656;&#35201;&#20889;&#24212;&#29992;&#20195;&#30721;&#26469;&#20351;&#23427;&#26174;&#24335;&#30340;&#22833;&#25928;&#65292;&#25110;&#32773;&#35774;&#32622;&#36866;&#24403;&#30340;&#36807;&#26399;&#31574;&#30053;&#12290;
            </p></li></ul></div><p>
		&#22914;&#35201;&#33719;&#24471;&#26356;&#22810;&#20851;&#20110;&#20108;&#32423;&#32531;&#23384;&#30340;&#20449;&#24687;&#65292;&#20320;&#21487;&#20197;&#21442;&#32771;&#20320;&#30340;ORM&#35299;&#20915;&#26041;&#26696;&#30340;&#25991;&#26723;&#65292;&#22240;&#20026;&#36825;&#26159;&#20010;&#26497;&#20026;&#22797;&#26434;&#30340;&#35805;&#39064;&#12290;&#22312;&#36825;&#33410;&#20013;&#25105;&#20204;&#20250;&#30452;&#25509;&#35752;&#35770;&#36890;&#36807; <tt class="literal">pojoCache</tt> &#32452;&#20214;&#20351;&#29992;JBossCache&#65292;&#25110;&#32773;&#36890;&#36807; <tt class="literal">&lt;s:cache&gt;</tt>&#25511;&#21046;&#20805;&#24403;&#39029;&#29255;&#27573;&#65288;page fragment&#65289;&#32531;&#23384;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12154"></a>19.1.&nbsp;&#22312;Seam&#20013;&#20351;&#29992;JBossCache</h2></div></div><div></div></div><p>
			&#20869;&#24314;&#30340; <tt class="literal">pojoCache</tt> &#32452;&#20214;&#29992;&#26469;&#31649;&#29702; <tt class="literal">org.jboss.cache.aop.PojoCache</tt> &#23454;&#20363;&#12290;&#20320;&#21487;&#20197;&#23433;&#20840;&#30340;&#25226;&#20219;&#20309;&#19981;&#21487;&#21464;&#30340;Java&#23545;&#35937;&#20445;&#23384;&#22312;&#32531;&#23384;&#37324;&#65292;&#28982;&#21518;&#23427;&#23558;&#36890;&#36807;&#38598;&#32676;&#34987;&#22797;&#21046;&#65288;&#20551;&#35774;&#25171;&#24320;&#20102;&#22797;&#21046;&#65289;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;&#32531;&#23384;&#37324;&#20445;&#23384;&#21487;&#21464;&#30340;Java&#23545;&#35937;&#65292;&#20320;&#38656;&#35201;&#36816;&#34892;JBossCache&#23383;&#33410;&#30721;&#39044;&#22788;&#29702;&#22120;&#26469;&#30830;&#20445;&#36825;&#20123;&#23545;&#35937;&#30340;&#21464;&#21270;&#33021;&#22815;&#33258;&#21160;&#30340;&#34987;&#25506;&#27979;&#21040;&#24182;&#34987;&#22797;&#21046;&#12290;
        </p><p>
			&#20026;&#20102;&#20351;&#29992; <tt class="literal">pojoCache</tt>&#65292;&#20320;&#38656;&#35201;&#20570;&#30340;&#23601;&#26159;&#25226;JBossCache jar&#25991;&#20214;&#25918;&#22312;classpath&#20013;&#65292;&#24182;&#25552;&#20379;&#19968;&#20010;&#21517;&#20026; <tt class="literal">treecache.xml</tt> &#30340;&#25991;&#20214;&#65292;&#23427;&#24212;&#35813;&#26377;&#19968;&#20010;&#21512;&#36866;&#30340;cache&#37197;&#32622;&#12290;JBossCache&#26377;&#24456;&#22810;&#35753;&#20154;&#35273;&#24471;&#24656;&#24598;&#21644;&#36855;&#24785;&#30340;&#37197;&#32622;&#65292;&#22240;&#27492;&#25105;&#20204;&#19981;&#22312;&#36825;&#37324;&#35752;&#35770;&#23427;&#20204;&#12290;&#35831;&#21442;&#32771;JBossCache&#25991;&#26723;&#26469;&#33719;&#24471;&#26356;&#22810;&#20449;&#24687;&#12290;
        </p><p>
            &#22312; <tt class="literal">examples/blog/resources/treecache.xml</tt> &#37324;&#26377;&#19968;&#20010; <tt class="literal">treecache.xml</tt> &#30340;&#33539;&#20363;&#12290;
        </p><p>
			&#23545;Seam&#30340;EAR&#37096;&#32626;&#65292;&#25105;&#20204;&#25512;&#33616;&#25226;JBossCache jar&#25991;&#20214;&#21644;&#37197;&#32622;&#25991;&#20214;&#30452;&#25509;&#25918;&#21040;EAR&#37324;&#12290;&#30830;&#20445;&#20320;&#22312;EAR&#30340;lib&#30446;&#24405;&#37324;&#25918;&#32622;&#20102; <tt class="literal">jboss-cache.jar</tt> &#21644; <tt class="literal">jgroups.jar</tt>&#12290;
        </p><p>
			&#29616;&#22312;&#20320;&#21487;&#20197;&#25226;&#32531;&#23384;&#27880;&#20837;&#21040;&#20219;&#20309;Seam&#32452;&#20214;&#65306;
        </p><pre class="programlisting">@Name("chatroom")
public class Chatroom {
    @In PojoCache pojoCache;

    public void join(String username) {
      try
      {
         Set&lt;String&gt; userList = (Set&lt;String&gt;) pojoCache.get("chatroom", "userList");
         if (userList==null)
         {
            userList = new HashSet&lt;String&gt;();
            pojoCache.put("chatroom", "userList", userList);
         }
         userList.put(username);
      }
      catch (CacheException ce)
      {
         throw new RuntimeException(ce);
      }
    }
}</pre><p>
			&#22914;&#26524;&#20320;&#24819;&#22312;&#24212;&#29992;&#20013;&#20351;&#29992;&#22810;&#20010;JBossCache&#37197;&#32622;&#65292;&#38656;&#35201;&#20351;&#29992; <tt class="literal">components.xml</tt>:
        </p><pre class="programlisting">&lt;core:pojo-cache name="myCache" cfg-resource-name="myown/cache.xml"/&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12200"></a>19.2.&nbsp;&#39029;&#29255;&#27573;&#32531;&#23384;</h2></div></div><div></div></div><p>
			&#20351;&#29992;JBossCache&#26368;&#26377;&#36259;&#30340;&#26159; <tt class="literal">&lt;s:cache&gt;</tt> &#26631;&#31614;&#65292;Seam&#29992;&#23427;&#26469;&#35299;&#20915;JSF&#30340;&#39029;&#29255;&#27573;&#32531;&#23384;&#38382;&#39064;&#12290;<tt class="literal">&lt;s:cache&gt;</tt> &#20869;&#37096;&#20351;&#29992;&#20102; <tt class="literal">pojoCache</tt>&#65292;&#22240;&#27492;&#20320;&#22312;&#20351;&#29992;&#23427;&#26102;&#38656;&#35201;&#36981;&#24490;&#19978;&#38754;&#21015;&#20986;&#30340;&#27493;&#39588;&#12290;&#65288;&#25226;jar&#25991;&#20214;&#25918;&#21040;EAR&#37324;&#65292;&#24182;&#36827;&#34892;&#20196;&#20154;&#24656;&#24598;&#30340;&#37197;&#32622;&#36873;&#39033;&#31561;&#12290;&#65289;
        </p><p>
			<tt class="literal">&lt;s:cache&gt;</tt>&#34987;&#29992;&#26469;&#32531;&#23384;&#19968;&#20123;&#19981;&#22826;&#21464;&#21270;&#30340;&#20869;&#23481;&#12290;&#20363;&#22914;&#25105;&#20204;blog&#27426;&#36814;&#39029;&#38754;&#26174;&#31034;&#30340;&#36817;&#26399;blog&#65306;
        </p><pre class="programlisting">&lt;s:cache key="recentEntries-#{blog.id}" region="welcomePageFragments"&gt;
   &lt;h:dataTable value="#{blog.recentEntries}" var="blogEntry"&gt;
      &lt;h:column&gt;
         &lt;h3&gt;#{blogEntry.title}&lt;/h3&gt;
         &lt;div&gt;
            &lt;s:formattedText value="#{blogEntry.body}"/&gt;
         &lt;/div&gt;
      &lt;/h:column&gt;
   &lt;/h:dataTable&gt;
&lt;/s:cache&gt;</pre><p>
			<tt class="literal">key</tt>&#20351;&#24471;&#27599;&#20010;&#39029;&#29255;&#27573;&#25317;&#26377;&#22810;&#20010;&#32531;&#23384;&#29256;&#26412;&#12290;&#22312;&#36825;&#31181;&#24773;&#24418;&#19979;&#65292;&#27599;&#20010;blog&#25317;&#26377;&#19968;&#20010;&#32531;&#23384;&#29256;&#26412;&#12290;<tt class="literal">region</tt> &#20915;&#23450;&#20102;&#25152;&#26377;&#29256;&#26412;&#37117;&#23558;&#20445;&#23384;&#22312;&#21738;&#20010;JBossCache&#32467;&#28857;&#37324;&#12290;&#19981;&#21516;&#32467;&#28857;&#21487;&#33021;&#26377;&#19981;&#21516;&#30340;&#36807;&#26399;&#31574;&#30053;&#12290;&#65288;&#36825;&#26159;&#20320;&#35774;&#32622;&#19978;&#36848;&#20196;&#20154;&#24656;&#24598;&#30340;&#37197;&#32622;&#36873;&#39033;&#20570;&#30340;&#20107;&#24773;&#12290;&#65289;
        </p><p>
			&#24403;&#28982;&#65292;<tt class="literal">&lt;s:cache&gt;</tt>&#30340;&#19968;&#20010;&#37325;&#35201;&#38382;&#39064;&#26159;&#23427;&#26080;&#27861;&#30693;&#36947;&#25968;&#25454;&#30340;&#21464;&#21270;&#65288;&#20363;&#22914;&#24403;&#21338;&#23458;&#20316;&#32773;&#21457;&#24067;&#19968;&#20010;&#26032;&#23454;&#20307;&#65289;&#12290;&#22240;&#27492;&#20320;&#38656;&#35201;&#33258;&#24049;&#31649;&#29702;&#34987;&#32531;&#23384;&#30340;&#29255;&#27573;&#12290;
        </p><pre class="programlisting">public void post() {
    ...
    entityManager.persist(blogEntry);
    pojoCache.remove("welcomePageFragments", "recentEntries-" + blog.getId() );
}</pre><p>
			&#21478;&#19968;&#31181;&#26041;&#27861;&#26159;&#65292;&#22914;&#26524;&#19981;&#24517;&#25226;&#25968;&#25454;&#30340;&#21464;&#21270;&#31435;&#21051;&#21453;&#39304;&#32473;&#29992;&#25143;&#65292;&#37027;&#20040;&#20320;&#21487;&#20197;&#22312;JbossCache&#32467;&#28857;&#19978;&#35774;&#32622;&#19968;&#20010;&#30701;&#30340;&#36807;&#26399;&#26102;&#38388;&#12290;
        </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="webservices"></a>Chapter&nbsp;20.&nbsp;Web Services</h2></div></div><div></div></div><p>
    Seam&#19982;JBossWS&#25972;&#21512;&#65292;&#26377;&#21161;&#20110;&#26631;&#20934;&#30340;JEE Web Services&#23436;&#20840;&#21033;&#29992;Seam&#19978;&#19979;&#25991;&#26694;&#26550;&#30340;&#20248;&#21183;&#65292;&#21253;&#25324;&#25903;&#25345;&#23545;&#35805;&#30340;Web Services&#12290;
    &#26412;&#31456;&#27010;&#36848;&#24110;&#21161;Web Services&#22312;Sema&#29615;&#22659;&#20869;&#37096;&#36816;&#34892;&#25152;&#38656;&#35201;&#30340;&#27493;&#39588;&#12290;
	</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12243"></a>20.1.&nbsp;&#37197;&#32622;&#21644;&#25171;&#21253;</h2></div></div><div></div></div><p>
    &#20026;&#20102;&#20801;&#35768;Seam&#25318;&#25130;Web Service&#35831;&#27714;&#65292;&#20197;&#20415;&#33021;&#22815;&#20026;&#35813;&#35831;&#27714;&#21019;&#24314;&#24517;&#35201;&#30340;Seam&#19978;&#19979;&#25991;&#65292;&#24517;&#39035;&#37197;&#32622;&#19968;&#31181;&#29305;&#27530;&#30340;SOAP&#22788;&#29702;&#22120;&#65307;
    <tt class="literal">org.jboss.seam.webservice.SOAPRequesHandler</tt> &#26159;&#19968;&#31181; <tt class="literal">SOAPHandler</tt> &#23454;&#29616;&#65292;&#23427;&#23436;&#25104;&#22312;&#19968;&#20010;Web Service&#35831;&#27714;&#33539;&#22260;&#26399;&#38388;&#31649;&#29702;Seam&#29983;&#21629;&#21608;&#26399;&#30340;&#24037;&#20316;&#12290;
    &#23558;&#19968;&#20010;&#39033;&#30446;&#37197;&#32622;&#20026;&#20351;&#29992;&#36825;&#20010;&#22788;&#29702;&#22120;&#30340;&#26368;&#23481;&#26131;&#26041;&#27861;&#26159;&#65292;&#23558;&#19968;&#20010;&#31216;&#20316; <tt class="literal">standard-jaxws-endpoint-config.xml</tt> &#30340;&#25991;&#20214;&#25918;&#21040;&#21253;&#21547;Web Service&#31867;&#30340; <tt class="literal">jar</tt> &#25991;&#20214;&#30340; <tt class="literal">META-INF</tt> &#36335;&#24452;&#19979;&#12290;
    &#36825;&#20010;&#25991;&#20214;&#21253;&#21547;&#19979;&#21015;SOAP&#22788;&#29702;&#22120;&#37197;&#32622;&#65306;
    </p><pre class="programlisting">&lt;jaxws-config xmlns="urn:jboss:jaxws-config:2.0" 
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
              xmlns:javaee="http://java.sun.com/xml/ns/javaee"
              xsi:schemaLocation="urn:jboss:jaxws-config:2.0 jaxws-config_2_0.xsd"&gt;
   &lt;endpoint-config&gt;
      &lt;config-name&gt;Seam WebService Endpoint&lt;/config-name&gt;
      &lt;pre-handler-chains&gt;
         &lt;javaee:handler-chain&gt;
            &lt;javaee:protocol-bindings&gt;##SOAP11_HTTP&lt;/javaee:protocol-bindings&gt;
            &lt;javaee:handler&gt;
               &lt;javaee:handler-name&gt;SOAP Request Handler&lt;/javaee:handler-name&gt;
               &lt;javaee:handler-class&gt;org.jboss.seam.webservice.SOAPRequestHandler&lt;/javaee:handler-class&gt;
            &lt;/javaee:handler&gt;
         &lt;/javaee:handler-chain&gt;
      &lt;/pre-handler-chains&gt;
   &lt;/endpoint-config&gt;
&lt;/jaxws-config&gt;</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12265"></a>20.2.&nbsp;&#23545;&#35805;&#30340;Web Services</h2></div></div><div></div></div><p>
    &#37027;&#20040;&#23545;&#35805;&#22312;Web Service&#35831;&#27714;&#20043;&#38388;&#22914;&#20309;&#20256;&#25773;&#21602;&#65311;
    Seam&#20351;&#29992;&#19968;&#20010;&#22312;SOAP&#35831;&#27714;&#21644;&#21709;&#24212;&#28040;&#24687;&#20013;&#37117;&#26377;&#30340;SOAP&#26631;&#22836;&#20803;&#32032;&#65292;&#23558;&#23545;&#35805;ID&#20174;&#28040;&#36153;&#32773;&#20256;&#36755;&#21040;&#26381;&#21153;&#65292;&#24182;&#20877;&#20256;&#22238;&#26469;&#12290;
    &#19979;&#38754;&#26159;&#19968;&#20010;&#21253;&#21547;&#23545;&#35805;ID&#30340;Web Service&#35831;&#27714;&#30340;&#20363;&#23376;&#65306;
    </p><pre class="programlisting">&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
    xmlns:seam="http://seambay.example.seam.jboss.org/"&gt;
  &lt;soapenv:Header&gt;
    &lt;seam:conversationId xmlns:seam='http://www.jboss.org/seam/webservice'&gt;2&lt;/seam:conversationId&gt;
  &lt;/soapenv:Header&gt;
  &lt;soapenv:Body&gt;
    &lt;seam:confirmAuction/&gt;
  &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;    
    </pre><p>
    &#23601;&#22914;&#20320;&#22312;&#19978;&#38754;&#30340;SOAP&#28040;&#24687;&#20013;&#25152;&#35265;&#65292;&#22312;&#21253;&#21547;&#35831;&#27714;&#30340;&#23545;&#35805;ID&#65288;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#26159;<tt class="literal">2</tt>&#65289;&#30340;SOAP&#22836;&#20869;&#37096;&#65292;&#26377;&#19968;&#20010; <tt class="literal">conversationId</tt> &#20803;&#32032;&#65292;&#36951;&#25022;&#30340;&#26159;&#65292;&#30001;&#20110;Web Services&#21487;&#33021;&#34987;&#20197;&#19981;&#21516;&#35821;&#35328;&#32534;&#20889;&#30340;&#19981;&#21516;Web Service&#23458;&#25143;&#31471;&#28040;&#36153;&#65292;&#22240;&#27492;&#22312;&#20934;&#22791;&#29992;&#20110;&#21333;&#20010;&#23545;&#35805;&#33539;&#22260;&#20043;&#20869;&#30340;&#21333;&#29420;Web Services&#20043;&#38388;&#23454;&#29616;&#23545;&#35805;ID&#20256;&#25773;&#65292;&#30001;&#24320;&#21457;&#20154;&#21592;&#20915;&#23450;&#12290;
    </p><p>
    &#35201;&#27880;&#24847;&#30340;&#19968;&#20214;&#37325;&#35201;&#20107;&#24773;&#26159;&#65292;<tt class="literal">conversationId</tt> &#22836;&#20803;&#32032;&#24517;&#39035;&#28385;&#36275; <tt class="literal">http://www.jboss.org/seam/webservice</tt> &#30340;&#21629;&#21517;&#31354;&#38388;&#26465;&#20214;&#65292;&#21542;&#21017;Seam&#23558;&#26080;&#27861;&#20174;&#35831;&#27714;&#20013;&#35835;&#21462;&#23545;&#35805;ID&#12290;&#20197;&#19979;&#26159;&#23545;&#19978;&#36848;&#35831;&#27714;&#28040;&#24687;&#21709;&#24212;&#30340;&#19968;&#20010;&#20363;&#23376;&#65306;
    </p><pre class="programlisting">&lt;env:Envelope xmlns:env='http://schemas.xmlsoap.org/soap/envelope/'&gt;
  &lt;env:Header&gt;
    &lt;seam:conversationId xmlns:seam='http://www.jboss.org/seam/webservice'&gt;2&lt;/seam:conversationId&gt;
  &lt;/env:Header&gt;
  &lt;env:Body&gt;
    &lt;confirmAuctionResponse xmlns="http://seambay.example.seam.jboss.org/"/&gt;
  &lt;/env:Body&gt;
&lt;/env:Envelope&gt;    
    </pre><p>
    &#22914;&#20320;&#25152;&#35265;&#65292;&#21709;&#24212;&#28040;&#24687;&#21253;&#21547;&#19982;&#35831;&#27714;&#30456;&#21516;&#30340; <tt class="literal">conversationId</tt> &#20803;&#32032;&#12290;
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12295"></a>20.2.1.&nbsp;&#24314;&#35758;&#31574;&#30053;</h3></div></div><div></div></div><p>
      &#22240;&#20026;Web Services&#24517;&#39035;&#34987;&#23454;&#29616;&#20026;&#19968;&#20010;&#26080;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#25110;&#32773;POJO&#65292;&#23545;&#20110;&#23545;&#35805;&#30340;Web Services&#65292;&#24314;&#35758;&#29992;Web Service&#20805;&#24403;&#19968;&#20010;&#23545;&#35805;Seam&#32452;&#20214;&#30340;&#22806;&#35266;&#65288;facade&#65289;&#12290;
      </p><div class="mediaobject" align="center"><img src="images/ws-strategy.png" align="middle"></div><p>
      &#22914;&#26524;Web Service&#26159;&#20316;&#20026;&#26080;&#29366;&#24577;&#20250;&#35805;Bean&#32534;&#20889;&#30340;&#65292;&#37027;&#23427;&#20063;&#21487;&#33021;&#36890;&#36807;&#25552;&#20379;&#19968;&#20010; <tt class="literal">@Name</tt>&#65292;&#25226;&#23427;&#21464;&#25104;&#19968;&#20010;Seam&#32452;&#20214;&#12290;
      &#36825;&#20040;&#20570;&#20801;&#35768;Seam&#30340;&#21452;&#21521;&#27880;&#20837;&#65288;&#21644;&#20854;&#23427;&#65289;&#29305;&#24615;&#22312;Web Service&#31867;&#33258;&#36523;&#20013;&#20351;&#29992;&#12290;
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12310"></a>20.3.&nbsp;Web Servic&#33539;&#20363;</h2></div></div><div></div></div><p>
    &#35753;&#25105;&#20204;&#27983;&#35272;&#19968;&#20010;Web Service&#30340;&#20363;&#23376;&#12290;
    &#26412;&#33410;&#20013;&#30340;&#20195;&#30721;&#20840;&#37096;&#26469;&#33258;Seam&#30340; <tt class="literal">/examples</tt> &#30446;&#24405;&#19979;&#30340;seamBay&#33539;&#20363;&#24212;&#29992;&#31243;&#24207;&#65292;&#24182;&#36981;&#24490;&#21069;&#19968;&#33410;&#20013;&#25152;&#36848;&#30340;&#24314;&#35758;&#31574;&#30053;&#12290;
    &#35753;&#25105;&#20204;&#20808;&#26469;&#30475;&#30475;Web Service&#31867;&#21644;&#23427;&#30340;&#20854;&#20013;&#19968;&#20010;Web Service&#26041;&#27861;&#65306;
    </p><pre class="programlisting">@Stateless
@WebService(name = "AuctionService", serviceName = "AuctionService")
public class AuctionService implements AuctionServiceRemote
{           
   @WebMethod
   public boolean login(String username, String password)
   {
      Identity.instance().setUsername(username);
      Identity.instance().setPassword(password);
      Identity.instance().login();
      return Identity.instance().isLoggedIn();
   }
   
   // snip
}</pre><p>
    &#22914;&#20320;&#25152;&#35265;&#65292;&#25105;&#20204;&#30340;Web Service&#26159;&#19968;&#20010;&#26080;&#29366;&#24577;&#30340;&#20250;&#35805;Bean&#65292;&#24182;&#22914;JSR-181&#25152;&#35268;&#23450;&#30340;&#65292;&#21033;&#29992; <tt class="literal">javax.jws</tt> &#21253;&#20013;&#30340;JWS&#27880;&#35299;&#36827;&#34892;&#27880;&#35299;&#12290;
    <tt class="literal">@WebService</tt> &#27880;&#35299;&#21578;&#35785;&#23481;&#22120;&#65292;&#36825;&#20010;&#31867;&#23454;&#29616;&#19968;&#20010;Web Service&#65292;&#19988; <tt class="literal">login()</tt> &#26041;&#27861;&#20013;&#30340; <tt class="literal">@WebMethod</tt> &#27880;&#35299;&#23558;&#35813;&#26041;&#27861;&#24403;&#25104;&#26159;&#19968;&#20010;Web Service&#26041;&#27861;&#12290;
    <tt class="literal">@WebService</tt> &#27880;&#35299;&#20013;&#30340; <tt class="literal">name</tt> &#21644; <tt class="literal">serviceName</tt> &#23646;&#24615;&#26159;&#21487;&#36873;&#30340;&#12290;
    </p><p>
    &#26681;&#25454;&#35268;&#33539;&#35201;&#27714;&#65292;&#35201;&#26292;&#38706;&#20316;&#20026;Web Service&#26041;&#27861;&#30340;&#27599;&#20010;&#26041;&#27861;&#20063;&#37117;&#24517;&#39035;&#22312;Web Service&#31867;&#30340;&#36828;&#31243;&#25509;&#21475;&#36827;&#34892;&#22768;&#26126;&#65288;&#24403;Web Service&#26159;&#19968;&#20010;&#26080;&#29366;&#24577;&#20250;&#35805;Bean&#30340;&#26102;&#20505;&#65289;&#12290;
    &#22312;&#19978;&#36848;&#20363;&#23376;&#20013;&#65292;<tt class="literal">AuctionServiceRemote</tt> &#25509;&#21475;&#24517;&#39035;&#22768;&#26126; <tt class="literal">login()</tt> &#26041;&#27861;&#65292;&#23454;&#38469;&#19978;&#23601;&#26159;&#27880;&#35299; <tt class="literal">@WebMethod</tt>&#12290;
    </p><p>
    &#23601;&#22914;&#20320;&#21487;&#20197;&#22312;&#19978;&#36848;&#20195;&#30721;&#20013;&#25152;&#35265;&#65292;Web Service&#23454;&#29616;&#19968;&#20010;&#22996;&#25176;&#32473;Seam&#20869;&#24314;&#30340; <tt class="literal">Identity</tt> &#32452;&#20214;&#30340; <tt class="literal">login()</tt> &#26041;&#27861;&#12290;
    &#20026;&#20102;&#19982;&#25105;&#20204;&#30340;&#24314;&#35758;&#31574;&#30053;&#19968;&#33268;&#65292;Web Service&#26159;&#20316;&#20026;&#19968;&#20010;&#31616;&#21333;&#30340;&#22806;&#35266;&#32534;&#20889;&#30340;&#65292;&#23558;&#23454;&#38469;&#30340;&#24037;&#20316;&#22996;&#25176;&#32473;Seam&#32452;&#20214;&#12290;
    &#36825;&#26679;&#26377;&#21161;&#20110;&#26368;&#22909;&#22320;&#22312;Web Services&#21644;&#20854;&#20182;&#23458;&#25143;&#31471;&#20043;&#38388;&#37325;&#29992;&#19994;&#21153;&#36923;&#36753;&#12290;
    </p><p>
    &#35753;&#25105;&#20204;&#30475;&#21478;&#19968;&#20010;&#20363;&#23376;&#12290;&#36825;&#20010;Web Service&#26041;&#27861;&#36890;&#36807;&#22996;&#25176;&#32473; <tt class="literal">AuctionAction.createAuction()</tt> &#26041;&#27861;&#65292;&#24320;&#22987;&#20102;&#19968;&#20010;&#26032;&#23545;&#35805;&#12290;
    </p><pre class="programlisting">   @WebMethod
   public void createAuction(String title, String description, int categoryId)
   {
      AuctionAction action = (AuctionAction) Component.getInstance(AuctionAction.class, true);
      action.createAuction();
      action.setDetails(title, description, categoryId);
   }</pre><p>
    &#19979;&#38754;&#26159;&#26469;&#33258; <tt class="literal">AuctionAction</tt> &#30340;&#20195;&#30721;&#65306;
    </p><pre class="programlisting">   @Begin
   public void createAuction()
   {
      auction = new Auction();
      auction.setAccount(authenticatedAccount);
      auction.setStatus(Auction.STATUS_UNLISTED);        
      durationDays = DEFAULT_AUCTION_DURATION;
   }</pre><p>
    &#20174;&#20013;&#25105;&#20204;&#21487;&#20197;&#30475;&#21040;&#65292;Web Services&#26159;&#22914;&#20309;&#36890;&#36807;&#20805;&#24403;&#22806;&#35266;&#65292;&#24182;&#23558;&#23454;&#38469;&#30340;&#24037;&#20316;&#22996;&#25176;&#32473;&#19968;&#20010;&#23545;&#35805;&#30340;Seam&#32452;&#20214;&#65292;&#26469;&#21442;&#19982;&#38271;&#36816;&#34892;&#23545;&#35805;&#30340;&#12290;
    </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="remoting"></a>Chapter&nbsp;21.&nbsp;Remoting</h2></div></div><div></div></div><p>
	Seam&#20351;&#29992;AJAX&#26469;&#20026;Web&#39029;&#38754;&#36828;&#31243;&#35775;&#38382;&#32452;&#20214;&#25552;&#20379;&#20415;&#25463;&#26041;&#27861;&#12290;&#20351;&#29992;&#35813;&#26694;&#26550;&#20960;&#20046;&#19981;&#38656;&#35201;&#39044;&#20808;&#30340;&#24320;&#21457;&#20934;&#22791; &#8212;&#8212; &#20320;&#21482;&#38656;&#35201;&#22312;&#32452;&#20214;&#20013;&#22686;&#21152;&#31616;&#21333;&#30340;&#27880;&#35299;&#65292;&#23601;&#21487;&#20197;&#36890;&#36807;AJAX&#26469;&#35775;&#38382;&#20320;&#30340;&#32452;&#20214;&#20102;&#12290;&#26412;&#31456;&#25551;&#36848;&#20102;&#24314;&#31435;&#19968;&#20010;&#25903;&#25345;AJAX&#30340;Web&#39029;&#38754;&#25152;&#24517;&#39035;&#30340;&#27493;&#39588;&#65292;&#28982;&#21518;&#29992;&#26356;&#22810;&#32454;&#33410;&#32487;&#32493;&#35299;&#37322;Seam Remoting&#26694;&#26550;&#30340;&#29305;&#24615;&#12290;
	</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12383"></a>21.1.&nbsp;&#37197;&#32622;</h2></div></div><div></div></div><p>
    &#35201;&#20351;&#29992;Remoting&#65292;&#24517;&#39035;&#20808;&#22312; <tt class="literal">web.xml</tt> &#25991;&#20214;&#20013;&#37197;&#32622;Seam Resource Servlet&#12290;
	</p><pre class="programlisting">&lt;servlet&gt;
  &lt;servlet-name&gt;Seam Resource Servlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;org.jboss.seam.servlet.SeamResourceServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;Seam Resource Servlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/seam/resource/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre><p>
    &#25509;&#19979;&#26469;&#26159;&#22312;Web&#39029;&#38754;&#24341;&#20837;&#24517;&#35201;&#30340;JavaScript&#12290;&#33267;&#23569;&#26377;&#20004;&#27573;&#33050;&#26412;&#24517;&#39035;&#34987;&#24341;&#20837;&#12290;&#31532;&#19968;&#27573;&#33050;&#26412;&#21253;&#21547;&#20102;&#25903;&#25345;&#36828;&#31243;&#21151;&#33021;&#30340;&#25152;&#26377;&#23458;&#25143;&#31471;&#26694;&#26550;&#20195;&#30721;&#12290;
	</p><pre class="programlisting">&lt;script type="text/javascript" src="seam/resource/remoting/resource/remote.js"&gt;&lt;/script&gt;</pre><p>
    &#31532;&#20108;&#27573;&#33050;&#26412;&#21253;&#21547;&#20102;&#20320;&#24076;&#26395;&#35843;&#29992;&#30340;&#32452;&#20214;&#30340;&#23384;&#26681;&#21644;&#31867;&#22411;&#23450;&#20041;&#12290;&#23427;&#26159;&#26681;&#25454;&#32452;&#20214;&#30340;&#26412;&#22320;&#25509;&#21475;&#21160;&#24577;&#29983;&#25104;&#30340;&#65292;&#21516;&#26102;&#20063;&#21253;&#21547;&#20102;&#35843;&#29992;&#36828;&#31243;&#25509;&#21475;&#30340;&#26041;&#27861;&#26102;&#25152;&#29992;&#21040;&#30340;&#20840;&#37096;&#31867;&#30340;&#31867;&#22411;&#23450;&#20041;&#12290;
	&#33050;&#26412;&#20013;&#30340;&#21517;&#31216;&#21453;&#23556;&#21040;&#32452;&#20214;&#30340;&#21517;&#31216;&#12290;&#20363;&#22914;&#65292;&#22914;&#26524;&#26377;&#19968;&#20010;&#26631;&#26377; <tt class="literal">@Name("customerAction")</tt> &#30340;&#26080;&#29366;&#24577;&#20250;&#35805;Bean&#65292;&#37027;&#20040;&#33050;&#26412;&#26631;&#31614;&#24212;&#35813;&#31867;&#20284;&#20110;&#27492;&#65306;
	</p><pre class="programlisting">&lt;script type="text/javascript"
          src="seam/resource/remoting/interface.js?customerAction"&gt;&lt;/script&gt;</pre><p>
    &#22914;&#26524;&#24819;&#22312;&#19968;&#20010;&#39029;&#38754;&#19978;&#35775;&#38382;&#22810;&#20010;&#32452;&#20214;&#65292;&#21017;&#38656;&#35201;&#25226;&#23427;&#20204;&#20840;&#37096;&#20316;&#20026;&#33050;&#26412;&#26631;&#31614;&#30340;&#21442;&#25968;&#65306;
	</p><pre class="programlisting">&lt;script type="text/javascript"
        src="seam/resource/remoting/interface.js?customerAction&amp;accountAction"&gt;&lt;/script&gt;</pre><p>
    &#25110;&#32773;&#65292;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992; <tt class="literal">s:remote</tt> &#26631;&#31614;&#26469;&#24341;&#20837;&#36825;&#20123;&#24517;&#35201;&#30340;JavaScript&#65292;&#27880;&#24847;&#35201;&#36890;&#36807;&#36887;&#21495;&#26469;&#20998;&#38548;&#27599;&#20010;&#32452;&#20214;&#25110;&#32773;&#31867;&#30340;&#21517;&#31216;&#12290;
    </p><pre class="programlisting">
  &lt;s:remote include="customerAction,accountAction"/&gt;
    </pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12415"></a>21.2.&nbsp;Seam&#23545;&#35937;</h2></div></div><div></div></div><p>
    &#23458;&#25143;&#31471;&#36890;&#36807; <tt class="literal">Seam</tt> JavaScript&#23545;&#35937;&#19982;&#20320;&#30340;&#32452;&#20214;&#36827;&#34892;&#20132;&#20114;&#12290;
	&#36825;&#20010;JavaScript&#23545;&#35937;&#22312; <tt class="literal">remote.js</tt> &#20013;&#23450;&#20041;&#65292;&#20320;&#23558;&#19968;&#30452;&#20351;&#29992;&#23427;&#26469;&#24322;&#27493;&#35843;&#29992;&#20320;&#30340;&#32452;&#20214;&#12290;
	&#23427;&#34987;&#21010;&#20998;&#25104;&#20004;&#20010;&#21151;&#33021;&#22495;&#65306;<tt class="literal">Seam.Component</tt> &#21253;&#21547;&#20102;&#19982;&#32452;&#20214;&#19968;&#36215;&#24037;&#20316;&#30340;&#26041;&#27861;&#65292;<tt class="literal">Seam.Remoting</tt> &#21253;&#21547;&#20102;&#25191;&#34892;&#36828;&#31243;&#35831;&#27714;&#30340;&#26041;&#27861;&#12290;
	&#29087;&#24713;&#36825;&#20010;&#23545;&#35937;&#30340;&#26368;&#31616;&#21333;&#26041;&#27861;&#26159;&#20174;&#19968;&#20010;&#31616;&#21333;&#30340;&#20363;&#23376;&#24320;&#22987;&#12290;
	</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12432"></a>21.2.1.&nbsp;Hello World&#31034;&#20363;</h3></div></div><div></div></div><p>
      &#35753;&#25105;&#20204;&#20174;&#36825;&#20010;&#31616;&#21333;&#30340;&#31034;&#20363;&#20013;&#36880;&#27493;&#24324;&#28165;&#26970; <tt class="literal">Seam</tt> &#23545;&#35937;&#26159;&#24590;&#26679;&#24037;&#20316;&#30340;&#12290;&#39318;&#20808;&#65292;&#25105;&#20204;&#21019;&#24314;&#19968;&#20010;&#21517;&#20026; <tt class="literal">helloAction</tt> &#30340;&#26032;&#30340;Seam&#32452;&#20214;&#12290;
	  </p><pre class="programlisting">@Stateless
@Name("helloAction")
public class HelloAction implements HelloLocal {
    public String sayHello(String name) {
        return "Hello, " + name;
    }
}</pre><p>
      &#21516;&#26102;&#38656;&#35201;&#20026;&#36825;&#20010;&#26032;&#32452;&#20214;&#21019;&#24314;&#19968;&#20010;&#26412;&#22320;&#25509;&#21475; &#8212;&#8212; &#29305;&#21035;&#35201;&#27880;&#24847; <tt class="literal">@WebRemote</tt> &#27880;&#35299;&#65292;&#22240;&#20026;&#23427;&#26159;&#33021;&#36828;&#31243;&#35775;&#38382;&#25105;&#20204;&#26041;&#27861;&#25152;&#24517;&#39035;&#30340;&#12290;
	  </p><pre class="programlisting">@Local
public interface HelloLocal {
  @WebRemote
  public String sayHello(String name);
}</pre><p>
      &#36825;&#26159;&#25105;&#20204;&#25152;&#32534;&#20889;&#30340;&#25152;&#26377;&#26381;&#21153;&#22120;&#31471;&#20195;&#30721;&#12290;&#25509;&#19979;&#26469;&#23601;&#26159;&#25105;&#20204;&#30340;Web&#39029;&#38754; &#8212;&#8212; &#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#39029;&#38754;&#28982;&#21518;&#24341;&#20837;&#20197;&#19979;&#33050;&#26412;&#65306;
	  </p><pre class="programlisting">&lt;s:remote include="helloAction"/&gt;</pre><p>
      &#20026;&#20102;&#23436;&#25104;&#19968;&#20010;&#23436;&#25972;&#30340;&#29992;&#25143;&#20132;&#20114;&#20307;&#39564;&#65292;&#25105;&#20204;&#22686;&#21152;&#19968;&#20010;&#25353;&#38062;&#65306;
	  </p><pre class="programlisting">&lt;button onclick="javascript:sayHello()"&gt;Say Hello&lt;/button&gt;</pre><p>
      &#21516;&#26102;&#65292;&#25105;&#20204;&#36824;&#38656;&#35201;&#22686;&#21152;&#26356;&#22810;&#33050;&#26412;&#20197;&#20351;&#24471;&#25353;&#38062;&#22312;&#34987;&#28857;&#20987;&#21518;&#30495;&#27491;&#33021;&#22815;&#20570;&#20986;&#30456;&#24212;&#30340;&#21453;&#24212;&#65306;
	  </p><pre class="programlisting">&lt;script type="text/javascript"&gt;
  //&lt;![CDATA[

  function sayHello() {
    var name = prompt("What is your name?");
    Seam.Component.getInstance("helloAction").sayHello(name, sayHelloCallback);
  }

  function sayHelloCallback(result) {
    alert(result);
  }

   // ]]&gt;
&lt;/script&gt;</pre><p>
	&#21040;&#27492;&#24050;&#32463;&#20840;&#37096;&#23436;&#25104;&#20102;&#65281;&#37096;&#32626;&#36825;&#20010;&#24212;&#29992;&#31243;&#24207;&#24182;&#19988;&#27983;&#35272;&#39029;&#38754;&#65292;&#28857;&#20987;&#25353;&#38062;&#65292;&#25353;&#29031;&#25552;&#31034;&#36755;&#20837;&#19968;&#20010;&#21517;&#23383;&#65292;&#20250;&#20986;&#29616;&#19968;&#20010;hello&#28040;&#24687;&#26694;&#65292;&#36825;&#20010;&#28040;&#24687;&#26694;&#30340;&#20986;&#29616;&#34920;&#26126;&#20102;&#36825;&#27425;&#35843;&#29992;&#26159;&#25104;&#21151;&#30340;&#12290;
	&#22914;&#26524;&#20320;&#24819;&#33410;&#30465;&#26102;&#38388;&#65292;&#20320;&#21487;&#20197;&#20174;Seam&#30340; <tt class="literal">/examples/remoting/helloworld</tt> &#30446;&#24405;&#20013;&#25214;&#21040;&#36825;&#20010;Hello World&#31034;&#20363;&#30340;&#25152;&#26377;&#28304;&#20195;&#30721;&#12290;
	</p><p>
	&#37027;&#25105;&#20204;&#30340;&#33050;&#26412;&#21040;&#24213;&#20570;&#20102;&#20160;&#20040;&#21602;&#65311;&#25105;&#20204;&#25226;&#23427;&#20998;&#35299;&#25104;&#26356;&#23567;&#30340;&#37096;&#20998;&#12290;
	&#24320;&#22987;&#20320;&#21487;&#20197;&#20174;&#21015;&#20986;&#30340;JavaScript&#20195;&#30721;&#20013;&#30475;&#21040;&#25105;&#20204;&#24050;&#32463;&#23454;&#29616;&#20102;&#20004;&#20010;&#26041;&#27861; &#8212;&#8212; &#31532;&#19968;&#20010;&#26041;&#27861;&#36127;&#36131;&#25552;&#31034;&#29992;&#25143;&#36755;&#20837;&#22995;&#21517;&#65292;&#28982;&#21518;&#20135;&#29983;&#19968;&#20010;&#36828;&#31243;&#35831;&#27714;&#12290;&#30475;&#19968;&#19979;&#19979;&#38754;&#36825;&#34892;&#65306;
	</p><pre class="programlisting">Seam.Component.getInstance("helloAction").sayHello(name, sayHelloCallback);</pre><p>
	&#36825;&#19968;&#34892;&#30340;&#31532;&#19968;&#37096;&#20998; <tt class="literal">Seam.Component.getInstance("helloAction")</tt>&#65292;&#36820;&#22238;&#20102;&#19968;&#20010;&#20195;&#29702;&#65292;&#25110;&#32773; <tt class="literal">helloAction</tt> &#32452;&#20214;&#30340;&#23384;&#26681;&#12290;
	&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#36825;&#20010;&#23384;&#26681;&#35843;&#29992;&#32452;&#20214;&#30340;&#26041;&#27861;&#65292;&#36825;&#20063;&#26159;&#21097;&#20313;&#37096;&#20998;&#21363; <tt class="literal">sayHello(name, sayHelloCallback);</tt> &#25152;&#20570;&#30340;&#20107;&#24773;&#12290;
	</p><p>
	&#36825;&#25972;&#34892;&#30340;&#20195;&#30721;&#26159;&#22312;&#35843;&#29992;&#25105;&#20204;&#32452;&#20214;&#30340; <tt class="literal">sayHello</tt> &#26041;&#27861;&#65292;&#24182;&#19988;&#20256;&#36827;&#26469; <tt class="literal">name</tt> &#20316;&#20026;&#21442;&#25968;&#12290;
	&#31532;&#20108;&#20010;&#21442;&#25968; <tt class="literal">sayHelloCallback</tt> &#24182;&#19981;&#26159;&#25105;&#20204;&#32452;&#20214;&#30340; <tt class="literal">sayHello</tt> &#26041;&#27861;&#30340;&#21442;&#25968;&#65292;
	&#30456;&#21453;&#23427;&#21578;&#35785;Seam Remoting&#26694;&#26550;&#19968;&#26086;&#23427;&#25910;&#21040;&#19982;&#35831;&#27714;&#23545;&#24212;&#30340;&#21709;&#24212;&#65292;&#21017;&#35201;&#25226;&#36825;&#20010;&#21709;&#24212;&#20256;&#36882;&#21040;JavaScript&#33050;&#26412;&#30340; <tt class="literal">sayHelloCallback</tt> &#26041;&#27861;&#12290;
	&#36825;&#20010;&#22238;&#35843;&#21442;&#25968;&#26159;&#23436;&#20840;&#21487;&#36873;&#30340;&#65292;&#22240;&#27492;&#24403;&#20320;&#35843;&#29992;&#19968;&#20010;&#36820;&#22238;&#20540;&#20026; <tt class="literal">void</tt> &#26041;&#27861;&#25110;&#32773;&#20320;&#19981;&#20851;&#24515;&#32467;&#26524;&#26102;&#65292;&#20320;&#21487;&#20197;&#19981;&#20351;&#29992;&#36825;&#20010;&#21442;&#25968;&#12290;
	</p><p>
	&#19968;&#26086; <tt class="literal">sayHelloCallback</tt> &#26041;&#27861;&#25910;&#21040;&#20102;&#36828;&#31243;&#35831;&#27714;&#30340;&#21709;&#24212;&#65292;&#23601;&#20250;&#24377;&#20986;&#19968;&#20010;&#35686;&#21578;&#28040;&#24687;&#65292;&#20197;&#26174;&#31034;&#26041;&#27861;&#35843;&#29992;&#30340;&#32467;&#26524;&#12290;
	</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12509"></a>21.2.2.&nbsp;Seam.Component</h3></div></div><div></div></div><p>
				<tt class="literal">Seam.Component</tt> JavaScript&#23545;&#35937;&#25552;&#20379;&#20102;&#35768;&#22810;&#23458;&#25143;&#31471;&#26041;&#27861;&#26469;&#19982;Seam&#32452;&#20214;&#19968;&#36215;&#24037;&#20316;&#65292;
      &#23427;&#30340;&#20004;&#20010;&#20027;&#35201;&#26041;&#27861;&#26159; <tt class="literal">newInstance()</tt> &#21644; <tt class="literal">getInstance()</tt>&#65292;&#23558;&#22312;&#19979;&#38754;&#30340;&#23567;&#33410;&#20013;&#35762;&#35299;&#65292;
      &#23427;&#20204;&#30340;&#20027;&#35201;&#21306;&#21035;&#26159; <tt class="literal">newInstance()</tt> &#24635;&#26159;&#21019;&#24314;&#19968;&#20010;&#32452;&#20214;&#31867;&#22411;&#30340;&#26032;&#23454;&#20363;&#65292;&#32780; <tt class="literal">getInstance()</tt> &#21364;&#36820;&#22238;&#19968;&#20010;&#21333;&#20363;&#30340;&#23454;&#20363;&#12290;
	  </p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12529"></a>21.2.2.1.&nbsp;Seam.Component.newInstance()</h4></div></div><div></div></div><p>
        &#20351;&#29992;newInstance()&#26041;&#27861;&#26469;&#21019;&#24314;&#19968;&#20010;&#23454;&#20307;&#25110;&#32773;JavaBean&#32452;&#20214;&#30340;&#19968;&#20010;&#26032;&#23454;&#20363;&#12290;
        &#36825;&#20010;&#26041;&#27861;&#36820;&#22238;&#30340;&#23545;&#35937;&#23558;&#21547;&#26377;&#30456;&#21516;&#30340;&#33719;&#21462;&#65295;&#35774;&#32622;&#26041;&#27861;&#20316;&#20026;&#26381;&#21153;&#22120;&#31471;&#32452;&#25104;&#37096;&#20998;&#65292;&#25110;&#32773;&#20320;&#21487;&#20197;&#30452;&#25509;&#35775;&#38382;&#23427;&#30340;&#23383;&#27573;&#12290;&#20197;&#19979;&#38754;&#30340;Seam&#23454;&#20307;&#32452;&#20214;&#20026;&#20363;&#65306;
		</p><pre class="programlisting">@Name("customer")
@Entity
public class Customer implements Serializable
{
  private Integer customerId;
  private String firstName;
  private String lastName;

  @Column public Integer getCustomerId() {
    return customerId;
  }

  public void setCustomerId(Integer customerId} {
    this.customerId = customerId;
  }

  @Column public String getFirstName() {
    return firstName;
  }

  public void setFirstName(String firstName) {
    this.firstName = firstName;
  }

  @Column public String getLastName() {
    return lastName;
  }

  public void setLastName(String lastName) {
    this.lastName = lastName;
  }
}</pre><p>
        &#20026;&#20102;&#21019;&#24314;&#19968;&#20010;&#23458;&#25143;&#31471;Customer&#23545;&#35937;&#65292;&#20320;&#35201;&#32534;&#20889;&#22914;&#19979;&#20195;&#30721;&#65306;
		</p><pre class="programlisting">var customer = Seam.Component.newInstance("customer");</pre><p>
        &#28982;&#21518;&#20174;&#36825;&#37324;&#36215;&#65292;&#20320;&#21487;&#20197;&#35774;&#32622;customer&#23545;&#35937;&#30340;&#23383;&#27573;&#65306;
		</p><pre class="programlisting">customer.setFirstName("John");
// Or you can set the fields directly
customer.lastName = "Smith";</pre></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12544"></a>21.2.2.2.&nbsp;Seam.Component.getInstance()</h4></div></div><div></div></div><p>
        &#20351;&#29992; <tt class="literal">getInstance()</tt> &#26041;&#27861;&#26469;&#33719;&#24471;&#19968;&#20010;Seam&#20250;&#35805;Bean&#32452;&#20214;&#30340;&#23384;&#26681;&#30340;&#24341;&#29992;&#65292;&#36825;&#20010;&#23384;&#26681;&#21487;&#20197;&#29992;&#26469;&#36828;&#31243;&#25191;&#34892;&#32452;&#20214;&#30340;&#26041;&#27861;&#12290;
        &#36825;&#20010;&#26041;&#27861;&#36820;&#22238;&#29305;&#23450;&#32452;&#20214;&#30340;&#21333;&#20363;&#65292;&#22240;&#27492;&#20351;&#29992;&#21516;&#26679;&#30340;&#32452;&#20214;&#21517;&#35843;&#29992;&#23427;&#20004;&#27425;&#20063;&#23558;&#36820;&#22238;&#35813;&#32452;&#20214;&#30340;&#21516;&#19968;&#20010;&#23454;&#20363;&#12290;
		</p><p>
        &#25509;&#30528;&#30475;&#25105;&#20204;&#20808;&#21069;&#30340;&#20363;&#23376;&#65292;&#22914;&#26524;&#25105;&#20204;&#21019;&#24314;&#20102;&#19968;&#20010;&#26032;&#30340; <tt class="literal">customer</tt>&#65292;&#21516;&#26102;&#25105;&#20204;&#24819;&#20445;&#23384;&#23427;&#65292;
        &#25105;&#20204;&#38656;&#35201;&#25226;&#23427;&#20256;&#36882;&#32473; <tt class="literal">customerAction</tt> &#32452;&#20214;&#30340; <tt class="literal">saveCustomer()</tt> &#26041;&#27861;&#65306;
		</p><pre class="programlisting">Seam.Component.getInstance("customerAction").saveCustomer(customer);</pre></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12565"></a>21.2.2.3.&nbsp;Seam.Component.getComponentName()</h4></div></div><div></div></div><p>
        &#25226;&#19968;&#20010;&#23545;&#35937;&#20256;&#36882;&#21040;&#35813;&#26041;&#27861;&#65292;&#22914;&#26524;&#23545;&#35937;&#26159;&#32452;&#20214;&#21017;&#23558;&#36820;&#22238;&#23427;&#30340;&#32452;&#20214;&#21517;&#65292;&#21542;&#21017;&#23558;&#36820;&#22238; <tt class="literal">null</tt>&#12290;
		</p><pre class="programlisting">if (Seam.Component.getComponentName(instance) == "customer")
  alert("Customer");
else if (Seam.Component.getComponentName(instance) == "staff")
  alert("Staff member");</pre></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12575"></a>21.2.3.&nbsp;Seam.Remoting</h3></div></div><div></div></div><p>
      Seam Remoting&#30456;&#20851;&#30340;&#22823;&#22810;&#25968;&#23458;&#25143;&#31471;&#21151;&#33021;&#37117;&#21253;&#21547;&#22312; <tt class="literal">Seam.Remoting</tt> &#23545;&#35937;&#20013;&#12290;
      &#20320;&#19981;&#24517;&#30452;&#25509;&#35843;&#29992;&#23427;&#30340;&#22823;&#22810;&#25968;&#26041;&#27861;&#65292;&#20294;&#26159;&#38750;&#24120;&#26377;&#24517;&#35201;&#35299;&#37322;&#19968;&#19979;&#20004;&#20010;&#38750;&#24120;&#37325;&#35201;&#30340;&#26041;&#27861;&#12290;
	  </p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12583"></a>21.2.3.1.&nbsp;Seam.Remoting.createType()</h4></div></div><div></div></div><p>
        &#22914;&#26524;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#21253;&#21547;&#25110;&#32773;&#20351;&#29992;&#20102;&#19981;&#26159;Seam&#32452;&#20214;&#30340;JavaBean&#31867;&#65292;&#37027;&#20040;&#20320;&#23601;&#38656;&#35201;&#22312;&#23458;&#25143;&#31471;&#21019;&#24314;&#36825;&#20123;&#31867;&#22411;&#24182;&#25226;&#23427;&#20204;&#20316;&#20026;&#21442;&#25968;&#20256;&#36882;&#21040;&#32452;&#20214;&#30340;&#26041;&#27861;&#20013;&#12290;
        &#20351;&#29992; <tt class="literal">createType()</tt> &#26041;&#27861;&#26469;&#21019;&#24314;&#20320;&#25152;&#38656;&#31867;&#22411;&#30340;&#23454;&#20363;&#65292;&#24182;&#20197;&#23436;&#25972;&#38480;&#23450;&#30340;Java&#31867;&#21517;&#20256;&#36827;&#26469;&#20316;&#20026;&#21442;&#25968;&#65306;
		</p><pre class="programlisting">var widget = Seam.Remoting.createType("com.acme.widgets.MyWidget");</pre></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12593"></a>21.2.3.2.&nbsp;Seam.Remoting.getTypeName()</h4></div></div><div></div></div><p>
					<tt class="literal">Seam.Remoting.getTypeName()</tt> &#19982; <tt class="literal">Seam.Component.getComponentName()</tt> &#31561;&#20215;&#65292;&#20294;&#23427;&#26159;&#38024;&#23545;&#38750;&#32452;&#20214;&#31867;&#22411;&#30340;&#12290;
        &#23427;&#23558;&#36820;&#22238;&#23545;&#35937;&#23454;&#20363;&#30340;&#31867;&#22411;&#21517;&#65292;&#22914;&#26524;&#19981;&#30693;&#36947;&#31867;&#22411;&#21517;&#65292;&#21017;&#36820;&#22238; <tt class="literal">null</tt>&#12290;&#36825;&#20010;&#21517;&#31216;&#26159;&#23436;&#25972;&#38480;&#23450;&#30340;Java&#31867;&#21517;&#12290;
		</p></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12607"></a>21.3.&nbsp;EL&#34920;&#36798;&#24335;&#27714;&#20540;</h2></div></div><div></div></div><p>
    Seam Remoting&#20063;&#23545;EL&#34920;&#36798;&#24335;&#27714;&#20540;&#25552;&#20379;&#20102;&#25903;&#25345;&#65292;&#21363;&#25552;&#20379;&#20102;&#21478;&#22806;&#19968;&#31181;&#20415;&#21033;&#30340;&#26041;&#27861;&#26469;&#20174;&#26381;&#21153;&#22120;&#31471;&#33719;&#21462;&#25968;&#25454;&#12290;
	&#36890;&#36807;&#20351;&#29992; <tt class="literal">Seam.Remoting.eval()</tt>&#65292;&#19968;&#20010;EL&#34920;&#36798;&#24335;&#21487;&#20197;&#22312;&#26381;&#21153;&#22120;&#31471;&#34987;&#36828;&#31243;&#27714;&#20540;&#65292;&#24182;&#19988;&#23558;&#20854;&#32467;&#26524;&#36820;&#22238;&#32473;&#23458;&#25143;&#31471;&#30340;&#22238;&#35843;&#26041;&#27861;&#12290;
	&#27492;&#26041;&#27861;&#25509;&#21463;&#20004;&#20010;&#21442;&#25968;&#65292;&#31532;&#19968;&#20010;&#26159;&#35201;&#34987;&#27714;&#20540;&#30340;EL&#34920;&#36798;&#24335;&#65292;&#31532;&#20108;&#20010;&#26159;&#35843;&#29992;&#34920;&#36798;&#24335;&#20540;&#30340;&#22238;&#25481;&#26041;&#27861;&#12290;&#31034;&#20363;&#22914;&#19979;&#65306;
    </p><pre class="programlisting">  function customersCallback(customers) {
    for (var i = 0; i &lt; customers.length; i++) {
      alert("Got customer: " + customers[i].getName());
    }
  }

  Seam.Remoting.eval("#{customers}", customersCallback);
    </pre><p>
    &#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#34920;&#36798;&#24335; <tt class="literal">#{customers}</tt> &#23558;&#34987;Seam&#27714;&#20540;&#65292;
	&#24182;&#19988;&#34920;&#36798;&#24335;&#30340;&#20540;&#65288;&#27492;&#22788;&#26159;Customer&#23545;&#35937;&#21015;&#34920;&#65289;&#34987;&#36820;&#22238;&#32473; <tt class="literal">customersCallback()</tt> &#26041;&#27861;&#12290;
	&#19968;&#23450;&#35201;&#35760;&#20303;&#65292;&#20197;&#36825;&#31181;&#26041;&#24335;&#36820;&#22238;&#30340;&#23545;&#35937;&#24517;&#39035;&#23548;&#20837;&#20182;&#20204;&#30340;&#31867;&#22411;&#65288;&#36890;&#36807; <tt class="literal">s:remote</tt>&#65289;&#36825;&#26679;&#25165;&#33021;&#19982;JavaScript&#19968;&#36215;&#24037;&#20316;&#12290;
	&#22240;&#27492;&#65292;&#20026;&#20102;&#19982; <tt class="literal">customer</tt> &#23545;&#35937;&#21015;&#34920;&#19968;&#36215;&#24037;&#20316;&#65292;&#23427;&#38656;&#35201;&#23548;&#20837; <tt class="literal">customer</tt> &#31867;&#22411;&#12290;
    </p><pre class="programlisting">&lt;s:remote include="customer"/&gt;</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12636"></a>21.4.&nbsp;&#23458;&#25143;&#31471;&#25509;&#21475;</h2></div></div><div></div></div><p>
    &#22312;&#19978;&#33410;&#30340;&#37197;&#32622;&#20013;&#65292;&#25509;&#21475;&#25110;&#32452;&#20214;&#30340;&#23384;&#26681;&#36890;&#36807; <tt class="literal">seam/resource/remoting/interface.js</tt> &#34987;&#23548;&#20837;&#21040;&#25105;&#20204;&#39029;&#38754;&#37324;&#65306;
    </p><p>
    &#25110;&#32773;&#20351;&#29992;<tt class="literal">s:remote</tt>&#26631;&#31614;
    </p><pre class="programlisting">&lt;script type="text/javascript"
        src="seam/resource/remoting/interface.js?customerAction"&gt;&lt;/script&gt;</pre><pre class="programlisting">&lt;s:remote include="customerAction"/&gt;</pre><p>
    &#36890;&#36807;&#22312;&#39029;&#38754;&#20013;&#21253;&#21547;&#36825;&#27573;&#33050;&#26412;&#65292;&#32452;&#20214;&#30340;&#25509;&#21475;&#23450;&#20041;&#65292;&#21450;&#25191;&#34892;&#32452;&#20214;&#30340;&#26041;&#27861;&#25152;&#38656;&#35201;&#30340;&#20219;&#20309;&#21035;&#30340;&#32452;&#20214;&#25110;&#32773;&#31867;&#22411;&#37117;&#23558;&#34987;&#29983;&#25104;&#24182;&#19988;&#21487;&#34987;Seam Remoting&#26694;&#26550;&#25152;&#20351;&#29992;&#12290;
	</p><p>
    &#36825;&#20250;&#29983;&#25104;&#20004;&#31181;&#23458;&#25143;&#23384;&#26681;&#65306;&#21487;&#25191;&#34892;&#30340;&#23384;&#26681;&#21644;&#31867;&#22411;&#23384;&#26681;&#12290;&#21487;&#25191;&#34892;&#30340;&#23384;&#26681;&#20855;&#26377;&#19968;&#23450;&#30340;&#34892;&#20026;&#65292;&#33021;&#34987;&#29992;&#26469;&#25191;&#34892;&#20250;&#35805;bean&#32452;&#20214;&#30340;&#26041;&#27861;&#12290;
	&#30456;&#21453;&#65292;&#31867;&#22411;&#23384;&#26681;&#21253;&#21547;&#29366;&#24577;&#65292;&#20063;&#34920;&#31034;&#21442;&#25968;&#25110;&#32773;&#36820;&#22238;&#20540;&#30340;&#31867;&#22411;&#12290;
	</p><p>
    &#23458;&#25143;&#23384;&#26681;&#31867;&#22411;&#30340;&#29983;&#25104;&#20381;&#36182;&#20110;Seam&#32452;&#20214;&#30340;&#31867;&#22411;&#12290;&#22914;&#26524;&#32452;&#20214;&#26159;&#20250;&#35805;Bean&#65292;&#37027;&#20040;&#23558;&#29983;&#25104;&#21487;&#25191;&#34892;&#30340;&#23384;&#26681;&#65292;&#21542;&#21017;&#22914;&#26524;&#32452;&#20214;&#26159;&#23454;&#20307;&#25110;&#32773;JavaBean&#65292;&#37027;&#20040;&#23558;&#29983;&#25104;&#31867;&#22411;&#23384;&#26681;&#12290;
	&#36825;&#37324;&#20063;&#26377;&#19968;&#20010;&#20363;&#22806;&#65307;&#22914;&#26524;&#20320;&#30340;&#32452;&#20214;&#26159;JavaBean&#65288;&#20363;&#22914;&#23427;&#26082;&#19981;&#26159;&#20250;&#35805;Bean&#20063;&#19981;&#26159;&#23454;&#20307;Bean&#65289;&#24182;&#19988;&#20219;&#20309;&#23427;&#30340;&#26041;&#27861;&#34987;&#27880;&#35299;&#20026;@WebRemote&#65292;
	&#37027;&#20040;&#23558;&#29983;&#25104;&#19968;&#20010;&#21487;&#25191;&#34892;&#30340;&#23384;&#26681;&#32780;&#19981;&#26159;&#19968;&#20010;&#31867;&#22411;&#23384;&#26681;&#12290;&#36825;&#20801;&#35768;&#20320;&#22312;&#38750;EJB&#29615;&#22659;&#20013;&#20351;&#29992;Remoting&#26469;&#35843;&#29992;JavaBean&#32452;&#20214;&#32780;&#19981;&#38656;&#35201;&#35775;&#38382;&#20250;&#35805;Bean&#12290;
	</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12659"></a>21.5.&nbsp;&#19978;&#19979;&#25991;</h2></div></div><div></div></div><p>
    Seam Remoting&#19978;&#19979;&#25991;&#21253;&#21547;&#20102;&#38468;&#21152;&#30340;&#20449;&#24687;&#65292;&#24182;&#22312;&#21457;&#36865;&#21644;&#25509;&#25910;&#20013;&#20316;&#20026;&#36828;&#31243;&#35831;&#27714;&#65295;&#21709;&#24212;&#21608;&#26399;&#30340;&#19968;&#37096;&#20998;&#12290;&#30446;&#21069;&#23427;&#21482;&#21253;&#21547;&#20102;&#23545;&#35805;ID&#65292;&#20294;&#26159;&#23558;&#26469;&#23427;&#21487;&#33021;&#34987;&#25193;&#23637;&#12290;
	</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12664"></a>21.5.1.&nbsp;&#35774;&#32622;&#21644;&#35835;&#21462;&#23545;&#35805;ID</h3></div></div><div></div></div><p>
    &#22914;&#26524;&#20320;&#25171;&#31639;&#22312;&#23545;&#35805;&#33539;&#22260;&#20869;&#20351;&#29992;&#36828;&#31243;&#35843;&#29992;&#65292;&#37027;&#20040;&#20320;&#38656;&#35201;&#33021;&#20174;Seam Remoting&#19978;&#19979;&#25991;&#20013;&#35835;&#21462;&#25110;&#32773;&#35774;&#32622;&#23545;&#35805;ID&#12290;
	&#22312;&#21457;&#36215;&#36828;&#31243;&#35831;&#27714;&#35843;&#29992; <tt class="literal">Seam.Remoting.getContext().getConversationId()</tt> &#21518;&#35835;&#21462;&#23545;&#35805;ID&#12290;
	&#22312;&#21457;&#36215;&#35831;&#27714;&#21069;&#36890;&#36807;&#35843;&#29992; <tt class="literal">Seam.Remoting.getContext().setConversationId()</tt> &#26469;&#35774;&#32622;&#23545;&#35805;ID&#12290;
	</p><p>
    &#22914;&#26524;&#23545;&#35805;ID&#27809;&#26377;&#36890;&#36807; <tt class="literal">Seam.Remoting.getContext().setConversationId()</tt> &#26174;&#24335;&#22320;&#36827;&#34892;&#35774;&#32622;&#65292;
	&#37027;&#20040;&#23427;&#23558;&#33258;&#21160;&#22320;&#34987;&#36171;&#20540;&#20026;&#20219;&#24847;&#36828;&#31243;&#35843;&#29992;&#36820;&#22238;&#30340;&#31532;&#19968;&#20010;&#26377;&#25928;&#30340;&#23545;&#35805;ID&#12290;&#22914;&#26524;&#20320;&#30340;&#39029;&#38754;&#26377;&#22810;&#20010;&#23545;&#35805;&#65292;&#37027;&#20040;&#20320;&#38656;&#35201;&#22312;&#27599;&#27425;&#35843;&#29992;&#20043;&#21069;&#26174;&#24335;&#22320;&#35774;&#32622;&#23545;&#35805;ID&#12290;
	&#22914;&#26524;&#20320;&#21482;&#26159;&#24037;&#20316;&#20110;&#21333;&#20010;&#23545;&#35805;&#20013;&#65292;&#37027;&#20040;&#20320;&#19981;&#38656;&#35201;&#39069;&#22806;&#20570;&#20219;&#20309;&#20107;&#24773;&#12290;
	</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12680"></a>21.5.2.&nbsp;&#24403;&#21069;&#23545;&#35805;&#33539;&#22260;&#20869;&#30340;&#36828;&#31243;&#35843;&#29992;</h3></div></div><div></div></div><p>
      &#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#65292;&#21487;&#33021;&#20250;&#35201;&#27714;&#22312;&#24403;&#21069;&#35270;&#22270;&#30340;&#23545;&#35805;&#33539;&#22260;&#20869;&#21457;&#36215;&#19968;&#20010;&#36828;&#31243;&#35843;&#29992;&#65292;&#20026;&#27492;&#65292;&#20320;&#24517;&#39035;&#35201;&#22312;&#35843;&#29992;&#20043;&#21069;&#26174;&#24335;&#22320;&#35774;&#32622;&#23545;&#35805;ID&#12290;
      &#20197;&#19979;&#19968;&#23567;&#27573;JavaScript&#20195;&#30721;&#23558;&#22312;&#24403;&#21069;&#35270;&#22270;&#20250;&#35805;ID&#36828;&#31243;&#35843;&#29992;&#30340;&#26102;&#20505;&#65292;&#35774;&#32622;&#20250;&#35805;ID&#12290;
	</p><pre class="programlisting">Seam.Remoting.getContext().setConversationId( #{conversation.id} );</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12687"></a>21.6.&nbsp;&#25209;&#37327;&#35831;&#27714;</h2></div></div><div></div></div><p>
    Seam Remoting&#20801;&#35768;&#22312;&#21333;&#20010;&#35831;&#27714;&#20013;&#25191;&#34892;&#22810;&#20010;&#32452;&#20214;&#30340;&#35843;&#29992;&#12290;&#21482;&#35201;&#33021;&#20943;&#23569;&#32593;&#32476;&#27969;&#37327;&#65292;&#37027;&#20040;&#26497;&#21147;&#25512;&#33616;&#20351;&#29992;&#36825;&#20010;&#29305;&#24615;&#12290;
	</p><p>
			<tt class="literal">Seam.Remoting.startBatch()</tt> &#26041;&#27861;&#23558;&#21551;&#21160;&#19968;&#20010;&#26032;&#30340;&#25209;&#22788;&#29702;&#65292;&#21551;&#21160;&#25209;&#22788;&#29702;&#21518;&#20219;&#20309;&#32452;&#20214;&#30340;&#35843;&#29992;&#37117;&#23558;&#36827;&#20837;&#38431;&#21015;&#65292;&#32780;&#19981;&#26159;&#31435;&#21051;&#30340;&#21457;&#36865;&#12290;
	&#24403;&#25152;&#26377;&#30340;&#32452;&#20214;&#35843;&#29992;&#37117;&#34987;&#21152;&#21040;&#25209;&#22788;&#29702;&#20197;&#21518;&#65292;<tt class="literal">Seam.Remoting.executeBatch()</tt> &#26041;&#27861;&#23558;&#21457;&#36865;&#19968;&#20010;&#21253;&#21547;&#25152;&#26377;&#35843;&#29992;&#38431;&#21015;&#30340;&#35831;&#27714;&#21040;&#26381;&#21153;&#22120;&#65292;&#26381;&#21153;&#22120;&#23558;&#39034;&#24207;&#22320;&#25191;&#34892;&#36825;&#20123;&#35843;&#29992;&#12290;
	&#24403;&#36825;&#20123;&#35843;&#29992;&#34987;&#25191;&#34892;&#20043;&#21518;&#65292;&#21333;&#20010;&#21709;&#24212;&#23558;&#36820;&#22238;&#23458;&#25143;&#31471;&#65292;&#23427;&#21253;&#21547;&#20102;&#25152;&#26377;&#30340;&#36820;&#22238;&#20540;&#65292;&#21516;&#26102;&#22238;&#35843;&#20989;&#25968;&#65288;&#22914;&#26524;&#25552;&#20379;&#30340;&#35805;&#65289;&#20063;&#23558;&#25353;&#19982;&#25191;&#34892;&#30456;&#21516;&#30340;&#39034;&#24207;&#34987;&#35302;&#21457;&#12290;
	</p><p>
    &#22914;&#26524;&#20320;&#36890;&#36807; <tt class="literal">startBatch()</tt> &#26041;&#27861;&#21551;&#21160;&#20102;&#19968;&#20010;&#26032;&#30340;&#25209;&#22788;&#29702;&#26041;&#27861;&#65292;&#28982;&#21518;&#20320;&#20915;&#23450;&#19981;&#21457;&#36865;&#23427;&#65292;
	&#37027;&#20040;&#20320;&#38656;&#35201;&#35843;&#29992; <tt class="literal">Seam.Remoting.cancelBatch()</tt> &#26041;&#27861;&#65292;&#23427;&#23558;&#20002;&#24323;&#20219;&#20309;&#38431;&#38431;&#20013;&#30340;&#35843;&#29992;&#24182;&#36864;&#20986;&#25209;&#22788;&#29702;&#27169;&#24335;&#12290;
	</p><p>
    &#20351;&#29992;&#25209;&#22788;&#29702;&#30340;&#20363;&#23376;&#35831;&#35265; <tt class="literal">/examples/remoting/chatroom</tt>&#12290;
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12713"></a>21.7.&nbsp;&#20351;&#29992;&#25968;&#25454;&#31867;&#22411;</h2></div></div><div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12716"></a>21.7.1.&nbsp;&#21407;&#29983; / &#22522;&#26412; &#31867;&#22411;</h3></div></div><div></div></div><p>
      &#36825;&#37096;&#20998;&#25551;&#36848;&#20102;&#22522;&#26412;&#25968;&#25454;&#31867;&#22411;&#30340;&#25903;&#25345;&#12290;&#19968;&#33324;&#26469;&#35828;&#65292;&#22312;&#26381;&#21153;&#22120;&#31471;&#36825;&#20123;&#20540;&#26159;&#19982;&#23427;&#20204;&#30340;&#21407;&#29983;&#31867;&#22411;&#25110;&#32773;&#30456;&#24212;&#30340;&#21253;&#35013;&#31867;&#30456;&#20860;&#23481;&#30340;&#12290;
	  </p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12721"></a>21.7.1.1.&nbsp;String</h4></div></div><div></div></div><p>
        &#24403;&#35774;&#32622;&#23383;&#31526;&#20018;&#21442;&#25968;&#20540;&#26102;&#21487;&#20197;&#31616;&#21333;&#22320;&#20351;&#29992;Javascript&#23383;&#31526;&#20018;&#23545;&#35937;&#12290;
		</p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12726"></a>21.7.1.2.&nbsp;Number</h4></div></div><div></div></div><p>
        &#25903;&#25345;Java&#35821;&#35328;&#25903;&#25345;&#30340;&#25152;&#26377;&#25968;&#23383;&#31867;&#22411;&#12290;&#22312;&#23458;&#25143;&#31471;&#25968;&#23383;&#20540;&#24635;&#26159;&#34987;&#24207;&#21015;&#21270;&#20026;&#23383;&#31526;&#20018;&#65292;&#22312;&#26381;&#21153;&#22120;&#31471;&#20182;&#20204;&#34987;&#36716;&#21270;&#25104;&#27491;&#30830;&#30340;&#30446;&#26631;&#31867;&#22411;&#12290;
        &#36827;&#34892;&#36716;&#21270;&#26102; <tt class="literal">Byte</tt>&#12289;<tt class="literal">Double</tt>&#12289;<tt class="literal">Float</tt>&#12289;<tt class="literal">Integer</tt>&#12289;<tt class="literal">Long</tt> &#21644; <tt class="literal">Short</tt> &#30340;&#21407;&#29983;&#31867;&#22411;&#25110;&#32773;&#21253;&#35013;&#31867;&#22411;&#37117;&#34987;&#25903;&#25345;&#12290;
		</p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12749"></a>21.7.1.3.&nbsp;Boolean</h4></div></div><div></div></div><p>
        Boolean&#22312;&#23458;&#25143;&#31471;&#34920;&#31034;&#20026;JavaScript Boolean&#20540;&#65292;&#22312;&#26381;&#21153;&#22120;&#31471;&#34920;&#31034;&#20026;Java Boolean&#12290;
		</p></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12754"></a>21.7.2.&nbsp;JavaBeans</h3></div></div><div></div></div><p>
      &#19968;&#33324;&#26469;&#35828;&#65292;JavaBean&#19968;&#33324;&#26159;Seam&#23454;&#20307;&#25110;&#32773;JavaBean&#32452;&#20214;&#65292;&#25110;&#32773;&#20854;&#20182;&#21035;&#30340;&#38750;&#32452;&#20214;&#31867;&#12290;
      &#38656;&#35201;&#20351;&#29992;&#36866;&#24403;&#30340;&#26041;&#27861;&#65288;Seam&#32452;&#20214;&#20351;&#29992; <tt class="literal">Seam.Component.newInstance()</tt>&#65292;&#20854;&#23427;&#20351;&#29992; <tt class="literal">Seam.Remoting.createType()</tt>&#65289;&#26469;&#21019;&#24314;&#23545;&#35937;&#30340;&#26032;&#23454;&#20363;&#12290;
	  </p><p>
      &#27880;&#24847;&#21482;&#26377;&#36825;&#20004;&#20010;&#26041;&#27861;&#21019;&#24314;&#30340;&#23545;&#35937;&#25165;&#33021;&#34987;&#29992;&#20316;&#21442;&#25968;&#20540;&#65292;&#36825;&#20123;&#21442;&#25968;&#20540;&#19981;&#26159;&#26412;&#33410;&#25152;&#25552;&#21040;&#30340;&#26377;&#25928;&#31867;&#22411;&#20043;&#19968;&#12290;&#22312;&#19981;&#33021;&#30830;&#23450;&#21442;&#25968;&#31867;&#22411;&#30340;&#24773;&#20917;&#19979;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;&#22914;&#19979;&#30340;&#32452;&#20214;&#26041;&#27861;&#65306;
	  </p><pre class="programlisting">@Name("myAction")
public class MyAction implements MyActionLocal {
  public void doSomethingWithObject(Object obj) {
    // code
  }
}</pre><p>
      &#22312;&#36825;&#20010;&#31034;&#20363;&#20013;&#20320;&#21487;&#33021;&#35201;&#20256;&#36827; <tt class="literal">myWidget</tt> &#32452;&#20214;&#30340;&#19968;&#20010;&#23454;&#20363;&#65292;&#28982;&#32780; <tt class="literal">myAction</tt> &#25509;&#21475;&#24182;&#27809;&#26377;&#21253;&#21547; <tt class="literal">myWidget</tt>&#65292;&#22240;&#20026;&#23427;&#24182;&#27809;&#26377;&#34987;&#23427;&#30340;&#20219;&#20309;&#26041;&#27861;&#30452;&#25509;&#24341;&#29992;&#12290;
      &#20026;&#20102;&#33021;&#22815;&#25226;&#21442;&#25968;&#20256;&#36827;&#26469;&#65292;&#38656;&#35201;&#26174;&#24335;&#22320;&#24341;&#20837; <tt class="literal">MyWidget</tt>&#65306;
	  </p><pre class="programlisting">&lt;s:remote include="myAction,myWidget"/&gt;</pre><p>
      &#36825;&#20801;&#35768;&#20351;&#29992; <tt class="literal">Seam.Component.newInstance("myWidget")</tt> &#21019;&#24314; <tt class="literal">myWidget</tt> &#23545;&#35937;&#65292;&#24182;&#20801;&#35768;&#21019;&#24314;&#21518;&#30340;&#23545;&#35937;&#20256;&#36882;&#21040; <tt class="literal">myAction.doSomethingWithObject()</tt> &#20013;&#12290;
	  </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12796"></a>21.7.3.&nbsp;Date&#21644;Time</h3></div></div><div></div></div><p>
      &#26085;&#26399;&#20540;&#34987;&#24207;&#21015;&#21270;&#25104;&#23383;&#31526;&#20018;&#34920;&#31034;&#65292;&#24182;&#19988;&#31934;&#30830;&#21040;&#27627;&#31186;&#12290;&#22312;&#23458;&#25143;&#31471;&#65292;&#20351;&#29992;JavaScript&#26085;&#26399;&#23545;&#35937;&#26469;&#20351;&#29992;&#26085;&#26399;&#20540;&#12290;
      &#22312;&#26381;&#21153;&#22120;&#31471;&#65292;&#20351;&#29992; <tt class="literal">java.util.Date</tt> &#31867;&#65288;&#25110;&#32773;&#27966;&#29983;&#31867;&#65292;&#22914; <tt class="literal">java.sql.Date</tt> &#25110; <tt class="literal">java.sql.Timestamp</tt>&#65289;&#12290;
	  </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12810"></a>21.7.4.&nbsp;Enums &#26522;&#20030;&#31867;&#22411;</h3></div></div><div></div></div><p>
      &#22312;&#23458;&#25143;&#31471;&#65292;Enum&#20063;&#34987;&#20316;&#20026;String&#22788;&#29702;&#12290;&#24403;&#20026;Enum&#21442;&#25968;&#35774;&#32622;&#20540;&#26102;&#65292;&#31616;&#21333;&#22320;&#20351;&#29992;Enum&#30340;&#23383;&#31526;&#20018;&#34920;&#31034;&#23601;&#34892;&#20102;&#12290;&#20197;&#19979;&#38754;&#30340;&#32452;&#20214;&#20026;&#20363;&#65306;
	  </p><pre class="programlisting">@Name("paintAction")
public class paintAction implements paintLocal {
  public enum Color {red, green, blue, yellow, orange, purple};

  public void paint(Color color) {
    // code
  }
} </pre><p>
      &#20026;&#20102;&#35843;&#29992; <tt class="literal">paint()</tt> &#26041;&#27861;&#65292;&#24182;&#19988;&#20256;&#36882;&#32473;&#21442;&#25968;color&#30340;&#20540;&#26159; <tt class="literal">red</tt>&#65292;&#21482;&#35201;&#25226;red&#20316;&#20026;&#23383;&#31526;&#20018;&#20256;&#20837;&#23601;&#21487;&#20197;&#20102;&#65306;
	  </p><pre class="programlisting">Seam.Component.getInstance("paintAction").paint("red");</pre><p>
      &#21453;&#36807;&#26469;&#20063;&#26159;&#25104;&#31435;&#30340; &#8212;&#8212; &#20063;&#23601;&#26159;&#35828;&#65292;&#22914;&#26524;&#19968;&#20010;&#32452;&#20214;&#26041;&#27861;&#36820;&#22238;Enum&#22411;&#21442;&#25968;&#65288;&#25110;&#32773;&#36820;&#22238;&#30340;&#23545;&#35937;&#22270;&#37324;&#21253;&#21547;&#19968;&#20010;Enum&#23383;&#27573;&#65289;&#65292;&#37027;&#20040;&#22312;&#23458;&#25143;&#31471;&#20173;&#23558;&#34987;&#34920;&#31034;&#20026;&#19968;&#20010;&#23383;&#31526;&#20018;&#12290;
	  </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12829"></a>21.7.5.&nbsp;Collections &#38598;&#21512;</h3></div></div><div></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12832"></a>21.7.5.1.&nbsp;Bags</h4></div></div><div></div></div><p>
        Bags&#22218;&#25324;&#20102;&#25152;&#26377;&#30340;&#38598;&#21512;&#31867;&#22411;&#65292;&#21253;&#21547;arrays&#12289;collections&#12289;lists&#12289;sets&#65292;&#65288;&#20294;&#19981;&#21253;&#21547;Maps &#8212;&#8212; &#35265;&#19979;&#19968;&#31456;&#65289;&#65292;&#23427;&#22312;&#23458;&#25143;&#31471;&#30340;&#23454;&#29616;&#26159;JavaScript array&#12290;
        &#24403;&#35843;&#29992;&#19968;&#20010;&#25509;&#25910;&#19978;&#36848;&#31867;&#22411;&#20026;&#21442;&#25968;&#30340;&#32452;&#20214;&#26041;&#27861;&#26102;&#65292;&#20320;&#30340;&#21442;&#25968;&#24212;&#35813;&#26159;JavaScript array&#12290;&#22914;&#26524;&#19968;&#20010;&#32452;&#20214;&#26041;&#27861;&#36820;&#22238;&#19978;&#36848;&#31867;&#22411;&#20043;&#19968;&#65292;&#37027;&#20040;&#36820;&#22238;&#20540;&#23558;&#26159;JavaScript array&#12290;
        &#21457;&#29983;&#32452;&#20214;&#26041;&#27861;&#35843;&#29992;&#26102;&#65292;&#22312;&#26381;&#21153;&#22120;&#31471;Seam Remoting&#26694;&#26550;&#33021;&#22815;&#38750;&#24120;&#32874;&#26126;&#22320;&#25226;Bag&#31867;&#22411;&#36716;&#21270;&#20026;&#36866;&#24403;&#30340;&#31867;&#22411;&#12290;
		</p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12837"></a>21.7.5.2.&nbsp;Maps</h4></div></div><div></div></div><p>
        JavaScript&#24182;&#27809;&#26377;&#23545;Map&#30340;&#26412;&#22320;&#25903;&#25345;&#65292;Seam Remoting&#26694;&#26550;&#25903;&#25345;&#31616;&#21333;&#30340;Map&#23454;&#29616;&#12290;
        &#36890;&#36807;&#21019;&#24314; <tt class="literal">Seam.Remoting.Map</tt>&#23545;&#35937;&#20197;&#25903;&#25345;&#25226;Map&#29992;&#20570;&#36828;&#31243;&#35843;&#29992;&#30340;&#21442;&#25968;&#12290;
		</p><pre class="programlisting">var map = new Seam.Remoting.Map();</pre><p>
        &#36825;&#20010;Javascript&#23454;&#29616;&#25552;&#20379;&#20102;&#22788;&#29702;Map&#30340;&#22522;&#26412;&#26041;&#27861;&#65306;<tt class="literal">size()</tt>&#12289;<tt class="literal">isEmpty()</tt>&#12289;<tt class="literal">keySet()</tt>&#12289;<tt class="literal">values()</tt>&#12289;<tt class="literal">get(key)</tt>&#12289;<tt class="literal">put(key, value)</tt>&#12289;<tt class="literal">remove(key)</tt> &#21644; <tt class="literal">contains(key)</tt>&#12290;
          &#27599;&#19968;&#20010;&#26041;&#27861;&#31561;&#21516;&#20110;Java&#20013;&#23545;&#24212;&#30340;&#26041;&#27861;&#12290;&#22312;Java&#20013;&#19968;&#20123;&#26041;&#27861;&#23558;&#36820;&#22238;&#38598;&#21512;&#23545;&#35937;&#65292;&#20363;&#22914; <tt class="literal">keySet()</tt> &#21644; <tt class="literal">values()</tt>&#65292;
          &#30456;&#24212;&#22320;&#65292;&#22312;JavaScript&#20013;&#21253;&#21547;key&#25110;&#32773;value&#23545;&#35937;&#30340;JavaScript Array&#23545;&#35937;&#20063;&#23558;&#34987;&#36820;&#22238;&#12290;
		 </p></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12879"></a>21.8.&nbsp;&#35843;&#35797;</h2></div></div><div></div></div><p>
    &#20026;&#20102;&#33021;&#22815;&#36319;&#36394;Bug&#65292;&#21487;&#20197;&#21551;&#29992;&#35843;&#35797;&#27169;&#24335;&#65292;&#22312;&#35843;&#35797;&#27169;&#24335;&#19979;&#65292;&#25152;&#26377;&#22312;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#22120;&#31471;&#21457;&#20986;&#21644;&#36820;&#22238;&#30340;&#25968;&#25454;&#21253;&#30340;&#20869;&#23481;&#37117;&#34987;&#26174;&#31034;&#22312;&#19968;&#20010;&#24377;&#20986;&#31383;&#21475;&#20013;&#12290;
	&#20026;&#20102;&#21551;&#29992;&#35843;&#35797;&#27169;&#24335;&#65292;&#25110;&#32773;&#22312;JavaScript&#33050;&#26412;&#20013;&#25191;&#34892; <tt class="literal">setDebug()</tt> &#26041;&#27861;&#65306;
	</p><pre class="programlisting">Seam.Remoting.setDebug(true);</pre><p>
    &#25110;&#32773;&#36890;&#36807;components.xml&#37197;&#32622;&#23427;:
	</p><pre class="programlisting">&lt;remoting:remoting debug="true"/&gt;</pre><p>
    &#22914;&#26524;&#35201;&#20851;&#38381;&#35843;&#35797;&#27169;&#24335;&#65292;&#21017;&#38656;&#35201;&#35843;&#29992; <tt class="literal">setDebug(false)</tt>&#12290;
    &#22914;&#26524;&#20320;&#35201;&#22312;&#35843;&#35797;&#26085;&#24535;&#20013;&#35760;&#24405;&#19968;&#20123;&#33258;&#24049;&#23450;&#20041;&#30340;&#20449;&#24687;&#65292;&#37027;&#38656;&#35201;&#35843;&#29992; <tt class="literal">Seam.Remoting.log(message)</tt>&#12290;
	</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12901"></a>21.9.&nbsp;&#21152;&#36733;&#28040;&#24687;</h2></div></div><div></div></div><p>
    &#40664;&#35748;&#21152;&#36733;&#28040;&#24687;&#26174;&#31034;&#22312;&#23631;&#24149;&#30340;&#21491;&#19978;&#35282;&#65292;&#24182;&#19988;&#26159;&#21487;&#20197;&#20462;&#25913;&#30340;&#65292;&#23427;&#30340;&#34920;&#29616;&#24418;&#24335;&#21487;&#20197;&#33258;&#23450;&#20041;&#29978;&#33267;&#21487;&#20197;&#20851;&#25481;&#12290;
	</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12906"></a>21.9.1.&nbsp;&#20462;&#25913;&#20449;&#24687;</h3></div></div><div></div></div><p>
      &#22914;&#26524;&#35201;&#25226;&#40664;&#35748;&#30340;&#8220;Please Wait...&#8221;&#28040;&#24687;&#25913;&#25104;&#20854;&#23427;&#20869;&#23481;&#65292;&#21017;&#38656;&#35201;&#35774;&#32622; <tt class="literal">Seam.Remoting.loadingMessage</tt> &#30340;&#20540;:
	  </p><pre class="programlisting">Seam.Remoting.loadingMessage = "Loading..."; </pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12916"></a>21.9.2.&nbsp;&#38544;&#34255;&#21152;&#36733;&#20449;&#24687;</h3></div></div><div></div></div><p>
      &#22914;&#26524;&#35201;&#23613;&#21487;&#33021;&#23569;&#30340;&#26174;&#31034;&#21152;&#36733;&#28040;&#24687;&#65292;&#21487;&#20197;&#36890;&#36807;&#35206;&#20889; <tt class="literal">displayLoadingMessage()</tt> &#21644; <tt class="literal">hideLoadingMessage()</tt> &#30340;&#23454;&#29616;&#20026;&#21453;&#20043;&#19981;&#26174;&#31034;&#20219;&#20309;&#28040;&#24687;&#30340;&#20989;&#25968;&#65306;
	  </p><pre class="programlisting">// don't display the loading indicator
Seam.Remoting.displayLoadingMessage = function() {};
Seam.Remoting.hideLoadingMessage = function() {};</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12929"></a>21.9.3.&nbsp;&#33258;&#23450;&#20041;&#21152;&#36733;&#25351;&#31034;&#22120;</h3></div></div><div></div></div><p>
      &#22914;&#26524;&#20320;&#38656;&#35201;&#35206;&#20889;&#21152;&#36733;&#25351;&#31034;&#22120;&#20197;&#26174;&#31034;&#19968;&#20010;&#21160;&#30011;&#22270;&#26631;&#25110;&#32773;&#20854;&#20182;&#19996;&#35199;&#65292;&#37027;&#20040;&#20320;&#38656;&#35201;&#35206;&#20889; <tt class="literal">displayLoadingMessage()</tt> &#21644; <tt class="literal">hideLoadingMessage()</tt>&#12290;
	  </p><pre class="programlisting">  Seam.Remoting.displayLoadingMessage = function() {
    // Write code here to display the indicator
  };

  Seam.Remoting.hideLoadingMessage = function() {
    // Write code here to hide the indicator
  };</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12942"></a>21.10.&nbsp;&#25511;&#21046;&#36820;&#22238;&#25968;&#25454;</h2></div></div><div></div></div><p>
    &#24403;&#36828;&#31243;&#26041;&#27861;&#34987;&#25191;&#34892;&#21518;&#65292;&#25191;&#34892;&#32467;&#26524;&#34987;&#24207;&#21015;&#21270;&#25104;&#19968;&#20010;XML&#21709;&#24212;&#24182;&#36820;&#22238;&#23458;&#25143;&#31471;&#12290;&#36825;&#20010;&#21709;&#24212;&#34987;&#23458;&#25143;&#31471;&#21453;&#23556;&#25104;&#19968;&#20010;JavaScript&#23545;&#35937;&#12290;
    &#23545;&#20110;&#22797;&#26434;&#30340;&#31867;&#22411;&#65288;&#20363;&#22914;Javabean&#65289;&#65292;&#23427;&#20204;&#21253;&#21547;&#20102;&#20854;&#20182;&#23545;&#35937;&#30340;&#24341;&#29992;&#65292;&#25152;&#26377;&#36825;&#20123;&#34987;&#24341;&#29992;&#30340;&#23545;&#35937;&#20063;&#23558;&#34987;&#24207;&#21015;&#21270;&#20026;&#36825;&#20010;&#21709;&#24212;&#30340;&#19968;&#37096;&#20998;&#12290;
    &#36825;&#20123;&#34987;&#24341;&#29992;&#30340;&#23545;&#35937;&#21487;&#33021;&#21448;&#24341;&#29992;&#20102;&#20854;&#20182;&#23545;&#35937;&#65292;&#21516;&#26102;&#36824;&#21487;&#33021;&#23384;&#22312;&#26356;&#28145;&#23618;&#27425;&#30340;&#24341;&#29992;&#20851;&#31995;&#12290;
    &#22914;&#26524;&#19981;&#26816;&#26597;&#65292;&#36825;&#20010;&#23545;&#35937;&#22270;&#21487;&#33021;&#26159;&#24040;&#22823;&#30340;&#65292;&#20855;&#20307;&#21462;&#20915;&#20110;&#23545;&#35937;&#38388;&#30340;&#20851;&#31995;&#12290;
    &#20316;&#20026;&#19968;&#20010;&#27425;&#35201;&#30340;&#38382;&#39064;&#65288;&#38500;&#20102;&#21709;&#24212;&#21487;&#33021;&#24456;&#20887;&#38271;&#20043;&#22806;&#65289;&#65292;&#20320;&#21487;&#33021;&#20063;&#19981;&#24076;&#26395;&#25226;&#25935;&#24863;&#30340;&#20449;&#24687;&#26292;&#38706;&#32473;&#23458;&#25143;&#31471;&#12290;
	</p><p>
    Seam Remoting&#25552;&#20379;&#20102;&#19968;&#20010;&#31616;&#21333;&#30340;&#26041;&#24335;&#26469;&#38480;&#21046;&#23545;&#35937;&#22270;&#65292;&#21363;&#25351;&#23450;&#36828;&#31243;&#26041;&#27861;&#30340; <tt class="literal">@WebRemote</tt> &#27880;&#35299;&#20013;&#30340; <tt class="literal">exclude</tt> &#23383;&#27573;&#12290;
	&#36825;&#20010;&#23383;&#27573;&#25509;&#21463;&#21253;&#21547;&#29992;.&#21495;&#25351;&#23450;&#30340;&#19968;&#20010;&#25110;&#22810;&#20010;&#36335;&#24452;&#30340;&#23383;&#31526;&#20018;&#25968;&#32452;&#12290;&#24403;&#35843;&#29992;&#19968;&#20010;&#36828;&#31243;&#26041;&#27861;&#26102;&#65292;&#25191;&#34892;&#32467;&#26524;&#30340;&#23545;&#35937;&#22270;&#20013;&#30340;&#23545;&#35937;&#22914;&#26524;&#19982;&#36825;&#20123;&#36335;&#24452;&#21305;&#37197;&#65292;&#23601;&#23558;&#34987;&#20174;&#24207;&#21015;&#21270;&#32467;&#26524;&#21253;&#20013;&#21435;&#25481;&#12290;
	</p><p>
    &#25105;&#20204;&#20351;&#29992;&#19979;&#38754;&#30340; <tt class="literal">Widget</tt> &#31867;&#26469;&#35828;&#26126;&#25972;&#20010;&#31034;&#20363;&#65306;
	</p><pre class="programlisting">@Name("widget")
public class Widget
{
  private String value;
  private String secret;
  private Widget child;
  private Map&lt;String,Widget&gt; widgetMap;
  private List&lt;Widget&gt; widgetList;

  // getters and setters for all fields
}</pre><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12962"></a>21.10.1.&nbsp;&#19968;&#33324;&#23383;&#27573;&#30340;&#32422;&#26463;</h3></div></div><div></div></div><p>
      &#22914;&#26524;&#36828;&#31243;&#26041;&#27861;&#36820;&#22238; <tt class="literal">Widget</tt> &#23454;&#20363;&#65292;&#20294;&#20320;&#19981;&#24819;&#26292;&#38706; <tt class="literal">secret</tt> &#23383;&#27573;&#65292;&#22240;&#20026;&#23427;&#21253;&#21547;&#19968;&#20123;&#25935;&#24863;&#20449;&#24687;&#65292;&#20320;&#21487;&#20197;&#29992;&#22914;&#19979;&#30340;&#26041;&#24335;&#38480;&#21046;&#23427;&#65306;
	  </p><pre class="programlisting">@WebRemote(exclude = {"secret"})
public Widget getWidget(); </pre><p>
      &#20540;"secret"&#25351;&#21521;&#20102;&#36820;&#22238;&#23545;&#35937;&#30340; <tt class="literal">secret</tt> &#23383;&#27573;&#12290;&#29616;&#22312;&#20551;&#23450;&#25105;&#20204;&#19981;&#20851;&#24515;&#36825;&#20010;&#29305;&#27530;&#23383;&#27573;&#20250;&#26292;&#38706;&#32473;&#23458;&#25143;&#31471;&#12290;
      &#30456;&#21453;&#65292;&#25105;&#20204;&#30475;&#21040;&#36820;&#22238;&#20540; <tt class="literal">Widget</tt> &#21547;&#26377;&#19968;&#20010; <tt class="literal">child</tt> &#23383;&#27573;&#65292;&#23427;&#20063;&#26159; <tt class="literal">Widget</tt>&#12290;
      &#25105;&#20204;&#35813;&#22914;&#20309;&#26469;&#38544;&#34255; <tt class="literal">child</tt> &#30340;&#20540;&#21602;&#65311;&#25105;&#20204;&#21487;&#20197;&#22312;&#32467;&#26524;&#23545;&#35937;&#22270;&#20013;&#20351;&#29992;.&#21495;&#25351;&#23450;&#30340;&#23383;&#27573;&#36335;&#24452;&#26469;&#36798;&#21040;&#36825;&#20010;&#30446;&#30340;&#65306;
	  </p><pre class="programlisting">@WebRemote(exclude = {"child.secret"})
public Widget getWidget();</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12994"></a>21.10.2.&nbsp;&#38598;&#21512;&#21644;&#26144;&#23556;&#30340;&#32422;&#26463;</h3></div></div><div></div></div><p>
      &#23545;&#35937;&#23384;&#22312;&#20110;&#19968;&#20010;&#23545;&#35937;&#22270;&#20013;&#30340;&#21478;&#19968;&#20010;&#26041;&#24335;&#26159; <tt class="literal">Map</tt> &#25110;&#32773;&#19968;&#20123;&#38598;&#21512;&#31867;&#65288;<tt class="literal">List</tt>&#12289;<tt class="literal">Set</tt>&#12289;<tt class="literal">Array</tt> &#31561;&#31561;&#65289;&#12290;
      &#38598;&#21512;&#31867;&#24456;&#31616;&#21333;&#65292;&#21487;&#20197;&#21644;&#20854;&#23427;&#21035;&#30340;&#23383;&#27573;&#19968;&#26679;&#26469;&#30475;&#24453;&#12290;&#20363;&#22914;&#22914;&#26524; <tt class="literal">Widget</tt> &#22312;&#23427;&#30340; <tt class="literal">widgetList</tt> &#23383;&#27573;&#37324;&#21253;&#21547;&#20102;&#19968;&#20010; <tt class="literal">Widget</tt> &#21015;&#34920;&#65292;&#20026;&#20102;&#38480;&#23450;&#36825;&#20010;&#21015;&#34920;&#20013;&#30340; <tt class="literal">Widget</tt> &#30340; <tt class="literal">secret</tt> &#23383;&#27573;&#30340;&#27880;&#35299;&#22823;&#27010;&#31867;&#20284;&#20110;&#36825;&#26679;&#65306;
	  </p><pre class="programlisting">@WebRemote(exclude = {"widgetList.secret"})
  public Widget getWidget();</pre><p>
      &#22914;&#26524;&#35201;&#38480;&#23450; <tt class="literal">Map</tt> &#30340;&#38190;&#25110;&#32773;&#20540;&#65292;&#37027;&#20040;&#27880;&#35299;&#20250;&#26377;&#28857;&#19981;&#21516;&#12290;
      &#22312; <tt class="literal">Map</tt> &#30340;&#23383;&#27573;&#21517;&#21518;&#38754;&#22686;&#21152; <tt class="literal">[key]</tt> &#23558;&#38480;&#23450; <tt class="literal">Map</tt> &#38190;&#23545;&#35937;&#65292;&#21516;&#26102;&#65292;<tt class="literal">[value]</tt> &#23558;&#38480;&#23450;&#20540;&#23545;&#35937;&#12290;&#19979;&#38754;&#30340;&#20363;&#23376;&#25551;&#36848;&#20102; <tt class="literal">widgetMap</tt> &#23383;&#27573;&#24590;&#20040;&#26679;&#38480;&#23450;&#20102;&#23427;&#20204;&#30340; <tt class="literal">secret</tt> &#23383;&#27573;&#65306;
	  </p><pre class="programlisting">@WebRemote(exclude = {"widgetMap[value].secret"})
public Widget getWidget(); </pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13053"></a>21.10.3.&nbsp;&#29305;&#23450;&#31867;&#22411;&#23545;&#35937;&#30340;&#32422;&#26463;</h3></div></div><div></div></div><p>
      &#36824;&#26377;&#19968;&#20010;&#27880;&#35299;&#21487;&#29992;&#26469;&#38480;&#23450;&#23545;&#35937;&#30340;&#23383;&#27573;&#65292;&#19981;&#31649;&#23383;&#27573;&#20986;&#29616;&#22312;&#32467;&#26524;&#23545;&#35937;&#22270;&#30340;&#21738;&#20010;&#20301;&#32622;&#23427;&#37117;&#36215;&#20316;&#29992;&#12290;
      &#36825;&#20010;&#27880;&#35299;&#26082;&#21487;&#20197;&#20351;&#29992;&#32452;&#20214;&#30340;&#21517;&#31216;&#65288;&#22914;&#26524;&#23545;&#35937;&#26159;&#19968;&#20010;Seam&#32452;&#20214;&#65289;&#65292;&#20063;&#21487;&#20197;&#26159;&#19968;&#20010;&#23436;&#20840;&#38480;&#23450;&#30340;&#31867;&#21517;&#65288;&#20165;&#24403;&#23545;&#35937;&#19981;&#26159;Seam&#32452;&#20214;&#26102;&#65289;&#65292;&#24182;&#19988;&#26159;&#20197;[]&#30340;&#24418;&#24335;&#26469;&#38480;&#23450;&#30340;&#12290;
	  </p><pre class="programlisting">@WebRemote(exclude = {"[widget].secret"})
public Widget getWidget(); </pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13060"></a>21.10.4.&nbsp;&#32452;&#21512;&#32422;&#26463;</h3></div></div><div></div></div><p>
      &#38480;&#23450;&#20063;&#21487;&#20197;&#21512;&#24182;&#65292;&#29992;&#22810;&#20010;&#36335;&#24452;&#23545;&#23545;&#35937;&#22270;&#20013;&#30340;&#23545;&#35937;&#36827;&#34892;&#36807;&#28388;&#65306;
	  </p><pre class="programlisting">@WebRemote(exclude = {"widgetList.secret", "widgetMap[value].secret"})
public Widget getWidget();</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13067"></a>21.11.&nbsp;JMS&#28040;&#24687;</h2></div></div><div></div></div><p>
    Seam Remoting&#21033;&#29992;&#23454;&#36341;&#32463;&#39564;&#23545;JMS&#28040;&#24687;&#25552;&#20379;&#20102;&#25903;&#25345;&#12290;&#36825;&#33410;&#25551;&#36848;&#20102;&#24403;&#21069;&#23545;JMS&#24050;&#26377;&#30340;&#25903;&#25345;&#65292;&#20294;&#26159;&#35831;&#35760;&#20303;&#22312;&#23558;&#26469;&#36825;&#21487;&#33021;&#21457;&#29983;&#21464;&#21270;&#12290;
	&#22240;&#27492;&#29616;&#22312;&#24182;&#19981;&#25512;&#33616;&#22312;&#20135;&#21697;&#29615;&#22659;&#20013;&#20351;&#29992;&#36825;&#20010;&#29305;&#24615;&#12290;
	</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13072"></a>21.11.1.&nbsp;&#37197;&#32622;</h3></div></div><div></div></div><p>
      &#20026;&#33021;&#22815;&#35746;&#38405;JMS&#20027;&#39064;&#65292;&#20320;&#24517;&#39035;&#20808;&#37197;&#32622;&#19968;&#20010;&#21487;&#20197;&#36890;&#36807;Seam Remoting&#35746;&#38405;&#30340;&#20027;&#39064;&#21015;&#34920;&#12290;
      &#38656;&#35201;&#22312;<tt class="literal">seam.properties</tt>&#12289;<tt class="literal">web.xml</tt> &#25110;&#32773; <tt class="literal">components.xml</tt> &#30340; <tt class="literal">org.jboss.seam.remoting.messaging.subscriptionRegistry.allowedTopics</tt> &#20013;&#21015;&#20986;&#25152;&#26377;&#30340;&#20027;&#39064;&#12290;
	  </p><pre class="programlisting">&lt;remoting:remoting poll-timeout="5" poll-interval="1"/&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13091"></a>21.11.2.&nbsp;&#35746;&#38405;JMS&#20027;&#39064;</h3></div></div><div></div></div><p>
      &#19979;&#38754;&#30340;&#20363;&#23376;&#35828;&#26126;&#20102;&#22914;&#20309;&#26469;&#35746;&#38405;&#19968;&#20010;JMS&#20027;&#39064;&#65306;
	  </p><pre class="programlisting">function subscriptionCallback(message)
{
  if (message instanceof Seam.Remoting.TextMessage)
    alert("Received message: " + message.getText());
}

Seam.Remoting.subscribe("topicName", subscriptionCallback);</pre><p>
				<tt class="literal">Seam.Remoting.subscribe()</tt>&#26041;&#27861;&#20855;&#26377;&#20004;&#20010;&#21442;&#25968;&#65292;&#31532;&#19968;&#20010;&#21442;&#25968;&#26159;&#21487;&#34987;&#35746;&#38405;&#30340;JMS&#20027;&#39064;&#21517;&#65292;&#31532;&#20108;&#20010;&#21442;&#25968;&#26159;&#25509;&#25910;&#21040;&#19968;&#20010;&#28040;&#24687;&#26102;&#35201;&#35843;&#29992;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;
	  </p><p>
      &#25903;&#25345;&#20004;&#31181;&#31867;&#22411;&#30340;&#28040;&#24687;&#65306;Text&#28040;&#24687;&#21644;Object&#28040;&#24687;&#12290;
      &#33509;&#35201;&#27979;&#35797;&#20256;&#32473;&#22238;&#35843;&#20989;&#25968;&#30340;&#28040;&#24687;&#31867;&#22411;&#65292;&#20320;&#21487;&#20197;&#35843;&#29992; <tt class="literal">instanceof</tt> &#25805;&#20316;&#31526;&#26469;&#27979;&#35797;&#36825;&#20010;&#28040;&#24687;&#26159; <tt class="literal">Seam.Remoting.TextMessage</tt> &#36824;&#26159; <tt class="literal">Seam.Remoting.ObjectMessage</tt>&#12290;
      <tt class="literal">TextMessage</tt> &#30340; <tt class="literal">text</tt> &#23383;&#27573;&#26159;&#25991;&#26412;&#20540;&#65292;
	<tt class="literal">ObjectMessage</tt> &#30340; <tt class="literal">object</tt> &#23383;&#27573;&#65288;&#25110;&#32773;&#35843;&#29992; <tt class="literal">getObject()</tt> &#26041;&#27861;&#24471;&#21040;&#30340;&#65289;&#26159;&#23545;&#35937;&#20540;&#12290;
	  </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13129"></a>21.11.3.&nbsp;&#36864;&#35746;&#20027;&#39064;</h3></div></div><div></div></div><p>
      &#22914;&#26524;&#35201;&#21462;&#28040;&#19968;&#20010;&#20027;&#39064;&#30340;&#35746;&#38405;&#65292;&#21017;&#38656;&#35201;&#35843;&#29992; <tt class="literal">Seam.Remoting.unsubscribe()</tt>&#65292;&#24182;&#19988;&#20256;&#36827;&#36825;&#20010;&#20027;&#39064;&#30340;&#21517;&#31216;&#65306;
	  </p><pre class="programlisting">Seam.Remoting.unsubscribe("topicName");</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13139"></a>21.11.4.&nbsp;&#35843;&#25972;&#36718;&#35810;&#36807;&#31243;</h3></div></div><div></div></div><p>
      &#20320;&#21487;&#20197;&#36890;&#36807;&#20462;&#25913;&#20004;&#20010;&#21442;&#25968;&#26469;&#25511;&#21046;&#36718;&#35810;&#30340;&#21457;&#29983;&#26041;&#24335;&#12290;
      &#31532;&#19968;&#20010;&#21442;&#25968;&#26159;<tt class="literal">Seam.Remoting.pollInterval</tt>&#65292;&#23427;&#25511;&#21046;&#26032;&#28040;&#24687;&#30340;&#24182;&#21457;&#36718;&#35810;&#38388;&#38548;&#12290;&#36825;&#20010;&#21442;&#25968;&#30340;&#21333;&#20301;&#26159;&#31186;&#65292;&#40664;&#35748;&#20540;&#26159;10&#12290;
	  </p><p>
      &#31532;&#20108;&#20010;&#21442;&#25968;&#26159; <tt class="literal">Seam.Remoting.pollTimeout</tt>&#65292;&#23427;&#30340;&#21333;&#20301;&#20063;&#26159;&#31186;&#12290;
      &#23427;&#25511;&#21046;&#22312;&#36229;&#26102;&#21644;&#21457;&#36865;&#19968;&#20010;&#31354;&#30340;&#21709;&#24212;&#20043;&#21069;&#65292;&#21457;&#36865;&#21040;&#26381;&#21153;&#22120;&#31471;&#30340;&#35831;&#27714;&#31561;&#24453;&#26032;&#28040;&#24687;&#35201;&#31561;&#22810;&#20037;&#12290;
      &#23427;&#30340;&#40664;&#35748;&#20540;&#26159;0&#31186;&#65292;&#20063;&#23601;&#26159;&#35828;&#24403;&#26381;&#21153;&#22120;&#31471;&#34987;&#36718;&#35810;&#21040;&#21518;&#65292;&#22914;&#26524;&#27809;&#26377;&#24050;&#32463;&#20934;&#22791;&#22909;&#30340;&#28040;&#24687;&#21457;&#36865;&#65292;&#21017;&#31435;&#21363;&#21457;&#36865;&#19968;&#20010;&#31354;&#30340;&#21709;&#24212;&#12290;
	  </p><p>
      &#33509;&#35201;&#35774;&#32622;&#19968;&#20010;&#39640;&#30340; <tt class="literal">pollTimeout</tt> &#20540;&#65292;&#20320;&#24212;&#35813;&#38750;&#24120;&#35880;&#24910;&#65307;&#27599;&#19968;&#20010;&#35831;&#27714;&#37117;&#24517;&#39035;&#31561;&#24453;&#19968;&#20010;&#21709;&#24212;&#28040;&#24687;&#65292;&#20063;&#23601;&#26159;&#35828;&#26381;&#21153;&#22120;&#31471;&#32447;&#31243;&#22312;&#25910;&#21040;&#28040;&#24687;&#21069;&#65292;&#25110;&#32773;&#35831;&#27714;&#36229;&#26102;&#21069;&#26159;&#34987;&#38459;&#22622;&#30340;&#12290;
      &#30001;&#20110;&#36825;&#20010;&#21407;&#22240;&#65292;&#22914;&#26524;&#24456;&#22810;&#35831;&#27714;&#21516;&#26102;&#34987;&#22788;&#29702;&#65292;&#20250;&#23548;&#33268;&#22823;&#37327;&#30340;&#32447;&#31243;&#34987;&#38459;&#22622;&#12290;
	  </p><p>
      &#24314;&#35758;&#36890;&#36807;components.xml&#26469;&#35774;&#32622;&#36825;&#20123;&#36873;&#39033;&#65292;&#20294;&#26159;&#22914;&#26524;&#38656;&#35201;&#65292;&#20063;&#21487;&#20197;&#36890;&#36807;JavaScript&#26469;&#35206;&#30422;&#23427;&#20204;&#12290;
      &#19979;&#38754;&#30340;&#20363;&#23376;&#35828;&#26126;&#20102;&#22914;&#20309;&#37197;&#32622;&#36718;&#35810;&#20197;&#20351;&#24471;&#23427;&#26356;&#20855;&#20405;&#30053;&#24615;&#12290;&#20320;&#24212;&#35813;&#22312;&#24212;&#29992;&#31243;&#24207;&#20013;&#20026;&#36825;&#20123;&#21442;&#25968;&#35774;&#32622;&#36866;&#24403;&#30340;&#20540;&#12290;
	  </p><p>&#36890;&#36807;components.xml&#37197;&#32622;&#65306;</p><pre class="programlisting">&lt;remoting:remoting poll-timeout="5" poll-interval="1"/&gt;</pre><p>&#36890;&#36807;JavaScript&#37197;&#32622;&#65306;</p><pre class="programlisting">// Only wait 1 second between receiving a poll response and sending the next poll request.
Seam.Remoting.pollInterval = 1;

// Wait up to 5 seconds on the server for new messages
Seam.Remoting.pollTimeout = 5;   </pre></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="gwt"></a>Chapter&nbsp;22.&nbsp;Seam&#21644;Google&#30340;Web&#24037;&#20855;&#21253;(GWT)</h2></div></div><div></div></div><p>
    &#23545;&#20110;&#37027;&#20123;&#23425;&#24895;&#20351;&#29992;Google Web Toolkit&#65288;&#20197;&#19979;&#31616;&#31216;&#65306;GWT&#65289;&#21435;&#24320;&#21457;&#21160;&#24577;&#30340;AJAX&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;&#20154;&#20204;&#26469;&#35828;&#65292;Seam&#25552;&#20379;&#20102;&#19968;&#20010;&#20801;&#35768;GWT widget&#30452;&#25509;&#19982;Seam&#32452;&#20214;&#20132;&#20114;&#30340;&#25972;&#21512;&#23618;&#12290;
  </p><p>
    &#20026;&#20102;&#20351;&#29992;GWT&#65292;&#25105;&#20204;&#20551;&#35774;&#20320;&#24050;&#32463;&#24456;&#29087;&#24713;GWT&#24037;&#20855; - &#26356;&#22810;&#20449;&#24687;&#21487;&#20197;&#22312; <a href="http://code.google.com/webtoolkit/" target="_top">http://code.google.com/webtoolkit/</a> &#20013;&#25214;&#21040;&#12290;
    &#26412;&#31456;&#23601;&#19981;&#21435;&#35299;&#37322;GWT&#22914;&#20309;&#24037;&#20316;&#20197;&#21450;&#22914;&#20309;&#20351;&#29992;&#20102;&#12290;
  </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13177"></a>22.1.&nbsp;&#37197;&#32622;</h2></div></div><div></div></div><p>
      &#22312;Seam&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;GWT&#24182;&#19981;&#38656;&#35201;&#29305;&#21035;&#30340;&#37197;&#32622;&#65292;&#20294;&#26159;Seam&#36164;&#28304;&#30340;servlet&#26159;&#24517;&#39035;&#23433;&#35013;&#30340;&#12290;&#26356;&#22810;&#35814;&#24773;&#35831;&#30475; <a href="#configuration" title="Chapter&nbsp;25.&nbsp;Seam&#37197;&#32622;&#21644;Seam&#24212;&#29992;&#31243;&#24207;&#25171;&#21253;">Chapter&nbsp;25, <i>Seam&#37197;&#32622;&#21644;Seam&#24212;&#29992;&#31243;&#24207;&#25171;&#21253;</i></a> &#12290;
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13184"></a>22.2.&nbsp;&#20934;&#22791;&#20320;&#30340;&#32452;&#20214;</h2></div></div><div></div></div><p>
      &#20934;&#22791;&#19968;&#20010;&#35201;&#36890;&#36807;GWT&#36827;&#34892;&#35843;&#29992;&#30340;Seam&#32452;&#20214;&#30340;&#31532;&#19968;&#27493;&#65292;&#26159;&#32473;&#20320;&#24819;&#35201;&#35843;&#29992;&#30340;&#26041;&#27861;&#21019;&#24314;&#21516;&#27493;&#21644;&#24322;&#27493;&#30340;&#26381;&#21153;&#25509;&#21475;&#12290;&#36825;&#20004;&#20010;&#25509;&#21475;&#37117;&#24212;&#35813;&#25193;&#23637;GWT&#25509;&#21475; <tt class="literal">com.google.gwt.user.client.rpc.RemoteService</tt> &#65306;
    </p><pre class="programlisting">  public interface MyService extends RemoteService
  {
    public String askIt(String question);
  }</pre><p>
      &#24322;&#27493;&#25509;&#21475;&#24212;&#35813;&#23436;&#20840;&#30456;&#21516;&#65292;&#38500;&#27492;&#20043;&#22806;&#65292;&#23427;&#36824;&#35201;&#32473;&#23427;&#22768;&#26126;&#30340;&#27599;&#19968;&#20010;&#26041;&#27861;&#21253;&#21547;&#19968;&#20010;&#39069;&#22806;&#30340; <tt class="literal">AsyncCallback</tt> &#21442;&#25968;&#65306;
    </p><pre class="programlisting">  public interface MyServiceAsync extends RemoteService
  {
    public void askIt(String question, AsyncCallback callback);
  }</pre><p>
      &#22312;&#36825;&#20010;&#33539;&#20363; <tt class="literal">MyServiceAsync</tt> &#20013;&#65292;&#24322;&#27493;&#25509;&#21475;&#23558;&#36890;&#36807;GWT&#23454;&#29616;&#65292;&#24182;&#19988;&#27704;&#36828;&#19981;&#24212;&#35813;&#30452;&#25509;&#23454;&#29616;&#12290;
    </p><p>
      &#19979;&#19968;&#27493;&#65292;&#26159;&#21019;&#24314;&#19968;&#20010;&#23454;&#29616;&#21516;&#27493;&#25509;&#21475;&#30340;Seam&#32452;&#20214;&#65306;
    </p><pre class="programlisting">  @Name("org.jboss.seam.example.remoting.gwt.client.MyService")
  public class ServiceImpl implements MyService
  {
    @WebRemote
    public String askIt(String question)
    {
      if (!validate(question))
      {
        throw new IllegalStateException("Hey, this shouldn't happen, I checked on the client, " +
               "but its always good to double check.");
      }
      return "42. Its the real question that you seek now.";
    }

    public boolean validate(String q)
    {
      ValidationUtility util = new ValidationUtility();
      return util.isValid(q);
    }
  }</pre><p>
      &#24212;&#35813;&#20570;&#25104;&#33021;&#36890;&#36807;GWT&#35775;&#38382;&#30340;&#37027;&#20123;&#26041;&#27861;&#65292;&#38656;&#35201;&#36890;&#36807;&#26631;&#35782; <tt class="literal">@WebRemote</tt> &#36827;&#34892;&#27880;&#35299;&#65292;&#36825;&#26159;&#25152;&#26377;&#33021;&#22815;&#36827;&#34892;Web&#36828;&#31243;&#35775;&#38382;&#30340;&#26041;&#27861;&#37117;&#35201;&#27714;&#30340;&#12290;
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13215"></a>22.3.&nbsp;&#23558;GWT&#23567;&#32452;&#20214;&#25509;&#21040;Seam&#32452;&#20214;</h2></div></div><div></div></div><p>
      &#19979;&#19968;&#27493;&#65292;&#26159;&#32534;&#20889;&#19968;&#20010;&#23558;&#24322;&#27493;&#25509;&#21475;&#36820;&#22238;&#32473;&#32452;&#20214;&#30340;&#26041;&#27861;&#12290;&#36825;&#20010;&#26041;&#27861;&#21487;&#20197;&#25918;&#22312;&#23567;&#32452;&#20214;&#31867;&#37324;&#38754;&#65292;&#23558;&#34987;&#23567;&#32452;&#20214;&#29992;&#26469;&#33719;&#24471;&#19968;&#20010;&#23545;&#24322;&#27493;&#23458;&#25143;&#31471;&#23384;&#26681;&#65288;stub&#65289;&#30340;&#24341;&#29992;&#65306;
    </p><pre class="programlisting">   private MyServiceAsync getService()
   {
      String endpointURL = GWT.getModuleBaseURL() + "seam/resource/gwt";

      MyServiceAsync svc = (MyServiceAsync) GWT.create(MyService.class);
      ((ServiceDefTarget) svc).setServiceEntryPoint(endpointURL);
      return svc;
   }</pre><p>
       &#26368;&#21518;&#19968;&#27493;&#23601;&#26159;&#32534;&#20889;&#23567;&#32452;&#20214;&#20195;&#30721;&#65292;&#23427;&#22312;&#23458;&#25143;&#31471;&#23384;&#26681;&#19978;&#35843;&#29992;&#26041;&#27861;&#12290;&#20197;&#19979;&#20195;&#30721;&#21019;&#24314;&#19968;&#20010;&#31616;&#21333;&#30340;&#29992;&#25143;&#25509;&#21475;&#65292;&#21253;&#21547;label&#65288;&#26631;&#31614;&#65289;&#12289;text input&#65288;&#25991;&#26412;&#36755;&#20837;&#26694;&#65289;&#21644;&#19968;&#20010;button&#65288;&#25353;&#38062;&#65289;&#65306;
    </p><pre class="programlisting">
public class AskQuestionWidget extends Composite
{
   private AbsolutePanel panel = new AbsolutePanel();

   public AskQuestionWidget()
   {
      Label lbl = new Label("OK, what do you want to know?");
      panel.add(lbl);
      final TextBox box = new TextBox();
      box.setText("What is the meaning of life?");
      panel.add(box);
      Button ok = new Button("Ask");
      ok.addClickListener(new ClickListener()
      {
         public void onClick(Widget w)
         {
            ValidationUtility valid = new ValidationUtility();
            if (!valid.isValid(box.getText()))
            {
               Window.alert("A question has to end with a '?'");
            }
            else
            {
               askServer(box.getText());
            }
         }
      });
      panel.add(ok);

      initWidget(panel);
   }

   private void askServer(String text)
   {
      getService().askIt(text, new AsyncCallback()
      {
         public void onFailure(Throwable t)
         {
            Window.alert(t.getMessage());
         }

         public void onSuccess(Object data)
         {
            Window.alert((String) data);
         }
      });
   }

   ...
    </pre><p>
      &#24403;&#28857;&#20987;&#25353;&#38062;&#26102;&#65292;&#23427;&#23601;&#35843;&#29992; <tt class="literal">askServer()</tt> &#26041;&#27861;&#26469;&#20256;&#36882;&#36755;&#20837;&#26694;&#30340;&#20869;&#23481;&#65288;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#36824;&#25191;&#34892;&#20102;&#39564;&#35777;&#65292;&#20197;&#30830;&#20445;&#36755;&#20837;&#30340;&#26159;&#26377;&#25928;&#30340;&#38382;&#39064;&#65289;&#12290;&#36825;&#20010; <tt class="literal">askServer()</tt> &#26041;&#27861;&#33719;&#24471;&#19968;&#20010;&#23545;&#24322;&#27493;&#23458;&#25143;&#31471;&#23384;&#26681;&#30340;&#24341;&#29992;&#65288;&#30001; <tt class="literal">getService()</tt> &#26041;&#27861;&#36820;&#22238;&#65289;&#65292;&#24182;&#35843;&#29992; <tt class="literal">askIt()</tt> &#26041;&#27861;&#12290;&#36825;&#20010;&#32467;&#26524;&#65288;&#25110;&#32773;&#35843;&#29992;&#22833;&#36133;&#26102;&#30340;&#38169;&#35823;&#20449;&#24687;&#65289;&#26174;&#31034;&#22312;&#20197;&#19968;&#20010;&#35686;&#21578;&#31383;&#21475;&#20013;&#12290;
    </p><div class="mediaobject" align="center"><img src="images/gwt-helloworld.png" align="middle"></div><p>
      &#36825;&#20010;&#20363;&#23376;&#30340;&#23436;&#25972;&#20195;&#30721;&#21487;&#20197;&#22312;Seam&#21457;&#34892;&#21253;&#30340; <tt class="literal">examples/remoting/gwt</tt> &#20013;&#25214;&#21040;&#12290;
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13250"></a>22.4.&nbsp;GWT Ant Targets</h2></div></div><div></div></div><p>
      &#23545;&#20110;GWT&#24212;&#29992;&#31243;&#24207;&#30340;&#21457;&#24067;&#65288;&#37096;&#32626;&#65289;&#26469;&#35828;&#65292;&#26377;&#19968;&#20010;&#32534;&#35793;&#25104;JavaScript&#30340;&#27493;&#39588;&#65288;&#23427;&#21387;&#32553;&#21644;&#28151;&#28102;&#20102;&#20195;&#30721;&#65289;&#12290;
      &#26377;&#19968;&#20010;Ant&#23454;&#29992;&#31243;&#24207;&#21487;&#20197;&#29992;&#26469;&#21462;&#20195;GWT&#25552;&#20379;&#30340;&#21629;&#20196;&#34892;&#25110;&#32773;GUI&#23454;&#29992;&#31243;&#24207;&#12290;
      &#20026;&#20102;&#20351;&#29992;&#36825;&#20010;&#21151;&#33021;&#65292;&#20320;&#19981;&#20165;&#22312;Ant classpath&#20013;&#35201;&#26377;Ant&#30340;&#20219;&#21153;jar&#21253;&#65292;&#36824;&#35201;&#19979;&#36733;GWT&#65288;&#26080;&#35770;&#24590;&#26679;&#65292;&#20320;&#22312;&#26412;&#26426;&#27169;&#24335;&#19979;&#26102;&#20063;&#20250;&#38656;&#35201;&#23427;&#65289;&#12290;
    </p><p>
      &#25509;&#19979;&#26469;&#22312;&#20320;&#30340;Ant&#25991;&#20214;&#20013;&#65288;&#22312;&#20320;&#30340;Ant&#25991;&#20214;&#39030;&#22836;&#38468;&#36817;&#65289;
    </p><pre class="programlisting">  &lt;taskdef uri="antlib:de.samaflost.gwttasks"
                resource="de/samaflost/gwttasks/antlib.xml"
                classpath="./lib/gwttasks.jar"/&gt;

  &lt;property file="build.properties"/&gt;</pre><p>
      &#21019;&#24314;&#19968;&#20010; <tt class="literal">build.properties</tt> &#25991;&#20214;&#65292;&#23427;&#21253;&#25324;&#20197;&#19979;&#20869;&#23481;&#65306;
    </p><pre class="programlisting">gwt.home=/gwt_home_dir</pre><p>
      &#36825;&#24403;&#28982;&#24212;&#35813;&#25351;&#21521;GWT&#30340;&#23433;&#35013;&#36335;&#24452;&#12290;&#28982;&#21518;&#29992;&#23427;&#21019;&#24314;&#19968;&#20010;Target&#65306;
    </p><pre class="programlisting">  &lt;!-- the following are are handy utilities for doing GWT development.
      To use GWT, you will of course need to download GWT seperately --&gt;
  &lt;target name="gwt-compile"&gt;
      &lt;!-- in this case, we are "re homing" the gwt generated stuff, so in this case
      we can only have one GWT module - we are doing this deliberately to keep the URL short --&gt;
      &lt;delete&gt;
          &lt;fileset dir="view"/&gt;
      &lt;/delete&gt;
      &lt;gwt:compile outDir="build/gwt"
          gwtHome="${gwt.home}"
          classBase="${gwt.module.name}"
          sourceclasspath="src"/&gt;
      &lt;copy todir="view"&gt;
          &lt;fileset dir="build/gwt/${gwt.module.name}"/&gt;
      &lt;/copy&gt;
  &lt;/target&gt;</pre><p>
      This target when called will compile the GWT application, and copy it to the specified directory (which would be
      in the <tt class="literal">webapp</tt> part of your war - remember GWT generates HTML and Javascript artifacts).  You
      never edit the resulting code that <tt class="literal">gwt-compile</tt> generates - you always edit in the GWT source
      directory.
      &#24403;&#36825;&#20010;Target&#34987;&#35843;&#29992;&#26102;&#65292;&#23558;&#32534;&#35793;GWT&#24212;&#29992;&#31243;&#24207;&#65292;&#24182;&#23558;&#23427;&#22797;&#21046;&#21040;&#25351;&#23450;&#30340;&#30446;&#24405;&#20013;&#65288;&#23427;&#20250;&#22312;&#20320;war&#30340; <tt class="literal">webapp</tt> &#37096;&#20998;&#20013; &#8212;&#8212; &#35760;&#20303;GWT&#29983;&#25104;HTML&#21644;Javascript&#24037;&#20214;&#65289;&#12290;
      &#20320;&#27704;&#36828;&#19981;&#29992;&#32534;&#36753; <tt class="literal">gwt-compile</tt> &#29983;&#25104;&#30340;&#32467;&#26524;&#20195;&#30721; &#8212;&#8212; &#20320;&#22987;&#32456;&#22312;GWT&#28304;&#36335;&#24452;&#20013;&#36827;&#34892;&#32534;&#36753;&#12290;
    </p><p>
      &#35760;&#20303;GWT&#26377;&#19968;&#20010;&#26412;&#26426;&#27169;&#24335;&#27983;&#35272;&#22120; &#8212;&#8212; &#20320;&#22312;&#29992;GWT&#24320;&#21457;&#26102;&#20351;&#29992;&#30340;&#24212;&#35813;&#23601;&#26159;&#23427;&#12290;
      &#22914;&#26524;&#20320;&#27809;&#26377;&#20351;&#29992;&#35813;&#27983;&#35272;&#22120;&#65292;&#32780;&#21482;&#26159;&#27599;&#27425;&#23545;&#23427;&#36827;&#34892;&#32534;&#35793;&#65292;&#37027;&#20320;&#23601;&#27809;&#26377;&#20805;&#20998;&#21033;&#29992;&#36825;&#20010;&#24037;&#20855;&#21253;&#65288;&#20107;&#23454;&#19978;&#65292;&#22914;&#26524;&#20320;&#26080;&#27861;&#25110;&#32773;&#27809;&#26377;&#20351;&#29992;&#26412;&#26426;&#27169;&#24335;&#27983;&#35272;&#22120;&#65292;&#25105;&#21482;&#33021;&#35828;&#20320;&#26681;&#26412;&#19981;&#24212;&#35813;&#20351;&#29992;GWT &#8212;&#8212; &#23427;&#38750;&#24120;&#26377;&#29992;&#65281;&#65289;
    </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="spring"></a>Chapter&nbsp;23.&nbsp;Spring Framework&#38598;&#25104;</h2></div></div><div></div></div><p>Spring&#38598;&#25104;&#27169;&#22359;&#21487;&#20197;&#25226;&#22522;&#20110;Spring&#30340;&#39033;&#30446;&#36731;&#26494;&#31227;&#26893;&#21040;Seam&#65292;&#24182;&#19988;&#20801;&#35768;Spring&#24212;&#29992;Seam&#30340;&#19968;&#20123;&#20851;&#38190;&#29305;&#24615;&#65292;&#20363;&#22914;&#23545;&#35805;&#65288;Conversation&#65289;&#21644;Seam&#30340;&#39640;&#32423;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#31649;&#29702;&#12290; </p><p>&#35831;&#27880;&#24847;&#65281;Spring&#38598;&#25104;&#20195;&#30721;&#21253;&#21547;&#22312;jboss-seam-ioc&#24211;&#20013;&#12290;&#22312;&#26412;&#31456;&#28041;&#21450;&#30340;&#25152;&#26377;seam-spring&#38598;&#25104;&#25216;&#26415;&#20013;&#37117;&#38656;&#35201;&#24341;&#29992;&#36825;&#20010;&#20381;&#36182;&#12290;</p><p> Seam&#23545;Spring&#25552;&#20379;&#20102;&#22914;&#19979;&#19968;&#20123;&#25903;&#25345;&#65306; </p><div class="itemizedlist"><ul type="disc"><li><p>&#25226;Seam&#30340;&#32452;&#20214;&#23454;&#20363;&#27880;&#20837;&#21040;Spring Bean&#20013;</p></li><li><p>&#25226;Spring Bean&#27880;&#20837;&#21040;Seam&#32452;&#20214;&#20013;</p></li><li><p>&#25226;Spring Bean&#36716;&#25442;&#25104;Seam&#32452;&#20214;</p></li><li><p>&#20801;&#35768;Spring Bean&#23384;&#22312;&#20110;&#20219;&#20309;Seam&#30340;&#19978;&#19979;&#25991;&#20013;</p></li><li><p>&#20351;&#29992;Seam&#32452;&#20214;&#26469;&#21551;&#21160;&#19968;&#20010;Spring WebApplicationContext</p></li><li><p>&#25903;&#25345;Spring PlatformTransactionManagement</p></li><li><p>&#20026;Spring&#30340; <tt class="literal">OpenEntityManagerInViewFilter</tt> &#21644; <tt class="literal">OpenSessionInViewFilter</tt> &#25552;&#20379;&#19968;&#20010;Seam&#31649;&#29702;&#30340;&#26367;&#20195;&#21697;</p></li><li><p>&#25903;&#25345;&#30001; <tt class="literal">@Asynchronous</tt> &#35843;&#29992;&#30340;Spring <tt class="literal">TaskExecutors</tt></p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13331"></a>23.1.&nbsp;&#25226;Seam&#32452;&#20214;&#27880;&#20837;Spring Bean&#20013; </h2></div></div><div></div></div><p>&#35201;&#25226;Seam&#32452;&#20214;&#27880;&#20837;&#21040;Spring Bean&#20013;&#65292;&#38656;&#35201;&#20351;&#29992;&#21040; <tt class="literal">&lt;seam:instance/&gt;</tt> &#21629;&#21517;&#31354;&#38388;&#22788;&#29702;&#22120;&#12290;
		&#35201;&#21551;&#29992;&#35813;&#22788;&#29702;&#22120;&#65292;Spring Bean&#30340;&#23450;&#20041;&#25991;&#20214;&#20013;&#24517;&#39035;&#28155;&#21152;Seam&#21629;&#21517;&#31354;&#38388;&#65306;
         </p><pre class="programlisting">&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:seam="http://jboss.com/products/seam/spring-seam"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
                        http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
                        http://jboss.com/products/seam/spring-seam
                        http://jboss.com/products/seam/spring-seam-2.0.xsd"&gt;</pre><p>&#29616;&#22312;&#65292;&#27599;&#19968;&#20010;Seam&#32452;&#20214;&#37117;&#21487;&#20197;&#34987;&#27880;&#20837;&#21040;&#20219;&#24847;Spring Bean&#20013;&#20102;&#65306;</p><pre class="programlisting">&lt;bean id="someSpringBean" class="SomeSpringBeanClass" scope="prototype"&gt;
    &lt;property name="someProperty"&gt;
        &lt;seam:instance name="someComponent"/&gt;
    &lt;/property&gt;
&lt;/bean&gt;</pre><p>&#21487;&#20197;&#29992;EL&#34920;&#36798;&#24335;&#26469;&#20195;&#26367;&#32452;&#20214;&#21517;&#65306;</p><pre class="programlisting">&lt;bean id="someSpringBean" class="SomeSpringBeanClass" scope="prototype"&gt;
    &lt;property name="someProperty"&gt;
        &lt;seam:instance name="#{someExpression}"/&gt;
    &lt;/property&gt;
&lt;/bean&gt;</pre><p>Seam&#32452;&#20214;&#23454;&#20363;&#29978;&#33267;&#36824;&#21487;&#20197;&#36890;&#36807;Spring Bean id&#26469;&#27880;&#20837;&#21040;Spring Bean&#20013;&#12290; </p><pre class="programlisting">&lt;seam:instance name="someComponent" id="someSeamComponentInstance"/&gt;

&lt;bean id="someSpringBean" class="SomeSpringBeanClass" scope="prototype"&gt;
    &lt;property name="someProperty" ref="someSeamComponentInstance"&gt;
&lt;/bean&gt;
</pre><p>&#35686;&#21578;&#65281;</p><p>Seam&#20351;&#29992;&#22810;&#20010;&#19978;&#19979;&#25991;&#26469;&#23436;&#20840;&#25903;&#25345;&#26377;&#29366;&#24577;&#32452;&#20214;&#12290;Spring&#19981;&#26159;&#36825;&#26679;&#12290;&#21644;Seam&#30340;&#21452;&#21521;&#27880;&#20837;&#65288;bijection&#65289;&#19981;&#21516;&#65292;Spring&#30340;&#27880;&#20837;&#24182;&#19981;&#26159;&#22312;&#26041;&#27861;&#35843;&#29992;&#26102;&#65292;&#32780;&#26159;&#21457;&#29983;&#22312;Spring Bean&#21021;&#22987;&#21270;&#26102;&#12290;&#22240;&#27492;&#65292;Bean&#21021;&#22987;&#21270;&#26102;&#34987;&#29992;&#21040;&#30340;&#37027;&#20010;&#23454;&#20363;&#65292;&#20250;&#22312;Bean&#30340;&#25972;&#20010;&#29983;&#21629;&#21608;&#26399;&#20013;&#19968;&#30452;&#34987;&#20351;&#29992;&#12290;&#20363;&#22914;&#65292;&#19968;&#20010;Seam&#30340; <tt class="literal">CONVERSATION</tt> &#22495;&#32452;&#20214;&#34987;&#30452;&#25509;&#27880;&#20837;&#21040;&#19968;&#20010;&#21333;&#20363;Spring Bean&#20013;&#65292;&#36825;&#20010;&#21333;&#20363;&#30340;Bean&#23558;&#38271;&#26399;&#25345;&#26377;&#36825;&#20010;&#23454;&#20363;&#30340;&#24341;&#29992;&#65292;&#30452;&#21040;&#23545;&#35805;&#32467;&#26463;&#65281;&#25105;&#20204;&#25226;&#36825;&#31181;&#38382;&#39064;&#31216;&#20026; <span class="emphasis"><em>&#22495;&#38459;&#25239;&#65288;scope impedance&#65289;</em></span>&#12290;Seam&#30340;&#21452;&#21521;&#27880;&#20837;&#21487;&#20197;&#24456;&#33258;&#28982;&#22320;&#31649;&#29702;&#22495;&#38459;&#25239;&#65292;&#23601;&#22909;&#35937;&#31995;&#32479;&#20013;&#30340;&#35843;&#29992;&#19968;&#26679;&#12290;&#22312;Spring&#20013;&#65292;&#25105;&#20204;&#38656;&#35201;&#27880;&#20837;&#19968;&#20010;Seam&#32452;&#20214;&#30340;&#20195;&#29702;&#65292;&#24182;&#19988;&#22312;&#20195;&#29702;&#34987;&#35843;&#29992;&#30340;&#26102;&#20505;&#35299;&#26512;&#35813;&#24341;&#29992;&#12290;</p><p><tt class="literal">&lt;seam:instance/&gt;</tt> &#26631;&#31614;&#21487;&#20197;&#33258;&#21160;&#20195;&#29702;Seam&#32452;&#20214;&#12290;</p><pre class="programlisting">&lt;seam:instance id="seamManagedEM" name="someManagedEMComponent" proxy="true"/&gt;

&lt;bean id="someSpringBean" class="SomeSpringBeanClass"&gt;
    &lt;property name="entityManager" ref="seamManagedEM"&gt;
&lt;/bean&gt;</pre><p>&#36825;&#20010;&#20363;&#23376;&#28436;&#31034;&#20102;&#19968;&#31181;&#22312;Spring Bean&#20013;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#26041;&#27861;&#12290;&#65288;&#24819;&#35201;&#20102;&#35299;&#22914;&#20309;&#26356;&#20581;&#22766;&#22320;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#26469;&#26367;&#25442;Spring&#30340; <tt class="literal">OpenEntityManagerInView</tt> &#36807;&#28388;&#22120;&#65292;&#35831;&#35265; <a href="#spring-persistence" title="23.6.&nbsp;&#22312;Spring&#20013;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;"> &#22312;Spring&#20013;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</a>&#65289;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13377"></a>23.2.&nbsp;&#23558;Spring Bean&#27880;&#20837;&#21040;Seam&#32452;&#20214;&#20013;</h2></div></div><div></div></div><p>&#23558;Spring Bean&#27880;&#20837;&#21040;Seam&#32452;&#20214;&#23454;&#20363;&#20013;&#26356;&#23481;&#26131;&#65292;&#26377;&#20108;&#31181;&#26041;&#27861;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#20351;&#29992;EL&#34920;&#36798;&#24335;&#27880;&#20837;Spring Bean </p></li><li><p>&#25226;Spring Bean&#36716;&#21270;&#20026;Seam&#32452;&#20214; </p></li></ul></div><p>&#25105;&#20204;&#23558;&#22312;&#19979;&#19968;&#23567;&#33410;&#20013;&#35752;&#35770;&#31532;&#20108;&#31181;&#26041;&#27861;&#12290;&#35775;&#38382;Spring Bean&#26368;&#31616;&#21333;&#30340;&#26041;&#27861;&#26159;&#36890;&#36807;EL&#34920;&#36798;&#24335;&#12290;</p><p>Spring&#30340;<tt class="literal">DelegatingVariableResolver</tt>&#26159;Spring&#29992;&#20110;&#25972;&#21512;JSF&#30340;&#19968;&#20010;&#38598;&#25104;&#28857;&#12290;<tt class="literal">VariableResolver</tt> &#20801;&#35768;&#25152;&#26377;&#30340;Spring Bean&#36890;&#36807;Bean id&#22312;EL&#20013;&#34987;&#20351;&#29992;&#12290;&#20320;&#38656;&#35201;&#22312; <tt class="literal">faces-config.xml</tt> &#20013;&#28155;&#21152; <tt class="literal">DelegatingVariableResolver</tt>&#65306;</p><pre class="programlisting">&lt;application&gt;
    &lt;variable-resolver&gt;
        org.springframework.web.jsf.DelegatingVariableResolver
    &lt;/variable-resolver&gt;
&lt;/application&gt;</pre><p>&#25509;&#19979;&#26469;&#20320;&#21487;&#20197;&#20351;&#29992; <tt class="literal">@In</tt> &#26469;&#27880;&#20837; Spring Bean&#65306;</p><pre class="programlisting">@In("#{bookingService}")
private BookingService bookingService;</pre><p>Spring Bean&#22312;EL&#20013;&#30340;&#24212;&#29992;&#19981;&#21333;&#21333;&#21482;&#26377;&#27880;&#20837;&#12290;Seam&#30340;&#20219;&#20309;EL&#34920;&#36798;&#24335;&#20013;&#37117;&#21487;&#20197;&#20351;&#29992;Spring Bean&#65306;&#36807;&#31243;&#21644;&#39029;&#38754;&#27969;&#30340;&#23450;&#20041;&#65292;&#24037;&#20316;&#20869;&#23384;&#26029;&#35328;&#65288;working memory assertions&#65289;&#31561;&#31561;...</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13416"></a>23.3.&nbsp;&#23558;Spring Bean&#36716;&#25442;&#20026;Seam&#32452;&#20214;</h2></div></div><div></div></div><p><tt class="literal">&lt;seam:component/&gt;</tt> &#21629;&#21517;&#31354;&#38388;&#22788;&#29702;&#22120;&#29992;&#20110;&#23558;Spring Bean&#36716;&#25442;&#25104;&#19968;&#20010;Seam&#32452;&#20214;&#12290;&#21482;&#38656;&#35201;&#22312;&#20320;&#24076;&#26395;&#36716;&#25442;&#20026;Seam&#32452;&#20214;&#30340;Bean&#30340;&#22768;&#26126;&#20013;&#21152;&#19978; <tt class="literal">&lt;seam:component/&gt;</tt> &#26631;&#31614;&#21363;&#21487;&#65306;</p><pre class="programlisting">&lt;bean id="someSpringBean" class="SomeSpringBeanClass" scope="prototype"&gt;
    &lt;seam:component/&gt;
&lt;/bean&gt;</pre><p>&#40664;&#35748;&#24773;&#20917;&#19979;, <tt class="literal">&lt;seam:component/&gt;</tt> &#23558;&#20351;&#29992;Bean&#23450;&#20041;&#20013;&#25552;&#20379;&#30340;&#31867;&#21644;&#21517;&#31216;&#26469;&#21019;&#24314;&#19968;&#20010; <tt class="literal">&#26080;&#29366;&#24577;&#65288;STATELESS&#65289;</tt> &#30340;Seam&#32452;&#20214;&#12290;&#26377;&#26102;&#20505;&#65292;&#22312;&#20351;&#29992; <tt class="literal">FactoryBean</tt> &#26102;&#65292;Spring Bean&#30340;&#31867;&#21487;&#33021;&#19981;&#26159;Bean&#23450;&#20041;&#20013;&#30340;&#37027;&#20010;&#31867;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;<tt class="literal">class</tt> &#24212;&#35813;&#26159;&#34987;&#26126;&#30830;&#25351;&#23450;&#30340;&#12290;&#22312;&#21487;&#33021;&#23384;&#22312;&#21629;&#21517;&#20914;&#31361;&#26102;&#38656;&#35201;&#26126;&#30830;&#32473;&#20986;Seam&#30340;&#32452;&#20214;&#21517;&#12290;</p><p>&#22914;&#26524;&#20320;&#24076;&#26395;Spring Bean&#22312;&#19968;&#20010;&#29305;&#23450;&#30340;Seam&#22495;&#20013;&#21463;&#31649;&#29702;&#65292;&#23601;&#20351;&#29992; <tt class="literal">&lt;seam:component/&gt;</tt> &#30340; <tt class="literal">scope</tt> &#23646;&#24615;&#12290;&#22914;&#26524;&#25351;&#23450;&#20102;&#20219;&#20309;&#38750; <tt class="literal">&#26080;&#29366;&#24577;</tt> &#30340;Seam&#22495;&#65292;Spring Bean&#23601;&#24517;&#39035;&#38480;&#23450;&#20026; <tt class="literal">prototype</tt> &#30340;&#12290;&#20808;&#21069;&#23384;&#22312;&#30340;Spring Bean&#36890;&#24120;&#37117;&#26377;&#22522;&#30784;&#30340;&#26080;&#29366;&#24577;&#30340;&#29305;&#24449;&#65292;&#25152;&#20197;&#36890;&#24120;&#24182;&#19981;&#38656;&#35201;&#36825;&#20010;&#23646;&#24615;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13456"></a>23.4.&nbsp;Seam&#20316;&#29992;&#22495;&#30340;Spring Bean</h2></div></div><div></div></div><p>Seam&#38598;&#25104;&#21253;&#20013;&#21516;&#26679;&#20801;&#35768;&#20320;&#20687;Spring 2.0&#39118;&#26684;&#30340;&#33258;&#23450;&#20041;&#20316;&#29992;&#22495;&#37027;&#26679;&#26469;&#20351;&#29992;Seam&#30340;&#19978;&#19979;&#25991;&#12290;&#20320;&#21487;&#20197;&#22312;&#20219;&#24847;Seam&#19978;&#19979;&#25991;&#20013;&#23450;&#20041;Spring Bean&#12290;&#20294;&#26159;&#65292;&#38656;&#35201;&#37325;&#30003;&#30340;&#26159;&#65292;Spring&#30340;&#32452;&#20214;&#27169;&#22411;&#24182;&#38750;&#35774;&#35745;&#20026;&#25903;&#25345;&#29366;&#24577;&#65288;Statefullness&#65289;&#30340;&#65292;&#25152;&#20197;&#35831;&#23567;&#24515;&#20351;&#29992;&#36825;&#19968;&#29305;&#24615;&#12290;&#29305;&#21035;&#26159;Session&#21644;Conversation&#20316;&#29992;&#22495;&#30340;Spring Bean&#38598;&#32676;&#24456;&#26377;&#38382;&#39064;&#65292;&#20174;&#22823;&#20316;&#29992;&#22495;&#27880;&#20837;&#21040;&#23567;&#20316;&#29992;&#22495;&#26102;&#20063;&#35201;&#26684;&#22806;&#23567;&#24515;&#12290;</p><p>&#19968;&#26086;&#22312;Spring&#30340;Bean Factory&#37197;&#32622;&#20013;&#25351;&#23450;&#20102; <tt class="literal">&lt;seam:configure-scopes/&gt;</tt>&#65292;&#25152;&#26377;&#30340;Seam&#20316;&#29992;&#22495;&#37117;&#23558;&#20197;&#33258;&#23450;&#20041;&#20316;&#29992;&#22495;&#30340;&#24418;&#24335;&#26292;&#38706;&#32473;Spring Bean&#12290;&#35201;&#23558;&#19968;&#20010;Spring Bean&#19982;&#26576;&#20010;&#29305;&#23450;&#30340;Seam&#20316;&#29992;&#22495;&#32852;&#31995;&#36215;&#26469;&#26102;&#65292;&#35831;&#22312;bean&#23450;&#20041;&#30340; <tt class="literal">scope</tt> &#23646;&#24615;&#20013;&#25351;&#23450;Seam&#20316;&#29992;&#22495;&#12290;</p><pre class="programlisting">&lt;!-- Only needs to be specified once per bean factory--&gt;
&lt;seam:configure-scopes/&gt;

...

&lt;bean id="someSpringBean" class="SomeSpringBeanClass" scope="seam.CONVERSATION"/&gt;</pre><p>&#20316;&#29992;&#22495;&#21517;&#30340;&#21069;&#32512;&#21487;&#20197;&#36890;&#36807; <tt class="literal">configure-scopes</tt> &#23450;&#20041;&#30340; <tt class="literal">prefix</tt> &#23646;&#24615;&#26469;&#20462;&#25913;&#12290;&#65288;&#40664;&#35748;&#30340;&#21069;&#32512;&#26159;<tt class="literal">seam</tt>&#12290;&#65289;</p><p>&#20197;&#36825;&#31181;&#26041;&#24335;&#23450;&#20041;&#30340;Seam&#20316;&#29992;&#22495;Spring Bean&#21487;&#34987;&#27880;&#20837;&#21040;&#20854;&#23427;Spring Bean&#32780;&#26080;&#38656;&#20351;&#29992; <tt class="literal">&lt;seam:instance/&gt;</tt>&#12290;&#20294;&#26159;&#65292;&#20173;&#35201;&#23567;&#24515;&#30830;&#35748;&#22495;&#38459;&#25239;&#26159;&#21542;&#24471;&#21040;&#32500;&#25252;&#12290;&#36890;&#24120;&#65292;&#22312;Spring&#20013;&#30340;&#19968;&#33324;&#20570;&#27861;&#26159;&#22312;Bean&#23450;&#20041;&#20013;&#25351;&#23450; <tt class="literal">&lt;aop:scoped-proxy/&gt;</tt>&#12290;&#20294;&#26159;&#65292;Seam&#20316;&#29992;&#22495;&#30340;Spring Bean&#24182; <span class="emphasis"><em>&#19981;</em></span> &#20860;&#23481;&#20110; <tt class="literal">&lt;aop:scoped-proxy/&gt;</tt>&#12290;&#25152;&#20197;&#22914;&#26524;&#20320;&#38656;&#35201;&#21521;&#26576;&#20010;&#21333;&#20363;&#20013;&#27880;&#20837;Seam&#20316;&#29992;&#22495;&#30340;Spring Bean&#65292;&#24517;&#39035;&#20351;&#29992; <tt class="literal">&lt;seam:instance/&gt;</tt>&#65306;</p><pre class="programlisting">&lt;bean id="someSpringBean" class="SomeSpringBeanClass" scope="seam.CONVERSATION"/&gt;

...

&lt;bean id="someSingleton"&gt;
    &lt;property name="someSeamScopedSpringBean"&gt;
        &lt;seam:instance name="someSpringBean" proxy="true"/&gt;
    &lt;/property&gt;
&lt;/bean&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="spring-transactions"></a>23.5.&nbsp;&#20351;&#29992;Spring PlatformTransactionManagement</h2></div></div><div></div></div><p>Spring&#25552;&#20379;&#20102;&#25903;&#25345;&#22810;&#31181;&#20107;&#21153;API&#65288;JPA&#12289;Hibernate&#12289;JDO&#21644;JTA&#65289;&#30340;&#21487;&#25193;&#23637;&#20107;&#21153;&#31649;&#29702;&#25277;&#35937;&#65292;&#36824;&#25552;&#20379;&#20102;&#19982;&#35832;&#22914;WebSphere&#21644;WebLogic&#20043;&#31867;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;TransactionManagers&#30340;&#32039;&#23494;&#38598;&#25104;&#12290;Spring&#20107;&#21153;&#31649;&#29702;&#25903;&#25345;&#24456;&#22810;&#39640;&#32423;&#29305;&#24615;&#65292;&#20363;&#22914;&#20869;&#23884;&#20107;&#21153;&#21644;&#23436;&#25972;&#30340;Java EE&#20107;&#21153;&#20256;&#25773;&#35268;&#21017;&#65288;REQUIRES_NEW&#12289;NOT_SUPPORTED&#31561;&#31561;&#65289;&#12290;&#24819;&#35201;&#33719;&#24471;&#26356;&#22810;&#20449;&#24687;&#65292;&#35831;&#35265;<a href="http://static.springframework.org/spring/docs/2.0.x/reference/transaction.html" target="_top">Spring&#25991;&#26723;</a>&#12290;</p><p>&#22914;&#19979;&#37197;&#32622;Seam&#23558;&#21551;&#29992;SpringTransaction&#32452;&#20214;&#26469;&#20351;&#29992;Spring&#20107;&#21153;&#65306;</p><pre class="programlisting">&lt;spring:spring-transaction platform-transaction-manager="#{transactionManager}"/&gt;</pre><p>
			<tt class="literal">spring:spring-transaction</tt>&#32452;&#20214;&#23558;&#21033;&#29992;Spring&#20107;&#21153;&#21516;&#27493;&#33021;&#21147;&#26469;&#21516;&#27493;&#22238;&#35843;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="spring-persistence"></a>23.6.&nbsp;&#22312;Spring&#20013;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</h2></div></div><div></div></div><p>Seam&#30340;&#26368;&#24378;&#22823;&#30340;&#21151;&#33021;&#20043;&#19968;&#26159;&#23427;&#30340;&#23545;&#35805;&#20316;&#29992;&#22495;&#65288;conversation scope&#65289;&#21644;&#20026;&#23545;&#35805;&#21608;&#26399;&#25552;&#20379;&#19968;&#20010;EntityManager&#30340;&#33021;&#21147;&#12290;&#36825;&#28040;&#38500;&#20102;&#24456;&#22810;&#19982;&#23454;&#20307;&#30340;&#20998;&#31163;&#21644;&#37325;&#32452;&#30456;&#20851;&#30340;&#38382;&#39064;&#65292;&#20943;&#23569;&#20102; <tt class="literal">LazyInitializationException</tt> &#30340;&#21457;&#29983;&#12290;Spring&#27809;&#26377;&#31649;&#29702;&#36229;&#20986;&#21333;&#20010;Web&#35831;&#27714;&#20316;&#29992;&#22495;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#26041;&#27861;&#65288;<tt class="literal">OpenEntityManagerInViewFilter</tt>&#65289;&#12290;&#25152;&#20197;&#65292;&#22914;&#26524;Spring&#24320;&#21457;&#32773;&#33021;&#22815;&#29992;&#19982;Spring&#38598;&#25104;JPA&#25152;&#29992;&#30340;&#30456;&#21516;&#24037;&#20855;&#26469;&#35775;&#38382;&#19968;&#20010;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#35805;&#23601;&#20877;&#22909;&#19981;&#36807;&#20102;&#12290;&#65288;&#20363;&#22914;<tt class="literal">PersistenceAnnotationBeanPostProcessor</tt>&#12289;<tt class="literal">JpaTemplate</tt>&#31561;&#31561;&#12290;&#65289;</p><p>Seam&#21487;&#20197;&#35753;Spring&#21033;&#29992;&#23427;&#30340;JPA&#24037;&#20855;&#35775;&#38382;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65292;&#36825;&#35753;Spring&#24212;&#29992;&#25317;&#26377;&#20102;&#23545;&#35805;&#20316;&#29992;&#22495;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#30340;&#33021;&#21147;&#12290;</p><p>&#35813;&#38598;&#25104;&#25552;&#20379;&#20197;&#19979;&#21151;&#33021;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#20351;&#29992;Spring&#25552;&#20379;&#30340;&#24037;&#20855;&#36879;&#26126;&#22320;&#35775;&#38382;&#19968;&#20010;Seam&#31649;&#29702;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</p></li><li><p>&#22312;&#38750;Web&#35831;&#27714;&#20013;&#35775;&#38382;Seam&#20250;&#35805;&#20316;&#29992;&#22495;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65288;&#20363;&#22914;&#24322;&#27493;Quartz&#20219;&#21153;&#20013;&#65289;</p></li><li><p>&#32771;&#34385;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#21644;Spring&#31649;&#29702;&#30340;&#20107;&#21153;&#65288;&#23558;&#38656;&#35201;&#25163;&#21160;&#28165;&#38500;&#32531;&#20914;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65289;</p></li></ul></div><p>Spring&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#20256;&#25773;&#27169;&#22411;&#20801;&#35768;&#27599;&#20010;EntityManagerFactory&#20165;&#26377;&#19968;&#20010;&#25171;&#24320;&#30340;EntityManager&#65292;&#25152;&#20197;Seam&#38598;&#25104;&#23601;&#23553;&#35013;&#19968;&#20010;EntityManagerFactory&#65292;&#20854;&#20013;&#25918;&#20837;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#12290;</p><pre class="programlisting">&lt;bean id="seamEntityManagerFactory" class="org.jboss.seam.ioc.spring.SeamManagedEntityManagerFactoryBean"&gt;
   	&lt;property name="persistenceContextName" value="entityManager"/&gt;
&lt;/bean&gt;</pre><p>'persistenceContextName'&#26159;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#32452;&#20214;&#30340;&#21517;&#23383;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#35813;EntityManagerFactory&#26377;&#19968;&#20010;&#21644;Seam&#32452;&#20214;&#21517;&#19968;&#26679;&#30340;unitName&#65292;&#25110;&#32773;&#20687;&#20363;&#23376;&#20013;&#37027;&#26679;&#21517;&#20026;'entityManager'&#12290;&#22914;&#26524;&#20320;&#24076;&#26395;&#25552;&#20379;&#19968;&#20010;&#19981;&#21516;&#30340;unitName&#65292;&#20320;&#33021;&#22815;&#36890;&#36807;&#25552;&#20379;&#19968;&#20010;persistenceUnitName&#26469;&#23454;&#29616;&#65292;&#22914;&#19979;&#25152;&#31034;&#65306;</p><pre class="programlisting">&lt;bean id="seamEntityManagerFactory" class="org.jboss.seam.ioc.spring.SeamManagedEntityManagerFactoryBean"&gt;
   	&lt;property name="persistenceContextName" value="entityManager"/&gt;
	&lt;property name="persistenceUnitName" value="bookingDatabase:extended"/&gt;
&lt;/bean&gt;</pre><p>&#36825;&#20010;EntityManagerFactory&#33021;&#22312;&#20219;&#20309;Spring&#25552;&#20379;&#30340;&#24037;&#20855;&#20013;&#34987;&#20351;&#29992;&#12290;&#20363;&#22914;&#65292;&#21487;&#20197;&#20687;&#20197;&#21069;&#37027;&#26679;&#20351;&#29992;Spring&#30340; <tt class="literal">PersistenceAnnotationBeanPostProcessor</tt>&#12290;</p><pre class="programlisting">&lt;bean class="org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor"/&gt;</pre><p>&#22914;&#26524;&#20320;&#22312;Spring&#20013;&#23450;&#20041;&#20320;&#30495;&#27491;&#30340;EntityManagerFactory&#20294;&#24076;&#26395;&#20351;&#29992;&#19968;&#20010;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#65292;&#20320;&#33021;&#22815;&#21578;&#35785; <tt class="literal">PersistenceAnnotationBeanPostProcessor</tt> &#20320;&#40664;&#35748;&#24076;&#26395;&#20351;&#29992;&#21738;&#20010;persistenctUnitName&#65292;&#21487;&#20197;&#36890;&#36807;&#25351;&#23450; <tt class="literal">defaultPersistenceUnitName</tt> &#26469;&#23454;&#29616;&#12290;</p><p><tt class="literal">applicationContext.xml</tt> &#25991;&#20214;&#21487;&#33021;&#20687;&#19979;&#38754;&#36825;&#26679;&#65306;</p><pre class="programlisting">&lt;bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalEntityManagerFactoryBean"&gt;
	&lt;property name="persistenceUnitName" value="bookingDatabase"/&gt;
&lt;/bean&gt;
&lt;bean id="seamEntityManagerFactory" class="org.jboss.seam.ioc.spring.SeamManagedEntityManagerFactoryBean"&gt;
   	&lt;property name="persistenceContextName" value="entityManager"/&gt;
	&lt;property name="persistenceUnitName" value="bookingDatabase:extended"/&gt;
&lt;/bean&gt;
&lt;bean class="org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor"&gt;
	&lt;property name="defaultPersistenceUnitName" value="bookingDatabase:extended"/&gt;
&lt;/bean&gt;</pre><p><tt class="literal">component.xml</tt> &#25991;&#20214;&#21487;&#33021;&#20687;&#19979;&#38754;&#36825;&#26679;&#65306;</p><pre class="programlisting">&lt;persistence:managed-persistence-context name="entityManager"
	auto-create="true" entity-manager-factory="#{entityManagerFactory}"/&gt;</pre><p><tt class="literal">JpaTemplate</tt> &#21644; <tt class="literal">JpaDaoSupport</tt> &#30340;&#37197;&#32622;&#26041;&#27861;&#19981;&#21464;&#12290;</p><pre class="programlisting">&lt;bean id="bookingService" class="org.jboss.seam.example.spring.BookingService"&gt;
	&lt;property name="entityManagerFactory" ref="seamEntityManagerFactory"/&gt;
&lt;/bean&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="spring-hibernate"></a>23.7.&nbsp;&#22312;Spring&#20013;&#20351;&#29992;Seam&#31649;&#29702;&#30340;Hibernate&#20250;&#35805;</h2></div></div><div></div></div><p>Seam&#30340;Spring&#38598;&#25104;&#25903;&#25345;&#20351;&#29992;Spring&#30340;&#24037;&#20855;&#26469;&#23436;&#25972;&#35775;&#38382;Seam&#31649;&#29702;&#30340;Hibernate&#20250;&#35805;&#65288;Hibernate Session&#65289;&#12290;&#36825;&#21644; <a href="#spring-persistence" title="23.6.&nbsp;&#22312;Spring&#20013;&#20351;&#29992;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;">JPA&#38598;&#25104;</a> &#24456;&#20687;&#12290;</p><p>&#19982;Spring&#30340;JPA&#38598;&#25104;&#19968;&#26679;&#65292;&#22312;Spring&#30340;&#24037;&#20855;&#20013;&#65292;Spring&#30340;&#20256;&#25773;&#27169;&#22411;&#21482;&#20801;&#35768;&#27599;&#20010;EntityManagerFactory&#22312;&#19968;&#20010;&#20107;&#21153;&#37324;&#25317;&#26377;&#19968;&#20010;&#25171;&#24320;&#30340;EntityManager&#12290;&#25152;&#20197;Seam Session&#38598;&#25104;&#23553;&#35013;&#20102;&#19968;&#20010;&#20195;&#29702;SessionFactory&#65292;&#20854;&#20013;&#21253;&#21547;&#19968;&#20010;Seam&#31649;&#29702;&#30340;Hibernate&#20250;&#35805;&#19978;&#19979;&#25991;&#12290;</p><pre class="programlisting">&lt;bean id="seamSessionFactory" class="org.jboss.seam.ioc.spring.SeamManagedSessionFactoryBean"&gt;
	&lt;property name="sessionName" value="hibernateSession"/&gt;
&lt;/bean&gt;</pre><p>'sessionName'&#26159;<tt class="literal">persistence:managed-hibernate-session</tt> &#32452;&#20214;&#30340;&#21517;&#23383;&#12290;&#35813;SessionFactory&#21487;&#34987;&#29992;&#20110;&#20219;&#24847;Spring&#25552;&#20379;&#30340;&#24037;&#20855;&#20013;&#12290;&#35813;&#38598;&#25104;&#25903;&#25345;&#23545; <tt class="literal">SessionFactory.getCurrentInstance()</tt> &#30340;&#35843;&#29992;&#65292;&#21482;&#35201;&#35843;&#29992; <tt class="literal">SeamManagedSessionFactory</tt> &#30340; getCurrentInstance() &#26041;&#27861;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13616"></a>23.8.&nbsp;&#20316;&#20026;Seam&#32452;&#20214;&#30340;Spring&#24212;&#29992;&#19978;&#19979;&#25991;</h2></div></div><div></div></div><p>&#23613;&#31649;&#20320;&#21487;&#20197;&#20351;&#29992;Spring&#30340;<tt class="literal">ContextLoaderListener</tt> &#26469;&#21551;&#21160;&#24212;&#29992;&#31243;&#24207;&#30340;Spring ApplicationContext&#65292;&#20294;&#36825;&#31181;&#20570;&#27861;&#23384;&#22312;&#19968;&#20123;&#23616;&#38480;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>Spring&#30340;ApplicationContext&#24517;&#39035;&#24320;&#22987;&#20110; <tt class="literal">SeamListener</tt><span class="emphasis"><em> &#20043;&#21518;</em></span>
				</p></li><li><p>&#35201;&#20026;Seam&#30340;&#21333;&#20803;&#21644;&#38598;&#25104;&#27979;&#35797;&#21551;&#21160;&#19968;&#20010;Spring ApplicationContext&#26377;&#20123;&#40635;&#28902;</p></li></ul></div><p>&#20026;&#31361;&#30772;&#36825;&#20108;&#20010;&#23616;&#38480;&#65292;Spring&#38598;&#25104;&#21253;&#25324;&#19968;&#20010;&#21551;&#21160;Spring ApplicationContext&#30340;Seam&#32452;&#20214;&#12290;&#22312; <tt class="literal">components.xml</tt> &#20013;&#28155;&#21152; <tt class="literal">&lt;spring:context-loader/&gt;</tt> &#23450;&#20041;&#23601;&#33021;&#20351;&#29992;&#35813;&#32452;&#20214;&#12290;&#22312; <tt class="literal">config-locations</tt> &#23646;&#24615;&#20013;&#25351;&#23450;Spring&#19978;&#19979;&#25991;&#25991;&#20214;&#20301;&#32622;&#12290;&#22914;&#26524;&#38656;&#35201;&#37197;&#32622;&#22810;&#20010;&#37197;&#32622;&#25991;&#20214;&#65292;&#20320;&#21487;&#20197;&#25353;&#29031;&#26631;&#20934; <tt class="literal">components.xml</tt> &#30340;&#22810;&#20540;&#37197;&#32622;&#23454;&#36341;&#65292;&#25226;&#23427;&#20204;&#32622;&#20110;&#20869;&#23884;&#30340; <tt class="literal">&lt;spring:config-locations/&gt;</tt> &#20803;&#32032;&#20013;&#12290;</p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:spring="http://jboss.com/products/seam/spring"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://jboss.com/products/seam/components
                                http://jboss.com/products/seam/components-2.0.xsd
                                http://jboss.com/products/seam/spring
                                http://jboss.com/products/seam/spring-2.0.xsd"&gt;

	&lt;spring:context-loader context-locations="/WEB-INF/applicationContext.xml"/&gt;

&lt;/components&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13655"></a>23.9.&nbsp;&#20351;&#29992;Spring TaskExecutor&#30340;@Asynchronous</h2></div></div><div></div></div><p>Spring&#25552;&#20379;&#20102;&#21517;&#20026; <tt class="literal">TaskExecutor</tt> &#30340;&#24322;&#27493;&#20195;&#30721;&#25191;&#34892;&#25277;&#35937;&#12290;&#22312;&#35843;&#29992;&#26377; <tt class="literal">@Asynchronous</tt> &#30340;&#26041;&#27861;&#26102;&#65292;Spring Seam&#38598;&#25104;&#21487;&#20197;&#20351;&#29992; <tt class="literal">TaskExecutor</tt>&#12290;&#35201;&#21551;&#29992;&#35813;&#21151;&#33021;&#65292;&#38656;&#37197;&#32622; <tt class="literal">SpringTaskExecutorDispatchor</tt> &#24182;&#25552;&#20379;&#19968;&#20010;&#23450;&#20041;&#20102;taskExecutor&#30340;Spring Bean&#65306;</p><pre class="programlisting">&lt;spring:task-executor-dispatcher task-executor="#{springThreadPoolTaskExecutor}"/&gt;</pre><p>&#22240;&#20026;Spring&#30340; <tt class="literal">TaskExecutor</tt> &#24182;&#19981;&#25903;&#25345;&#24322;&#27493;&#20107;&#20214;&#35843;&#24230;&#65292;&#25152;&#20197;&#21487;&#20197;&#25552;&#20379;&#19968;&#20010;&#22238;&#35843;&#30340;Seam <tt class="literal">Dispatcher</tt> &#26469;&#22788;&#29702;&#24322;&#27493;&#20107;&#20214;&#35843;&#24230;&#65306;</p><pre class="programlisting">&lt;!-- Install a ThreadPoolDispatcher to handle scheduled asynchronous event --&gt;
&lt;core:thread-pool-dispatcher name="threadPoolDispatcher"/&gt;

&lt;!-- Install the SpringDispatcher as default --&gt;
&lt;spring:task-executor-dispatcher task-executor="#{springThreadPoolTaskExecutor}" schedule-dispatcher="#{threadPoolDispatcher}"/&gt;</pre></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="search"></a>Chapter&nbsp;24.&nbsp;Hibernate Search</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13687"></a>24.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>
    &#22914;Apache Lucene&#8482; &#20043;&#31867;&#30340;&#20840;&#25991;&#25628;&#32034;&#24341;&#25806;&#26159;&#19968;&#31181;&#38750;&#24120;&#24378;&#22823;&#30340;&#25216;&#26415;&#65292;&#32473;&#25105;&#20204;&#30340;&#24212;&#29992;&#31243;&#24207;&#24102;&#26469;&#20102;&#39640;&#25928;&#30340;&#25991;&#26412;&#26597;&#35810;&#12290;
    &#22312;&#22788;&#29702;&#19968;&#20010;&#23545;&#35937;&#22495;&#27169;&#22411;&#30340;&#26102;&#20505;&#26377;&#21487;&#33021;&#20250;&#36935;&#21040;&#22810;&#22788;&#19981;&#21305;&#37197;&#65288;&#20445;&#25345;&#26368;&#26032;&#30340;&#32034;&#24341;&#65292;&#32034;&#24341;&#32467;&#26500;&#21644;&#22495;&#27169;&#22411;&#20043;&#38388;&#30340;&#19981;&#21305;&#37197;&#65292;&#26597;&#35810;&#19981;&#21305;&#37197;...&#65289;
    Hibernate Search&#26681;&#25454;&#19968;&#20123;&#27880;&#35299;&#26469;&#32034;&#24341;&#22495;&#27169;&#22411;&#12289;&#31649;&#29702;&#25968;&#25454;&#24211;&#19982;&#32034;&#24341;&#30340;&#21516;&#27493;&#65292;&#24182;&#20174;&#33258;&#30001;&#25991;&#26412;&#26597;&#35810;&#20013;&#24102;&#32473;&#20320;&#27491;&#24120;&#30340;&#21463;&#31649;&#23545;&#35937;&#12290;
    Hiberante Search&#22312;&#30446;&#21069;&#30340;&#29256;&#26412;&#37324;&#20351;&#29992;&#20102;Apache Luncene&#12290;
    </p><p>
    Hibernate Search&#22312;&#35774;&#35745;&#20043;&#21021;&#23601;&#26159;&#35201;&#24456;&#22909;&#24182;&#19988;&#23613;&#21487;&#33021;&#33258;&#28982;&#22320;&#38598;&#25104;JPA&#21644;Hibernate&#65292;&#22240;&#27492;&#33258;&#28982;&#32780;&#28982;&#30340;&#65292;JBoss Seam&#20063;&#23601;&#25552;&#20379;&#20102;Hibernate Search&#30340;&#38598;&#25104;&#12290;
    </p><p>
    &#35831;&#21442;&#32771;Hibernate Search&#39033;&#30446;&#25991;&#26723;&#20449;&#24687; <a href="http://www.hibernate.org/hib_docs/search/reference/en/html_single/" target="_top">Hibernate Search documentation</a>&#12290;
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13699"></a>24.2.&nbsp;&#37197;&#32622;</h2></div></div><div></div></div><p>
    Hibernate Search&#26082;&#21487;&#20197;&#22312; <tt class="filename">META-INF/persistence.xml</tt> &#20013;&#20063;&#21487;&#20197;&#22312; <tt class="filename">hibernate.cfg.xml</tt> &#20013;&#36827;&#34892;&#37197;&#32622;&#12290;
    </p><p>
    &#23545;&#22823;&#22810;&#25968;&#37197;&#32622;&#21442;&#25968;&#26469;&#35828;&#65292;Hibernate Search&#37197;&#32622;&#20026;&#20854;&#25552;&#20379;&#21512;&#29702;&#30340;&#40664;&#35748;&#20540;&#65292;&#22312;&#36825;&#37324;&#26377;&#19968;&#20010;&#26368;&#23567;&#21270;&#37197;&#32622;&#30340;&#25551;&#36848;&#12290;
    </p><pre class="programlisting">   &lt;persistence-unit name="sample"&gt;
      &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;
      &lt;properties&gt;
         [...]
         <span class="bold"><b>&lt;!-- use a file system based index --&gt;
         &lt;property name="hibernate.search.default.directory_provider" 
                   value="org.hibernate.search.store.FSDirectoryProvider"/&gt;
         &lt;!-- directory where the indexes will be stored --&gt;
         &lt;property name="hibernate.search.default.indexBase" 
                   value="/Users/prod/apps/dvdstore/dvdindexes"/&gt;</b></span>
      &lt;/properties&gt;
   &lt;/persistence-unit&gt;</pre><p>
    &#22914;&#26524;&#35745;&#21010;&#20351;&#29992;Hibernate Annotations&#25110;&#32773;EntityManager 3.2.x&#65288;&#24050;&#32463;&#23884;&#20837;&#21040;JBoss AS 4.2.GA&#20013;&#65289;&#65292;&#37027;&#20063;&#38656;&#35201;&#37197;&#32622;&#30456;&#24212;&#30340;&#20107;&#20214;&#30417;&#21548;&#22120;&#12290;
    </p><pre class="programlisting">   &lt;persistence-unit name="sample"&gt;
      &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;
      &lt;properties&gt;
         [...]
         &lt;!-- use a file system based index --&gt;
         &lt;property name="hibernate.search.default.directory_provider" 
                   value="org.hibernate.search.store.FSDirectoryProvider"/&gt;
         &lt;!-- directory where the indexes will be stored --&gt;
         &lt;property name="hibernate.search.default.indexBase" 
                   value="/Users/prod/apps/dvdstore/dvdindexes"/&gt;

         <span class="bold"><b>&lt;property name="hibernate.ejb.event.post-insert" 
                   value="org.hibernate.search.event.FullTextIndexEventListener"/&gt;
         &lt;property name="hibernate.ejb.event.post-update" 
                   value="org.hibernate.search.event.FullTextIndexEventListener"/&gt;
         &lt;property name="hibernate.ejb.event.post-delete" 
                   value="org.hibernate.search.event.FullTextIndexEventListener"/&gt;</b></span>

      &lt;/properties&gt;
   &lt;/persistence-unit&gt;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>&#22914;&#26524;&#26159;&#20351;&#29992;&#20102;Hibernate Annotation&#25110;&#32773;EntityManager 3.3.x&#65292;&#36825;&#19968;&#27493;&#23601;&#19981;&#20877;&#38656;&#35201;&#20102;&#12290;</p></div><p>&#38500;&#20102;&#37197;&#32622;&#25991;&#20214;&#20043;&#22806;&#65292;&#25226;&#19979;&#38754;&#30340;jars&#21253;&#38656;&#35201;&#37096;&#32626;&#21040;&#26381;&#21153;&#22120;&#20013;&#25110;&#32773;&#25171;&#21253;&#36827;&#20837;&#20320;&#30340;&#24037;&#31243;&#20013;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>hibernate-search.jar</p></li><li><p>hibernate-commons-annotations.jar</p></li><li><p>lucene-core.jar</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>&#22914;&#26524;&#37096;&#32626;&#30340;&#26159;&#19968;&#20010;EAR&#21253;&#65292;&#21035;&#24536;&#20102;&#35201;&#26356;&#26032; <tt class="filename">application.xml</tt> &#25991;&#20214;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13745"></a>24.3.&nbsp;&#29992;&#27861;</h2></div></div><div></div></div><p>Hibernate Search&#20351;&#29992;&#27880;&#35299;&#26469;&#26144;&#23556;&#23454;&#20307;&#31867;&#32473;Lucene&#32034;&#24341;&#65292;&#35775;&#38382; <a href="http://www.hibernate.org/hib_docs/search/reference/en/html_single/" target="_top">reference
    documentation</a> &#26469;&#33719;&#21462;&#26356;&#22810;&#30340;&#35828;&#26126;&#12290;</p><p>
    Hibernate Search&#23436;&#20840;&#38598;&#25104;JPA/Hibernate&#30340;API&#21644;&#35821;&#27861;&#12290;&#21482;&#38656;&#35201;&#20960;&#34892;&#20195;&#30721;&#65292;&#23601;&#21487;&#20197;&#22312;&#22522;&#20110;HQL&#25110;&#32773;Criteria&#30340;&#26597;&#35810;&#38388;&#36827;&#34892;&#20999;&#25442;&#12290;&#20027;API&#21644;&#24212;&#29992;&#31243;&#24207;&#26159;&#36890;&#36807; <tt class="classname">FullTextSession</tt> API &#65288;Hibernate <tt class="classname">Session</tt> &#30340;&#23376;&#31867;&#65289;&#30456;&#20114;&#20132;&#20114;&#30340;&#12290;
    </p><p>&#24403;&#26377;Hibernate Search&#30340;&#26102;&#20505;&#65292;JBoss Seam&#27880;&#20837; <tt class="classname">FullTextSession</tt> &#12290;</p><pre class="programlisting">@Stateful
@Name("search")
public class FullTextSearchAction implements FullTextSearch, Serializable
{   
   @In
   <span class="bold"><b>FullTextSession session;</b></span>

   public void search(String searchString) {
      org.apache.lucene.query.Query luceneQuery = getLuceneQuery();
      org.hibernate.Query query session.createFullTextQuery(luceneQuery, Product.class);
      searchResults = query
            .setMaxResults(pageSize + 1)
            .setFirstResult(pageSize * currentPage)
            .list();
   }
   [...]
}  

</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p><tt class="classname">FullTextSession</tt> &#32487;&#25215;&#33258; <tt class="classname">org.hibernate.Session</tt>&#65292;&#22240;&#27492;&#23427;&#21487;&#20197;&#34987;&#24403;&#20316;&#27491;&#24120;&#30340;Hibernate Session&#26469;&#20351;&#29992;&#12290;</p></div><p>&#22914;&#26524;&#20351;&#29992;Java Persistence API&#65292;&#24314;&#35758;&#20570;&#19968;&#20010;&#24179;&#28369;&#30340;&#38598;&#25104;&#12290;</p><pre class="programlisting">@Name("search")
public class FullTextSearchAction implements FullTextSearch, Serializable
{   
   @In
   <span class="bold"><b>FullTextEntityManager em;</b></span>

   public void search(String searchString) {
      org.apache.lucene.query.Query luceneQuery = getLuceneQuery();
      javax.persistence.Query query = em.createFullTextQuery(luceneQuery, Product.class);
      searchResults = query
            .setMaxResults(pageSize + 1)
            .setFirstResult(pageSize * currentPage)
            .getResultList();
   }
   [...]
}  </pre><p>
    &#24403;&#26377;Hibernate Search&#30340;&#26102;&#20505;&#65292;<tt class="classname">FulltextEntityManager</tt> &#34987;&#27880;&#20837;&#12290;
    <tt class="classname">FullTextEntityManager</tt> &#32487;&#25215;&#20102; <tt class="classname">EntityManager</tt> &#24182;&#24102;&#26377;&#29305;&#23450;&#30340;&#25628;&#32034;&#26041;&#27861;&#65292;
    &#21516;&#26679; <tt class="classname">FullTextSession</tt> &#32487;&#25215;&#20102; <tt class="classname">Session</tt>&#12290;
    </p><p>
    &#24403;&#27880;&#20837; EJB 3.0 Session &#25110;&#32773; Message Driven Bean &#26102;&#65288;&#20363;&#22914;&#20351;&#29992; @PersistenceContext &#27880;&#35299;&#30340;Bean&#65289;&#65292;
    &#23601;&#19981;&#21487;&#33021;&#22312;&#23450;&#20041;&#22768;&#26126;&#20013;&#20351;&#29992; <tt class="classname">FullTextEntityManager</tt> &#25509;&#21475;&#26469;&#26367;&#25442; <tt class="classname">EntityManager</tt> &#25509;&#21475;&#12290;
    &#28982;&#32780;&#65292;&#23558;&#27880;&#20837;&#19968;&#20010; <tt class="classname">FullTextEntityManager</tt> &#23454;&#29616;&#65306;&#36827;&#34892;&#31867;&#22411;&#36716;&#25442;&#21518;&#23601;&#21487;&#20197;&#20102;&#12290;
    </p><pre class="programlisting">@Stateful
@Name("search")
public class FullTextSearchAction implements FullTextSearch, Serializable
{   
   @PersistenceContext
   EntityManager em;

   public void search(String searchString) {
      org.apache.lucene.query.Query luceneQuery = getLuceneQuery();
      <span class="bold"><b>FullTextEntityManager ftEm = (FullTextEntityManager) em;</b></span>
      javax.persistence.Query query = ftEm.createFullTextQuery(luceneQuery, Product.class);
      searchResults = query
            .setMaxResults(pageSize + 1)
            .setFirstResult(pageSize * currentPage)
            .getResultList();
   }
   [...]
}  </pre><p></p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3><p>
      &#23545;&#20110;&#37027;&#20123;&#32463;&#20064;&#24815;&#20102;&#22312;Seam&#20043;&#22806;&#20351;&#29992;Hibernate Search&#30340;&#20154;&#26469;&#35828;&#65292;&#35201;&#27880;&#24847;&#20351;&#29992; <tt class="methodname">Search.createFullTextSession</tt> &#26159;&#19981;&#38656;&#35201;&#30340;&#20102;&#12290;</p></div><p>
    &#23545;&#20110;Hibernate Search&#26356;&#35814;&#32454;&#30340;&#31034;&#20363;&#29992;&#27861;&#65292;&#35831;&#26597;&#30475;JBoss Seam&#21457;&#34892;&#21253;&#20013;&#30340;DVDStore&#25110;&#32773;Blog&#31034;&#20363;&#12290;
    </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="configuration"></a>Chapter&nbsp;25.&nbsp;Seam&#37197;&#32622;&#21644;Seam&#24212;&#29992;&#31243;&#24207;&#25171;&#21253;</h2></div></div><div></div></div><p>
    &#37197;&#32622;&#26159;&#19968;&#20010;&#38750;&#24120;&#26543;&#29157;&#30340;&#35805;&#39064;&#65292;&#20063;&#26159;&#19968;&#31181;&#26497;&#20854;&#20047;&#21619;&#30340;&#28040;&#36963;&#12290;&#19981;&#24184;&#30340;&#26159;&#65292;&#20026;&#20102;&#23558;Seam&#38598;&#25104;&#21040;&#20320;&#30340;JSF&#23454;&#29616;&#21644;Servlet&#23481;&#22120;&#20013;&#65292;&#26377;&#20123;XML&#35821;&#21477;&#26159;&#24517;&#39035;&#30340;&#12290;
    &#20320;&#19981;&#24517;&#20877;&#34987;&#20197;&#19979;&#37096;&#20998;&#25302;&#24310;&#26102;&#38388;&#20102;&#65307;&#20320;&#23558;&#27704;&#36828;&#19981;&#24517;&#20146;&#33258;&#38190;&#20837;&#20197;&#19979;&#20219;&#20309;&#20869;&#23481;&#65292;&#22240;&#20026;&#20320;&#21487;&#20197;&#20174;&#31034;&#20363;&#24212;&#29992;&#31243;&#24207;&#20013;&#25335;&#36125;&#21644;&#31896;&#24086;&#12290;
    </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13833"></a>25.1.&nbsp;Seam&#22522;&#26412;&#37197;&#32622;</h2></div></div><div></div></div><p>
        &#39318;&#20808;&#65292;&#35753;&#25105;&#20204;&#30475;&#30475;&#27599;&#24403;&#23558;Seam&#21644;JSF&#19968;&#36215;&#20351;&#29992;&#26102;&#25152;&#38656;&#35201;&#30340;&#22522;&#26412;&#37197;&#32622;&#12290;
        </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13838"></a>25.1.1.&nbsp;
          &#23558;Seam&#19982;JSF&#21644;servlet&#23481;&#22120;&#38598;&#25104;
          </h3></div></div><div></div></div><p>
          &#24403;&#28982;&#65292;&#20320;&#38656;&#35201;&#19968;&#20010;Faces Servlet&#65281;
          </p><pre class="programlisting">&lt;servlet&gt;
    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.seam&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre><p>
            &#65288;&#20320;&#21487;&#20197;&#35843;&#25972;URL&#27169;&#24335;&#20197;&#36866;&#21512;&#20320;&#30340;&#38656;&#35201;&#12290;&#65289;
            </p><p>
            &#21478;&#22806;&#65292;Seam&#38656;&#35201;&#22312;&#20320;&#30340; <tt class="literal">web.xml</tt> &#25991;&#20214;&#20013;&#26377;&#20197;&#19979;&#39033;&#65306;
            </p><pre class="programlisting">&lt;listener&gt;
    &lt;listener-class&gt;org.jboss.seam.servlet.SeamListener&lt;/listener-class&gt;
&lt;/listener&gt;</pre><p>
            &#36825;&#20010;listener&#36127;&#36131;&#24341;&#23548;Seam&#65292;&#20197;&#21450;&#38144;&#27585;&#20250;&#35805;&#21644;&#24212;&#29992;&#31243;&#24207;&#12290;
            </p><p>
            &#26377;&#20123;JSF&#23454;&#29616;&#22312;&#26381;&#21153;&#22120;&#31471;&#29366;&#24577;&#20445;&#25345;&#26041;&#38754;&#23454;&#29616;&#24471;&#24456;&#24046;&#65292;&#23427;&#20204;&#20250;&#19982;Seam&#30340;&#23545;&#35805;&#20256;&#25773;&#21457;&#29983;&#20914;&#31361;&#12290;
            &#22914;&#26524;&#20320;&#22312;&#34920;&#21333;&#25552;&#20132;&#26102;&#36935;&#21040;&#20102;&#23545;&#35805;&#20256;&#25773;&#30340;&#38382;&#39064;&#65292;&#23601;&#23581;&#35797;&#30528;&#20999;&#25442;&#21040;&#23458;&#25143;&#31471;&#29366;&#24577;&#20445;&#25345;&#12290;&#22312;&#20320;&#30340; <tt class="literal">web.xml</tt> &#20013;&#38656;&#35201;&#26377;&#36825;&#20123;&#65306;
            </p><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;
    &lt;param-value&gt;client&lt;/param-value&gt;
&lt;/context-param&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13863"></a>25.1.2.&nbsp;&#20351;&#29992;Facelets</h3></div></div><div></div></div><p>
            &#22914;&#26524;&#20320;&#24895;&#24847;&#21548;&#20174;&#25105;&#20204;&#30340;&#24314;&#35758;&#65292;&#20351;&#29992;Facelets&#20195;&#26367;JSP&#65292;&#23601;&#38656;&#35201;&#22312; <tt class="literal">faces-config.xml</tt> &#20013;&#22686;&#21152;&#20197;&#19979;&#20960;&#34892;&#65306;
            </p><pre class="programlisting">&lt;application&gt;
    &lt;view-handler&gt;com.sun.facelets.FaceletViewHandler&lt;/view-handler&gt;
&lt;/application&gt;</pre><p>
            &#24182;&#23558;&#20197;&#19979;&#20960;&#34892;&#21152;&#21040; <tt class="literal">web.xml</tt> &#20013;&#65306;
            </p><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;javax.faces.DEFAULT_SUFFIX&lt;/param-name&gt;
    &lt;param-value&gt;.xhtml&lt;/param-value&gt;
&lt;/context-param&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13880"></a>25.1.3.&nbsp;Seam Resource Servlet</h3></div></div><div></div></div><p>
            Seam Resource Servlet&#25552;&#20379;&#36164;&#28304;&#65292;&#36825;&#20123;&#36164;&#28304;&#34987;Seam Remoting&#12289;captchas&#65288;&#35831;&#21442;&#32771;&#8220;&#23433;&#20840;&#8221;&#31456;&#33410;&#65289;&#21644;&#19968;&#20123;JSF UI&#25511;&#20214;&#25152;&#20351;&#29992;&#12290;
            &#37197;&#32622;Seam Resource Servlet&#26102;&#65292;&#38656;&#35201;&#22312; <tt class="literal">web.xml</tt> &#20013;&#26377;&#20197;&#19979;&#39033;&#65306;
            </p><pre class="programlisting">&lt;servlet&gt;
  &lt;servlet-name&gt;Seam Resource Servlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;org.jboss.seam.servlet.SeamResourceServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;Seam Resource Servlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/seam/resource/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13890"></a>25.1.4.&nbsp;Seam Servlet&#36807;&#28388;&#22120;</h3></div></div><div></div></div><p>
            Seam&#30340;&#22522;&#26412;&#25805;&#20316;&#19981;&#38656;&#35201;&#20219;&#20309;Servlet&#36807;&#28388;&#22120;&#12290;&#21487;&#26159;&#65292;&#26377;&#20123;&#21151;&#33021;&#20381;&#36182;&#20110;&#36807;&#28388;&#22120;&#30340;&#20351;&#29992;&#12290;
            &#20026;&#20102;&#35753;&#19968;&#20999;&#23545;&#20320;&#26469;&#35828;&#26356;&#23481;&#26131;&#65292;Seam&#35753;&#20320;&#21487;&#20197;&#22686;&#21152;&#21644;&#37197;&#32622;Servlet&#36807;&#28388;&#22120;&#65292;&#23601;&#20687;&#20320;&#37197;&#32622;&#20854;&#20182;&#20869;&#24314;Seam&#32452;&#20214;&#19968;&#26679;&#12290;
            &#20026;&#20102;&#21033;&#29992;&#36825;&#20010;&#29305;&#24615;&#65292;&#25105;&#20204;&#24517;&#39035;&#39318;&#20808;&#22312; <tt class="literal">web.xml</tt> &#20013;&#35013;&#36733;&#19968;&#20010;&#20027;&#36807;&#28388;&#22120;&#65306;
            </p><pre class="programlisting">&lt;filter&gt;
    &lt;filter-name&gt;Seam Filter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.jboss.seam.servlet.SeamFilter&lt;/filter-class&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
    &lt;filter-name&gt;Seam Filter&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</pre><p>
            Seam&#20027;&#36807;&#28388;&#22120; <span class="emphasis"><em>&#24517;&#39035;</em></span> &#26159;&#22312; <tt class="literal">web.xml</tt> &#20013;&#25351;&#23450;&#30340;&#31532;&#19968;&#20010;&#36807;&#28388;&#22120;&#12290;&#36825;&#26679;&#23601;&#33021;&#20445;&#35777;&#23427;&#39318;&#20808;&#36816;&#34892;&#12290;
            </p><p>
            &#20026;&#20102;&#21462;&#28040;&#20869;&#24314;&#30340;&#36807;&#28388;&#22120;&#65292;&#20320;&#21487;&#20197;&#22312;&#19968;&#20010;&#29305;&#23450;&#30340;&#36807;&#28388;&#22120;&#20013;&#35774;&#32622; <tt class="literal">disabled="true"</tt>
            </p><p>
            &#22686;&#21152;&#20027;&#36807;&#28388;&#22120;&#20351;&#24471;&#20197;&#19979;&#20869;&#24314;&#36807;&#28388;&#22120;&#21487;&#29992;&#12290;
            </p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e13915"></a>25.1.4.1.&nbsp;&#24322;&#24120;&#22788;&#29702;</h4></div></div><div></div></div><p>
                &#36825;&#20010;&#36807;&#28388;&#22120;&#22312; <tt class="literal">pages.xml</tt> &#20013;&#25552;&#20379;&#24322;&#24120;&#26144;&#23556;&#21151;&#33021;&#65288;&#20960;&#20046;&#25152;&#26377;&#30340;&#24212;&#29992;&#31243;&#24207;&#37117;&#38656;&#35201;&#36825;&#20010;&#65289;&#12290;
                &#24403;&#26410;&#25429;&#33719;&#30340;&#24322;&#24120;&#21457;&#29983;&#26102;&#65292;&#23427;&#20063;&#36127;&#36131;&#22238;&#28378;&#26410;&#25552;&#20132;&#30340;&#20107;&#21153;&#12290;
                &#65288;&#26681;&#25454;Java EE&#35268;&#33539;&#65292;Web&#23481;&#22120;&#24212;&#35813;&#33021;&#33258;&#21160;&#20570;&#21040;&#36825;&#19968;&#28857;&#65292;&#20294;&#25105;&#20204;&#21457;&#29616;&#22312;&#25152;&#26377;&#24212;&#29992;&#31243;&#24207;&#26381;&#21153;&#22120;&#20013;&#65292;&#37117;&#19981;&#25903;&#25345;&#36825;&#19968;&#34892;&#20026;&#12290;
                &#24403;&#28982;&#22312;&#26222;&#36890;Servlet&#24341;&#25806;&#22914;Tomcat&#20013;&#65292;&#23427;&#24182;&#19981;&#26159;&#24517;&#38656;&#30340;&#12290;&#65289;
                </p><p>
                &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#24322;&#24120;&#22788;&#29702;&#36807;&#28388;&#22120;&#23558;&#22788;&#29702;&#25152;&#26377;&#35831;&#27714;&#65292;&#20294;&#26159;&#36825;&#31181;&#34892;&#20026;&#21487;&#20197;&#36890;&#36807;&#22686;&#21152;&#19968;&#20010; <tt class="literal">&lt;web:exception-filter&gt;</tt> &#39033;&#21040; <tt class="literal">components.xml</tt> &#25991;&#20214;&#26469;&#36827;&#34892;&#35843;&#25972;&#65292;&#22914;&#19979;&#38754;&#30340;&#20363;&#23376;&#25152;&#31034;&#65306;
                </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:web="http://jboss.com/products/seam/web"&gt;

    &lt;web:exception-filter url-pattern="*.seam"/&gt;

&lt;/components&gt;</pre><div class="itemizedlist"><ul type="disc"><li><p>
                        <tt class="literal">url-pattern</tt> &#8212; &#34987;&#29992;&#26469;&#25351;&#23450;&#36807;&#28388;&#21738;&#20123;&#35831;&#27714;&#65292;&#40664;&#35748;&#26159;&#25152;&#26377;&#35831;&#27714;&#12290;
                        </p></li></ul></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e13940"></a>25.1.4.2.&nbsp;&#36890;&#36807;&#37325;&#23450;&#21521;&#20256;&#25773;&#23545;&#35805;</h4></div></div><div></div></div><p>
                &#36825;&#20010;&#36807;&#28388;&#22120;&#20801;&#35768;Seam&#36890;&#36807;&#27983;&#35272;&#22120;&#37325;&#23450;&#21521;&#26469;&#20256;&#25773;&#23545;&#35805;&#19978;&#19979;&#25991;&#12290;
                &#23427;&#25318;&#25130;&#20219;&#20309;&#27983;&#35272;&#22120;&#37325;&#23450;&#21521;&#65292;&#24182;&#22686;&#21152;&#19968;&#20010;&#25351;&#23450;Seam&#23545;&#35805;&#26631;&#35782;&#31526;&#30340;&#35831;&#27714;&#21442;&#25968;&#12290;
                </p><p>
                &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#37325;&#23450;&#21521;&#36807;&#28388;&#22120;&#23558;&#22788;&#29702;&#25152;&#26377;&#30340;&#35831;&#27714;&#65292;&#20294;&#36825;&#20010;&#34892;&#20026;&#20063;&#21487;&#20197;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#36827;&#34892;&#35843;&#25972;&#65306;
                </p><pre class="programlisting">&lt;web:redirect-filter url-pattern="*.seam"/&gt;</pre><div class="itemizedlist"><ul type="disc"><li><p>
                        <tt class="literal">url-pattern</tt> &#8212; &#34987;&#29992;&#26469;&#25351;&#23450;&#36807;&#28388;&#21738;&#20123;&#35831;&#27714;&#65292;&#40664;&#35748;&#26159;&#25152;&#26377;&#35831;&#27714;&#12290;
                        </p></li></ul></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e13959"></a>25.1.4.3.&nbsp;&#22810;&#37325;&#34920;&#21333;&#25552;&#20132;</h4></div></div><div></div></div><p>
                &#24403;&#20351;&#29992;Seam&#25991;&#20214;&#19978;&#20256;JSF&#25511;&#20214;&#26102;&#65292;&#36825;&#20010;&#29305;&#24615;&#24456;&#26377;&#24517;&#35201;&#12290;&#23427;&#20381;&#25454;&#22810;&#37325;&#34920;&#21333;/&#25968;&#25454;&#35268;&#33539;&#65288;RFC-2388&#65289;&#26816;&#27979;&#24182;&#22788;&#29702;&#22810;&#37325;&#34920;&#21333;&#35831;&#27714;&#12290;
                &#35201;&#35206;&#30422;&#40664;&#35748;&#35774;&#32622;&#65292;&#21521; <tt class="literal">components.xml</tt> &#20013;&#22686;&#21152;&#20197;&#19979;&#39033;&#65306;
                </p><pre class="programlisting">&lt;web:multipart-filter create-temp-files="true"
                      max-request-size="1000000"
                      url-pattern="*.seam"/&gt;</pre><div class="itemizedlist"><ul type="disc"><li><p>
                        <tt class="literal">create-temp-files</tt> &#8212; &#22914;&#26524;&#35774;&#32622;&#20026; <tt class="literal">true</tt>&#65292;&#21152;&#36733;&#30340;&#25991;&#20214;&#34987;&#20889;&#21040;&#20020;&#26102;&#25991;&#20214;&#20013;&#65288;&#32780;&#19981;&#26159;&#20445;&#30041;&#22312;&#20869;&#23384;&#20013;&#65289;&#12290;
                        &#22914;&#26524;&#26399;&#26395;&#21152;&#36733;&#22823;&#25991;&#20214;&#65292;&#36825;&#20010;&#35774;&#32622;&#21487;&#33021;&#26159;&#19968;&#20010;&#24456;&#37325;&#35201;&#30340;&#32771;&#34385;&#22240;&#32032;&#12290;&#40664;&#35748;&#30340;&#35774;&#32622;&#26159; <tt class="literal">false</tt>&#12290;
                        </p></li><li><p>
                        <tt class="literal">max-request-size</tt> &#8212; &#22914;&#26524;&#21152;&#36733;&#35831;&#27714;&#20013;&#30340;&#25991;&#20214;&#22823;&#23567;&#65288;&#30001;&#35835;&#21462;&#35831;&#27714;&#20013; <tt class="literal">Content-Length</tt> &#22836;&#30340;&#30340;&#20540;&#20915;&#23450;&#65289;&#36229;&#36807;&#36825;&#20010;&#20540;&#65292;&#35813;&#35831;&#27714;&#23558;&#34987;&#20013;&#27490;&#12290;&#40664;&#35748;&#35774;&#32622;&#26159;0&#65288;&#22823;&#23567;&#19981;&#38480;&#65289;&#12290;
                        </p></li><li><p>
                        <tt class="literal">url-pattern</tt> &#8212; &#34987;&#29992;&#26469;&#25351;&#23450;&#36807;&#28388;&#21738;&#20123;&#35831;&#27714;&#65292;&#40664;&#35748;&#26159;&#25152;&#26377;&#35831;&#27714;&#12290;
                        </p></li></ul></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e13997"></a>25.1.4.4.&nbsp;&#23383;&#31526;&#32534;&#30721;</h4></div></div><div></div></div><p>&#35774;&#32622;&#34987;&#25552;&#20132;&#30340;&#34920;&#21333;&#25968;&#25454;&#30340;&#23383;&#31526;&#32534;&#30721;</p><p>
                &#40664;&#35748;&#27809;&#26377;&#35013;&#36733;&#36825;&#20010;&#36807;&#28388;&#22120;&#65292;&#23427;&#38656;&#35201;&#30001; <tt class="literal">components.xml</tt> &#20013;&#30340;&#19968;&#20010;&#39033;&#26469;&#21551;&#29992;&#65306;
                </p><pre class="programlisting">&lt;web:character-encoding-filter encoding="UTF-16"
                               override-client="true"
                               url-pattern="*.seam"/&gt;</pre><div class="itemizedlist"><ul type="disc"><li><p>
                        <tt class="literal">encoding</tt> &#8212; &#35201;&#20351;&#29992;&#30340;&#32534;&#30721;
                        </p></li><li><p>
                        <tt class="literal">override-client</tt> &#8212; &#22914;&#26524;&#23427;&#34987;&#35774;&#32622;&#20026; <tt class="literal">true</tt>&#65292;&#21017;&#35831;&#27714;&#20013;&#30340;&#32534;&#30721;&#23558;&#34987;&#35774;&#32622;&#20026; <tt class="literal">encoding</tt> &#25351;&#23450;&#30340;&#20219;&#20309;&#20540;&#65292;&#32780;&#19981;&#31649;&#35831;&#27714;&#20013;&#26159;&#21542;&#24050;&#32463;&#25351;&#23450;&#19968;&#31181;&#32534;&#30721;&#12290;
                        &#22914;&#26524;&#35774;&#32622;&#20026; <tt class="literal">false</tt>&#65292;&#24403;&#35831;&#27714;&#20013;&#27809;&#26377;&#25351;&#23450;&#20219;&#20309;&#19968;&#31181;&#32534;&#30721;&#26102;&#65292;&#25165;&#20250;&#35774;&#32622;&#35831;&#27714;&#32534;&#30721;&#12290;&#40664;&#35748;&#35774;&#32622;&#26159; <tt class="literal">false</tt>
                        </p></li><li><p>
                        <tt class="literal">url-pattern</tt> &#8212; &#34987;&#29992;&#26469;&#25351;&#23450;&#36807;&#28388;&#21738;&#20123;&#35831;&#27714;&#65292;&#40664;&#35748;&#26159;&#25152;&#26377;&#35831;&#27714;&#12290;
                        </p></li></ul></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e14040"></a>25.1.4.5.&nbsp;RichFaces</h4></div></div><div></div></div><p>
                &#22914;&#26524;&#22312;&#20320;&#30340;&#24037;&#31243;&#20013;&#20351;&#29992;&#20102;Ajax4jsf&#65292;Seam&#20250;&#30830;&#20445;&#22312;&#35013;&#36733;&#20854;&#20182;&#25152;&#26377;&#20869;&#24314;&#36807;&#28388;&#22120;&#20043;&#21069;&#65292;&#20026;&#20320;&#35013;&#36733;Ajax4jsf&#36807;&#28388;&#22120;&#12290;
                &#20320;&#19981;&#24517;&#20146;&#33258;&#22312; <tt class="literal">web.xml</tt> &#20013;&#35013;&#36733;Ajax4jsf&#36807;&#28388;&#22120;&#12290;
                </p><p>
                &#21482;&#26377;&#24403;&#20320;&#30340;&#24037;&#31243;&#20013;&#26377;RichFaces jar&#21253;&#26102;&#65292;&#25165;&#20250;&#23433;&#35013;RichFaces Ajax&#36807;&#28388;&#22120;&#12290;
                </p><p>
                &#20026;&#20102;&#35206;&#30422;&#40664;&#35748;&#30340;&#35774;&#32622;&#65292;&#35201;&#22312; <tt class="literal">components.xml</tt> &#20013;&#22686;&#21152;&#20197;&#19979;&#39033;&#12290;&#36825;&#20123;&#36873;&#39033;&#19982;RichFaces&#24320;&#21457;&#32773;&#25351;&#21335;&#20013;&#25351;&#23450;&#30340;&#19968;&#26679;&#65306;
                </p><pre class="programlisting">&lt;web:ajax4jsf-filter force-parser="true"
                     enable-cache="true"
                     log4j-init-file="custom-log4j.xml"
                     url-pattern="*.seam"/&gt;</pre><div class="itemizedlist"><ul type="disc"><li><p>
                        <tt class="literal">force-parser</tt> &#8212; &#24378;&#21046;Richfaces&#30340;XMl&#35821;&#27861;&#26816;&#39564;&#22120;&#21435;&#39564;&#35777;&#25152;&#26377;&#30340;JSF&#39029;&#38754;&#12290;
                        &#22914;&#26524;&#20026; <tt class="literal">false</tt>&#65292;&#21017;&#21482;&#26377;AJAX&#21709;&#24212;&#25165;&#34987;&#39564;&#35777;&#24182;&#34987;&#36716;&#25442;&#25104;&#21512;&#36866;&#30340;XML&#12290;
                        &#35774;&#32622;<tt class="literal">force-parser</tt> &#20026; <tt class="literal">false</tt> &#21487;&#20197;&#25552;&#39640;&#24615;&#33021;&#65292;&#20294;&#20250;&#22312;AJAX&#26356;&#26032;&#26102;&#25552;&#20379;&#21487;&#35270;&#21270;&#30340;&#24037;&#20214;&#12290;
                        </p></li><li><p>
                        <tt class="literal">enable-cache</tt> &#8212; &#21551;&#29992;&#26694;&#26550;&#29983;&#25104;&#36164;&#28304;&#30340;&#32531;&#23384;&#65288;&#22914;&#65292;JavaScript&#65292;CSS&#65292;Images&#31561;&#65289;&#12290;
                        &#24403;&#24320;&#21457;&#23450;&#21046;&#30340;JavaScript&#25110;CSS&#26102;&#65292;&#35774;&#32622;&#20026;true&#20197;&#38459;&#27490;&#27983;&#35272;&#22120;&#32531;&#23384;&#36825;&#20123;&#36164;&#28304;&#12290;
                        </p></li><li><p>
                        <tt class="literal">log4j-init-file</tt> &#8212; &#34987;&#29992;&#20110;&#23433;&#35013; per-application &#35760;&#24405;&#12290;
                        &#24212;&#35813;&#25552;&#20379;&#19968;&#20010;&#30456;&#23545;&#20110;web&#31243;&#24207;&#19978;&#19979;&#25991;&#30340;log4j.xml&#37197;&#32622;&#25991;&#20214;&#36335;&#24452;&#12290;
                        </p></li><li><p>
                        <tt class="literal">url-pattern</tt> &#8212; &#29992;&#26469;&#25351;&#23450;&#36807;&#28388;&#21738;&#20123;&#35831;&#27714;&#65292;&#40664;&#35748;&#26159;&#25152;&#26377;&#35831;&#27714;&#12290;
                        </p></li></ul></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e14091"></a>25.1.4.6.&nbsp;Identity Logging</h4></div></div><div></div></div><p>
                &#36825;&#20010;&#36807;&#28388;&#22120;&#23558;&#34987;&#39564;&#35777;&#30340;&#29992;&#25143;&#21517;&#28155;&#21152;&#21040;log4j&#26144;&#23556;&#35786;&#26029;&#19978;&#19979;&#25991;&#20013;&#65292;&#20197;&#20415;&#22914;&#26524;&#21916;&#27426;&#65292;&#21487;&#33021;&#36890;&#36807;&#22312;&#27169;&#24335;&#20013;&#28155;&#21152;%X{username}&#65292;&#20351;&#23427;&#33021;&#22815;&#34987;&#21253;&#21547;&#22312;&#26684;&#24335;&#21270;&#36807;&#30340;&#26085;&#24535;&#36755;&#20986;&#20013;&#12290;
                </p><p>
                &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#35760;&#24405;&#36807;&#34385;&#22120;&#20250;&#22788;&#29702;&#25152;&#26377;&#35831;&#27714;&#65292;&#20294;&#26159;&#36825;&#19968;&#34892;&#20026;&#21487;&#20197;&#36890;&#36807;&#22312; <tt class="literal">components.xml</tt> &#20013;&#28155;&#21152; <tt class="literal">&lt;web:logging-filter&gt;</tt> &#39033;&#26469;&#36827;&#34892;&#35843;&#25972;&#65292;&#22914;&#19979;&#38754;&#30340;&#20363;&#23376;&#25152;&#31034;&#65306;
				</p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
            xmlns:web="http://jboss.com/products/seam/web"&gt;
    &lt;web:logging-filter url-pattern="*.seam"/&gt;
&lt;/components&gt;</pre><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">url-pattern</tt> &#8212; Used to specify which requests the filter is active for. The
                            default is all requests.
                            <tt class="literal">url-pattern</tt> &#8212;&#29992;&#26469;&#25351;&#23450;&#35813;&#36807;&#28388;&#22120;&#26159;&#20026;&#21738;&#20123;&#35831;&#27714;&#32780;&#28608;&#27963;&#30340;&#12290;&#40664;&#35748;&#26159;&#25152;&#26377;&#35831;&#27714;&#12290;</p></li></ul></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e14116"></a>25.1.4.7.&nbsp;&#23450;&#21046;Servlet&#30340;&#19978;&#19979;&#25991;&#31649;&#29702;</h4></div></div><div></div></div><p>
                &#30452;&#25509;&#21457;&#36865;&#21040;&#26576;&#20123;Servlet&#32780;&#19981;&#26159;JSF Servlet&#30340;&#35831;&#27714;&#19981;&#22312;JSF&#29983;&#21629;&#21608;&#26399;&#20013;&#34987;&#22788;&#29702;&#65292;&#22240;&#27492;Seam&#25552;&#20379;&#20102;&#19968;&#20010;Servlet&#36807;&#28388;&#22120;&#20379;&#20854;&#20182;&#30340;Servlet&#20351;&#29992;&#65292;&#36825;&#20123;Servlet&#38656;&#35201;&#35775;&#38382;Seam&#32452;&#20214;&#12290;
                </p><p>
                &#36825;&#20010;&#36807;&#28388;&#22120;&#20801;&#35768;&#23450;&#21046;&#30340;Servlet&#19982;Seam&#19978;&#19979;&#25991;&#20132;&#20114;&#12290;&#23427;&#22312;&#27599;&#20010;&#35831;&#27714;&#30340;&#24320;&#22987;&#35774;&#31435;Seam&#19978;&#19979;&#25991;&#65292;&#24182;&#22312;&#35831;&#27714;&#32467;&#26463;&#26102;&#21368;&#25481;&#23427;&#20204;&#12290;
                &#20320;&#24517;&#39035;&#30830;&#20445;&#36825;&#20010;&#36807;&#28388;&#22120; <span class="emphasis"><em>&#27704;&#36828;&#19981;</em></span> &#34987;&#29992;&#20110;JSF <tt class="literal">FacesServlet</tt>&#12290;
                Seam&#22312;JSF&#35831;&#27714;&#20013;&#20026;&#19978;&#19979;&#25991;&#31649;&#29702;&#20351;&#29992;&#38454;&#27573;&#30417;&#21548;&#22120;&#65288;phase listener&#65289;&#12290;
                </p><p>
                &#40664;&#35748;&#27809;&#26377;&#35013;&#36733;&#36825;&#20010;&#36807;&#28388;&#22120;&#65292;&#23427;&#38656;&#35201;&#30001; <tt class="literal">components.xml</tt> &#20013;&#30340;&#19968;&#20010;&#39033;&#26469;&#21551;&#29992;&#65306;
                </p><pre class="programlisting">&lt;web:context-filter url-pattern="/media/*"/&gt;</pre><div class="itemizedlist"><ul type="disc"><li><p>
                        <tt class="literal">url-pattern</tt> &#8212; &#34987;&#29992;&#26469;&#25351;&#23450;&#36807;&#28388;&#21738;&#20123;&#35831;&#27714;&#65292;&#40664;&#35748;&#26159;&#25152;&#26377;&#35831;&#27714;&#12290;
                        &#22914;&#26524;&#19978;&#19979;&#25991;&#36807;&#28388;&#22120;&#30340;URL&#27169;&#24335;&#24050;&#25351;&#23450;&#65292;&#21017;&#23558;&#21551;&#29992;&#35813;&#36807;&#28388;&#22120;&#65288;&#38500;&#38750;&#26126;&#30830;&#21462;&#28040;&#65289;&#12290;
                        </p></li></ul></div><p>
                &#19978;&#19979;&#25991;&#36807;&#28388;&#22120;&#26399;&#26395;&#22312;&#21517;&#31216;&#20026; <tt class="literal">conversationId</tt> &#30340;&#35831;&#27714;&#21442;&#25968;&#20013;&#65292;&#25214;&#21040;&#25152;&#26377;&#23545;&#35805;&#19978;&#19979;&#25991;&#30340;&#23545;&#35805;id&#12290;
                &#20320;&#35201;&#36127;&#36131;&#30830;&#20445;&#23545;&#35805;ID&#22312;&#35831;&#27714;&#20013;&#34987;&#21457;&#36865;&#12290;
                </p><p>
                &#20320;&#36824;&#38656;&#35201;&#36127;&#36131;&#30830;&#20445;&#23558;&#25152;&#26377;&#26032;&#30340;&#23545;&#35805;id&#20256;&#36865;&#22238;&#23458;&#25143;&#31471;&#12290;Seam&#23558;&#23545;&#35805;id&#20316;&#20026;&#20869;&#24314;&#30340; <tt class="literal">conversation</tt> &#32452;&#20214;&#30340;&#19968;&#20010;&#23646;&#24615;&#26292;&#38706;&#20986;&#26469;&#12290;
                </p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e14153"></a>25.1.4.8.&nbsp;&#22686;&#21152;&#23450;&#21046;&#30340;&#36807;&#28388;&#22120;</h4></div></div><div></div></div><p>
                Seam&#33021;&#20026;&#20320;&#35013;&#36733;&#36807;&#28388;&#22120;&#65292;&#20801;&#35768;&#20320;&#25351;&#23450;&#36807;&#28388;&#22120;&#35201;&#25918;&#22312;&#36807;&#28388;&#22120;&#38142;&#20013;&#30340; <span class="emphasis"><em>&#20160;&#20040;&#20301;&#32622;</em></span>
                &#65288;&#22914;&#26524;&#20320;&#22312; <tt class="literal">web.xml</tt> &#20013;&#25351;&#23450;&#33258;&#24049;&#30340;&#36807;&#28388;&#22120;&#65292;servlet&#35268;&#33539;&#23601;&#27809;&#26377;&#25552;&#20379;&#19968;&#20010;&#23450;&#20041;&#33391;&#22909;&#30340;&#39034;&#24207;&#65289;&#12290;
                &#21482;&#38656;&#35201;&#32473;&#20320;&#30340;Seam&#32452;&#20214;&#21152;&#19978; <tt class="literal">@Filter</tt> &#27880;&#35299;&#65288;&#20320;&#30340;Seam&#32452;&#20214;&#24517;&#39035;&#23454;&#29616; <tt class="literal">javax.servlet.Filter</tt>&#65289;&#12290;
                </p><pre class="programlisting">@Startup
@Scope(APPLICATION)
@Name("org.jboss.seam.web.multipartFilter")
@BypassInterceptors
@Filter(within="org.jboss.seam.web.ajax4jsfFilter")
public class MultipartFilter extends AbstractFilter {</pre><p>
                &#22686;&#21152; <tt class="literal">@Startup</tt> &#27880;&#35299;&#24847;&#21619;&#30528;&#35813;&#32452;&#20214;&#22312;Seam&#21551;&#21160;&#26102;&#26377;&#25928;&#65307;&#21452;&#21521;&#27880;&#20837;&#65288;bijection&#65289;&#22312;&#36825;&#37324;&#26080;&#25928;&#65288;<tt class="literal">@BypassInterceptors</tt>&#65289;&#65307;
                &#24182;&#19988;&#35813;&#36807;&#28388;&#22120;&#22312;&#38142;&#20013;&#24212;&#35813;&#27604;Ajax4jsf&#36807;&#28388;&#22120;&#65288;<tt class="literal">@Filter(within="org.jboss.seam.web.ajax4jsfFilter")</tt>&#65289;&#26356;&#38752;&#21518;&#19968;&#20123;&#12290;
                </p></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14183"></a>25.1.5.&nbsp;&#23558;Seam&#19982;&#20320;&#30340;EJB&#23481;&#22120;&#38598;&#25104;</h3></div></div><div></div></div><p>
            &#25105;&#20204;&#38656;&#35201;&#23558; <tt class="literal">SeamInterceptor</tt> &#29992;&#20110;&#25105;&#20204;&#30340;Seam&#32452;&#20214;&#12290;
            &#22312;&#25972;&#20010;&#31243;&#24207;&#20013;&#23436;&#25104;&#36825;&#20010;&#30340;&#26368;&#31616;&#21333;&#26041;&#24335;&#26159;&#22312; <tt class="literal">ejb-jar.xml</tt> &#20013;&#22686;&#21152;&#20197;&#19979;&#25318;&#25130;&#22120;&#37197;&#32622;&#65306;
            </p><pre class="programlisting">&lt;interceptors&gt;
    &lt;interceptor&gt;
        &lt;interceptor-class&gt;org.jboss.seam.ejb.SeamInterceptor&lt;/interceptor-class&gt;
    &lt;/interceptor&gt;
&lt;/interceptors&gt;

&lt;assembly-descriptor&gt;
    &lt;interceptor-binding&gt;
        &lt;ejb-name&gt;*&lt;/ejb-name&gt;
        &lt;interceptor-class&gt;org.jboss.seam.ejb.SeamInterceptor&lt;/interceptor-class&gt;
    &lt;/interceptor-binding&gt;
&lt;/assembly-descriptor&gt;
</pre><p>
            Seam&#38656;&#35201;&#30693;&#36947;&#22312;JNDI&#20013;&#21040;&#21738;&#37324;&#21435;&#23547;&#25214;&#20250;&#35805;Bean&#12290;&#20854;&#20013;&#19968;&#31181;&#26041;&#27861;&#26159;&#22312;&#27599;&#20010;&#20250;&#35805;Bean Seam&#32452;&#20214;&#20013;&#25351;&#23450; <tt class="literal">@JndiName</tt>&#27880;&#35299;&#12290;
            &#28982;&#32780;&#65292;&#36825;&#26679;&#30456;&#24403;&#20047;&#21619;&#12290;&#26356;&#22909;&#30340;&#19968;&#31181;&#26041;&#24335;&#26159;&#25351;&#23450;&#19968;&#31181;&#27169;&#24335;&#65292;Seam&#21487;&#20197;&#26681;&#25454;&#36825;&#20010;&#27169;&#24335;&#20174;EJB&#21517;&#31216;&#37324;&#25512;&#31639;&#20986;JNDI&#30340;&#21517;&#31216;&#12290;
            &#19981;&#24184;&#30340;&#26159;&#65292;&#22312;EJB3&#35268;&#33539;&#37324;&#38754;&#65292;&#27809;&#26377;&#23450;&#20041;&#21040;&#20840;&#23616;JNDI&#30340;&#26631;&#20934;&#26144;&#23556;&#65292;&#25152;&#20197;&#36825;&#20010;&#26144;&#23556;&#26159;&#29305;&#23450;&#20110;&#20379;&#24212;&#21830;&#30340;&#12290;
            &#25105;&#20204;&#36890;&#24120;&#22312; <tt class="literal">components.xml</tt> &#20013;&#25351;&#23450;&#36825;&#20010;&#36873;&#39033;&#12290;
            </p><p>
            &#23545;&#20110;JBoss AS&#65292;&#20197;&#19979;&#30340;&#27169;&#24335;&#26159;&#27491;&#30830;&#30340;&#65306;
            </p><pre class="programlisting">&lt;core:init jndi-name="myEarName/#{ejbName}/local" /&gt;</pre><p>
            <tt class="literal">myEarName</tt>&#23601;&#26159;&#37096;&#32626;Bean&#25152;&#22312;EAR&#30340;&#21517;&#31216;&#12290;
            </p><p>
            &#22312;&#19968;&#20010;EAR&#30340;&#22806;&#38754;&#65288;&#24403;&#20351;&#29992;&#23884;&#20837;&#24335;&#30340;JBoss&#30340;EJB3&#23481;&#22120;&#26102;&#65289;&#65292;&#20197;&#19979;&#27169;&#24335;&#23601;&#26159;&#35201;&#29992;&#21040;&#30340;&#37027;&#20010;&#65306;
            </p><pre class="programlisting">&lt;core:init jndi-name="#{ejbName}/local" /&gt;</pre><p>
            &#20320;&#19981;&#24471;&#19981;&#23581;&#35797;&#30528;&#21435;&#25214;&#21040;&#20854;&#20182;&#24212;&#29992;&#31243;&#24207;&#26381;&#21153;&#22120;&#30340;&#27491;&#30830;&#37197;&#32622;&#12290;
            &#27880;&#24847;&#26377;&#20123;&#26381;&#21153;&#22120;&#65288;&#27604;&#22914;GlassFish&#65289;&#35201;&#27714;&#20320;&#20026;&#25152;&#26377;EJB&#32452;&#20214;&#30452;&#25509;&#65288;&#32780;&#19988;&#24456;&#20047;&#21619;&#22320;&#65289;&#25351;&#23450;JNDI&#21517;&#31216;&#12290;
            &#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#20320;&#21487;&#20197;&#36873;&#25321;&#20320;&#33258;&#24049;&#30340;&#27169;&#24335;&#12290;:-)
            </p><p>
            &#22312;&#19968;&#20010;EJB3&#30340;&#29615;&#22659;&#20013;&#65292;&#25105;&#20204;&#24314;&#35758;&#32473;&#20107;&#21153;&#31649;&#29702;&#20351;&#29992;&#19968;&#20010;&#29305;&#27530;&#30340;&#20869;&#24314;&#32452;&#20214;&#65292;&#23427;&#23436;&#20840;&#30693;&#36947;&#23481;&#22120;&#20107;&#21153;&#65292;&#24182;&#19988;&#21487;&#20197;&#27491;&#30830;&#22320;&#22788;&#29702;&#29992; <tt class="literal">Events</tt> &#32452;&#20214;&#27880;&#20876;&#30340;&#20107;&#21153;&#25104;&#21151;&#20107;&#20214;&#12290;
            &#22914;&#26524;&#20320;&#27809;&#26377;&#22312;&#20320;&#30340; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#22686;&#21152;&#36825;&#20960;&#34892;&#65292;Seam&#23601;&#19981;&#20250;&#30693;&#36947;&#23481;&#22120;&#31649;&#29702;&#30340;&#20107;&#21153;&#20160;&#20040;&#26102;&#20505;&#32467;&#26463;:
            </p><pre class="programlisting">&lt;transaction:ejb-transaction/&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14229"></a>25.1.6.&nbsp;&#20999;&#35760;&#65281;</h3></div></div><div></div></div><p>
            &#36824;&#26377;&#26368;&#21518;&#19968;&#28857;&#20320;&#35201;&#30693;&#36947;&#30340;&#12290;&#20320;&#24517;&#39035;&#22312;&#37096;&#32626;&#20320;&#30340;Seam&#32452;&#20214;&#30340;&#27599;&#20010;&#21387;&#32553;&#25991;&#26723;&#20013;&#65288;&#21363;&#20351;&#31354;&#30340;&#23646;&#24615;&#25991;&#20214;&#20063;&#35201;&#36825;&#26679;&#65289;&#65292;&#25918;&#32622;&#19968;&#20010;
            <tt class="literal">seam.properties</tt>&#12289;<tt class="literal">META-INF/seam.properties</tt> &#25110;<tt class="literal">META-INF/components.xml</tt>&#25991;&#20214;&#12290;
            &#22312;&#21551;&#21160;&#26102;&#65292;Seam&#23558;&#20250;&#26681;&#25454; <tt class="literal">seam.properties</tt> &#25991;&#20214;&#25195;&#25551;&#25152;&#26377;&#21387;&#32553;&#26723;&#26696;&#23547;&#25214;Seam&#32452;&#20214;&#12290;
            </p><p>
            &#22312;&#19968;&#20010;Web&#21387;&#32553;&#26723;&#26696;&#65288;WAR&#65289;&#25991;&#20214;&#20013;&#65292;&#22914;&#26524;&#22312; <tt class="literal">WEB-INF/classes</tt> &#30446;&#24405;&#19979;&#65292;&#21253;&#21547;&#26377;&#20219;&#20309;Seam&#32452;&#20214;&#65292;&#20320;&#24517;&#39035;&#22312;&#35813;&#30446;&#24405;&#20013;&#25918;&#32622;&#19968;&#20010; <tt class="literal">seam.properties</tt>&#25991;&#20214;&#12290;
            </p><p>
            &#36825;&#23601;&#26159;&#20026;&#20160;&#20040;&#25152;&#26377;&#30340;Seam&#31034;&#20363;&#31243;&#24207;&#37117;&#26377;&#19968;&#20010;&#31354;&#30340; <tt class="literal">seam.properties</tt> &#25991;&#20214;&#30340;&#21407;&#22240;&#12290;
            &#20320;&#19981;&#33021;&#21024;&#25481;&#36825;&#20123;&#25991;&#20214;&#65292;&#36824;&#26399;&#24453;&#19968;&#20999;&#20173;&#28982;&#27491;&#24120;&#36816;&#34892;&#65281;
            </p><p>
            &#20320;&#21487;&#33021;&#20250;&#35273;&#24471;&#36825;&#24456;&#24858;&#34850;&#65292;&#24182;&#19988;&#26694;&#26550;&#30340;&#35774;&#35745;&#32773;&#20570;&#19968;&#20010;&#31354;&#25991;&#20214;&#26469;&#24433;&#21709;&#20182;&#20204;&#30340;&#36719;&#20214;&#35813;&#26159;&#22810;&#20040;&#30340;&#30333;&#30196;&#21834;&#65311;
            &#24403;&#28982;&#65292;&#36825;&#26159;&#38024;&#23545;Java&#34394;&#25311;&#26426;&#30340;&#38480;&#21046;&#25152;&#37319;&#21462;&#30340;&#19968;&#31181;&#26435;&#23452;&#20043;&#35745; &#8212; &#22914;&#26524;&#25105;&#20204;&#19981;&#20351;&#29992;&#36825;&#20010;&#26426;&#21046;&#65292;&#37027;&#20040;&#25105;&#20204;&#30340;&#19979;&#19968;&#20010;&#26368;&#20339;&#36873;&#39033;&#23558;&#36924;&#36843;&#20320;&#26174;&#24335;&#22320;&#22312; <tt class="literal">components.xml</tt> &#20013;&#21015;&#20986;&#25152;&#26377;&#30340;&#32452;&#20214;&#65292;&#23601;&#20687;&#20854;&#20182;&#26576;&#20123;&#31454;&#20105;&#26694;&#26550;&#25152;&#20570;&#30340;&#37027;&#26679;&#65281;&#25105;&#24819;&#20320;&#20250;&#21916;&#27426;&#26356;&#21916;&#27426;&#25105;&#20204;&#36825;&#31181;&#26041;&#24335;&#12290;
            </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14264"></a>25.2.&nbsp;&#22312;Java EE 5&#20013;&#37197;&#32622;Seam</h2></div></div><div></div></div><div class="mediaobject" align="center"><img src="images/ee5.png" align="middle"></div><p>
        &#22914;&#26524;&#20320;&#26159;&#22312;Java EE 5&#30340;&#29615;&#22659;&#19979;&#36816;&#34892;&#65292;&#36825;&#23601;&#26159;&#24320;&#22987;&#20351;&#29992;Seam&#25152;&#38656;&#30340;&#20840;&#37096;&#37197;&#32622;&#65281;
        </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14274"></a>25.2.1.&nbsp;&#25171;&#21253;</h3></div></div><div></div></div><p>
            &#19968;&#26086;&#20320;&#23558;&#25152;&#26377;&#36825;&#20123;&#19996;&#35199;&#37117;&#25171;&#21253;&#21040;&#19968;&#20010;EAR&#25991;&#20214;&#20013;&#65292;&#35813;&#21387;&#32553;&#25991;&#26723;&#30475;&#36215;&#26469;&#23601;&#20250;&#20687;&#36825;&#26679;&#65306;
            </p><pre class="programlisting">my-application.ear/
    jboss-seam.jar
    lib/
        jboss-el.jar
    META-INF/
        MANIFEST.MF
        application.xml
    my-application.war/
        META-INF/
            MANIFEST.MF
        WEB-INF/
            web.xml
            components.xml
            faces-config.xml
            lib/
                jsf-facelets.jar
                jboss-seam-ui.jar
        login.jsp
        register.jsp
        ...
    my-application.jar/
        META-INF/
            MANIFEST.MF
            persistence.xml
        seam.properties
        org/
            jboss/
                myapplication/
                    User.class
                    Login.class
                    LoginBean.class
                    Register.class
                    RegisterBean.class
                    ...</pre><p>
            &#20320;&#35201;&#22312; <tt class="literal">META-INF/application.xml</tt> &#20013;&#23558; <tt class="literal">jboss-seam.jar</tt> &#22768;&#26126;&#20026;&#19968;&#20010;EJB&#27169;&#22359;&#12290;
            <tt class="literal">jboss-el.jar</tt> &#24212;&#35813;&#34987;&#25918;&#32622;&#22312;EAR&#30340;lib&#30446;&#24405;&#19979;&#65288;&#23558;&#23427;&#25918;&#22312;EAR&#30340;classpath&#20013;&#65289;&#12290;
            </p><p>
            &#22914;&#26524;&#20320;&#24819;&#20351;&#29992;jBPM&#25110;Drools&#65292;&#20320;&#24517;&#39035;&#22312;EAR&#30340;lib&#30446;&#24405;&#19979;&#21253;&#21547;&#25152;&#38656;&#35201;&#30340;jar&#25991;&#20214;&#12290;
            </p><p>
            &#22914;&#26524;&#20320;&#24819;&#20351;&#29992;Facelets&#65288;&#25105;&#20204;&#24314;&#35758;&#20351;&#29992;&#65289;&#65292;&#20320;&#24517;&#39035;&#22312;WAR&#30340; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#19979;&#21253;&#21547; <tt class="literal">jsf-facelets.jar</tt>
            </p><p>
            &#22914;&#26524;&#20320;&#24819;&#20351;&#29992;Seam&#26631;&#31614;&#24211;&#65288;&#22823;&#22810;&#25968;Seam&#24212;&#29992;&#31243;&#24207;&#37117;&#36825;&#20040;&#20570;&#65289;&#65292;&#20320;&#23601;&#24517;&#39035;&#22312;WAR&#30340; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#19979;&#21253;&#21547; <tt class="literal">jboss-seam-ui.jar</tt>&#12290;
            &#22914;&#26524;&#20320;&#24819;&#29992;PDF&#25110;&#32773;Email&#26631;&#31614;&#24211;&#65292;&#21017;&#38656;&#35201;&#22312; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#19979;&#25918;&#32622; <tt class="literal">jboss-seam-pdf.jar</tt> &#25110; <tt class="literal">jboss-seam-mail.jar</tt>&#12290;
            </p><p>
            &#22914;&#26524;&#20320;&#24819;&#35201;&#20351;&#29992;Seam&#35843;&#35797;&#39029;&#38754;&#65288;&#21482;&#22312;&#20351;&#29992;Facelets&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#26377;&#25928;&#65289;&#65292;&#20320;&#24517;&#39035;&#22312;WAR&#30340; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#19979;&#21253;&#21547;<tt class="literal">jboss-seam-debug.jar</tt>
            </p><p>
            Seam&#21457;&#34892;&#26102;&#21253;&#25324;&#20960;&#20010;&#31034;&#20363;&#31243;&#24207;&#65292;&#20182;&#20204;&#33021;&#22312;&#20219;&#20309;&#25903;&#25345;EJB 3.0&#30340;Java EE&#23481;&#22120;&#20013;&#37096;&#32626;&#12290;
            </p><p>
            &#25105;&#30495;&#30340;&#24076;&#26395;&#36825;&#23601;&#26159;&#37197;&#32622;&#19987;&#39064;&#25152;&#35201;&#35828;&#30340;&#20840;&#37096;&#20869;&#23481;&#65292;&#21487;&#24796;&#30340;&#26159;&#65292;&#25105;&#20204;&#21482;&#28041;&#21450;&#21040;&#20102;&#23427;&#30340;&#19977;&#20998;&#20043;&#19968;&#12290;
            &#22914;&#26524;&#20320;&#23454;&#22312;&#26080;&#27861;&#24525;&#21463;&#25152;&#26377;&#36825;&#20123;&#20851;&#20110;&#37197;&#32622;&#30340;&#24223;&#35805;&#65292;&#23613;&#31649;&#25918;&#24515;&#22320;&#36339;&#36807;&#26412;&#33410;&#21097;&#19979;&#30340;&#37096;&#20998;&#65292;&#20197;&#21518;&#20877;&#22238;&#26469;&#36825;&#37324;&#12290;
            </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14331"></a>25.3.&nbsp;&#22312;J2EE&#20013;&#37197;&#32622;Seam</h2></div></div><div></div></div><p>
        Seam&#24456;&#26377;&#29992;&#65292;&#21363;&#20351;&#20320;&#36824;&#27809;&#26377;&#20882;&#38505;&#23581;&#35797;EJB 3.0&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;Hibernate3&#25110;&#32773;JPA&#20195;&#26367;EJB 3.0&#25345;&#20037;&#21270;&#25216;&#26415;&#65292;&#24182;&#29992;&#31616;&#21333;&#30340;JavaBeans&#20195;&#26367;&#20250;&#35805;Bean&#12290;
        &#20320;&#21487;&#33021;&#20250;&#38169;&#36807;&#20250;&#35805;bean&#30340;&#26576;&#20123;&#24456;&#22909;&#30340;&#29305;&#24615;&#65292;&#20294;&#26159;&#24403;&#20320;&#20934;&#22791;&#22909;&#26102;&#65292;&#36825;&#23558;&#20250;&#24456;&#23481;&#26131;&#36801;&#31227;&#21040;EJB 3.0&#65292;&#21516;&#26102;&#65292;&#20320;&#23558;&#33021;&#21033;&#29992;Seam&#29420;&#29305;&#30340;&#22768;&#26126;&#24335;&#29366;&#24577;&#31649;&#29702;&#26550;&#26500;&#12290;
        </p><div class="mediaobject" align="center"><img src="images/hibernate-ee.png" align="middle"></div><p>
        Seam JavaBean&#32452;&#20214;&#19981;&#20250;&#20687;&#20250;&#35805;Bean&#37027;&#26679;&#25552;&#20379;&#22768;&#26126;&#24335;&#20107;&#21153;&#21010;&#20998;&#12290;&#20320; <span class="emphasis"><em>&#21487;&#20197;</em></span> &#20351;&#29992; JTA <tt class="literal">UserTransaction</tt> &#25163;&#21160;&#31649;&#29702;&#20320;&#30340;&#20107;&#21153;&#65292;&#25110;&#32773;&#20351;&#29992;Seam&#30340; <tt class="literal">@Transactional</tt> &#26631;&#27880;&#22768;&#26126;&#12290;
        &#20294;&#26159;&#24403;&#19982;JavaBean&#19968;&#36215;&#20351;&#29992;Hibernate&#26102;&#65292;&#22823;&#37096;&#20998;&#24212;&#29992;&#31243;&#24207;&#21482;&#20250;&#29992;&#21040;&#30001;Seam&#31649;&#29702;&#30340;&#20107;&#21153;&#12290;
        </p><p>
        Seam&#21457;&#34892;&#21253;&#37324;&#21253;&#25324;&#39044;&#35746;&#31034;&#20363;&#31243;&#24207;&#30340;&#19968;&#31181;&#20351;&#29992;Hibernate3&#21644;JavaBeans&#32780;&#19981;&#26159;EJB3&#30340;&#29256;&#26412;&#65292;&#20197;&#21450;&#21478;&#19968;&#31181;&#20351;&#29992;JPA&#21644;JavaBeans&#30340;&#29256;&#26412;&#12290;
        &#36825;&#20123;&#31034;&#20363;&#31243;&#24207;&#21487;&#20197;&#38543;&#26102;&#37096;&#32626;&#21040;&#20219;&#20309;J2EE&#24212;&#29992;&#31243;&#24207;&#26381;&#21153;&#22120;&#20013;&#12290;
        </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14354"></a>25.3.1.&nbsp;&#22312;Seam&#20013;&#24341;&#23548;Hibernate</h3></div></div><div></div></div><p>
            &#22914;&#26524;&#20320;&#35013;&#36733;&#20102;&#19968;&#20010;&#20869;&#24314;&#30340;&#32452;&#20214;&#65292;Seam&#23558;&#20250;&#20174;&#20320;&#30340; <tt class="literal">hibernate.cfg.xml</tt> &#25991;&#20214;&#20013;&#24341;&#23548;&#19968;&#20010; Hibernate <tt class="literal">SessionFactory</tt>&#65306;
            </p><pre class="programlisting">&lt;persistence:hibernate-session-factory name="hibernateSessionFactory"/&gt;</pre><p>
            &#22914;&#26524;&#20320;&#24819;&#35201;&#36890;&#36807;&#27880;&#20837;&#24471;&#21040;&#19968;&#20010;&#30001;Seam&#31649;&#29702;&#30340;Hibernate <tt class="literal">Session</tt>&#65292;&#36824;&#38656;&#35201;&#37197;&#32622;&#19968;&#20010; <span class="emphasis"><em>managed session</em></span>&#12290;
            </p><pre class="programlisting">&lt;persistence:managed-hibernate-session name="hibernateSessionFactory"
                            session-factory="#{hibernateSessionFactory}"/&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14377"></a>25.3.2.&nbsp;&#22312;Seam&#20013;&#24341;&#23548;JPA</h3></div></div><div></div></div><p>
            &#22914;&#26524;&#20320;&#35013;&#36733;&#20102;&#19968;&#20010;&#20869;&#24314;&#30340;&#32452;&#20214;&#65292;Seam&#23558;&#20250;&#20174;&#20320;&#30340; <tt class="literal">persistence.xml</tt> &#25991;&#20214;&#20013;&#24341;&#23548;&#19968;&#20010; JPA <tt class="literal">EntityManagerFactory</tt>&#65306;
            </p><pre class="programlisting">&lt;persistence:entity-manager-factory name="entityManagerFactory"/&gt;</pre><p>
            &#22914;&#26524;&#20320;&#24819;&#35201;&#36890;&#36807;&#27880;&#20837;&#24471;&#21040;&#19968;&#20010;&#30001;Seam&#31649;&#29702;&#30340;JPA <tt class="literal">EntityManager</tt>&#65292;&#36824;&#38656;&#35201;&#37197;&#32622;&#19968;&#20010; <span class="emphasis"><em>managed persistence context</em></span>&#12290;
            </p><pre class="programlisting">&lt;persistence:managed-persistence-context name="entityManager"
                            entity-manager-factory="#{entityManagerFactory}"/&gt;</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14400"></a>25.3.3.&nbsp;&#25171;&#21253;</h3></div></div><div></div></div><p>
            &#25105;&#20204;&#21487;&#20197;&#23558;&#25105;&#20204;&#30340;&#24212;&#29992;&#31243;&#24207;&#25353;&#29031;&#20197;&#19979;&#32467;&#26500;&#25171;&#21253;&#25104;&#19968;&#20010;WAR&#25991;&#20214;&#65306;
            </p><pre class="programlisting">my-application.war/
    META-INF/
        MANIFEST.MF
    WEB-INF/
        web.xml
        components.xml
        faces-config.xml
        lib/
            jboss-seam.jar
            jboss-seam-ui.jar
            jboss-el.jar
            jsf-facelets.jar
            hibernate3.jar
            hibernate-annotations.jar
            hibernate-validator.jar
            ...
            my-application.jar/
                META-INF/
                   MANIFEST.MF
                seam.properties
                hibernate.cfg.xml
                org/
                    jboss/
                        myapplication/
                            User.class
                            Login.class
                            Register.class
                            ...
    login.jsp
    register.jsp
    ...</pre><p>
            &#22914;&#26524;&#25105;&#20204;&#24819;&#35201;&#23558;Hibernate&#37096;&#32626;&#22312;&#19968;&#20010;&#38750;EE&#30340;&#29615;&#22659;&#20013;&#65288;&#22914;Tomcat&#25110;TestNG&#65289;&#65292;&#25105;&#20204;&#38656;&#35201;&#22810;&#20570;&#19968;&#20123;&#24037;&#20316;&#12290;
            </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14409"></a>25.4.&nbsp;&#22312;Java SE&#20013;&#37197;&#32622;Seam&#65292;&#27809;&#26377;&#20869;&#23884;JBoss</h2></div></div><div></div></div><p>
        &#23436;&#20840;&#22312;&#19968;&#20010;EE&#29615;&#22659;&#20043;&#22806;&#20351;&#29992;Seam&#26159;&#26377;&#21487;&#33021;&#30340;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#20320;&#38656;&#35201;&#21578;&#35785;Seam&#24590;&#26679;&#21435;&#31649;&#29702;&#20107;&#21153;&#65292;&#22240;&#20026;&#27809;&#26377;JTA&#21487;&#29992;&#12290;
        &#22914;&#26524;&#20320;&#22312;&#20351;&#29992;JPA&#65292;&#23601;&#21487;&#20197;&#21578;&#35785;Seam&#21435;&#20351;&#29992;JPA&#26412;&#22320;&#36164;&#28304;&#30340;&#20107;&#21153;&#65292;&#22914; <tt class="literal">EntityTransaction</tt>&#65292;&#20687;&#36825;&#26679;&#65306;
        </p><pre class="programlisting">&lt;transaction:entity-transaction entity-manager="#{entityManager}"/&gt;</pre><p>
        &#22914;&#26524;&#20320;&#22312;&#20351;&#29992;Hibernate&#65292;&#23601;&#21487;&#20197;&#21578;&#35785;Seam&#20687;&#19979;&#38754;&#36825;&#26679;&#20351;&#29992;Hibernate&#20107;&#21153;API&#65306;
        </p><pre class="programlisting">&lt;transaction:hibernate-transaction session="#{session}"/&gt;</pre><p>
        &#24403;&#28982;&#65292;&#20320;&#36824;&#38656;&#35201;&#21435;&#23450;&#20041;&#19968;&#20010;&#25968;&#25454;&#28304;&#12290;
        </p><p>
        &#19968;&#31181;&#26356;&#22909;&#30340;&#26367;&#20195;&#26041;&#26696;&#26159;&#20351;&#29992;&#23884;&#20837;&#24335;&#30340;JBoss&#21435;&#35775;&#38382;EE&#30340;API&#12290;
        </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14427"></a>25.5.&nbsp;&#29992;&#23884;&#20837;&#24335;&#30340;JBoss&#22312;Java SE&#20013;&#37197;&#32622;Seam</h2></div></div><div></div></div><p>
        &#23884;&#20837;&#24335;&#30340;JBoss&#35753;&#20320;&#21487;&#20197;&#22312;Java EE 5&#24212;&#29992;&#31243;&#24207;&#26381;&#21153;&#22120;&#30340;&#19978;&#19979;&#25991;&#30340;&#22806;&#38754;&#36816;&#34892;EJB3&#32452;&#20214;&#12290;&#36825;&#20010;&#19981;&#20294;&#23545;&#27979;&#35797;&#26377;&#29992;&#65292;&#32780;&#19988;&#26159;&#29305;&#21035;&#26377;&#29992;&#12290;
        </p><p>
        Seam&#30340;booking&#31034;&#20363;&#31243;&#24207;&#21253;&#25324;&#19968;&#20010;&#36890;&#36807; <tt class="literal">SeamTest</tt> &#22312;&#23884;&#20837;&#24335;&#30340;JBoss&#19978;&#36816;&#34892;&#30340;TestNG&#38598;&#25104;&#27979;&#35797;&#22871;&#20214;&#12290;
        </p><div class="mediaobject" align="center"><img src="images/testng.png" align="middle"></div><p>
        booking&#31034;&#20363;&#31243;&#24207;&#29978;&#33267;&#21487;&#20197;&#22312;Tomcat&#19978;&#37096;&#32626;&#12290;
        </p><div class="mediaobject" align="center"><img src="images/e-ejb3.png" align="middle"></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="config.install.embedded"></a>25.5.1.&nbsp;&#23433;&#35013;&#23884;&#20837;&#24335;&#30340;JBoss</h3></div></div><div></div></div><p>
            &#20026;&#20102;&#35753;Seam&#24212;&#29992;&#31243;&#24207;&#22312;Tomcat&#19978;&#27491;&#30830;&#36816;&#34892;&#65292;&#24517;&#39035;&#23558;&#23884;&#20837;&#24335;JBoss&#35013;&#36733;&#21040;Tomcat&#20013;&#12290;
            &#23884;&#20837;&#24335;&#30340;JBoss&#21487;&#20197;&#22312; <a href="http://sourceforge.net/project/showfiles.php?group_id=22866&amp;package_id=228977" target="_top">&#36825;&#37324;</a> &#19979;&#36733;&#12290;&#23558;&#23884;&#20837;&#24335;&#30340;JBoss&#23433;&#35013;&#21040;Tomcat 6&#30340;&#36807;&#31243;&#38750;&#24120;&#31616;&#21333;&#12290;&#39318;&#20808;&#65292;&#20320;&#24517;&#39035;&#23558;&#23884;&#20837;&#24335;JBoss&#30340;JAR&#21644;&#37197;&#32622;&#25991;&#20214;&#37117;&#25335;&#36125;&#21040;Tomcat&#20013;&#12290;
            </p><div class="itemizedlist"><ul type="disc"><li><p>
                    &#23558;&#23884;&#20837;&#24335;JBoss&#30340; <tt class="literal">bootstrap</tt> &#21644; <tt class="literal">lib</tt> &#30446;&#24405;&#19979;&#30340;&#25152;&#26377;&#25991;&#20214;&#21644;&#30446;&#24405;&#65292;&#38500;&#20102; <tt class="literal">jndi.properties</tt> &#25991;&#20214;&#20043;&#22806;&#65292;&#37117;&#25335;&#36125;&#21040;Tomcat&#30340; <tt class="literal">lib</tt> &#30446;&#24405;&#19979;&#12290;
                    </p></li><li><p>
                    &#20174;Tomcat&#30340; <tt class="literal">lib</tt> &#30446;&#24405;&#20013;&#31227;&#38500; <tt class="literal">annotations-api.jar</tt> &#25991;&#20214;&#12290;
                    </p></li></ul></div><p>
            &#25509;&#19979;&#26469;&#65292;&#38656;&#35201;&#26356;&#26032;&#20004;&#20010;&#37197;&#32622;&#25991;&#20214;&#65292;&#29992;&#26469;&#22686;&#21152;&#23884;&#20837;&#24335;JBoss&#29305;&#26377;&#30340;&#21151;&#33021;&#12290;
            </p><div class="itemizedlist"><ul type="disc"><li><p>
                    &#23558;&#23884;&#20837;&#24335;JBoss listener&#22686;&#21152;&#21040; <tt class="literal">conf/server.xml</tt> &#20013;&#12290;&#23427;&#22312;&#25991;&#20214;&#20013;&#24212;&#35813;&#25490;&#21015;&#22312;&#25152;&#26377;&#20854;&#20182;listener&#30340;&#21518;&#38754;&#12290;
                    </p><pre class="programlisting">&lt;Listener className="org.jboss.embedded.tomcat.EmbeddedJBossBootstrapListener" /&gt;</pre></li><li><p>
                    &#24212;&#35813;&#36890;&#36807;&#22686;&#21152;&#19968;&#20010;listener&#21040; <tt class="literal">conf/context.xml</tt> &#25991;&#20214;&#20013;&#26469;&#21551;&#29992;WAR&#25991;&#20214;&#25195;&#25551;&#21151;&#33021;&#12290;
                    </p><pre class="programlisting">&lt;Listener className="org.jboss.embedded.tomcat.WebinfScanner" /&gt;</pre></li></ul></div><p>
            &#20851;&#20110;&#26356;&#22810;&#30340;&#37197;&#32622;&#36873;&#39033;&#65292;&#35831;&#21442;&#32771;Tomcat&#38598;&#25104;&#23884;&#20837;&#24335;JBoss <a href="http://wiki.jboss.org/wiki/Wiki.jsp?page=EmbeddedAndTomcat" target="_top">Wiki&#26465;&#30446;</a>&#12290;
            </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14506"></a>25.5.2.&nbsp;&#25171;&#21253;</h3></div></div><div></div></div><p>
            &#19968;&#20010;&#22312;Servlet&#24341;&#25806;&#65288;&#22914;Tomcat&#65289;&#20013;&#22522;&#20110;WAR&#37096;&#32626;&#30340;&#21387;&#32553;&#25991;&#26723;&#65292;&#23427;&#30340;&#32467;&#26500;&#26377;&#26102;&#30475;&#36215;&#26469;&#20687;&#36825;&#26679;&#65306;
            </p><pre class="programlisting">my-application.war/
    META-INF/
        MANIFEST.MF
    WEB-INF/
        web.xml
        components.xml
        faces-config.xml
        lib/
            jboss-seam.jar
            jboss-seam-ui.jar
            jboss-el.jar
            jsf-facelets.jar
            jsf-api.jar
            jsf-impl.jar
            ...
            my-application.jar/
                META-INF/
                    MANIFEST.MF
                    persistence.xml
                seam.properties
                org/
                    jboss/
                        myapplication/
                            User.class
                            Login.class
                            LoginBean.class
                            Register.class
                            RegisterBean.class
                            ...
    login.jsp
    register.jsp
    ...</pre><p>
            &#32477;&#22823;&#37096;&#20998;Seam&#31034;&#20363;&#31243;&#24207;&#21487;&#20197;&#36890;&#36807;&#36816;&#34892; <tt class="literal">ant deploy.tomcat</tt> &#37096;&#32626;&#21040;Tomcat&#20013;&#12290;
            </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14518"></a>25.6.&nbsp;&#22312;Seam&#20013;&#37197;&#32622;jBPM</h2></div></div><div></div></div><p>
        Seam&#30340;jBPM&#38598;&#25104;&#27809;&#26377;&#34987;&#40664;&#35748;&#35013;&#36733;&#65292;&#22240;&#27492;&#20320;&#38656;&#35201;&#36890;&#36807;&#35013;&#36733;&#19968;&#20010;&#20869;&#24314;&#30340;&#32452;&#20214;&#26469;&#21551;&#29992;jBPM&#12290;&#20320;&#36824;&#38656;&#35201;&#26174;&#24335;&#22320;&#21015;&#20986;&#20320;&#30340;&#27969;&#31243;&#21644;&#39029;&#38754;&#27969;&#23450;&#20041;&#12290;
        &#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#65306;
        </p><pre class="programlisting">&lt;bpm:jbpm&gt;
    &lt;bpm:pageflow-definitions&gt;
        &lt;value&gt;createDocument.jpdl.xml&lt;/value&gt;
        &lt;value&gt;editDocument.jpdl.xml&lt;/value&gt;
        &lt;value&gt;approveDocument.jpdl.xml&lt;/value&gt;
    &lt;/bpm:pageflow-definitions&gt;
    &lt;bpm:process-definitions&gt;
        &lt;value&gt;documentLifecycle.jpdl.xml&lt;/value&gt;
    &lt;/bpm:process-definitions&gt;
&lt;/bpm:jbpm&gt;</pre><p>
        &#22914;&#26524;&#20320;&#21482;&#26377;&#39029;&#38754;&#27969;&#65292;&#23601;&#19981;&#38656;&#35201;&#26356;&#22810;&#29305;&#27530;&#30340;&#37197;&#32622;&#12290;&#22914;&#26524;&#20320;&#30340;&#30830;&#26377;&#19994;&#21153;&#27969;&#31243;&#23450;&#20041;&#65292;&#23601;&#38656;&#35201;&#20026;jBPM&#25552;&#20379;&#19968;&#20010;jBPM&#37197;&#32622;&#21644;&#19968;&#20010;Hibernate&#37197;&#32622;&#12290;
        Seam&#30340;DVD Store Demo&#21253;&#25324;&#20102;&#19982;Seam&#20849;&#21516;&#24037;&#20316;&#30340; <tt class="literal">jbpm.cfg.xml</tt> &#21644; <tt class="literal">hibernate.cfg.xml</tt> &#25991;&#20214;&#30340;&#20363;&#23376;&#65306;
        </p><pre class="programlisting">&lt;jbpm-configuration&gt;

  &lt;jbpm-context&gt;
    &lt;service name="persistence"&gt;
       &lt;factory&gt;
          &lt;bean class="org.jbpm.persistence.db.DbPersistenceServiceFactory"&gt;
             &lt;field name="isTransactionEnabled"&gt;&lt;false/&gt;&lt;/field&gt;
          &lt;/bean&gt;
       &lt;/factory&gt;
    &lt;/service&gt;
    &lt;service name="tx" factory="org.jbpm.tx.TxServiceFactory" /&gt;
    &lt;service name="message" factory="org.jbpm.msg.db.DbMessageServiceFactory" /&gt;
    &lt;service name="scheduler" factory="org.jbpm.scheduler.db.DbSchedulerServiceFactory" /&gt;
    &lt;service name="logging" factory="org.jbpm.logging.db.DbLoggingServiceFactory" /&gt;
    &lt;service name="authentication"
             factory="org.jbpm.security.authentication.DefaultAuthenticationServiceFactory" /&gt;
  &lt;/jbpm-context&gt;

&lt;/jbpm-configuration&gt;</pre><p>
        &#22312;&#36825;&#20799;&#38656;&#35201;&#27880;&#24847;&#30340;&#26368;&#37325;&#35201;&#20107;&#24773;&#26159;JBPM&#20107;&#21153;&#22788;&#29702;&#25511;&#21046;&#21151;&#33021;&#26159;&#31105;&#29992;&#30340;&#12290;Seam&#25110;EJB3&#24212;&#35813;&#25511;&#21046;JTA&#20107;&#21153;&#12290;
        </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14540"></a>25.6.1.&nbsp;&#25171;&#21253;</h3></div></div><div></div></div><p>
            &#23545;&#20110;jBPM&#37197;&#32622;&#21644;&#27969;&#31243;&#65295;&#39029;&#38754;&#27969;&#23450;&#20041;&#25991;&#20214;&#65292;&#36824;&#27809;&#26377;&#20219;&#20309;&#26126;&#30830;&#30340;&#25171;&#21253;&#26684;&#24335;&#12290;
            &#22312;Seam&#30340;&#31034;&#20363;&#31243;&#24207;&#20013;&#65292;&#25105;&#20204;&#20915;&#23450;&#31616;&#21333;&#22320;&#23558;&#25152;&#26377;&#36825;&#20123;&#25991;&#20214;&#25171;&#21253;&#21040;EAR&#30340;&#26681;&#30446;&#24405;&#19979;&#12290;&#22312;&#20197;&#21518;&#65292;&#25105;&#20204;&#21487;&#33021;&#35774;&#35745;&#20854;&#20182;&#19968;&#20123;&#26631;&#20934;&#30340;&#25171;&#21253;&#26684;&#24335;&#12290;
            &#22240;&#27492;EAR&#30475;&#36215;&#26469;&#26377;&#28857;&#20687;&#36825;&#26679;&#65306;
            </p><pre class="programlisting">my-application.ear/
    jboss-seam.jar
    lib/
       jboss-el.jar
       jbpm-3.1.jar
    META-INF/
        MANIFEST.MF
        application.xml
    my-application.war/
        META-INF/
            MANIFEST.MF
        WEB-INF/
            web.xml
            components.xml
            faces-config.xml
            lib/
                jsf-facelets.jar
                jboss-seam-ui.jar
        login.jsp
        register.jsp
        ...
    my-application.jar/
        META-INF/
            MANIFEST.MF
            persistence.xml
        seam.properties
        org/
            jboss/
                myapplication/
                    User.class
                    Login.class
                    LoginBean.class
                    Register.class
                    RegisterBean.class
                    ...
    jbpm.cfg.xml
    hibernate.cfg.xml
    createDocument.jpdl.xml
    editDocument.jpdl.xml
    approveDocument.jpdl.xml
    documentLifecycle.jpdl.xml</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14547"></a>25.7.&nbsp;&#22312;Portal&#20013;&#37197;&#32622;Seam</h2></div></div><div></div></div><p>
        &#35201;&#23558;Seam&#31243;&#24207;&#20316;&#20026;&#19968;&#20010;portlet&#36816;&#34892;&#65292;&#20320;&#38656;&#35201;&#25552;&#20379;&#26576;&#20123;portlet&#20803;&#25968;&#25454;&#65288;<tt class="literal">portlet.xml</tt>&#65292;&#31561;&#65289;&#20316;&#20026;&#23545;&#36890;&#24120;Java EE&#20803;&#25968;&#25454;&#30340;&#34917;&#20805;&#12290;
        &#21442;&#32771; <tt class="literal">examples/portal</tt> &#30446;&#24405;&#65292;&#20316;&#20026;booking demo&#39044;&#37197;&#32622;&#20197;&#20415;&#22312;JBoss Portal&#19978;&#36816;&#34892;&#30340;&#19968;&#20010;&#20363;&#23376;&#12290;
			</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14558"></a>25.8.&nbsp;&#22312;JBoss AS&#20013;&#37197;&#32622;SFSB&#21644;&#20250;&#35805;&#36229;&#26102;</h2></div></div><div></div></div><p>
        &#23558;&#26377;&#29366;&#24577;&#20250;&#35805;Bean&#30340;&#36229;&#26102;&#20540;&#35774;&#32622;&#24471;&#27604;HTTP&#30340;&#36229;&#26102;&#20540;&#39640;&#19968;&#20123;&#26159;&#24456;&#37325;&#35201;&#30340;&#65292;&#21542;&#21017;SFSB&#21487;&#33021;&#22312;HTTP&#20250;&#35805;&#32467;&#26463;&#21069;&#24050;&#32463;&#36229;&#26102;&#12290;
        JBoss&#31243;&#24207;&#26381;&#21153;&#22120;&#26377;&#19968;&#20010;30&#20998;&#38047;&#30340;&#40664;&#35748;&#20250;&#35805;Bean&#36229;&#26102;&#20540;&#65292;&#23427;&#22312; <tt class="literal">server/default/conf/standardjboss.xml</tt>&#65288;&#29992;&#20320;&#33258;&#24049;&#30340;&#37197;&#32622;&#21462;&#20195; <span class="emphasis"><em>default</em></span>&#65289;&#20013;&#37197;&#32622;&#12290;
            </p><p>
        &#40664;&#35748;&#30340;SFSB&#36229;&#26102;&#20540;&#21487;&#20197;&#36890;&#36807;&#20462;&#25913; <tt class="literal">LRUStatefulContextCachePolicy</tt> &#32531;&#23384;&#37197;&#32622;&#20013; <tt class="literal">max-bean-life</tt> &#30340;&#20540;&#24471;&#21040;&#35843;&#25972;&#12290;
        </p><pre class="programlisting">&lt;container-cache-conf&gt;
    &lt;cache-policy&gt;org.jboss.ejb.plugins.LRUStatefulContextCachePolicy&lt;/cache-policy&gt;
    &lt;cache-policy-conf&gt;
        &lt;min-capacity&gt;50&lt;/min-capacity&gt;
        &lt;max-capacity&gt;1000000&lt;/max-capacity&gt;
        &lt;remover-period&gt;1800&lt;/remover-period&gt;

        &lt;!-- SFSB timeout in seconds; 1800 seconds == 30 minutes --&gt;
        &lt;max-bean-life&gt;1800&lt;/max-bean-life&gt;

        &lt;overager-period&gt;300&lt;/overager-period&gt;
        &lt;max-bean-age&gt;600&lt;/max-bean-age&gt;
        &lt;resizer-period&gt;400&lt;/resizer-period&gt;
        &lt;max-cache-miss-period&gt;60&lt;/max-cache-miss-period&gt;
        &lt;min-cache-miss-period&gt;1&lt;/min-cache-miss-period&gt;
        &lt;cache-load-factor&gt;0.75&lt;/cache-load-factor&gt;
    &lt;/cache-policy-conf&gt;
&lt;/container-cache-conf&gt;</pre><p>
        &#21487;&#20197;&#20026;JBoss 4.0.x&#22312; <tt class="literal">server/default/deploy/jbossweb-tomcat55.sar/conf/web.xml</tt> &#20013;&#20462;&#25913;&#65292;&#25110;&#32773;&#20026;JBoss 4.2.x&#22312; <tt class="literal">server/default/deploy/jboss-web.deployer/conf/web.xml</tt> &#20013;&#20462;&#25913;&#40664;&#35748;&#30340;HTTP&#20250;&#35805;&#36229;&#26102;&#20540;&#12290;
        &#36825;&#20010;&#25991;&#20214;&#20013;&#30340;&#20197;&#19979;&#39033;&#25511;&#21046;&#30528;&#25152;&#26377;Web&#24212;&#29992;&#31243;&#24207;&#30340;&#40664;&#35748;&#20250;&#35805;&#36229;&#26102;&#20540;&#65306;
        </p><pre class="programlisting">&lt;session-config&gt;
    &lt;!-- HTTP Session timeout, in minutes --&gt;
    &lt;session-timeout&gt;30&lt;/session-timeout&gt;
&lt;/session-config&gt;</pre><p>
        &#35201;&#20026;&#20320;&#33258;&#24049;&#30340;&#24212;&#29992;&#31243;&#24207;&#35206;&#30422;&#36825;&#20010;&#20540;&#65292;&#21482;&#38656;&#22312;&#20320;&#24212;&#29992;&#31243;&#24207;&#33258;&#24049;&#30340; <tt class="literal">web.xml</tt> &#25991;&#20214;&#20013;&#21253;&#21547;&#36825;&#20010;&#39033;&#12290;
        </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="oc4j"></a>Chapter&nbsp;26.&nbsp;Seam on OC4J</h2></div></div><div></div></div><p>
	OC4J&#65288;&#29992;&#20110;Java&#30340;Oracle&#23481;&#22120;&#65289;11g&#65288;&#30446;&#21069;&#26159;&#19968;&#20010;&#8220;&#25216;&#26415;&#39044;&#35272;&#8221;&#29256;&#26412;&#65289;&#26159;Oracle&#30340;JEE 5&#24212;&#29992;&#26381;&#21153;&#22120;&#12290;
	&#25105;&#20204;&#23558;&#20174;Seam&#33258;&#24102;&#30340;&#37202;&#24215;&#39044;&#35746;&#65288;Hotel Booking&#65289;&#30340;&#31034;&#20363;&#24212;&#29992;&#31243;&#24207;&#24320;&#22987;&#65292;&#26469;&#20102;&#35299;&#23427;&#30340;&#26500;&#24314;&#21644;&#37096;&#32626;&#65292;&#25509;&#30528;&#20102;&#35299;&#22914;&#20309;&#37096;&#32626;seam-gen&#29983;&#25104;&#30340;&#24037;&#31243;&#12290;
	&#36825;&#20010;&#24037;&#31243;&#23558;&#38598;&#25104;Seam&#12289;RichFaces Ajax&#21644;&#32452;&#20214;&#12289;Seam Security &#65288;&#21253;&#21547;Drools&#65289;&#12289;Facelets&#21644;Hibernate&#25552;&#20379;&#30340;JPA&#12290;
    </p><p>
    &#26412;&#33410;&#35201;&#27714;&#20320;&#20351;&#29992;OC4J 11g&#25216;&#26415;&#39044;&#35272;&#29256;&#65288;&#19981;&#26159;OC4J 10g&#65289;&#12290;&#20320;&#21487;&#20197;&#20174; <a href="http://www.oracle.com/technology/tech/java/oc4j/11/" target="_top">http://www.oracle.com/technology/tech/java/oc4j/11/</a> &#19979;&#36733;OC4J 11g&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14604"></a>26.1.&nbsp;<tt class="literal">jee5/booking</tt> &#23454;&#20363;</h2></div></div><div></div></div><p>
      <tt class="literal">jee5/booking</tt> &#23454;&#20363;&#22522;&#20110;&#19968;&#20010;&#65288;&#36816;&#34892;&#22312;JBoss AS&#20013;&#30340;&#65289;&#37202;&#24215;&#39044;&#35746;&#30340;&#20363;&#23376;&#12290;
      &#23427;&#26159;&#34987;&#35774;&#35745;&#20026;Glassfish&#24320;&#31665;&#21363;&#29992;&#65292;&#20294;&#26159;&#21487;&#20197;&#24456;&#23481;&#26131;&#22320;&#26500;&#24314;&#23427;&#65292;&#24182;&#36816;&#34892;&#22312;OC4J&#19978;&#12290;
      </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14614"></a>26.1.1.&nbsp;&#39044;&#35746;&#37202;&#24215;&#23454;&#20363;&#30340;&#20381;&#36182;&#21253;</h3></div></div><div></div></div><p>
          &#39318;&#20808;&#65292;&#35753;&#25105;&#20204;&#26469;&#30475;&#19968;&#19979;&#39044;&#35746;&#23454;&#20363;&#30340;&#20381;&#36182;&#21253;&#12290;&#26377;&#20102;&#36825;&#26041;&#38754;&#30340;&#30693;&#35782;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#20102;&#35299;&#30001;&#20110;OC4J&#30340;&#24341;&#20837;&#65292;&#24102;&#26469;&#20102;&#21738;&#20123;&#39069;&#22806;&#30340;&#20381;&#36182;&#21253;&#12290;
        </p><div class="itemizedlist"><ul type="disc"><li><p>
            <tt class="literal">jboss-seam.jar</tt> &#8212; &#25105;&#20204;&#25226;&#36825;&#20010;&#22768;&#26126;&#20026;&#19968;&#20010;EJB3&#27169;&#22359;&#65288;&#20026;&#20160;&#20040;&#21602;&#65311;Seam&#38656;&#35201;&#33021;&#22815;&#21644;&#23481;&#22120;&#31649;&#29702;&#20107;&#21153;CMT&#20132;&#20114;&#65307;&#23427;&#23454;&#29616;&#20026;&#19968;&#20010;EJB3&#30340;&#26377;&#29366;&#24577;&#20250;&#35805;Bean&#12290;&#65289;
            </p></li><li><p>
              <tt class="literal">jboss-el.jar</tt>
            </p></li><li><p>
              <tt class="literal">jboss-seam-ui.jar</tt> &#8212; Seam&#30340;JSF Control&#65292;&#20381;&#36182;Apache&#30340;commons-beanutils
            </p></li><li><p>
              <tt class="literal">jboss-seam-debug.jar</tt>
            </p></li><li><p>
              <tt class="literal">jsf-facelets.jar</tt>
            </p></li><li><p>
            &#12288;<tt class="literal">richfaces-api.jar</tt> &#8212; &#23427;&#38656;&#35201;Apache commons-digester&#21644;commons-beanutils
            </p></li><li><p>
              <tt class="literal">richfaces-impl.jar</tt> &#21644; <tt class="literal">richfaces-ui.jar</tt> &#8212; &#38656;&#35201;Apache commons-digester&#21644;commons-beanutils
            </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14665"></a>26.1.2.&nbsp;OC4J&#38656;&#35201;&#30340;&#39069;&#22806;&#20381;&#36182;&#21253;</h3></div></div><div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Hibernate &#8212; &#24403;&#28982;&#65292;&#25105;&#20204;&#20915;&#23450;&#20351;&#29992;Hibernate&#20316;&#20026;JPA&#25552;&#20379;&#32773;&#65288;&#32780;&#19981;&#26159;OC4J&#20013;&#24102;&#26377;&#30340;TopLink Essentials&#65289;
            </p><p>
            &#20026;&#20102;&#20351;&#29992;Hibernate&#20316;&#20026;JPA&#25552;&#20379;&#32773;&#65292;&#20320;&#38656;&#35201;&#19977;&#20010;jar&#21253;&#65288;<tt class="literal">hibernate3.jar</tt>&#12289;<tt class="literal">hibernate-annotations.jar</tt>&#12289;<tt class="literal">hibernate-entitymanager.jar</tt>&#65289;&#21644;&#20182;&#20204;&#30340;&#20381;&#36182;&#21253;&#65288;<tt class="literal">jboss-common.jar</tt>&#12289;<tt class="literal">jboss-archive-browsing.jar</tt>&#21644;<tt class="literal">ejb3-persistence.jar</tt>&#65289;&#12290;
            &#20320;&#21487;&#20197;&#22312;Seam&#21457;&#34892;&#21253;&#30340; <tt class="literal">hibernate/lib</tt> &#30446;&#24405;&#20013;&#25214;&#21040;&#36825;&#20123;jar&#21253;&#12290;
            </p></li><li><p>
            <tt class="literal">thirdparty-all.jar</tt> &#8212; &#26159;Seam&#25152;&#20381;&#36182;&#30340;&#31532;&#19977;&#26041;&#24211;&#30340;&#38598;&#21512;&#65288;&#22914;javassist&#65289;
            </p></li></ul></div><p>
        &#22312;&#22823;&#22810;&#25968;&#24212;&#29992;&#31243;&#24207;&#26381;&#21153;&#22120;&#20013;&#36816;&#34892;Seam&#65288;&#20363;&#22914;JBoss AS&#25110;&#26159;Glassfish&#65289;&#65292;&#20320;&#21482;&#38656;&#35201;&#21253;&#21547;&#19968;&#20123;&#20320;&#30495;&#27491;&#38656;&#35201;&#30340;&#20381;&#36182;&#21253;
        &#65288;&#20363;&#22914;&#65306;&#22914;&#26524;&#20320;&#20351;&#29992;Seam Text&#65292;&#20320;&#23601;&#38656;&#35201;&#21253;&#21547;ANTLR&#65289;&#65307;&#20294;&#26159;&#65292;&#22312;OC4J&#20013;&#65292;&#30001;&#20110;&#23427;&#8220;&#22855;&#24322;&#30340;&#8221;classloading&#65292;&#20320;&#24517;&#39035;&#22987;&#32456;&#21253;&#21547;&#23427;&#20204;&#65306;
        </p><div class="itemizedlist"><ul type="disc"><li><p>
            <tt class="literal">antlr-2.7.6.jar</tt> &#8212; Seam Text&#38656;&#35201;&#30340;&#12290;&#65288;&#22312;&#26412;&#20363;&#20013;&#27809;&#26377;&#29992;&#21040;&#65289;&#12290;
            </p></li><li><p>
            <tt class="literal">jbpm-jpdl.jar</tt> &#8212; Seam&#30340;JBPM&#38598;&#25104;&#25152;&#38656;&#35201;&#30340;&#65288;&#22312;&#26412;&#20363;&#20013;&#27809;&#26377;&#29992;&#21040;&#65289;&#12290;
            </p></li><li><p>
              Drools &#8212; Seam Security&#25152;&#38656;&#35201;&#30340;&#12290;&#23613;&#31649;&#25105;&#20204;&#27809;&#26377;&#36890;&#36807;Drools&#20351;&#29992;Seam Security&#65292;&#20294;&#36824;&#26159;&#24517;&#39035;&#21253;&#21547;&#23427;&#12290;
              Drools&#30001;5&#20010;jar&#21253;&#32452;&#25104; - <tt class="literal">drools-core-4.0.0.jar</tt>&#12289;
              <tt class="literal">drools-compiler-4.0.0.jar</tt>&#12289;
              <tt class="literal">janino-2.5.7.jar</tt>&#12289;
              <tt class="literal">mvel14-1.2rc1.jar</tt> &#21644;
              <tt class="literal">antlr-runtime-3.0.jar</tt>&#12290;&#22312;&#26412;&#20363;&#20013;&#27809;&#26377;&#29992;&#21040;Drools&#38598;&#25104;&#12290;
            </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14734"></a>26.1.3.&nbsp;&#37197;&#32622;&#25991;&#20214;&#30340;&#25913;&#21464;</h3></div></div><div></div></div><p>&#21482;&#26377;&#19968;&#20123;&#22320;&#26041;&#38656;&#35201;&#26356;&#25913;&#65306;</p><div class="variablelist"><dl><dt><span class="term">
              <tt class="literal">web.xml</tt>
            </span></dt><dd><p>
              &#20320;&#38656;&#35201;&#22312; <tt class="literal">web.xml</tt> &#20013;&#22768;&#26126;&#25152;&#26377;&#30340;EJB&#12290;&#36825;&#26159;&#35768;&#22810;JEE 5&#24212;&#29992;&#31243;&#24207;&#26381;&#21153;&#22120;&#30340;&#19968;&#20010;&#26080;&#32842;&#35201;&#27714; &#65293; &#20363;&#22914;OC4J&#21644;Glassfish&#12290;
              </p><pre class="programlisting">&lt;ejb-local-ref&gt;
   &lt;ejb-ref-name&gt;
      jboss-seam-jee5/AuthenticatorAction/local
   &lt;/ejb-ref-name&gt;
   &lt;ejb-ref-type&gt;Session&lt;/ejb-ref-type&gt;
   &lt;local-home/&gt;
   &lt;local&gt;
      org.jboss.seam.example.booking.Authenticator
   &lt;/local&gt;
   &lt;ejb-link&gt;AuthenticatorAction&lt;/ejb-link&gt;
&lt;/ejb-local-ref&gt;</pre></dd><dt><span class="term">
              <tt class="literal">persistence.xml</tt>
            </span></dt><dd><p>
              &#20320;&#38656;&#35201;&#25552;&#20379;&#19968;&#20010;&#27491;&#30830;&#30340;&#37197;&#32622;&#32473;&#20320;&#30340;JPA&#23454;&#29616;&#12290;&#25105;&#20204;&#26159;&#20351;&#29992;Hibernate&#65292;&#30001;&#20110;OC4J&#36824;&#26159;&#32465;&#23450;&#32769;&#30340;ANTLR&#65292;&#25105;&#20204;&#38656;&#35201;&#20351;&#29992;&#21487;&#36873;&#30340;&#26597;&#35810;&#24037;&#21378;&#65292;&#25105;&#20204;&#20063;&#24819;&#20351;&#29992;OC4J&#30340;&#20107;&#21153;&#31649;&#29702;&#22120;&#65306;
              </p><pre class="programlisting">&lt;property
   name="hibernate.query.factory_class"
   value="org.hibernate.hql.classic.ClassicQueryTranslatorFactory" /&gt;
&lt;property
   name="hibernate.transaction.manager_lookup_class"
   value="org.hibernate.transaction.OrionTransactionManagerLookup" /&gt;</pre></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14765"></a>26.1.4.&nbsp;&#26500;&#24314; <tt class="literal">jee5/booking</tt> &#23454;&#20363;</h3></div></div><div></div></div><div class="orderedlist"><ol type="1"><li><p>&#22312;&#24037;&#31243;&#20013;&#20462;&#25913;&#20197;&#19979;&#25991;&#20214;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>
                  <tt class="literal">build.xml</tt> &#8212; &#21453;&#27880;&#37322;OC4J&#30456;&#20851;&#30340;&#20381;&#36182;&#21253;
               </p></li><li><p>
                  <tt class="literal">resources/META-INF/persistence.xml</tt> &#8212; &#27880;&#37322;&#25481;Glassfish&#23646;&#24615;&#65292;&#21453;&#27880;&#37322;OC4J&#30340;&#23646;&#24615;
                </p></li></ul></div></li><li><p>
              &#36890;&#36807;&#36816;&#34892; <tt class="literal">ant</tt> &#26469;&#26500;&#24314;demo&#24212;&#29992;&#31243;&#24207;&#12290;&#26368;&#32456;&#26500;&#24314;&#25104; <tt class="literal">dist/jboss-seam-jee5.ear</tt>
            </p></li><li><p>
               &#23558; <tt class="literal">hsqldb.jar</tt> &#22797;&#21046;&#21040;OC4J&#20013;&#65306;
               <tt class="literal">cp ../../seam-gen/lib/hsqldb.jar $ORACLE_HOME/j2ee/home/applib/</tt>
               &#65288;&#30001;&#20110;OC4J&#24182;&#27809;&#26377;&#23884;&#20837;&#24335;&#30340;&#25968;&#25454;&#24211;&#65292;&#22240;&#27492;&#25105;&#20204;&#20915;&#23450;&#20351;&#29992;HSQLDB&#65289;&#12290;
              </p></li></ol></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14806"></a>26.2.&nbsp;&#37096;&#32626;Seam&#24212;&#29992;&#31243;&#24207;&#21040;OC4J&#20013;</h2></div></div><div></div></div><p>
      &#36825;&#20010;&#36855;&#20320;&#22411;&#30340;&#25945;&#31243;&#65288;&#26377;&#28857;&#20047;&#21619;&#65289;&#25551;&#36848;&#20102;&#23558;&#19968;&#20010;JEE 5&#24212;&#29992;&#31243;&#24207;&#37096;&#32626;&#21040;OC4J&#20013;&#25152;&#38656;&#30340;&#27493;&#39588;&#12290;
      &#20551;&#35774;&#20320;&#27491;&#22312;&#37096;&#32626;&#20351;&#29992;&#20102;&#23884;&#20837;&#24335;&#30340;hsqldb&#25968;&#25454;&#24211;&#30340; <tt class="literal">jee5/booking</tt> &#23454;&#20363;&#12290;
      &#20026;&#20102;&#37096;&#32626;&#20854;&#20182;&#30340;&#24212;&#29992;&#31243;&#24207;&#65292;&#20320;&#38656;&#35201;&#26356;&#25913;&#25968;&#25454;&#28304;&#21517;&#31216;&#21644;&#24212;&#29992;&#31243;&#24207;&#21517;&#31216;&#12290;
      </p><div class="orderedlist"><ol type="1"><li><p>
            &#19979;&#36733;&#21644;&#35299;&#21387;OC4J
          </p></li><li><p>
          &#35831;&#30830;&#35748;&#20320;&#24050;&#32463;&#35774;&#32622;&#20102; <tt class="literal">$JAVA_HOME</tt> &#21644; <tt class="literal">$ORACLE_HOME</tt> &#20316;&#20026;&#29615;&#22659;&#21464;&#37327;
          &#65288;<tt class="literal">$ORACLE_HOME</tt>&#36825;&#20010;&#26159;&#25351;&#35299;&#21387;&#21518;OC4J&#30340;&#30446;&#24405;&#21517;&#31216;&#65289;&#12290;
          &#24819;&#20102;&#35299;&#26356;&#22810;&#26377;&#20851;&#23433;&#35013;OC4J&#30340;&#20449;&#24687;&#65292;&#35831;&#21442;&#32771;OC4J&#21457;&#24067;&#21253;&#20013;&#30340; <tt class="literal">Readme.txt</tt> &#12290;
          </p></li><li><p>
          &#32534;&#36753;OC4J&#25968;&#25454;&#28304; <tt class="literal">$ORACLE_HOME/j2ee/home/config/data-sources.xml</tt>&#65292;&#24182;&#22312; <tt class="literal">&lt;data-sources&gt;</tt> &#20013;&#22686;&#21152;
          </p><pre class="programlisting">&lt;managed-data-source
   connection-pool-name="jee5-connection-pool"
   jndi-name="jdbc/__default"
   name="jee5-managed-data-source" /&gt;
&lt;connection-pool name="jee5-connection-pool"&gt;
   &lt;connection-factory
      factory-class="org.hsqldb.jdbcDriver"
      user="sa"
      password=""
      url="jdbc:hsqldb:." /&gt;
&lt;/connection-pool&gt;</pre><p>
          &#22312; <tt class="literal">persistence.xml</tt> &#37324;&#65292;<tt class="literal">jndi-name</tt> &#34987;&#29992;&#20316; <tt class="literal">jta-data-source</tt>&#12290;
          </p></li><li><p>
          &#32534;&#36753; <tt class="literal">$ORACLE_HOME/j2ee/home/config/server.xml</tt> &#65292;&#22312; <tt class="literal">&lt;application-server&gt;</tt>&#20013;&#22686;&#21152;
          </p><pre class="programlisting">&lt;application name="jboss-seam-jee5"
 path="../../home/applications/jboss-seam-jee5.ear"
 parent="default"
 start="true" /&gt;</pre><p>
          &#20026;&#20102;&#35753;&#20107;&#24773;&#31616;&#21333;&#20123;&#65292;&#23601;&#37319;&#29992;&#20320;&#32473;&#39033;&#30446;&#25152;&#29992;&#30340;&#30456;&#21516;&#21517;&#23383;&#12290;
          </p></li><li><p>
          &#32534;&#36753; <tt class="literal">$ORACLE_HOME/j2ee/home/config/default-web-site.xml</tt>&#65292;&#22312; <tt class="literal">&lt;web-site&gt;</tt> &#20013;&#22686;&#21152;
          </p><pre class="programlisting">&lt;web-app application="jboss-seam-jee5"
 name="jboss-seam-jee5"
 load-on-startup="true"
 root="/seam-jee5" /&gt;</pre><p>
          <tt class="literal">root</tt> &#23601;&#26159;&#20320;&#23558;&#36755;&#20837;&#21040;Web&#27983;&#35272;&#22120;&#29992;&#26469;&#35775;&#38382;&#24212;&#29992;&#31243;&#24207;&#30340;&#19978;&#19979;&#25991;&#36335;&#24452;&#12290;
          </p></li><li><p>
          &#23558;&#24212;&#29992;&#31243;&#24207;&#22797;&#21046;&#21040;OC4J&#65306;<tt class="literal">cp dist/jboss-seam-jee5.ear $ORACLE_HOME/j2ee/home/applications/</tt>
           </p></li><li><p>
          &#21551;&#21160;OC4J&#65306;<tt class="literal">$ORACLE_HOME/bin/oc4j -start</tt>
          </p><p>
          &#22914;&#26524;&#26159;&#31532;&#19968;&#27425;&#21551;&#21160;OC4J&#65292;&#24744;&#23558;&#34987;&#35201;&#27714;&#35774;&#32622;&#31649;&#29702;&#21592;&#23494;&#30721;
          </p></li><li><p>
          &#22312; <tt class="literal">http://localhost:8888/seam-jee5</tt> &#20013;&#26816;&#39564;&#24212;&#29992;&#31243;&#24207;
          </p></li><li><p>
          &#20320;&#21487;&#20197;&#36890;&#36807;&#22312;&#26381;&#21153;&#22120;&#36816;&#34892;&#30340;&#25511;&#21046;&#21488;&#19978;&#25353;&#19979; <tt class="literal">CTRL-C</tt> &#26469;&#20572;&#27490;&#26381;&#21153;&#22120;&#12290;
          </p></li></ol></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e14910"></a>26.3.&nbsp;
      &#23558;&#19968;&#20010;&#20351;&#29992; <tt class="literal">seam-gen</tt> &#21019;&#24314;&#30340;&#24212;&#29992;&#31243;&#24207;&#37096;&#32626;&#21040;OC4J&#20013;&#12290;
      </h2></div></div><div></div></div><p>
      &#25509;&#19979;&#26469;&#30340;&#35828;&#26126;&#20551;&#35774;&#20320;&#27491;&#22312;&#20351;&#29992;&#21629;&#20196;&#34892;&#30340;&#26041;&#24335;&#21644;&#19968;&#20010;&#31616;&#21333;&#30340;&#25991;&#26412;&#32534;&#36753;&#22120;&#65292;&#24403;&#28982;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;&#33258;&#24049;&#29087;&#24713;&#30340;IDE &#65293; <tt class="literal">seam-gen</tt> &#39033;&#30446;&#65292;&#21516;&#26102;&#25903;&#25345;Eclipse&#21644;Netbeans&#12290;
      </p><p>
      &#25105;&#20204;&#20174;&#20351;&#29992; <tt class="literal">seam-gen</tt> &#26469;&#21019;&#24314;&#19968;&#20010;&#38750;&#24120;&#31616;&#21333;&#30340;&#24212;&#29992;&#31243;&#24207;&#24320;&#22987;&#12290;
      <tt class="literal">seam-gen</tt> &#20351;&#29992;Hibernate Tools &#26469;&#23558;&#25968;&#25454;&#24211;&#30340;Scheam&#21453;&#21521;&#24037;&#31243;&#20026;JPA&#30340;&#23454;&#20307;Bean&#65307;
      &#23427;&#20063;&#21487;&#20197;&#29983;&#25104;Seam&#24212;&#29992;&#31243;&#24207;&#30340;&#26694;&#26550;&#32452;&#20214;&#21644;JSF&#30340;CRUD&#65288;&#21019;&#24314;&#12289;&#35835;&#21462;&#12289;&#26356;&#26032;&#21644;&#21024;&#38500;&#65289;&#35270;&#22270;&#12290;
      &#36825;&#20010;&#25945;&#31243;&#20351;&#29992;MySQL&#25968;&#25454;&#24211;&#65288;&#24403;&#28982;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;&#20219;&#20309;&#20854;&#20182;&#30340;&#25968;&#25454;&#24211;&#65292;&#26356;&#25913;&#30456;&#24212;&#30340;SQL&#23601;&#21487;&#20197;&#20102;&#65289;&#65307;&#23433;&#35013;&#12289;&#37197;&#32622;&#21644;&#36816;&#34892;MySQL&#65292;&#28982;&#21518;&#21019;&#24314;&#25968;&#25454;&#24211;&#65292;&#24182;&#24102;&#26377;&#19968;&#20123;&#33539;&#20363;&#25968;&#25454;&#12290;
      </p><p>
      &#25509;&#19979;&#26469;&#65292;&#22312;Seam&#30340;&#30446;&#24405;&#20013;&#36816;&#34892; <tt class="literal">./seam setup</tt>&#12290;
      </p><pre class="programlisting">&gt; ./seam setup
Buildfile: build.xml

setup:
    [echo] Welcome to seam-gen :-)
    [input] Enter your Java project workspace (the directory that contains your Seam projects) [/home/pmuir/workspace] [/home/pmuir/workspace]

    [input] Enter your JBoss home directory [/home/pmuir/java/jboss-4.2.1.GA] [/home/pmuir/java/jboss-4.2.1.GA]

    [input] Enter the project name [oc4j-example] [oc4j-example]

    [input] Is this project deployed as an EAR (with EJB components) or a WAR (with no EJB support) [ear]  ([ear], war, )

    [input] Enter the Java package name for your session beans [org.jboss.seam.tutorial.oc4j.action] [org.jboss.seam.tutorial.oc4j.action]

    [input] Enter the Java package name for your entity beans [org.jboss.seam.tutorial.oc4j.model] [org.jboss.seam.tutorial.oc4j.model]

    [input] Enter the Java package name for your test cases [org.jboss.seam.tutorial.oc4j.test] [org.jboss.seam.tutorial.oc4j.test]

    [input] What kind of database are you using? [mysql]  (hsql, [mysql], oracle, postgres, mssql, db2, sybase, enterprisedb, )

    [input] Enter the Hibernate dialect for your database [org.hibernate.dialect.MySQLDialect] [org.hibernate.dialect.MySQLDialect]

    [input] Enter the filesystem path to the JDBC driver jar [lib/mysql.jar] [lib/mysql.jar]

    [input] Enter JDBC driver class for your database [com.mysql.jdbc.Driver] [com.mysql.jdbc.Driver]

    [input] Enter the JDBC URL for your database [jdbc:mysql:///oc4j] [jdbc:mysql:///oc4j]

    [input] Enter database username [user] [user]

    [input] Enter database password [password] [password]

    [input] skipping input as property hibernate.default_schema.new has already been set.
    [input] Enter the database catalog name (it is OK to leave this blank) [] []

    [input] Are you working with tables that already exist in the database? [y]  ([y], n, )

    [input] Do you want to drop and recreate the database tables and data in import.sql each time you deploy? [n]  (y, [n], )

    [propertyfile] Updating property file: /home/pmuir/workspace/jboss-seam/seam-gen/build.properties
    [echo] Installing JDBC driver jar to JBoss server
    [echo] Type 'seam new-project' to create the new project

BUILD SUCCESSFUL</pre><p>
      &#36755;&#20837; <tt class="literal">./seam new-project</tt> &#26469;&#21019;&#24314;&#20320;&#30340;&#24037;&#31243;&#65292;&#24182; <tt class="literal">cd</tt> &#36827;&#20837;&#21040;&#21018;&#21019;&#24314;&#30340;&#24037;&#31243;&#37324;&#12290;
      </p><p>
      &#36755;&#20837; <tt class="literal">./seam generate-entities</tt> &#26469;&#36816;&#34892;&#21019;&#24314;&#30340;&#23454;&#20307;&#65292;Seam&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;&#31867;&#21644;&#30456;&#20851;&#30340;&#35270;&#22270;&#12290;
      </p><p>
      &#25105;&#20204;&#29616;&#22312;&#38656;&#35201;&#23545;&#29983;&#25104;&#30340;&#24037;&#31243;&#36827;&#34892;&#19968;&#20123;&#20462;&#25913;&#12290;&#35753;&#25105;&#20204;&#20174;&#37197;&#32622;&#25991;&#20214;&#24320;&#22987;&#65306;
      </p><div class="variablelist"><dl><dt><span class="term">
            <tt class="literal">resources/META-INF/persistence-dev.xml</tt>
          </span></dt><dd><div class="itemizedlist"><ul type="disc"><li><p>
                &#26356;&#25913; <tt class="literal">jta-data-source</tt> &#20026; <tt class="literal">jdbc/__oc4jExample</tt>
                &#65288;&#24403;&#22312; <tt class="literal">data-sources.xml</tt> &#21019;&#24314;&#25968;&#25454;&#28304;&#26102;&#65292;&#29992;&#36825;&#20010;&#20316;&#20026; <tt class="literal">jndi-name</tt> &#65289;
                </p></li><li><p>
                &#28155;&#21152;&#19978;&#36848;&#30340;&#23646;&#24615;&#65306;
                </p><pre class="programlisting">&lt;property name="hibernate.query.factory_class"
   value="org.hibernate.hql.classic.ClassicQueryTranslatorFactory" /&gt;
&lt;property name="hibernate.transaction.manager_lookup_class"
   value="org.hibernate.transaction.OrionTransactionManagerLookup" /&gt;
&lt;property name="hibernate.transaction.flush_before_completion"
   value="true"/&gt;
&lt;property name="hibernate.cache.provider_class"
   value="org.hibernate.cache.HashtableCacheProvider"/&gt;</pre></li><li><p>
                &#21024;&#38500;JBoss AS&#20013;&#26292;&#38706;EntityManagerFactory&#30340;&#26041;&#27861;:
                </p><pre class="programlisting">&lt;property
 name="jboss.entity.manager.factory.jndi.name"
 value="java:/oc4j-exampleEntityManagerFactory"&gt;</pre></li><li><p>
                &#21516;&#26679;&#22320;&#65292;&#22914;&#26524;&#20320;&#24819;&#20351;&#29992;&#20808;&#21069;&#30340;&#25991;&#20214;&#37096;&#32626;&#21040;OC4J&#20013;&#65292;&#23601;&#38656;&#35201;&#26356;&#25913; <tt class="literal">persistence-prod.xml</tt> &#12290;
                </p></li></ul></div></dd><dt><span class="term">
            <tt class="literal">resources/META-INF/jboss-app.xml</tt>
          </span></dt><dd><p>
            &#20320;&#21487;&#20197;&#21024;&#38500;&#36825;&#20010;&#25991;&#20214;&#65292;&#30001;&#20110;&#25105;&#20204;&#27809;&#26377;&#37096;&#32626;&#21040;JBoss AS&#20013;&#65288;<tt class="literal">jboss-app.xml</tt> &#29992;&#20110;&#22312;JBoss AS&#20013;&#28608;&#27963;classloading&#38548;&#31163;&#65289;&#12290;
            </p></dd><dt><span class="term">
            <tt class="literal">resources/*-ds.xml</tt>
          </span></dt><dd><p>
            &#20320;&#21487;&#20197;&#21024;&#38500;&#36825;&#20123;&#25991;&#20214;&#65292;&#30001;&#20110;&#25105;&#20204;&#20063;&#27809;&#26377;&#37096;&#32626;&#21040;JBoss AS&#20013;
            &#65288;&#22312;JBoss AS&#20013;&#36825;&#20123;&#25991;&#20214;&#23450;&#20041;&#20102;&#25968;&#25454;&#28304;&#65292;&#22312;OC4J&#20013;&#65292;&#20320;&#24517;&#39035;&#32534;&#36753;&#20027;&#35201;&#30340; <tt class="literal">data-sources.xml</tt> &#25991;&#20214;&#12290;&#65289;
            </p></dd><dt><span class="term">
            <tt class="literal">resources/WEB-INF/components.xml</tt>
          </span></dt><dd><div class="itemizedlist"><ul type="disc"><li><p>
                &#28608;&#27963;CMT&#65288;container managed transaction&#65306;&#23481;&#22120;&#31649;&#29702;&#20107;&#21153;&#8212;&#65289;&#38598;&#25104; &#65293; &#28155;&#21152; <tt class="literal">&lt;transaction:ejb-transaction /&gt;</tt> &#32452;&#20214;&#65292;
                &#21644;&#23427;&#30340;&#21629;&#21517;&#31354;&#38388;&#22768;&#26126; <tt class="literal">xmlns:transaction="http://jboss.com/products/seam/transaction"</tt>
                </p></li><li><p>
                &#23558; <tt class="literal">jndi-pattern</tt> &#26356;&#25913;&#20026; <tt class="literal">java:comp/env/oc4j-example/#{ejbName}/local</tt>
                </p></li><li><p>
                &#25105;&#20204;&#24819;&#22312;&#25105;&#20204;&#30340;&#24212;&#29992;&#31243;&#24207;&#24403;&#20013;&#20351;&#29992;Seam&#30340;MPC&#65288;Managed Persistence Context&#65306;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;&#31649;&#29702;&#65289;&#12290;
                &#19981;&#24184;&#30340;&#26159;&#65292;OC4J&#27809;&#26377;&#20197;JNDI&#24418;&#24335;&#26292;&#38706;EntityManagerFactory&#65292;&#20294;&#26159;Seam&#25552;&#20379;&#20102;&#19968;&#20010;&#20869;&#32622;&#30340;&#31649;&#29702;&#22120;&#32452;&#20214;&#65306;
                </p><pre class="programlisting">&lt;persistence:entity-manager-factory
 auto-create="true"
 name="oc4jEntityManagerFactory"
 persistence-unit-name="oc4j-example" /&gt;</pre><p>
                &#25509;&#19979;&#26469;&#25105;&#20204;&#38656;&#35201;&#21578;&#30693;Seam&#26469;&#20351;&#29992;&#23427;&#65292;&#22240;&#27492;&#25105;&#20204;&#26356;&#25913;&#27880;&#20837;&#23454;&#20307;&#31649;&#29702;&#22120;&#24037;&#21378;&#30340; <tt class="literal">managed-persistence-context</tt>&#65306;
                </p><pre class="programlisting">&lt;persistence:managed-persistence-context
 name="entityManager"
 auto-create="true"
 entity-manager-factory="#{oc4jEntityManagerFactory}" /&gt;
                </pre></li></ul></div></dd><dt><span class="term">
            <tt class="literal">resources/WEB-INF/web.xml</tt>
          </span></dt><dd><p>
            &#22312;&#36825;&#37324;&#65292;&#20320;&#38656;&#35201;&#22768;&#26126;&#20320;&#25152;&#26377;&#30340;EJB&#12290;&#35760;&#20303;&#21253;&#25324;Seam&#30340;&#23481;&#22120;&#31649;&#29702;&#20107;&#21153;&#38598;&#25104;&#65306;
            </p><pre class="programlisting">&lt;ejb-local-ref&gt;
   &lt;ejb-ref-name&gt;
      oc4j-example/EjbSynchronizations/local
   &lt;/ejb-ref-name&gt;
   &lt;ejb-ref-type&gt;Session&lt;/ejb-ref-type&gt;
   &lt;local&gt;
      org.jboss.seam.transaction.LocalEjbSynchronizations
   &lt;/local&gt;
   &lt;ejb-link&gt;EjbSynchronizations&lt;/ejb-link&gt;
&lt;/ejb-local-ref&gt;</pre></dd><dt><span class="term">
            <tt class="literal">build.xml</tt>
          </span></dt><dd>
          &#25913;&#21464;&#40664;&#35748;&#30340;target&#26469;&#23436;&#25104;&#65288;&#25105;&#20204;&#19981;&#25171;&#31639;&#35206;&#30422;OC4J&#30340;&#33258;&#21160;&#37096;&#32626;&#65289;&#12290;
          </dd></dl></div><p>
      &#29616;&#22312;&#65292;&#35753;&#25105;&#20204;&#26469;&#28155;&#21152;&#19968;&#20123;&#39069;&#22806;&#30340;&#20381;&#36182;&#21253;&#65306;
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Hibernate &#8212;
          </p><div class="itemizedlist"><ul type="circle"><li><p>
              &#23558;Seam&#21457;&#34892;&#21253;&#20013; <tt class="literal">hibernate/lib</tt> &#30446;&#24405;&#19979;&#25152;&#26377;&#30340;jar&#25991;&#20214;&#25335;&#36125;&#21040; <tt class="literal">oc4j-example/lib</tt> &#30446;&#24405;&#19979;&#65306;
              <tt class="literal">cp ../jboss-seam/hibernate/lib/*.jar lib/</tt>
              </p></li><li><p>
              &#26356;&#25913; build.xml&#65292;&#23558;&#23427;&#20204;&#21253;&#21547;&#22312;ear&#21253;&#20013; &#65293; &#35201;&#28155;&#21152;&#30340;&#36825;&#20123;&#21253;&#25324;&#22312;&#20854;&#20182;&#22791;&#20221;&#24211;&#19979;&#26041;&#65306;
              </p><pre class="programlisting">&lt;include name="lib/hibernate-annotations.jar" /&gt;
&lt;include name="lib/hibernate-entitymanager.jar" /&gt;
&lt;include name="lib/hibernate3.jar" /&gt;
&lt;include name="ejb3-peristence.jar" /&gt;
&lt;include name="lib/jboss-archive-browsing.jar" /&gt;
&lt;include name="lib/jboss-common.jar" /&gt;</pre></li></ul></div></li><li><p>
          <tt class="literal">thirdparty-all.jar</tt> &#8212; &#26356;&#25913; <tt class="literal">build.xml</tt> &#21253;&#21547;&#23427; &#65293; &#28155;&#21152;&#36825;&#20010;&#65306;
          </p><pre class="programlisting">&lt;include name="lib/thirdparty-all.jar" /&gt;</pre></li><li><p>
          <tt class="literal">antlr-2.7.6.jar</tt> &#8212; &#26356;&#25913; <tt class="literal">build.xml</tt> &#21253;&#21547;&#23427; &#65293; &#28155;&#21152;&#36825;&#20010;:
          </p><pre class="programlisting">&lt;include name="lib/antlr-*.jar" /&gt;</pre></li><li><p>
          &#30001;&#20110;&#25105;&#20204;&#20351;&#29992;Drools&#26469;&#25552;&#20379;Seam Security&#35268;&#21017;&#65292;&#25105;&#20204;&#38656;&#35201;&#28155;&#21152;&#22312;Eclipse JDT&#32534;&#35793;&#22120;&#20013;&#65288;&#22312;JBoss AS&#20013;&#20320;&#19981;&#38656;&#35201;&#36825;&#20010;&#65307;&#20877;&#35828;&#19968;&#27425;&#65292;&#36825;&#26159;&#30001;&#20110;OC4J&#30340;classloading&#36896;&#25104;&#30340;&#65289;&#65306;
          </p><div class="itemizedlist"><ul type="circle"><li><pre class="programlisting">cp ../jboss-seam/seam-gen/lib/org.eclipse.jdt.core*.jar lib/</pre></li><li><p>
              &#26356;&#25913; build.xml &#23558;&#23427;&#20204;&#21253;&#21547;&#22312;ear&#21253;&#20013;&#65306;
              </p><pre class="programlisting">&lt;include name="lib/org.eclipse.jdt.core*.jar" /&gt;</pre></li></ul></div></li></ul></div><p>
      &#20320;&#24212;&#35813;&#31867;&#20284;&#20110;&#19979;&#38754;&#36825;&#26679;&#32467;&#26463;&#65306;
      </p><pre class="programlisting">&lt;fileset dir="${basedir}"&gt;
   &lt;!-- other libraries added by seam-gen --&gt;
   &lt;include name="lib/hibernate-annotations.jar" /&gt;
   &lt;include name="lib/hibernate-entitymanager.jar" /&gt;
   &lt;include name="lib/hibernate3.jar" /&gt;
   &lt;include name="lib/jboss-archive-browsing.jar" /&gt;
   &lt;include name="lib/jboss-common.jar" /&gt;
   &lt;include name="lib/thirdparty-all.jar" /&gt;
   &lt;include name="lib/antlr-*.jar" /&gt;
   &lt;include name="lib/org.eclipse.jdt.core*.jar" /&gt;
&lt;/fileset&gt;</pre><p>
      &#26368;&#21518;&#65292;&#35753;&#25105;&#20204;&#23558; <tt class="literal">User</tt> &#23454;&#20307;&#36830;&#25509;&#21040;Seam Security&#20013;
      &#65288;&#25105;&#20204;&#26377;&#19968;&#20010;&#21253;&#21547;<tt class="literal">username</tt> &#21015;&#21644; <tt class="literal">password</tt> &#21015;&#30340; <tt class="literal">User</tt> &#34920;&#65289;&#12290;
      &#25105;&#20204;&#23558;&#20351;&#39564;&#35777;&#22120;&#21464;&#25104;&#19968;&#20010;&#26080;&#29366;&#24577;&#20250;&#35805;Bean&#65288;&#27605;&#31455;OC4J&#20063;&#26159;EJB3&#30340;&#23481;&#22120;&#65281;&#65289;&#65306;
      </p><div class="orderedlist"><ol type="1"><li><div class="itemizedlist"><ul type="disc"><li><p>
              &#28155;&#21152; <tt class="literal">@Stateless</tt> &#27880;&#35299;&#12290;
              </p></li><li><p>
              &#23558;&#31867;&#37325;&#21629;&#21517;&#20026; <tt class="literal">AuthenticatorAction</tt>
              </p></li><li><p>
              &#21019;&#24314;&#19968;&#20010;&#20855;&#21517;&#20026; <tt class="literal">Authenticator</tt> &#30340;&#25509;&#21475;&#65292;&#24182;&#30001; <tt class="literal">AuthenticatorAction</tt> &#26469;&#23454;&#29616;&#36825;&#20010;&#25509;&#21475;&#65288;EJB3&#35201;&#27714;&#20250;&#35805;Bean&#35201;&#26377;&#19968;&#20010;&#26412;&#22320;&#25509;&#21475;&#65289;&#12290;
              &#20351;&#29992; <tt class="literal">@Local</tt> &#26469;&#27880;&#35299;&#36825;&#20010;&#25509;&#21475;&#65292;&#28982;&#21518;&#22686;&#21152;&#19968;&#20010;&#19982;<tt class="literal">AuthenticatorAction</tt> &#20013;&#30340; <tt class="literal">authenticate</tt> &#26041;&#27861;&#21516;&#26679;&#31614;&#21517;&#30340;&#26041;&#27861;&#12290;
              </p></li></ul></div><pre class="programlisting">@Name("authenticator") @Stateless public class
            AuthenticatorAction implements Authenticator {</pre><pre class="programlisting">@Local public interface Authenticator {
  public boolean authenticate();
}</pre></li><li><p>
          &#20351;&#29992; <tt class="literal">@PersistenceContext</tt> &#27880;&#35299;&#26469;&#27880;&#20837;EntityManager&#65306;
          </p><pre class="programlisting">@PersistenceContext private EntityManager entityManager;</pre></li><li><p>
          &#23454;&#29616;authenticate&#65306;
          </p><pre class="programlisting">public boolean authenticate() {
   List &amp;lt;User&amp;gt; users = entityManager .createQuery("select u from User u where
   u.username = #{identity.username} and
   u.password = #{identity.password}") .getResultList();
   if (users.size() == 1) {
      identity.addRole("admin");
      return true;
   } else {
      return false;
   }
}</pre></li><li><p>
          &#28982;&#21518;&#22312; <tt class="literal">web.xml</tt> &#20013;&#28155;&#21152;EJB3&#30340;&#24341;&#29992;&#65306;
          </p><pre class="programlisting">&lt;ejb-local-ref&gt;
   &lt;ejb-ref-name&gt;
      oc4j-example/AuthenticatorAction/local
   &lt;/ejb-ref-name&gt;
   &lt;ejb-ref-type&gt;Session&lt;/ejb-ref-type&gt;
   &lt;local&gt;
      org.jboss.seam.tutorial.oc4j.action.Authenticator
   &lt;/local&gt;
   &lt;ejb-link&gt;AuthenticatorAction&lt;/ejb-link&gt;
&lt;/ejb-local-ref&gt;</pre></li></ol></div><p>
    &#29616;&#22312;&#20320;&#21487;&#20197;&#32487;&#32493;&#24182;&#23450;&#21046;&#20320;&#33258;&#24049;&#30340;&#24212;&#29992;&#31243;&#24207;&#20102;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e15208"></a>26.3.1.&nbsp;seam-gen&#20043;&#31867;&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;OC4J&#37096;&#32626;&#25551;&#36848;&#31526;</h3></div></div><div></div></div><p>
        &#20026;&#20102;&#20351;&#29992;&#19978;&#36848;&#37096;&#32626;&#25351;&#20196;&#26469;&#37096;&#32626;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#65292;&#35201;&#32467;&#21512;&#20351;&#29992;&#36825;&#20123;&#37096;&#32626;&#25551;&#36848;&#31526;&#65306;
        </p><div class="variablelist"><dl><dt><span class="term">
              <tt class="literal">$ORACLE_HOME/j2ee/home/config/data-sources.xml</tt>
            </span></dt><dd><pre class="programlisting">&lt;managed-data-source
   connection-pool-name="oc4j-example-connection-pool"
   jndi-name="jdbc/__oc4jExample"
   name="oc4j-example-managed-data-source" /&gt;
&lt;connection-pool
   name="oc4j-example-connection-pool"&gt;
   &lt;connection-factory
      factory-class="com.mysql.jdbc.Driver"
      user="username"
      password="password"
      url="jdbc:mysql:///oc4j" /&gt;
&lt;/connection-pool&gt;</pre></dd><dt><span class="term">
              <tt class="literal">$ORACLE_HOME/j2ee/home/config/server.xml</tt>
            </span></dt><dd><pre class="programlisting">&lt;application name="oc4j-example"
 path="../../home/applications/oc4j-example.ear"
 parent="default"
 start="true" /&gt;</pre></dd><dt><span class="term">
              <tt class="literal">$ORACLE_HOME/j2ee/home/config/default-web-site.xml</tt>
            </span></dt><dd><pre class="programlisting">&lt;web-app application="oc4j-example"
 name="oc4j-example"
 load-on-startup="true"
 root="/oc4j-example" /&gt;</pre></dd></dl></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="annotations"></a>Chapter&nbsp;27.&nbsp;Seam&#27880;&#35299;</h2></div></div><div></div></div><p>
    	&#32534;&#20889;Seam&#24212;&#29992;&#31243;&#24207;&#26102;&#38656;&#35201;&#20351;&#29992;&#22823;&#37327;&#30340;&#27880;&#35299;&#12290;Seam&#35753;&#25105;&#20204;&#20351;&#29992;&#27880;&#35299;&#33719;&#24471;&#22768;&#26126;&#24335;&#32534;&#31243;&#39118;&#26684;&#12290;&#22823;&#37096;&#20998;&#27880;&#35299;&#30001;EJB3.0&#35268;&#33539;&#23450;&#20041;&#12290;
        &#25968;&#25454;&#39564;&#35777;&#36890;&#36807;Hibernate Validator&#21253;&#23450;&#20041;&#12290;&#26368;&#21518;&#65292;Seam&#23450;&#20041;&#20102;&#23427;&#33258;&#24049;&#30340;&#27880;&#35299;&#38598;&#21512;&#65292;&#36825;&#23601;&#26159;&#25105;&#20204;&#36825;&#19968;&#31456;&#23558;&#35201;&#25551;&#36848;&#30340;&#12290;
    </p><p>&#25152;&#26377;&#36825;&#20123;&#27880;&#35299;&#22312; <tt class="literal">org.jboss.seam.annotations</tt> &#21253;&#20013;&#23450;&#20041;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e15251"></a>27.1.&nbsp;&#29992;&#20110;&#23450;&#20041;&#32452;&#20214;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>
        &#25105;&#20204;&#35201;&#30475;&#30340;&#31532;&#19968;&#32452;&#27880;&#35299;&#35753;&#25105;&#20204;&#23450;&#20041;&#19968;&#20010;Seam&#32452;&#20214;&#12290;&#36825;&#20123;&#27880;&#35299;&#22312;&#32452;&#20214;&#65288;component&#65289;&#31867;&#20013;&#20986;&#29616;&#12290;
        </p><div class="variablelist"><dl><dt><a name="name-annotation"></a><span class="term">
                    <tt class="literal">@Name</tt>
                </span></dt><dd><pre class="programlisting">@Name("componentName")</pre><p>
                    &#20026;&#19968;&#20010;&#31867;&#23450;&#20041;&#19968;&#20010;Seam&#32452;&#20214;&#12290;&#25152;&#26377;Seam&#32452;&#20214;&#37117;&#38656;&#35201;&#35813;&#27880;&#35299;&#12290;
                   </p></dd><dt><a name="scope-annotation"></a><span class="term">
                    <tt class="literal">@Scope</tt>
                </span></dt><dd><pre class="programlisting">@Scope(ScopeType.CONVERSATION)</pre><p>
                    	&#23450;&#20041;&#40664;&#35748;&#30340;&#32452;&#20214;&#19978;&#19979;&#25991;&#12290;&#21487;&#20197;&#23450;&#20041;&#30340;&#20540;&#30001; <tt class="literal">ScopeType</tt> &#26522;&#20030;&#65306;<tt class="literal">EVENT, PAGE, CONVERSATION, SESSION, BUSINESS_PROCESS, APPLICATION, STATELESS</tt>&#12290;
                    </p><p>
                    	&#24403;&#33539;&#22260;&#27809;&#26377;&#26174;&#24335;&#23450;&#20041;&#26102;&#65292;&#40664;&#35748;&#30340;&#33539;&#22260;&#21462;&#20915;&#20110;&#32452;&#20214;&#31867;&#22411;&#12290;
                        &#23545;&#20110;&#26080;&#29366;&#24577;&#20250;&#35805;bean&#65292;&#40664;&#35748;&#26159; <tt class="literal">STATELESS</tt>&#12290;
                        &#23545;&#20110;Entity Bean&#21644;Stateful Session Bean&#65292;&#40664;&#35748;&#26159; <tt class="literal">CONVERSATION</tt>&#12290;
                        &#23545;&#20110;JavaBean&#65292;&#40664;&#35748;&#26159; <tt class="literal">EVENT</tt>&#12290;</p></dd><dt><a name="role-annotation"></a><span class="term">
                    <tt class="literal">@Role</tt>
                </span></dt><dd><pre class="programlisting">@Role(name="roleName", scope=ScopeType.SESSION)</pre><p>
                    &#20801;&#35768;&#19968;&#20010;Seam&#32452;&#20214;&#32465;&#23450;&#22810;&#20010;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;
                    <tt class="literal">@Name</tt>/<tt class="literal">@Scope</tt> &#27880;&#35299;&#23450;&#20041;&#19968;&#20010;&#8220;&#40664;&#35748;&#35282;&#33394;&#8221;&#12290;&#27599;&#19968;&#20010; <tt class="literal">@Role</tt> &#27880;&#35299;&#23450;&#19968;&#20010;&#38468;&#21152;&#35282;&#33394;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">name</tt> &#8212; &#19978;&#19979;&#25991;&#21464;&#37327;&#30340;&#21517;&#23383;&#12290;
                            </p></li><li><p>
                                <tt class="literal">scope</tt> &#8212; &#19978;&#19979;&#25991;&#21464;&#37327;&#30340;&#20316;&#29992;&#22495;&#12290;&#24403;&#27809;&#26377;&#26174;&#24335;&#23450;&#20041;&#20316;&#29992;&#22495;&#26102;&#65292;&#21644;&#19978;&#38754;&#19968;&#26679;&#40664;&#35748;&#21462;&#20915;&#20110;&#32452;&#20214;&#31867;&#22411;&#12290;</p></li></ul></div></dd><dt><a name="roles-annotation"></a><span class="term">
                    <tt class="literal">@Roles</tt>
                </span></dt><dd><pre class="programlisting">@Roles({
        @Role(name="user", scope=ScopeType.CONVERSATION),
        @Role(name="currentUser", scope=ScopeType.SESSION)
    })</pre><p>&#20801;&#35768;&#25351;&#23450;&#22810;&#20010;&#39069;&#22806;&#35282;&#33394;&#12290;</p></dd><dt><a name="intercept-annotation"></a><span class="term">
                    <tt class="literal">@BypassInterceptors</tt>
                </span></dt><dd><pre class="programlisting">@BypassInterceptors</pre><p>&#21462;&#28040;&#22312;&#29305;&#23450;&#32452;&#20214;&#25110;&#32773;&#19968;&#20010;&#32452;&#20214;&#26041;&#27861;&#19978;&#30340;&#25152;&#26377;&#25318;&#25130;&#22120;&#12290;</p></dd><dt><a name="jndiname-annotation"></a><span class="term">
                    <tt class="literal">@JndiName</tt>
                </span></dt><dd><pre class="programlisting">@JndiName("my/jndi/name")</pre><p>
                    Seam&#26597;&#25214;EJB&#32452;&#20214;&#30340;JNDI&#21517;&#12290;
                    &#22914;&#26524;&#27809;&#26377;&#26174;&#24335;&#25351;&#23450;JNDI&#21517;&#65292;Seam&#23558;&#20351;&#29992;&#30001; <tt class="literal">org.jboss.seam.core.init.jndiPattern</tt> &#25351;&#23450;&#30340;JNDI&#27169;&#24335;&#12290;
                	</p></dd><dt><a name="conversational-annotation"></a><span class="term">
                    <tt class="literal">@Conversational</tt>
                </span></dt><dd><pre class="programlisting">@Conversational</pre><p>
                    	&#22768;&#26126;&#19968;&#20010;&#23545;&#35805;&#20316;&#29992;&#22495;&#32452;&#20214;&#26159;&#23545;&#35805;&#24335;&#30340;&#65292;&#20134;&#21363;&#21482;&#26377;&#38271;&#26399;&#36816;&#34892;&#30340;&#23545;&#35805;&#22788;&#20110;&#27963;&#21160;&#29366;&#24577;&#26102;&#65292;&#32452;&#20214;&#20013;&#30340;&#26041;&#27861;&#25165;&#21487;&#20197;&#34987;&#35843;&#29992;&#12290;
                    </p></dd><dt><a name="startup-annotation"></a><span class="term">
                    <tt class="literal">@Startup</tt>
                </span></dt><dd><pre class="programlisting">@Scope(APPLICATION) @Startup(depends="org.jboss.seam.bpm.jbpm")</pre><p>
                    	&#25351;&#23450;&#26576;&#20010;Application Scope&#30340;&#32452;&#20214;&#22312;&#21021;&#22987;&#21270;&#26102;&#31435;&#21363;&#21551;&#21160;&#12290;&#23427;&#20027;&#35201;&#29992;&#20110;&#29305;&#21035;&#30340;&#20869;&#32622;&#32452;&#20214;&#65292;&#29992;&#20110;&#24341;&#23548;&#35937;JNDI&#65292;&#25968;&#25454;&#28304;&#31561;&#31561;&#20851;&#38190;&#24615;&#30340;&#35774;&#26045;&#12290;
                    </p><pre class="programlisting">@Scope(SESSION) @Startup</pre><p>
                    	&#25351;&#23450;&#26576;&#20010;Session Scope&#30340;&#32452;&#20214;&#22312;Session&#24314;&#31435;&#26102;&#31435;&#21363;&#21551;&#21160;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">depends</tt> &#8212; &#20381;&#36182;&#20110;&#65292;&#25351;&#23450;&#24517;&#39035;&#22312;&#27492;&#20043;&#21069;&#21551;&#21160;&#30340;&#21629;&#21517;&#32452;&#20214;&#65288;&#22914;&#26524;&#24050;&#23433;&#35013;&#65289;&#12290;
                            </p></li></ul></div></dd><dt><a name="install-annotation"></a><span class="term">
                    <tt class="literal">@Install</tt>
                </span></dt><dd><pre class="programlisting">@Install(false)</pre><p>
                        &#25351;&#23450;&#32452;&#20214;&#26159;&#21542;&#24212;&#35813;&#34987;&#40664;&#35748;&#23433;&#35013;&#12290;&#27809;&#26377;@Install&#27880;&#35299;&#21017;&#34920;&#26126;&#35813;&#32452;&#20214;&#24212;&#35813;&#34987;&#23433;&#35013;&#12290;
                    </p><pre class="programlisting">@Install(dependencies="org.jboss.seam.bpm.jbpm")</pre><p>
                        &#22914;&#26524;&#25152;&#25351;&#23450;&#30340;&#20381;&#36182;&#32452;&#20214;&#34987;&#23433;&#35013;&#65292;&#37027;&#20040;&#35813;&#32452;&#20214;&#25165;&#23433;&#35013;&#12290;
                    </p><pre class="programlisting">@Install(genericDependencies=ManagedQueueSender.class)</pre><p>
                        &#22914;&#26524;&#25152;&#25351;&#23450;&#30340;&#31867;&#30340;&#26576;&#20010;&#23454;&#29616;&#32452;&#20214;&#34987;&#23433;&#35013;&#65292;&#37027;&#20040;&#35813;&#32452;&#20214;&#25165;&#23433;&#35013;&#12290;&#24403;&#26080;&#27861;&#30830;&#23450;&#20381;&#36182;&#32452;&#20214;&#30340;&#21807;&#19968;&#20844;&#24320;&#21517;&#23383;&#26102;&#65292;&#36825;&#23601;&#26377;&#29992;&#20102;&#12290;
                    </p><pre class="programlisting">@Install(classDependencies="org.hibernate.Session")</pre><p>
                        &#22914;&#26524;&#25152;&#25351;&#23450;&#30340;&#31867;&#22312;classpath&#20013;&#65292;&#37027;&#20040;&#35813;&#32452;&#20214;&#25165;&#23433;&#35013;&#12290;
                    </p><pre class="programlisting">@Install(precedence=BUILT_IN)</pre><p>
                        &#25351;&#23450;&#32452;&#20214;&#30340;&#20248;&#20808;&#32423;&#21035;&#12290;&#22914;&#26524;&#20855;&#26377;&#30456;&#21516;&#21517;&#23383;&#30340;&#22810;&#20010;&#32452;&#20214;&#23384;&#22312;&#65292;&#20855;&#26377;&#39640;&#20248;&#20808;&#32423;&#30340;&#25165;&#34987;&#23433;&#35013;&#12290;&#23450;&#20041;&#30340;&#20248;&#20808;&#32423;&#26159;&#65288;&#36882;&#22686;&#25490;&#24207;&#65289;&#65306;
                    </p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">BUILT_IN</tt> &#8212; &#25152;&#26377;&#20869;&#32622;&#30340;Seam&#32452;&#20214;&#30340;&#20248;&#20808;&#32423;&#21035;</p></li><li><p><tt class="literal">FRAMEWORK</tt> &#8212; &#29992;&#20110;&#25193;&#23637;Seam&#30340;&#26694;&#26550;&#32452;&#20214;&#30340;&#20248;&#20808;&#32423;&#21035;</p></li><li><p><tt class="literal">APPLICATION</tt> &#8212; &#24212;&#29992;&#31243;&#24207;&#30340;&#32452;&#20214;&#20248;&#20808;&#32423;&#21035;&#65288;&#40664;&#35748;&#20248;&#20808;&#32423;&#65289;</p></li><li><p><tt class="literal">DEPLOYMENT</tt> &#8212; &#22312;&#29305;&#23450;&#37096;&#32626;&#20013;&#37325;&#36733;&#24212;&#29992;&#31243;&#24207;&#32452;&#20214;&#30340;&#32452;&#20214;&#20248;&#20808;&#32423;&#21035;</p></li><li><p><tt class="literal">MOCK</tt> &#8212; &#22312;&#27979;&#35797;&#26102;mock&#23545;&#35937;&#20351;&#29992;&#30340;&#20248;&#20808;&#32423;&#21035;</p></li></ul></div></dd><dt><a name="synchronized-annotation"></a><span class="term">
                    <tt class="literal">@Synchronized</tt>
                </span></dt><dd><pre class="programlisting">@Synchronized(timeout=1000)</pre><p>
                    &#22914;&#26524;&#32452;&#20214;&#34987;&#22810;&#20010;&#23458;&#25143;&#31471;&#24182;&#21457;&#35775;&#38382;&#65292;Seam&#24212;&#35813;&#20018;&#34892;&#21270;&#35831;&#27714;&#12290;&#22914;&#26524;&#19968;&#20010;&#35831;&#27714;&#22312;&#32473;&#23450;&#26102;&#38388;&#27573;&#20869;&#27809;&#26377;&#24471;&#21040;&#32452;&#20214;&#30340;&#38145;&#65292;&#23558;&#25243;&#20986;&#19968;&#20010;&#20363;&#22806;&#12290;
                    </p></dd><dt><a name="readonly-annotation"></a><span class="term">
                    <tt class="literal">@ReadOnly</tt>
                </span></dt><dd><pre class="programlisting">@ReadOnly</pre><p>
                    &#22768;&#26126;JavaBean&#32452;&#20214;&#25110;&#32773;&#32452;&#20214;&#26041;&#27861;&#22312;&#35843;&#29992;&#32467;&#26463;&#26102;&#19981;&#35201;&#27714;&#29366;&#24577;&#22797;&#21046;&#12290;
                    </p></dd><dt><a name="autocreate-annotation"></a><span class="term">
                    <tt class="literal">@AutoCreate</tt>
                </span></dt><dd><pre class="programlisting">@AutoCreate</pre><p>&#22768;&#26126;&#32452;&#20214;&#23558;&#34987;&#33258;&#21160;&#24314;&#31435;&#65292;&#21363;&#20351;&#23458;&#25143;&#31471;&#19981;&#23450;&#20041; <tt class="literal">create=true</tt>&#12290;</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e15487"></a>27.2.&nbsp;&#29992;&#20110;&#21452;&#21521;&#27880;&#20837;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>
        &#19979;&#38754;&#20004;&#20010;&#27880;&#35299;&#25511;&#21046;&#21452;&#21521;&#27880;&#20837;&#12290;&#36825;&#20123;&#23646;&#24615;&#29992;&#20110;&#32452;&#20214;&#23454;&#20363;&#21464;&#37327;&#25110;&#32773;&#23646;&#24615;&#35775;&#38382;&#26041;&#27861;&#20013;&#12290;
        </p><div class="variablelist"><dl><dt><a name="in-annotation"></a><span class="term">
                    <tt class="literal">@In</tt>
                </span></dt><dd><pre class="programlisting">@In</pre><p>
                    &#22312;&#27599;&#27425;&#32452;&#20214;&#35843;&#29992;&#24320;&#22987;&#26102;&#65292;&#20174;&#19978;&#19979;&#25991;&#21464;&#37327;&#27880;&#20837;&#27492;&#32452;&#20214;&#23646;&#24615;&#12290;&#22914;&#26524;&#19978;&#19979;&#25991;&#21464;&#37327;&#26159;null&#65292;&#37027;&#20040;&#19968;&#20010;&#24322;&#24120;&#23558;&#34987;&#25243;&#20986;&#12290;
                    </p><pre class="programlisting">@In(required=false)</pre><p>
                    &#22312;&#27599;&#27425;&#32452;&#20214;&#35843;&#29992;&#24320;&#22987;&#26102;&#65292;&#20174;&#19978;&#19979;&#25991;&#21464;&#37327;&#27880;&#20837;&#27492;&#32452;&#20214;&#23646;&#24615;&#12290;&#19978;&#19979;&#25991;&#21464;&#37327;&#21487;&#20026;null&#12290;
                    </p><pre class="programlisting">@In(create=true)</pre><p>
                    &#22312;&#27599;&#27425;&#32452;&#20214;&#35843;&#29992;&#24320;&#22987;&#26102;&#65292;&#20174;&#19978;&#19979;&#25991;&#21464;&#37327;&#27880;&#20837;&#27492;&#32452;&#20214;&#23646;&#24615;&#12290;&#22914;&#26524;&#19978;&#19979;&#25991;&#21464;&#37327;&#20026;null&#65292;&#37027;&#20040;Seam&#23454;&#20363;&#21270;&#36825;&#20010;&#32452;&#20214;&#12290;
                    </p><pre class="programlisting">@In(value="contextVariableName")</pre><p>
                    &#26174;&#24335;&#25351;&#23450;&#19978;&#19979;&#25991;&#21464;&#37327;&#30340;&#21517;&#23383;&#65292;&#32780;&#19981;&#20877;&#20351;&#29992;&#27880;&#35299;&#23450;&#20041;&#30340;&#23454;&#20363;&#21464;&#37327;&#21517;&#12290;
                    </p><pre class="programlisting">@In(value="#{customer.addresses['shipping']}")</pre><p>
                    &#22312;&#27599;&#27425;&#32452;&#20214;&#35843;&#29992;&#24320;&#22987;&#26102;&#65292;&#29992;&#19968;&#20010;JSF EL&#34920;&#36798;&#24335;&#30340;&#35745;&#31639;&#32467;&#26524;&#26469;&#27880;&#20837;&#32452;&#20214;&#23646;&#24615;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                                <tt class="literal">value</tt> &#8212; &#25351;&#23450;&#19978;&#19979;&#25991;&#21464;&#37327;&#21517;&#12290;&#40664;&#35748;&#26159;&#32452;&#20214;&#23646;&#24615;&#21517;&#12290;&#21487;&#36873;&#22320;&#65292;&#25351;&#23450;&#19968;&#20010;JSF EL&#34920;&#36798;&#24335;&#65292;&#25918;&#22312; <tt class="literal">#{...}</tt> &#31526;&#21495;&#20013;&#12290;
                            </p></li><li><p>
                                <tt class="literal">create</tt> &#8212; &#25351;&#23450;&#33509;&#19978;&#19979;&#25991;&#21464;&#37327;&#21517;&#22312;&#25152;&#26377;&#19978;&#19979;&#25991;&#20013;&#22343;&#26410;&#23450;&#20041;&#65292;Seam&#24212;&#35813;&#21019;&#24314;&#19968;&#20010;&#32452;&#20214;&#20316;&#20026;&#19978;&#19979;&#25991;&#21464;&#37327;&#65292;&#21517;&#23383;&#21363;&#20026;&#25152;&#35201;&#27714;&#30340;&#21517;&#23383;&#12290;&#40664;&#35748;&#20026;false&#12290;
                             </p></li><li><p>
                                <tt class="literal">required</tt> &#8212; &#25351;&#23450;&#33509;&#19978;&#19979;&#25991;&#21464;&#37327;&#21517;&#22312;&#25152;&#26377;&#19978;&#19979;&#25991;&#20013;&#22343;&#26410;&#23450;&#20041;&#65292;Seam&#24212;&#25243;&#20986;&#24322;&#24120;&#12290;
							</p></li></ul></div></dd><dt><a name="out-annotation"></a><span class="term">
                    <tt class="literal">@Out</tt>
                </span></dt><dd><pre class="programlisting">@Out</pre><p>
                    &#22312;&#35843;&#29992;&#32467;&#26463;&#21518;&#27880;&#23556;&#20986;Seam&#32452;&#20214;&#23646;&#24615;&#21040;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;&#33509;&#23646;&#24615;&#20026;null&#65292;&#21017;&#25243;&#20986;&#19968;&#20010;&#24322;&#24120;&#12290;
                    </p><pre class="programlisting">@Out(required=false)</pre><p>
                    &#22312;&#35843;&#29992;&#32467;&#26463;&#21518;&#27880;&#23556;&#20986;Seam&#32452;&#20214;&#23646;&#24615;&#21040;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;&#23646;&#24615;&#21487;&#20197;&#20026;null&#12290;
                    </p><pre class="programlisting">@Out(scope=ScopeType.SESSION)</pre><p>&#22312;&#35843;&#29992;&#32467;&#26463;&#21518;&#27880;&#23556;&#20986;<span class="emphasis"><em>&#38750;</em></span>Seam&#32452;&#20214;&#23646;&#24615;&#21040;&#25351;&#23450;scope&#12290;
                    </p><p>
                    &#25110;&#32773;&#65292;&#33509;&#27809;&#26377;&#26126;&#30830;&#25351;&#23450;scope&#65292;&#21017;&#20351;&#29992;&#27492; <tt class="literal">@Out</tt> &#23646;&#24615;&#25152;&#23646;&#32452;&#20214;&#30340;scope&#12290;&#65288;&#22914;&#26524;&#27492;&#32452;&#20214;&#26159;&#26080;&#29366;&#24577;&#30340;&#65292;&#21017;&#20351;&#29992; <tt class="literal">EVENT</tt>scope &#12290;&#65289;</p><pre class="programlisting">@Out(value="contextVariableName")</pre><p>
                    &#26174;&#24335;&#25351;&#23450;&#19978;&#19979;&#25991;&#21464;&#37327;&#21517;&#65292;&#32780;&#38750;&#20351;&#29992;&#27880;&#35299;&#20013;&#25351;&#23450;&#30340;&#23454;&#20363;&#21464;&#37327;&#21517;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                           <tt class="literal">value</tt> &#8212; &#25351;&#23450;&#19978;&#19979;&#25991;&#21464;&#37327;&#21517;&#12290;&#40664;&#35748;&#20026;&#32452;&#20214;&#23646;&#24615;&#21517;&#12290;
                            </p></li><li><p>
                               <tt class="literal">required</tt> &#8212; &#25351;&#23450;&#33509;&#27880;&#23556;&#20986;&#26102;&#32452;&#20214;&#23646;&#24615;&#20026;null&#65292;Seam&#24212;&#25243;&#20986;&#24322;&#24120;&#12290;</p></li></ul></div></dd></dl></div><p>
        &#27880;&#24847;&#19968;&#36215;&#20351;&#29992;&#36825;&#20123;&#27880;&#35299;&#30456;&#24403;&#24120;&#35265;&#65292;&#20363;&#22914;&#65306;
        </p><pre class="programlisting">@In(create=true) @Out private User currentUser;</pre><p>
        &#19979;&#19968;&#20010;&#27880;&#35299;&#25903;&#25345; <span class="emphasis"><em>&#31649;&#29702;&#22120;&#32452;&#20214;&#65288;manager component&#65289;</em></span> &#27169;&#24335;&#65292;&#22312;&#35813;&#27169;&#24335;&#20013;&#19968;&#20010;Seam&#32452;&#20214;&#31649;&#29702;&#19968;&#20123;&#20854;&#20182;&#23558;&#34987;&#27880;&#20837;&#30340;class&#23454;&#20363;&#30340;&#29983;&#21629;&#21608;&#26399;&#12290;&#23427;&#22312;&#32452;&#20214;&#30340;getter&#26041;&#27861;&#20013;&#20986;&#29616;&#12290;
        </p><div class="variablelist"><dl><dt><a name="unwrap-annotation"></a><span class="term">
                    <tt class="literal">@Unwrap</tt>
                </span></dt><dd><pre class="programlisting">@Unwrap</pre><p>
                    &#25351;&#23450;&#27880;&#35299;&#30340;getter&#26041;&#27861;&#36820;&#22238;&#30340;&#23545;&#35937;&#26159;&#34987;&#27880;&#20837;&#30340;&#65292;&#32780;&#38750;&#32452;&#20214;&#23454;&#20363;&#26412;&#36523;&#12290;
                    </p></dd></dl></div><p>
        	&#19979;&#19968;&#20010;&#27880;&#35299;&#25903;&#25345; <span class="emphasis"><em>&#24037;&#21378;&#32452;&#20214;&#65288;factory component&#65289;</em></span> &#27169;&#24335;&#65292;&#22312;&#35813;&#27169;&#24335;&#20013;&#65292;&#19968;&#20010;Seam&#32452;&#20214;&#36127;&#36131;&#21021;&#22987;&#21270;&#19978;&#19979;&#25991;&#21464;&#37327;&#20540;&#12290;
            &#22914;&#26524;&#20986;&#29616;&#38750;faces&#30340;request&#65292;&#22312;&#28210;&#26579;response&#30340;&#26102;&#20505;&#65292;&#23427;&#29992;&#20110;&#21021;&#22987;&#21270;&#25152;&#38656;&#35201;&#30340;&#29366;&#24577;&#29305;&#21035;&#26377;&#29992;&#12290;&#23427;&#20986;&#29616;&#22312;&#32452;&#20214;&#26041;&#27861;&#20013;&#12290;
        </p><div class="variablelist"><dl><dt><a name="factory-annotation"></a><span class="term">
                    <tt class="literal">@Factory</tt>
                </span></dt><dd><pre class="programlisting">@Factory("processInstance") public void createProcessInstance() { ... }</pre><p>
                    &#35828;&#26126;&#24403;&#19978;&#19979;&#25991;&#21464;&#37327;&#27809;&#26377;&#20540;&#26102;&#65292;&#27492;&#32452;&#20214;&#30340;&#26041;&#27861;&#34987;&#29992;&#26469;&#21021;&#22987;&#21270;&#19978;&#19979;&#25991;&#21464;&#37327;&#20540;&#12290;&#23427;&#29992;&#20110;&#36820;&#22238;&#20540;&#26159; <tt class="literal">void</tt> &#30340;&#26041;&#27861;&#12290;
                    </p><pre class="programlisting">@Factory("processInstance", scope=CONVERSATION) public ProcessInstance createProcessInstance() { ... }</pre><p>
                    &#22768;&#26126;&#26041;&#27861;&#36820;&#22238;&#19968;&#20010;&#20540;&#65292;&#24403;&#19978;&#19979;&#25991;&#21464;&#37327;&#27809;&#26377;&#20540;&#26102;Seam&#24212;&#20351;&#29992;&#27492;&#20540;&#21021;&#22987;&#21270;&#21629;&#21517;&#19978;&#19979;&#25991;&#21464;&#37327;&#20540;&#12290;&#23427;&#29992;&#20110;&#36820;&#22238;&#19968;&#20010;&#20540;&#30340;&#26041;&#27861;&#12290;
                    &#33509;&#27809;&#26377;&#25351;&#26126;scope&#65292;&#21017;&#20351;&#29992; <tt class="literal">@Factory</tt> &#26041;&#27861;&#25152;&#22312;&#32452;&#20214;&#30340;scope&#65288;&#38500;&#38750;&#32452;&#20214;&#26159;&#26080;&#29366;&#24577;&#30340;&#65292;&#21017;&#20351;&#29992; <tt class="literal">EVENT</tt> &#19978;&#19979;&#25991;&#65289;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">value</tt> &#8212; &#25351;&#23450;&#19978;&#19979;&#25991;&#21464;&#37327;&#20540;&#12290;&#33509;&#20026;getter&#26041;&#27861;&#65292;&#40664;&#35748;&#20026;JavaBean&#23646;&#24615;&#21517;&#12290;
                            </p></li><li><p>
                                <tt class="literal">scope</tt> &#8212; &#25351;&#23450;Seam&#24212;&#32465;&#23450;&#36820;&#22238;&#20540;&#30340;&#20316;&#29992;&#22495;&#12290;&#20165;&#38024;&#23545;&#20110;&#36820;&#22238;&#19968;&#20010;&#20540;&#30340;&#24037;&#21378;&#26041;&#27861;&#26377;&#24847;&#20041;&#12290;
                            </p></li><li><p>
                        	<tt class="literal">autoCreate</tt> &#8212; &#26080;&#35770;&#20160;&#20040;&#26102;&#20505;&#35831;&#27714;&#21464;&#37327;&#65292;&#27492;&#24037;&#21378;&#26041;&#27861;&#23558;&#33258;&#21160;&#34987;&#35843;&#29992;&#65292;&#21363;&#20351;@In&#26410;&#25351;&#23450;create=true&#12290;
                        	</p></li></ul></div></dd></dl></div><p>
        &#19979;&#38754;&#30340;&#27880;&#35299;&#35753;&#20320;&#27880;&#20837;&#19968;&#20010; <tt class="literal">&#26085;&#24535;&#65288;Log&#65289;</tt>&#65306;
		</p><div class="variablelist"><dl><dt><a name="logger-annotation"></a><span class="term">
                    <tt class="literal">@Logger</tt>
                </span></dt><dd><pre class="programlisting">@Logger("categoryName")</pre><p>
                    &#20351;&#29992; <tt class="literal">org.jboss.seam.log.Log</tt> &#30340;&#23454;&#20363;&#27880;&#20837;&#19968;&#20010;&#32452;&#20214;&#23383;&#27573;&#12290;&#23545;&#20110;Entity Bean&#65292;&#35813;&#23383;&#27573;&#24517;&#39035;&#22768;&#26126;&#20026;static&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">value</tt> &#8212; &#25351;&#23450;&#26085;&#24535;category&#12290;&#40664;&#35748;&#26159;&#32452;&#20214;&#31867;&#21517;&#12290;</p></li></ul></div></dd></dl></div><p>&#26368;&#21518;&#19968;&#20010;&#27880;&#35299;&#35753;&#20320;&#27880;&#20837;&#19968;&#20010;request&#21442;&#25968;&#20540;&#65306;</p><div class="variablelist"><dl><dt><a name="requestparameter-annotation"></a><span class="term">
                    <tt class="literal">@RequestParameter</tt>
                </span></dt><dd><pre class="programlisting">@RequestParameter("parameterName")</pre><p>
                    &#23558;request&#30340;&#21442;&#25968;&#20540;&#27880;&#20837;&#32452;&#20214;&#23646;&#24615;&#12290;&#22522;&#26412;&#31867;&#22411;&#30340;&#36716;&#21270;&#34987;&#33258;&#21160;&#22320;&#23436;&#25104;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">value</tt> &#8212;&#25351;&#23450;request&#21442;&#25968;&#21517;&#12290;&#40664;&#35748;&#20026;&#32452;&#20214;&#23646;&#24615;&#21517;&#12290;
                            </p></li></ul></div></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e15707"></a>27.3.&nbsp;&#20851;&#20110;&#32452;&#20214;&#29983;&#21629;&#21608;&#26399;&#26041;&#27861;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>&#36825;&#20123;&#27880;&#35299;&#20801;&#35768;&#32452;&#20214;&#21709;&#24212;&#23427;&#33258;&#24049;&#30340;&#29983;&#21629;&#21608;&#26399;&#20107;&#20214;&#12290;&#23427;&#20204;&#20316;&#29992;&#20110;&#32452;&#20214;&#26041;&#27861;&#12290;&#23545;&#27599;&#20010;&#32452;&#20214;class&#26469;&#35828;&#65292;&#27599;&#31181;&#27880;&#35299;&#21482;&#20801;&#35768;&#20986;&#29616;&#19968;&#27425;&#12290;</p><div class="variablelist"><dl><dt><a name="create-annotation"></a><span class="term">
                    <tt class="literal">@Create</tt>
                </span></dt><dd><pre class="programlisting">@Create</pre><p>
                    &#24403;&#32452;&#20214;&#23454;&#20363;&#34987;Seam&#21021;&#22987;&#21270;&#26102;&#65292;&#35813;&#26041;&#27861;&#24212;&#34987;&#35843;&#29992;&#12290;&#27880;&#24847;&#20165;&#26377;JavaBean&#21644;Stateful Session Bean&#25903;&#25345;create&#26041;&#27861;&#12290;
                    </p></dd><dt><a name="destroy-annotation"></a><span class="term">
                    <tt class="literal">@Destroy</tt>
                </span></dt><dd><pre class="programlisting">@Destroy</pre><p>
                    &#24403;&#19978;&#19979;&#25991;&#32467;&#26463;&#21644;&#23427;&#30340;&#19978;&#19979;&#25991;&#21464;&#37327;&#38144;&#27585;&#26102;&#65292;&#35813;&#26041;&#27861;&#24212;&#34987;&#35843;&#29992;&#12290;&#27880;&#24847;&#20165;&#26377;JavaBean&#21644;Stateful Session Bean&#25903;&#25345;destroy&#26041;&#27861;&#12290;
                    </p><p>
                    Destroy&#26041;&#27861;&#24212;&#20165;&#20165;&#29992;&#20110;&#28165;&#29702;&#24037;&#20316;&#12290;<span class="emphasis"><em>Seam &#20250;&#25429;&#25417;&#12289;&#35760;&#24405;&#65292;&#28982;&#21518;&#28040;&#28781;destroy&#26041;&#27861;&#20256;&#25773;&#30340;&#20219;&#20309;&#24322;&#24120;&#12290;</em></span>
                    </p></dd><dt><a name="observer-annotation"></a><span class="term">
                    <tt class="literal">@Observer</tt>
                </span></dt><dd><pre class="programlisting">@Observer("somethingChanged")</pre><p>
                    &#25351;&#23450;&#24403;&#29305;&#23450;&#31867;&#22411;&#30340;component-driven&#65288;&#32452;&#20214;&#39537;&#21160;&#65289;&#20107;&#20214;&#21457;&#29983;&#26102;&#65292;&#35813;&#26041;&#27861;&#24212;&#34987;&#35843;&#29992;&#12290;
                    </p><pre class="programlisting">@Observer(value="somethingChanged",create=false)</pre><p>
                    &#24403;&#25351;&#23450;&#31867;&#22411;&#30340;&#19968;&#20010;&#20107;&#20214;&#21457;&#29983;&#26102;&#65292;&#35813;&#26041;&#27861;&#24212;&#34987;&#35843;&#29992;&#65292;&#20294;&#33509;&#23454;&#20363;&#37117;&#19981;&#23384;&#22312;&#65292;&#21017;&#19981;&#21019;&#24314;&#23454;&#20363;&#12290;
                    &#33509;&#23454;&#20363;&#19981;&#23384;&#22312;&#24182;&#19988;create&#26159;false&#65292;&#20107;&#20214;&#23558;&#19981;&#20250;&#35273;&#23519;&#21040;&#12290;create&#30340;&#40664;&#35748;&#20540;&#26159;true&#12290;
                    </p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e15755"></a>27.4.&nbsp;&#29992;&#20110;&#22768;&#26126;&#19978;&#19979;&#25991;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>
        &#36825;&#20123;&#27880;&#35299;&#25552;&#20379;&#22768;&#26126;&#24335;&#23545;&#35805;&#20998;&#30028;&#65288;declarative conversation demarcation&#65289;&#12290;&#23427;&#20204;&#22312;Seam&#32452;&#20214;&#26041;&#27861;&#20013;&#20351;&#29992;&#65292;&#36890;&#24120;&#26159;&#21160;&#20316;&#30417;&#21548;&#22120;&#26041;&#27861;&#65288;Action Listener Method&#65289;&#12290;
        </p><p>
        &#27599;&#20010;Web&#35831;&#27714;&#26377;&#19968;&#20010;&#23545;&#35805;&#19978;&#19979;&#25991;&#21644;&#23427;&#20851;&#32852;&#12290;&#36825;&#20123;&#23545;&#35805;&#30340;&#22823;&#22810;&#25968;&#22312;&#35831;&#27714;&#32467;&#26463;&#26102;&#32467;&#26463;&#12290;&#22914;&#26524;&#20320;&#24819;&#35201;&#19968;&#20010;&#23545;&#35805;&#36328;&#36234;&#22810;&#20010;&#35831;&#27714;&#65292;&#20320;&#24517;&#39035;&#36890;&#36807;&#35843;&#29992;&#26631;&#24535;&#20026; <tt class="literal">@Begin</tt> &#30340;&#26041;&#27861;&#26469;&#8220;&#25552;&#21319;&#8221;&#24403;&#28982;&#30340;&#23545;&#35805;&#20026;&#19968;&#20010;<span class="emphasis"><em>&#38271;&#26399;&#36816;&#34892;&#30340;&#23545;&#35805;&#65288;long-running conversation&#65289;</em></span>&#12290;
        </p><div class="variablelist"><dl><dt><a name="begin-annotation"></a><span class="term">
                    <tt class="literal">@Begin</tt>
                </span></dt><dd><pre class="programlisting">@Begin</pre><p>
                    &#24403;&#27492;&#26041;&#27861;&#26080;&#24322;&#24120;&#30340;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#32467;&#26524;&#26102;&#65292;&#19968;&#20010;&#38271;&#26399;&#36816;&#34892;&#30340;&#23545;&#35805;&#24320;&#22987;&#12290;
                    </p><pre class="programlisting">@Begin(join=true)</pre><p>
                    &#33509;&#24050;&#32463;&#22788;&#20110;&#38271;&#26399;&#36816;&#34892;&#23545;&#35805;&#20013;&#65292;&#31616;&#21333;&#30340;&#24310;&#32493;&#27492;&#23545;&#35805;&#19978;&#19979;&#25991;&#12290;
                    </p><pre class="programlisting">@Begin(nested=true)</pre><p>
                    &#33509;&#24050;&#32463;&#22788;&#20110;&#38271;&#26399;&#36816;&#34892;&#23545;&#35805;&#20013;&#65292;&#19968;&#20010;&#26032;&#30340;&#34987; <span class="emphasis"><em>&#23884;&#22871;&#65288;nested&#65289;</em></span> &#23545;&#35805;&#19978;&#19979;&#25991;&#24320;&#22987;&#12290;
                    &#35813;&#34987;&#23884;&#22871;&#30340;&#23545;&#35805;&#22312;&#36935;&#21040;&#19979;&#19968;&#20010; <tt class="literal">@End</tt> &#26102;&#32467;&#26463;&#65292;&#24182;&#19988;&#22806;&#37096;&#19978;&#19979;&#25991;&#23558;&#24674;&#22797;&#12290;&#22312;&#21516;&#19968;&#20010;&#22806;&#37096;&#23545;&#35805;&#20013;&#21516;&#26102;&#23884;&#22871;&#22810;&#20010;&#23545;&#35805;&#26159;&#23436;&#20840;&#21512;&#27861;&#30340;&#12290;
                    </p><pre class="programlisting">@Begin(pageflow="process definition name")</pre><p>
                    &#25351;&#23450;&#35813;&#23545;&#35805;&#30340;&#39029;&#38754;&#27969;&#65288;pageflow&#65289;&#30340;jBPM&#36827;&#31243;&#23450;&#20041;&#21517;&#12290;
                    </p><pre class="programlisting">@Begin(flushMode=FlushModeType.MANUAL)</pre><p>
                    &#25351;&#23450;&#20219;&#20309;Seam&#31649;&#29702;&#30340;&#25345;&#20037;&#19978;&#19979;&#25991;&#30340;flush&#27169;&#24335;&#12290;<tt class="literal">flushMode=FlushModeType.MANUAL</tt> &#25903;&#25345; <span class="emphasis"><em>&#21407;&#23376;&#23545;&#35805;&#65288;atomic conversations&#65289;</em></span>&#65292;&#36825;&#37324;&#25152;&#26377;&#20889;&#25805;&#20316;&#22312;&#20250;&#35805;&#19978;&#19979;&#25991;&#36827;&#20837;&#38431;&#21015;&#65292;&#30452;&#21040;&#26174;&#24335;&#35843;&#29992; <tt class="literal">flush()</tt>&#65288;&#35843;&#29992;&#36890;&#24120;&#21457;&#29983;&#22312;&#23545;&#35805;&#32467;&#26463;&#26102;&#65289;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">join</tt> &#8212; &#23450;&#20041;&#24403;&#38271;&#26399;&#23545;&#35805;&#24050;&#32463;&#23384;&#22312;&#26102;&#30340;&#34892;&#20026;&#12290;
                            &#33509;&#26159;<tt class="literal">true</tt>&#65292;&#20256;&#25773;&#19978;&#19979;&#25991;&#12290;&#33509;&#20026; <tt class="literal">false</tt>&#65292;&#25243;&#20986;&#19968;&#20010;&#24322;&#24120;&#12290;
                            &#40664;&#35748;&#20026;<tt class="literal">false</tt>&#12290;&#24403;&#25351;&#23450; <tt class="literal">nested=true</tt> &#26102;&#65292;&#23558;&#24573;&#30053;&#35813;&#35774;&#32622;&#12290;
                            </p></li><li><p>
                            <tt class="literal">nested</tt> &#8212;&#24403;&#38271;&#26399;&#23545;&#35805;&#24050;&#32463;&#23384;&#22312;&#26102;&#65292;&#19968;&#20010;&#23884;&#22871;&#23545;&#35805;&#24212;&#35813;&#24314;&#31435;&#12290;
                            </p></li><li><p>
                            <tt class="literal">flushMode</tt> &#8212; &#35774;&#32622;&#20219;&#20309;&#22312;&#27492;&#20250;&#35805;&#26399;&#38388;&#21019;&#24314;&#30340;&#65292;&#34987;Seam&#31649;&#29702;&#30340;Hibernate Session&#25110;JPA&#25345;&#20037;&#19978;&#19979;&#25991;&#30340;flush&#27169;&#24335;&#12290;
                            </p></li><li><p>
                            <tt class="literal">pageflow</tt> &#8212; &#30001; <tt class="literal">org.jboss.seam.bpm.jbpm.pageflowDefinitions</tt> &#37096;&#32626;&#30340;&#19968;&#20010;jBPM&#22788;&#29702;&#30340;&#36827;&#31243;&#23450;&#20041;&#21517;&#12290;
                            </p></li></ul></div></dd><dt><a name="end-annotation"></a><span class="term">
                    <tt class="literal">@End</tt>
                </span></dt><dd><pre class="programlisting">@End</pre><p>
                    &#24403;&#36825;&#20010;&#26041;&#27861;&#26080;&#24322;&#24120;&#30340;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#36755;&#20986;&#26102;&#65292;&#38271;&#26399;&#23545;&#35805;&#32467;&#26463;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">beforeRedirect</tt> &#8212; &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#33509;&#26377;&#37325;&#23450;&#21521;&#65292;&#30452;&#21040;&#25152;&#26377;&#30340;&#37325;&#23450;&#21521;&#32467;&#26463;&#21518;&#65292;&#23545;&#35805;&#25165;&#20250;&#34987;&#30495;&#27491;destory&#12290;
                            &#35774;&#32622;<tt class="literal">beforeRedirect=true</tt>&#25351;&#23450;&#35813;&#23545;&#35805;&#24212;&#22312;&#24403;&#21069;request&#32467;&#26463;&#26102;&#23601;&#32467;&#26463;&#65292;&#24182;&#19988;&#22312;&#19968;&#20010;&#26032;&#30340;&#20020;&#26102;&#23545;&#35805;&#19978;&#19979;&#25991;&#20013;&#22788;&#29702;&#37325;&#23450;&#21521;&#12290;
                            </p></li></ul></div></dd><dt><a name="starttask-annotation"></a><span class="term">
                    <tt class="literal">@StartTask</tt>
                </span></dt><dd><pre class="programlisting">@StartTask</pre><p>
                    "&#24320;&#22987;"&#19968;&#20010;jBPM&#20219;&#21153;&#12290;&#24403;&#27492;&#26041;&#27861;&#26080;&#24322;&#24120;&#30340;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#36755;&#20986;&#26102;&#65292;&#38271;&#26399;&#36816;&#34892;&#23545;&#35805;&#24320;&#22987;&#12290;&#27492;&#23545;&#35805;&#21516;&#22312;&#26576;&#20010;request&#20855;&#21517;&#21442;&#25968;&#20013;&#34987;&#25351;&#23450;&#30340;jBMP&#20219;&#21153;&#30456;&#20851;&#32852;&#12290;
                    &#22312;&#35813;&#20250;&#35805;&#19978;&#19979;&#25991;&#20013;&#65292;&#36824;&#23450;&#20041;&#20102;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;&#65288;business process context&#65289;&#65292;&#29992;&#20316;&#20219;&#21153;&#23454;&#20363;&#30340;&#19994;&#21153;&#27969;&#31243;&#23454;&#20363;&#12290;
                    </p><p>
                    jBPM&#30340; <tt class="literal">TaskInstance</tt> &#22312;request context&#20013;&#20197; <tt class="literal">taskInstance</tt> &#30340;&#21517;&#23383;&#20316;&#20026;&#21464;&#37327;&#20986;&#29616;&#12290;
                    jPBM&#30340; <tt class="literal">ProcessInstance</tt> &#22312;request context&#20013;&#20197; <tt class="literal">processInstance</tt> &#30340;&#21517;&#23383;&#20316;&#20026;&#21464;&#37327;&#20986;&#29616;&#12290;&#65288;&#24403;&#28982;&#65292;&#36825;&#20123;&#23545;&#35937;&#20063;&#21487;&#29992;&#20110;&#36890;&#36807; <tt class="literal">@In</tt> &#27880;&#20837;&#12290;&#65289;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">taskIdParameter</tt> &#8212; &#20445;&#23384;&#26377;task id&#30340;request&#21442;&#25968;&#30340;&#21517;&#23383;&#12290;
                            &#40664;&#35748;&#20026;<tt class="literal">"taskId"</tt>&#65292;&#21516;&#26102;&#20063;&#26159;Seam <tt class="literal">taskList</tt> JSF component&#20351;&#29992;&#30340;&#40664;&#35748;&#20540;&#12290;
                            </p></li><li><p>
                            <tt class="literal">flushMode</tt> &#8212; &#35774;&#32622;&#20219;&#20309;&#22312;&#27492;&#23545;&#35805;&#26399;&#38388;&#21019;&#24314;&#30340;&#65292;&#34987;Seam&#31649;&#29702;&#30340;Hibernate Session&#25110;JPA&#25345;&#20037;&#19978;&#19979;&#25991;&#30340;flush&#27169;&#24335;&#12290;
                            </p></li></ul></div></dd><dt><a name="begintask-annotation"></a><span class="term">
                    <tt class="literal">@BeginTask</tt>
                </span></dt><dd><pre class="programlisting">@BeginTask</pre><p>
                    &#24674;&#22797;&#19968;&#20010;&#26410;&#23436;&#25104;&#30340;jBMP&#20219;&#21153;&#12290;&#24403;&#27492;&#26041;&#27861;&#26080;&#24322;&#24120;&#30340;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#20540;&#26102;&#65292;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#24320;&#22987;&#12290;&#27492;&#23545;&#35805;&#21516;&#22312;&#26576;&#20010;request&#21442;&#25968;&#20013;&#25351;&#23450;&#30340;jBMP&#20219;&#21153;&#30456;&#20851;&#32852;&#12290;
                    &#22312;&#35813;&#23545;&#35805;&#19978;&#19979;&#25991;&#20013;&#65292;&#36824;&#23450;&#20041;&#20102;&#19968;&#20010;&#19994;&#21153;&#27969;&#31243;&#19978;&#19979;&#25991;&#65288;business process context&#65289;&#65292;&#29992;&#20316;&#20219;&#21153;&#23454;&#20363;&#30340;&#19994;&#21153;&#27969;&#31243;&#23454;&#20363;&#12290;
                    </p><p>
                    jBPM&#30340; <tt class="literal">org.jbpm.taskmgmt.exe.TaskInstance</tt> &#22312;request context&#20013;&#20197; <tt class="literal">taskInstance</tt> &#30340;&#21517;&#23383;&#20316;&#20026;&#21464;&#37327;&#20986;&#29616;&#12290;
                    jBPM&#30340; <tt class="literal">org.jbpm.graph.exe.ProcessInstance</tt> &#22312;request context&#20013;&#20197; <tt class="literal">processInstance</tt> &#30340;&#21517;&#23383;&#20316;&#20026;&#21464;&#37327;&#20986;&#29616;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">taskIdParameter</tt> &#8212; &#20445;&#23384;&#26377;task id&#30340;request&#21442;&#25968;&#30340;&#21517;&#23383;&#12290;
                            &#40664;&#35748;&#20026;<tt class="literal">"taskId"</tt>&#65292;&#21516;&#26102;&#20063;&#26159;Seam <tt class="literal">taskList</tt> JSF component&#20351;&#29992;&#30340;&#40664;&#35748;&#20540;&#12290;
                            </p></li><li><p>
                            <tt class="literal">flushMode</tt> &#8212; &#35774;&#32622;&#20219;&#20309;&#22312;&#27492;&#20250;&#35805;&#26399;&#38388;&#21019;&#24314;&#30340;&#65292;&#34987;Seam&#31649;&#29702;&#30340;Hibernate Session&#25110;JPA&#25345;&#20037;&#19978;&#19979;&#25991;&#30340;flush&#27169;&#24335;&#12290;
                            </p></li></ul></div></dd><dt><a name="endtask-annotation"></a><span class="term">
                    <tt class="literal">@EndTask</tt>
                </span></dt><dd><pre class="programlisting">@EndTask</pre><p>
                    "&#32467;&#26463;"&#19968;&#20010;jBPM&#20219;&#21153;&#12290;&#24403;&#27492;&#26041;&#27861;&#26080;&#24322;&#24120;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#36755;&#20986;&#26102;&#65292;&#32467;&#26463;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#20250;&#35805;&#12290;&#35302;&#21457;&#19968;&#20010;jBMP &#27969;&#36716;&#65288;transition&#65289;&#12290;
                    &#33509;&#27809;&#26377;&#35843;&#29992; <tt class="literal">transition</tt> &#20869;&#32622;&#32452;&#20214;&#30340; <tt class="literal">Transition.setName()</tt> &#26041;&#27861;&#65292;&#23454;&#38469;&#34987;&#35302;&#21457;&#30340;&#23558;&#26159;&#40664;&#35748;&#30340;transition&#12290;
                    </p><pre class="programlisting">@EndTask(transition="transitionName")</pre><p>&#35302;&#21457;&#32473;&#23450;jBPM&#27969;&#36716;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">transition</tt> &#8212; &#24403;&#20219;&#21153;&#32467;&#26463;&#26102;&#35302;&#21457;&#30340;jBPM&#27969;&#36716;&#21517;&#12290;&#40664;&#35748;&#20026;&#40664;&#35748;&#30340;&#27969;&#36716;transition&#12290;
                            </p></li><li><p>
                            <tt class="literal">beforeRedirect</tt> &#8212; &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#33509;&#26377;&#37325;&#23450;&#21521;&#65292;&#30452;&#21040;&#25152;&#26377;&#30340;&#37325;&#23450;&#21521;&#32467;&#26463;&#21518;&#65292;&#20250;&#35805;&#25165;&#20250;&#34987;&#30495;&#27491;destory&#12290;
                            &#35774;&#32622; <tt class="literal">beforeRedirect=true</tt> &#25351;&#23450;&#35813;&#20250;&#35805;&#24212;&#22312;&#24403;&#21069;request&#32467;&#26463;&#26102;&#23601;&#32467;&#26463;&#65292;&#24182;&#19988;&#22312;&#19968;&#20010;&#26032;&#30340;&#20020;&#26102;&#20250;&#35805;&#19978;&#19979;&#25991;&#20013;&#22788;&#29702;&#37325;&#23450;&#21521;&#12290;
                            </p></li></ul></div></dd><dt><a name="createprocess-annotation"></a><span class="term">
                    <tt class="literal">@CreateProcess</tt>
                </span></dt><dd><pre class="programlisting">@CreateProcess(definition="process definition name")</pre><p>
                    &#24403;&#26041;&#27861;&#26080;&#24322;&#24120;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#36755;&#20986;&#26102;&#65292;&#24314;&#31435;&#19968;&#20010;&#26032;&#30340;jBPM&#27969;&#31243;&#23454;&#20363;&#12290;
                    <tt class="literal">ProcessInstance</tt> &#23545;&#35937;&#22312;&#19978;&#19979;&#25991;&#20013;&#20197; <tt class="literal">processInstance</tt> &#30340;&#21517;&#23383;&#20316;&#20026;&#19968;&#20010;&#21464;&#37327;&#20986;&#29616;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">definition</tt> &#8212; &#36890;&#36807; <tt class="literal">org.jboss.seam.bpm.jbpm.processDefinitions</tt> &#37096;&#32626;&#30340;jBPM &#27969;&#31243;&#23450;&#20041;&#30340;&#21517;&#23383;&#12290;
                            </p></li></ul></div></dd><dt><a name="resumeprocess-annotation"></a><span class="term">
                    <tt class="literal">@ResumeProcess</tt>
                </span></dt><dd><pre class="programlisting">@ResumeProcess(processIdParameter="processId")</pre><p>
                    &#24403;&#26041;&#27861;&#26080;&#24322;&#24120;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#36755;&#20986;&#26102;&#65292;&#37325;&#26032;&#36827;&#20837;&#19968;&#20010;&#24050;&#23384;&#30340;jBPM &#27969;&#31243;&#23454;&#20363;&#30340;context&#12290;<tt class="literal">ProcessInstance</tt> &#23545;&#35937;&#22312;&#19978;&#19979;&#25991;&#20013;&#20197; <tt class="literal">processInstance</tt> &#30340;&#21517;&#23383;&#20316;&#20026;&#19968;&#20010;&#21464;&#37327;&#20986;&#29616;&#12290;
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">processIdParameter</tt> &#8212; &#20445;&#23384;&#26377;&#35813;&#27969;&#31243;id&#30340;request&#21442;&#25968;&#21517;&#12290;&#40664;&#35748;&#26159;                                 <tt class="literal">"processId"</tt>.
                            </p></li></ul></div></dd><dt><a name="transition-annotation"></a><span class="term"><tt class="literal">@Transition</tt></span></dt><dd><pre class="programlisting">@Transition("cancel")</pre><p>
                    &#24403;&#27492;&#26041;&#27861;&#36820;&#22238;&#19968;&#20010;&#38750;&#31354;&#32467;&#26524;&#26102;&#65292;&#21521;&#22312;&#24403;&#21069;jBPM&#27969;&#31243;&#23454;&#20363;&#20013;&#21457;&#36865;&#19968;&#20010;&#27969;&#36716;&#20449;&#21495;&#12290;
                    </p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16071"></a>27.5.&nbsp;&#29992;&#20110;&#22312;J2EE&#29615;&#22659;&#20013;&#20351;&#29992;Seam JavaBean&#32452;&#20214;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>
        Seam&#25552;&#20379;&#19968;&#20010;&#27880;&#35299;&#65292;&#26469;&#35753;&#20320;&#26681;&#25454;&#26576;&#20010;&#21160;&#20316;&#30417;&#21548;&#22120;&#30340;&#36755;&#20986;&#24378;&#21046;&#22238;&#28378;JTA&#20107;&#21153;&#12290;
        </p><div class="variablelist"><dl><dt><a name="transactional-annotation"></a><span class="term">
                    <tt class="literal">@Transactional</tt>
                </span></dt><dd><pre class="programlisting">@Transactional</pre><p>
                    &#22768;&#26126;JavaBean&#32452;&#20214;&#20855;&#26377;&#19982;Session Bean&#32452;&#20214;&#40664;&#35748;&#20107;&#21153;&#34892;&#20026;&#31867;&#20284;&#30340;&#34892;&#20026;&#12290;
					&#20063;&#23601;&#26159;&#35828;&#65292;&#26041;&#27861;&#35843;&#29992;&#24212;&#35813;&#21457;&#29983;&#22312;&#19968;&#20010;&#20107;&#21153;&#20013;&#65292;&#22914;&#26524;&#24403;&#35843;&#29992;&#26041;&#27861;&#26102;&#27809;&#26377;&#20107;&#21153;&#23384;&#22312;&#65292;&#19968;&#20010;&#20107;&#21153;&#23558;&#29305;&#22320;&#20026;&#35813;&#26041;&#27861;&#21551;&#21160;&#12290;&#27492;&#27880;&#35299;&#21487;&#20197;&#22312;&#31867;&#25110;&#32773;&#26041;&#27861;&#32423;&#24212;&#29992;&#12290;
					<span class="emphasis"><em>&#19981;&#35201;&#25226;&#27492;&#27880;&#35299;&#29992;&#20110;EJB3.0&#32452;&#20214;&#65292;&#37027;&#26102;&#20505;&#24212;&#35813;&#29992; <tt class="literal">@TransactionAttribute</tt></em></span>&#65281;
                    </p></dd><dt><span class="term">
                    <tt class="literal">@ApplicationException</tt>
                </span></dt><dd><pre class="programlisting">@Transactional</pre><p>
                    TDB
                    </p></dd><dt><span class="term">
                    <tt class="literal">@Interceptors</tt>
                </span></dt><dd><pre class="programlisting">@Transactional</pre><p>
                    TDB
                    </p></dd></dl></div><p>
        &#36825;&#20123;&#27880;&#35299;&#22823;&#22810;&#29992;&#22312;JavaBean Seam&#32452;&#20214;&#20013;&#12290;&#33509;&#20320;&#29992;EJB3.0&#32452;&#20214;&#65292;&#20320;&#24212;&#25913;&#37319;&#29992;&#26631;&#20934;&#30340; <tt class="literal">@TransactionAttribute</tt> &#27880;&#35299;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16120"></a>27.6.&nbsp;&#29992;&#20110;&#24322;&#24120;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>
        &#36825;&#20123;&#27880;&#35299;&#35753;&#20320;&#25351;&#23450;Seam&#24212;&#22914;&#20309;&#22788;&#29702;&#19968;&#20010;&#20174;Seam&#32452;&#20214;&#20013;&#20256;&#25773;&#20986;&#26469;&#30340;&#24322;&#24120;&#12290;
        </p><div class="variablelist"><dl><dt><a name="redirect-annotation"></a><span class="term">
                    <tt class="literal">@Redirect</tt>
                </span></dt><dd><pre class="programlisting">@Redirect(viewId="error.jsp")</pre><p>
                    &#22768;&#26126;&#34987;&#27880;&#35299;&#30340;&#24322;&#24120;&#24341;&#36215;&#27983;&#35272;&#22120;&#37325;&#23450;&#21521;&#21040;&#29305;&#23450;&#35270;&#22270;id&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">viewId</tt> &#8212; &#25351;&#23450;&#37325;&#23450;&#21521;&#21040;&#30340;JSF&#35270;&#22270;id&#12290;&#20320;&#21487;&#20197;&#22312;&#36825;&#37324;&#20351;&#29992;EL&#12290;
                            </p></li><li><p>
                            <tt class="literal">message</tt> &#8212; &#25351;&#23450;&#26174;&#31034;&#30340;&#20449;&#24687;&#65292;&#40664;&#35748;&#26159;&#24322;&#24120;&#20449;&#24687;&#12290;
                             </p></li><li><p>
                            <tt class="literal">end</tt> &#8212; &#25351;&#26126;&#26159;&#21542;&#32456;&#27490;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#65292;&#40664;&#35748;&#20026; <tt class="literal">false</tt>&#12290;
                             </p></li></ul></div></dd><dt><a name="httperror-annotation"></a><span class="term">
                    <tt class="literal">@HttpError</tt>
                </span></dt><dd><pre class="programlisting">@HttpError(errorCode=404)</pre><p>
                    &#22768;&#26126;&#34987;&#27880;&#35299;&#30340;&#24322;&#24120;&#23548;&#33268;&#21457;&#36865;&#19968;&#20010;HTTP&#38169;&#35823;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>
                            <tt class="literal">errorCode</tt> &#8212; HTTP&#38169;&#35823;&#30721;&#65292;&#40664;&#35748;&#20026;<tt class="literal">500</tt>&#12290;
                            </p></li><li><p>
                            <tt class="literal">message</tt> &#8212; &#21644;HTTP&#38169;&#35823;&#19968;&#36215;&#34987;&#21457;&#36865;&#30340;&#20449;&#24687;&#65292;&#40664;&#35748;&#20026;&#24322;&#24120;&#28040;&#24687;&#12290;
                            </p></li><li><p>
                            <tt class="literal">end</tt> &#8212; &#25351;&#26126;&#26159;&#21542;&#32456;&#27490;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#65292;&#40664;&#35748;&#20026; <tt class="literal">false</tt>&#12290;
                           </p></li></ul></div></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16195"></a>27.7.&nbsp;&#29992;&#20110;Seam Remoting &#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>
        Seam Remoting&#35201;&#27714;&#20250;&#35805;Bean&#30340;&#26412;&#22320;&#25509;&#21475;&#35201;&#37319;&#29992;&#20197;&#19979;&#30340;&#27880;&#35299;&#65306;
        </p><div class="variablelist"><dl><dt><a name="webremote-annotation"></a><span class="term">
                    <tt class="literal">@WebRemote</tt>
                </span></dt><dd><pre class="programlisting">@WebRemote(exclude="path.to.exclude")</pre><p>
                    &#35828;&#26126;&#34987;&#27880;&#35299;&#30340;&#26041;&#27861;&#21487;&#20197;&#34987;&#23458;&#25143;&#31471;JavaScript&#33050;&#26412;&#35843;&#29992;&#12290;
                    <tt class="literal">exclude</tt> &#23646;&#24615;&#26159;&#21487;&#36873;&#39033;&#65292;&#29992;&#20110;&#20174;&#32467;&#26524;&#30340;&#23545;&#35937;&#22270;&#20013;&#25490;&#38500;&#29305;&#23450;&#23545;&#35937;&#65288;Remoting&#19968;&#31456;&#26377;&#26356;&#35814;&#32454;&#20449;&#24687;&#65289;&#12290;
                   </p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16215"></a>27.8.&nbsp;&#29992;&#20110;Seam&#25318;&#25130;&#22120;&#65288;interceptor&#65289;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>
        &#20197;&#19979;&#27880;&#35299;&#20986;&#29616;&#22312;Seam&#25318;&#25130;&#22120;&#31867;&#20013;&#12290;
        </p><p>
        &#35831;&#26597;&#38405;EJB3.0&#35268;&#33539;&#25991;&#26723;&#33719;&#24471;EJB&#25318;&#25130;&#22120;&#23450;&#20041;&#25152;&#35201;&#27714;&#30340;&#27880;&#35299;&#30340;&#20449;&#24687;&#12290;
        </p><div class="variablelist"><dl><dt><a name="interceptor-annotation"></a><span class="term">
                    <tt class="literal">@Interceptor</tt>
                </span></dt><dd><pre class="programlisting">@Interceptor(stateless=true)</pre><p>
                    &#25351;&#23450;&#36825;&#20010;&#25318;&#25130;&#22120;&#26159;&#26080;&#29366;&#24577;&#30340;&#65292;Seam&#21487;&#20197;&#20248;&#21270;&#22797;&#21046;&#12290;
                    </p><pre class="programlisting">@Interceptor(type=CLIENT)</pre><p>
                    &#25351;&#23450;&#27425;&#25318;&#25130;&#22120;&#26159;&#19968;&#20010;&#8220;&#23458;&#25143;&#31471;&#8221;&#25318;&#25130;&#22120;&#65292;&#22312;EJB&#23481;&#22120;&#20043;&#21069;&#35843;&#29992;&#23427;&#12290;
                    </p><pre class="programlisting">@Interceptor(around={SomeInterceptor.class, OtherInterceptor.class})</pre><p>
                    &#25351;&#23450;&#27492;&#25318;&#25130;&#22120;&#22312;&#26632;&#20013;&#30340;&#20301;&#32622;&#27604;&#32473;&#23450;&#30340;&#25318;&#25130;&#22120;&#26356;&#39640;&#12290;
                    </p><pre class="programlisting">@Interceptor(within={SomeInterceptor.class, OtherInterceptor.class})</pre><p>
                    &#25351;&#23450;&#27492;&#25318;&#25130;&#22120;&#22312;&#26632;&#20013;&#30340;&#20301;&#32622;&#27604;&#32473;&#23450;&#30340;&#25318;&#25130;&#22120;&#26356;&#28145;&#12290;
                    </p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16249"></a>27.9.&nbsp;&#29992;&#20110;&#24322;&#27493;&#65288;asynchronicity&#65289;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>&#20197;&#19979;&#27880;&#35299;&#29992;&#20110;&#22768;&#26126;&#19968;&#20010;&#24322;&#27493;&#26041;&#27861;&#65292;&#20363;&#22914;&#65306;</p><pre class="programlisting">@Asynchronous public void scheduleAlert(Alert alert, @Expiration Date date) { ... }</pre><pre class="programlisting">@Asynchronous public Timer scheduleAlerts(Alert alert,
                                          @Expiration Date date,
                                          @IntervalDuration long interval) { ... }</pre><div class="variablelist"><dl><dt><a name="asynchronous-annotation"></a><span class="term">
                    <tt class="literal">@Asynchronous</tt>
                </span></dt><dd><pre class="programlisting">@Asynchronous</pre><p>&#25351;&#23450;&#26041;&#27861;&#35843;&#29992;&#34987;&#24322;&#27493;&#22788;&#29702;&#12290;</p></dd><dt><a name="duration-annotation"></a><span class="term">
                    <tt class="literal">@Duration</tt>
                </span></dt><dd><pre class="programlisting">@Duration</pre><p>
                    &#27492;&#24322;&#27493;&#35843;&#29992;&#20854;&#20013;&#30340;&#19968;&#20010;&#21442;&#25968;&#65292;&#26159;&#22312;&#35843;&#29992;&#22788;&#29702;&#20043;&#21069;&#25152;&#36827;&#34892;&#30340;&#26102;&#38388;&#65288;&#33509;&#20026;&#23884;&#22871;&#35843;&#29992;&#65292;&#21017;&#26159;&#31532;&#19968;&#20010;&#34987;&#22788;&#29702;&#30340;&#35843;&#29992;&#20043;&#21069;&#25152;&#36827;&#34892;&#30340;&#26102;&#38388;&#65289;&#12290;
                    </p></dd><dt><a name="expiration-annotation"></a><span class="term">
                    <tt class="literal">@Expiration</tt>
                </span></dt><dd><pre class="programlisting">@Expiration</pre><p>
                    &#27492;&#24322;&#27493;&#35843;&#29992;&#20854;&#20013;&#30340;&#19968;&#20010;&#21442;&#25968;&#65292;&#26159;&#35843;&#29992;&#25152;&#21457;&#29983;&#30340;&#26102;&#38388;&#65288;&#33509;&#20026;&#23884;&#22871;&#35843;&#29992;&#65292;&#21017;&#26159;&#31532;&#19968;&#20010;&#34987;&#22788;&#29702;&#30340;&#35843;&#29992;&#25152;&#21457;&#29983;&#30340;&#26102;&#38388;&#65289;&#12290;
                    </p></dd><dt><a name="intervalduration-annotation"></a><span class="term">
                    <tt class="literal">@IntervalDuration</tt>
                </span></dt><dd><pre class="programlisting">@IntervalDuration</pre><p>
                    &#25351;&#26126;&#27492;&#24322;&#27493;&#35843;&#29992;&#26041;&#27861;&#20250;&#24490;&#29615;&#35843;&#29992;&#65292;&#36825;&#20010;&#27880;&#35299;&#21442;&#25968;&#26159;&#24490;&#29615;&#35843;&#29992;&#20043;&#38388;&#30340;&#26102;&#38388;&#38388;&#38548;&#12290;
                    </p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16303"></a>27.10.&nbsp;&#29992;&#20110;JSF&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>
                &#20197;&#19979;&#27880;&#35299;&#35753;&#20351;&#29992;JSF&#21464;&#24471;&#26356;&#23481;&#26131;&#12290;
	        </p><div class="variablelist"><dl><dt><span class="term">
	                    <tt class="literal">@Converter</tt>
	                </span></dt><dd><p>
	                    &#20801;&#35768;&#19968;&#20010;Seam&#32452;&#20214;&#20316;&#20026;JSF&#36716;&#25442;&#22120;&#65288;JSF converter)&#12290;
	                    &#34987;&#27880;&#35299;&#31867;&#24517;&#39035;&#26159;&#19968;&#20010;Seam&#32452;&#20214;&#65292;&#24517;&#39035;&#23454;&#29616;<tt class="literal">javax.faces.convert.Converter</tt>&#25509;&#21475;&#12290;
	                    </p><div class="itemizedlist"><ul type="disc"><li><p>
	                            <tt class="literal">id</tt> &#8212; JSF&#36716;&#25442;&#22120;id&#12290;&#40664;&#35748;&#20026;&#32452;&#20214;&#21517;&#12290;
	                            </p></li><li><p>
	                            <tt class="literal">forClass</tt> &#8212; &#33509;&#34987;&#25351;&#23450;&#65292;&#27880;&#20876;&#35813;&#32452;&#20214;&#20026;&#19968;&#20010;&#31867;&#22411;&#30340;&#40664;&#35748;&#36716;&#21270;&#22120;&#12290;
	                            </p></li></ul></div></dd><dt><span class="term">
	                    <tt class="literal">@Validator</tt>
	                </span></dt><dd><p>
	                    &#20801;&#35768;&#19968;&#20010;Seam&#32452;&#20214;&#20316;&#20026;JSF&#39564;&#35777;&#22120;&#65288;JSF Validator&#65289;&#12290;
	                    &#34987;&#27880;&#35299;&#31867;&#24517;&#39035;&#26159;&#19968;&#20010;Seam&#32452;&#20214;&#65292;&#24517;&#39035;&#23454;&#29616; <tt class="literal">javax.faces.validator.Validator</tt> &#25509;&#21475;&#12290;
	                    </p><div class="itemizedlist"><ul type="disc"><li><p>
	                            <tt class="literal">id</tt> &#8212; JSF&#39564;&#35777;&#22120;id&#12290;&#40664;&#35748;&#20026;&#32452;&#20214;&#21517;&#12290;
	                            </p></li></ul></div></dd></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e16353"></a>27.10.1.&nbsp;&#21644; <tt class="literal">dataTable</tt> &#19968;&#36215;&#20351;&#29992;&#30340;&#27880;&#35299;</h3></div></div><div></div></div><p>&#20197;&#19979;&#27880;&#35299;&#35753;&#29992;Stateful Session Bean&#20316;&#20026;&#21518;&#21488;&#23454;&#29616;&#21487;&#28857;&#20987;&#21015;&#34920;&#26356;&#23481;&#26131;&#12290;&#23427;&#20204;&#22312;&#23646;&#24615;&#25104;&#21592;&#65288;attributes)&#19978;&#20351;&#29992;&#12290;</p><div class="variablelist"><dl><dt><a name="datamodel-annotation"></a><span class="term">
	                    <tt class="literal">@DataModel</tt>
	                </span></dt><dd><pre class="programlisting">@DataModel("variableName")</pre><p>
	                    &#23558;&#19968;&#20010;&#31867;&#22411;&#20026; <tt class="literal">List</tt>&#12289;<tt class="literal">Map</tt>&#12289;<tt class="literal">Set</tt> &#25110; <tt class="literal">Object[]</tt> &#30340;&#23646;&#24615;&#20316;&#20026;&#19968;&#20010;JSF <tt class="literal">DataModel</tt> &#32622;&#20837;&#25152;&#23646;&#32452;&#20214;&#30340;scope&#65288;&#22914;&#26524;&#25152;&#23646;&#32452;&#20214;&#26159; <tt class="literal">STATELESS</tt>&#21017;&#20026;<tt class="literal">EVENT</tt> scope &#65289;&#12290;
						&#24403;&#23427;&#26159; <tt class="literal">Map</tt> &#26102;&#65292;<tt class="literal">DataModel</tt> &#30340;&#27599;&#19968;&#34892;&#26159;&#19968;&#20010; <tt class="literal">Map.Entry</tt>&#12290;
						</p><div class="itemizedlist"><ul type="disc"><li><p>
	                            <tt class="literal">value</tt> &#8212; &#36716;&#25442;&#22120;&#19978;&#19979;&#25991;&#21442;&#25968;&#21517;&#12290;&#40664;&#35748;&#26159;&#23646;&#24615;&#21517;&#12290;
	                            </p></li><li><p>
	                            <tt class="literal">scope</tt> &#8212; &#33509;<tt class="literal">scope=ScopeType.PAGE</tt> &#26174;&#24335;&#25351;&#23450;&#65292;&#21017; <tt class="literal">DataModel</tt> &#23558;&#22312; <tt class="literal">PAGE</tt> &#19978;&#19979;&#25991;&#20316;&#29992;&#22495;&#20869;&#12290;
	                            </p></li></ul></div></dd><dt><a name="datamodelselection-annotation"></a><span class="term">
	                    <tt class="literal">@DataModelSelection</tt>
	                </span></dt><dd><pre class="programlisting">@DataModelSelection</pre><p>&#20174;JSF <tt class="literal">DataModel</tt>&#65288;&#36825;&#26159;&#22522;&#26412;&#38598;&#21512;&#25110;&#32773;&#26144;&#23556;&#20540;&#30340;&#19968;&#20010;&#20803;&#32032;&#65289;&#27880;&#20837;&#19968;&#20010;&#36873;&#23450;&#20540;&#12290;
                        &#22914;&#26524;&#32452;&#20214;&#21482;&#23450;&#20041;&#19968;&#20010; <tt class="literal">@DataModel</tt> &#23646;&#24615;&#65292;&#37027;&#20040; <tt class="literal">DataModel</tt> &#25152;&#36873;&#20013;&#30340;&#20540;&#23558;&#34987;&#27880;&#20837;&#12290;
                        &#21542;&#21017;&#65292;&#27599;&#20010; <tt class="literal">@DataModel</tt> &#32452;&#20214;&#21517;&#31216;&#24517;&#39035;&#34987;&#25351;&#23450;&#21040;&#27599;&#20010; <tt class="literal">@DataModelSelection</tt> &#30340;&#20540;&#23646;&#24615;&#20013;&#12290;
                        </p><p>
                        &#22914;&#26524;&#22312;&#25152;&#20851;&#32852;&#30340; <tt class="literal">@DataModel</tt> &#19978;&#22768;&#26126;&#20102; <tt class="literal">PAGE</tt> scope&#65292;&#38500;&#20102;&#27880;&#20837;&#30340;DataModel Selection,&#25152;&#20851;&#32852;&#30340;DataModel&#20063;&#20250;&#34987;&#27880;&#20837;&#12290;
                        &#27492;&#26102;&#65292;&#22914;&#26524;&#26631;&#27880;&#26377; <tt class="literal">@DataModel</tt> &#27880;&#35299;&#30340;&#23646;&#24615;&#26159;getter&#26041;&#27861;&#65292;&#35813;Seam&#32452;&#20214;&#24517;&#39035;&#26377;&#21516;&#21517;&#30340;setter&#26041;&#27861;&#20316;&#20026;Business API&#30340;&#19968;&#37096;&#20998;&#12290;
                        </p><div class="itemizedlist"><ul type="disc"><li><p>
	                            <tt class="literal">value</tt> &#8212; &#23545;&#35805;&#19978;&#19979;&#25991;&#21442;&#25968;&#21517;&#12290;&#33509;&#22312;&#32452;&#20214;&#20013;&#26377;&#19968;&#20010;&#26126;&#30830;&#30340; <tt class="literal">@DataModel</tt>&#65292;&#21017;&#19981;&#38656;&#35201;&#35813;&#23646;&#24615;&#12290;
	                            </p></li></ul></div></dd><dt><a name="datamodelselectionindex-annotation"></a><span class="term">
	                    <tt class="literal">@DataModelSelectionIndex</tt>
	                </span></dt><dd><pre class="programlisting">@DataModelSelectionIndex</pre><p>
	                    &#26292;&#38706;JSF <tt class="literal">DataModel</tt> &#30340;&#36873;&#25321;&#32034;&#24341;&#20316;&#20026;&#19968;&#20010;&#32452;&#20214;&#23646;&#24615;&#65288;&#36825;&#26159;&#24213;&#23618;&#38598;&#21512;&#30340;&#34892;&#21495;&#65292;&#25110;&#32773;map key&#65289;&#12290;
                        &#22914;&#26524;&#32452;&#20214;&#21482;&#23450;&#20041;&#19968;&#20010; <tt class="literal">@DataModel</tt> &#23646;&#24615;&#65292;&#37027;&#20040; <tt class="literal">DataModel</tt> &#25152;&#36873;&#20013;&#30340;&#20540;&#23558;&#34987;&#27880;&#20837;&#12290;
                        &#21542;&#21017;&#65292;&#27599;&#20010; <tt class="literal">@DataModel</tt> &#32452;&#20214;&#21517;&#31216;&#24517;&#39035;&#34987;&#25351;&#23450;&#21040;&#27599;&#20010; <tt class="literal">@DataModelSelection</tt> &#30340;&#20540;&#23646;&#24615;&#20013;&#12290;
                        </p><div class="itemizedlist"><ul type="disc"><li><p>
	                            <tt class="literal">value</tt> &#8212; &#23545;&#35805;&#19978;&#19979;&#25991;&#21442;&#25968;&#21517;&#12290;&#33509;&#22312;&#32452;&#20214;&#20013;&#26377;&#19968;&#20010;&#26126;&#30830;&#30340; <tt class="literal">@DataModel</tt> &#21017;&#19981;&#38656;&#35201;&#35813;&#23646;&#24615;&#12290;
	                            </p></li></ul></div></dd></dl></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16508"></a>27.11.&nbsp;&#29992;&#20110;&#25968;&#25454;&#32465;&#23450;&#30340;&#20803;&#25968;&#25454;&#27880;&#35299;</h2></div></div><div></div></div><p>
        &#36825;&#20123;&#20803;&#25968;&#25454;&#27880;&#35299;&#20351;&#24471;list&#20197;&#22806;&#30340;&#20854;&#23427;&#25968;&#25454;&#32467;&#26500;&#23454;&#29616;&#31867;&#20284; <tt class="literal">@DataModel</tt> &#21644; <tt class="literal">@DataModelSelection</tt> &#30340;&#21151;&#33021;&#25104;&#20026;&#21487;&#33021;&#12290;
        </p><div class="variablelist"><dl><dt><a name="databinderclass-annotation"></a><span class="term">
                    <tt class="literal">@DataBinderClass</tt>
                </span></dt><dd><pre class="programlisting">@DataBinderClass(DataModelBinder.class)</pre><p>&#25351;&#23450;&#27492;&#27880;&#35299;&#26159;&#19968;&#20010;&#25968;&#25454;&#32465;&#23450;&#27880;&#35299;&#12290;</p></dd><dt><a name="dataselectorclass-annotation"></a><span class="term">
                    <tt class="literal">@DataSelectorClass</tt>
                </span></dt><dd><pre class="programlisting">@DataSelectorClass(DataModelSelector.class)</pre><p>&#25351;&#23450;&#27492;&#27880;&#35299;&#26159;&#19968;&#20010;dataselection&#27880;&#35299;&#12290;</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16542"></a>27.12.&nbsp;&#29992;&#20110;&#25171;&#21253;&#65288;packing)&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>&#36825;&#20010;&#27880;&#35299;&#25552;&#20379;&#19968;&#20010;&#20026;&#22768;&#26126;&#20851;&#20110;&#19968;&#31995;&#21015;&#35201;&#25171;&#21253;&#22312;&#19968;&#36215;&#30340;&#32452;&#20214;&#20449;&#24687;&#30340;&#26426;&#21046;&#12290;&#23427;&#33021;&#24212;&#29992;&#20110;&#20219;&#20309;Java&#21253;&#12290;</p><div class="variablelist"><dl><dt><a name="namespace-annotation"></a><span class="term">
                    <tt class="literal">@Namespace</tt>
                </span></dt><dd><pre class="programlisting">@Namespace(value="http://jboss.com/products/seam/example/seampay")</pre><p>
                    &#25351;&#23450;&#30446;&#21069;&#21253;&#20013;&#30340;&#32452;&#20214;&#20851;&#32852;&#21040;&#32473;&#23450;&#21629;&#21517;&#31354;&#38388;&#12290;&#20026;&#20102;&#31616;&#21270;&#24212;&#29992;&#37197;&#32622;&#65292;&#22768;&#26126;&#30340;&#21629;&#21517;&#31354;&#38388;&#21487;&#20197;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#20316;&#20026;XML&#21629;&#21517;&#31354;&#38388;&#26469;&#20351;&#29992;&#12290;
                    </p><pre class="programlisting">@Namespace(value="http://jboss.com/products/seam/core", prefix="org.jboss.seam.core")</pre><p>
                    &#25351;&#23450;&#19968;&#20010;&#20851;&#32852;&#21040;&#32473;&#23450;&#21253;&#30340;&#21629;&#21517;&#31354;&#38388;&#12290;&#21478;&#22806;&#65292;&#23427;&#25351;&#23450;&#19968;&#20010;&#32452;&#20214;&#21517;&#21069;&#32512;&#65292;&#29992;&#20110;XML&#25991;&#20214;&#20013;&#20986;&#29616;&#30340;&#32452;&#20214;&#21517;&#12290;
                    &#20363;&#22914;&#65292;&#19968;&#20010;&#21644;&#35813;&#21629;&#21517;&#31354;&#38388;&#20851;&#32852;&#30340;&#21483; <tt class="literal">init</tt> &#30340;XML&#20803;&#32032;&#21487;&#34987;&#29702;&#35299;&#20026;&#23454;&#38469;&#24341;&#29992;&#19968;&#20010;&#21483;&#20570; <tt class="literal">org.jboss.seam.core.init</tt> &#30340;&#32452;&#20214;&#12290;
                    </p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16572"></a>27.13.&nbsp;&#29992;&#20110;&#21644;Servlet&#23481;&#22120;&#38598;&#25104;&#30340;&#27880;&#35299;</h2></div></div><div></div></div><p>&#36825;&#20123;&#27880;&#35299;&#20801;&#35768;&#20320;&#23558;&#20320;&#30340;Seam&#32452;&#20214;&#21644;Servlet&#23481;&#22120;&#38598;&#25104;&#12290;</p><div class="variablelist"><dl><dt><span class="term">
                    <tt class="literal">@Filter</tt>
                </span></dt><dd><p>
                	&#20351;&#19968;&#20010;&#29992; <tt class="literal">@Filter</tt> &#27880;&#35299;&#30340;Seam&#32452;&#20214;&#65288;&#23427;&#23454;&#29616;&#20102; <tt class="literal">javax.servlet.Filter</tt> &#25509;&#21475;&#65289;&#20316;&#20026;&#19968;&#20010;Servlet &#36807;&#28388;&#22120;&#65288;Filter&#65289;&#20351;&#29992;&#12290;&#23427;&#23558;&#20250;&#34987;Seam&#30340;&#20027;Filter&#25191;&#34892;&#12290;
                	</p><div class="itemizedlist"><ul type="disc"><li><pre class="programlisting">@Filter(around={"seamComponent", "otherSeamComponent"})</pre><p>&#25351;&#23450;&#27492;&#36807;&#28388;&#22120;&#30340;&#22312;&#26632;&#20013;&#30340;&#20301;&#32622;&#27604;&#25351;&#23450;&#36807;&#28388;&#22120;&#26356;&#39640;&#12290;</p></li><li><pre class="programlisting">@Filter(within={"seamComponent", "otherSeamComponent"})</pre><p>&#25351;&#23450;&#27492;&#36807;&#28388;&#22120;&#22312;&#26632;&#20013;&#30340;&#20301;&#32622;&#27604;&#26082;&#23450;&#30340;&#36807;&#28388;&#22120;&#26356;&#28145;&#12290;</p></li></ul></div></dd></dl></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="components"></a>Chapter&nbsp;28.&nbsp;&#20869;&#32622;Seam&#32452;&#20214;</h2></div></div><div></div></div><p>
		&#36825;&#19968;&#31456;&#33410;&#25551;&#36848;&#20102;Seam&#30340;&#20869;&#32622;&#32452;&#20214;&#21644;&#37197;&#32622;&#23646;&#24615;&#12290;&#21363;&#20351;&#20320;&#30340; <tt class="literal">components.xml</tt> &#25991;&#20214;&#27809;&#26377;&#21015;&#20986;&#65292;&#20869;&#37096;&#32452;&#20214;&#20173;&#28982;&#20250;&#34987;&#21019;&#31435;&#12290;
		&#20294;&#26159;&#22914;&#26524;&#20320;&#24819;&#35206;&#30422;&#25481;&#40664;&#35748;&#30340;&#23646;&#24615;&#37197;&#32622;&#25110;&#32773;&#23545;&#26576;&#19968;&#31867;&#22411;&#30340;&#32452;&#20214;&#25351;&#23450;&#33509;&#24178;&#19981;&#21516;&#30340;&#32452;&#20214;&#65292;<tt class="literal">components.xml</tt> &#23601;&#20250;&#27966;&#19978;&#29992;&#22330;&#20102;&#12290;
	</p><p>
		&#20320;&#21487;&#20197;&#31616;&#21333;&#22320;&#36890;&#36807;&#22312;&#29420;&#31435;&#30340;&#31867;&#37324;&#20351;&#29992; <tt class="literal">@Name</tt> &#27880;&#35299;&#25351;&#23450;&#20869;&#32622;&#32452;&#20214;&#30340;&#21517;&#23383;&#30340;&#26041;&#24335;&#26469;&#26367;&#20195;&#20219;&#20309;&#19968;&#20010;&#20869;&#32622;&#32452;&#20214;&#12290;
	</p><p>
		&#21478;&#22806;&#65292;&#21363;&#20351;&#25152;&#26377;&#30340;&#26500;&#24314;&#32452;&#20214;&#37117;&#20351;&#29992;&#20840;&#21517;&#65292;&#20294;&#20182;&#20204;&#22823;&#37096;&#20998;&#22312;&#32570;&#30465;&#24773;&#20917;&#19979;&#37117;&#26377;&#31616;&#21270;&#20102;&#30340;&#21035;&#21517;&#12290;
		&#36825;&#20123;&#21035;&#21517;&#25351;&#23450; <tt class="literal">auto-create="true"</tt>&#65292;&#25152;&#20197;&#65292;&#24403;&#20320;&#20351;&#29992;&#31616;&#21270;&#21517;&#26469;&#27880;&#20837;&#20869;&#32622;&#32452;&#20214;&#26102;&#65292;&#20320;&#19981;&#38656;&#35201;&#29992; <tt class="literal">create=true</tt>&#12290;
	</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16628"></a>28.1.&nbsp;&#19978;&#19979;&#25991;&#27880;&#20837;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#31532;&#19968;&#20010;&#20869;&#24314;&#30340;&#32452;&#20214;&#38598;&#23384;&#22312;&#23436;&#20840;&#25903;&#25345;&#19981;&#21516;&#30340;&#19978;&#19979;&#25991;&#23545;&#35937;&#30340;&#27880;&#20837;&#12290;&#20363;&#22914;&#65292;&#19979;&#21015;&#21508;&#39033;&#32452;&#20214;&#23454;&#20363;&#21464;&#37327;&#23558;&#20250;&#27880;&#20837;Seam&#20250;&#35805;&#19978;&#19979;&#25991;&#23545;&#35937;:
		</p><pre class="programlisting">@In private Context sessionContext;</pre><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.contexts</tt>
				</span></dt><dd><p>
						&#29992;&#20197;&#33719;&#21462;&#21508;&#31181;Seam&#19978;&#19979;&#25991;&#23545;&#35937;&#65292;&#20363;&#22914; <tt class="literal">org.jboss.seam.core.contexts.sessionContext['user']</tt>&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.faces.facesContext</tt>
				</span></dt><dd><p>
						<tt class="literal">FacesContext</tt> &#30340;&#19978;&#19979;&#25991;&#31649;&#29702;&#32452;&#20214;&#65288;&#19981;&#26159;&#19968;&#20010;&#30495;&#30340;Seam&#19978;&#19979;&#25991;&#65289;
					</p></dd></dl></div><p>
			&#25152;&#26377;&#30340;&#36825;&#20123;&#32452;&#20214;&#36890;&#24120;&#37117;&#24050;&#34987;&#33258;&#21160;&#23433;&#35013;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16662"></a>28.2.&nbsp;&#24037;&#20855;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#36825;&#20123;&#32452;&#20214;&#38750;&#24120;&#26377;&#29992;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.faces.facesMessages</tt>
				</span></dt><dd><p>
						&#20801;&#35768;faces&#30340;&#25104;&#21151;&#28040;&#24687;&#36328;&#36234;&#27983;&#35272;&#22120;&#30340;&#37325;&#23450;&#21521;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">add(FacesMessage facesMessage)</tt> &#8212; &#22686;&#21152;&#19968;&#20010;faces&#28040;&#24687;&#65292;&#36825;&#23558;&#20250;&#22312;&#24403;&#21069;&#23545;&#35805;&#30340;&#19979;&#19968;&#20010;&#28210;&#26579;&#21709;&#24212;&#38454;&#27573;&#26174;&#31034;&#20986;&#26469;&#12290;
							</p></li><li><p>
								<tt class="literal">add(String messageTemplate)</tt> &#8212;&#22686;&#21152;&#19968;&#20010;faces&#28040;&#24687;&#65292;&#36825;&#20010;&#28040;&#24687;&#20174;&#37027;&#20123;&#21487;&#33021;&#21253;&#21547;EL&#34920;&#36798;&#24335;&#30340;&#28040;&#24687;&#27169;&#26495;&#26469;&#28210;&#26579;&#12290;
							</p></li><li><p>
								<tt class="literal">add(Severity severity, String messageTemplate)</tt> &#8212; &#22686;&#21152;&#19968;&#20010;faces&#28040;&#24687;&#65292;&#36825;&#20010;&#28040;&#24687;&#20174;&#37027;&#20123;&#21487;&#33021;&#21253;&#21547;EL&#34920;&#36798;&#24335;&#30340;&#28040;&#24687;&#27169;&#26495;&#26469;&#28210;&#26579;&#12290;
							</p></li><li><p>
								<tt class="literal">addFromResourceBundle(String key)</tt> &#8212; &#22686;&#21152;&#19968;&#20010;faces&#28040;&#24687;&#65292;&#36825;&#20010;&#28040;&#24687;&#20174;&#22312;Seam&#36164;&#28304;&#21253;&#20013;&#23450;&#20041;&#30340;&#28040;&#24687;&#27169;&#26495;&#26469;&#28210;&#26579;&#12290;&#35813;&#28040;&#24687;&#27169;&#26495;&#21487;&#33021;&#21253;&#21547;EL&#34920;&#36798;&#24335;&#12290;
							</p></li><li><p>
								<tt class="literal">addFromResourceBundle(Severity severity, String key)</tt> &#8212; &#22686;&#21152;&#19968;&#20010;faces&#28040;&#24687;&#65292;&#36825;&#20010;&#28040;&#24687;&#20174;&#22312;Seam&#36164;&#28304;&#21253;&#20013;&#23450;&#20041;&#30340;&#28040;&#24687;&#27169;&#26495;&#26469;&#28210;&#26579;&#12290;&#35813;&#28040;&#24687;&#27169;&#26495;&#21487;&#33021;&#21253;&#21547;EL&#34920;&#36798;&#24335;&#12290;
							</p></li><li><p>
								<tt class="literal">clear()</tt> &#8212; &#28165;&#38500;&#25152;&#26377;&#30340;&#28040;&#24687;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.faces.redirect</tt>
				</span></dt><dd><p>
						&#19968;&#20010;&#31616;&#20415;&#30340;&#21487;&#20197;&#23454;&#29616;&#24102;&#21442;&#25968;&#37325;&#23450;&#21521;&#30340;API&#12290;&#23427;&#23545;&#25226;&#25628;&#32034;&#32467;&#26524;&#20648;&#23384;&#20316;&#20070;&#31614;&#29305;&#21035;&#26377;&#29992;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">redirect.viewId</tt> &#8212; &#29992;&#20110;&#37325;&#23450;&#21521;&#30340;JSF&#35270;&#22270;ID&#12290;
							</p></li><li><p>
								<tt class="literal">redirect.conversationPropagationEnabled</tt> &#8212; &#30830;&#23450;&#23545;&#35805;&#26159;&#21542;&#20250;&#36328;&#36234;&#37325;&#23450;&#21521;&#12290;
							</p></li><li><p>
								<tt class="literal">redirect.parameters</tt> &#8212; &#19968;&#20010;&#21547;&#26377;&#35831;&#27714;&#21442;&#25968;&#38190;&#20540;&#30340;&#26144;&#23556;&#34920;&#65292;&#29992;&#26469;&#22312;&#37325;&#23450;&#21521;&#38388;&#20256;&#36882;&#12290;
							</p></li><li><p>
								<tt class="literal">execute()</tt> &#8212; &#31435;&#21363;&#25191;&#34892;&#37325;&#23450;&#21521;&#12290;
							</p></li><li><p>
								<tt class="literal">captureCurrentRequest()</tt> &#8212; &#23384;&#20648;&#35270;&#22270;ID&#21644;&#24403;&#21069;GET&#35831;&#27714;&#30340;&#35831;&#27714;&#21442;&#25968;&#65288;&#22312;&#23545;&#35805;&#19978;&#19979;&#25991;&#20013;&#65289;&#65292;&#35201;&#24819;&#35775;&#38382;&#36825;&#20123;&#21442;&#25968;&#38656;&#35201;&#35843;&#29992; <tt class="literal">execute()</tt>&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.faces.httpError</tt>
				</span></dt><dd><p>
						&#19968;&#20010;&#31616;&#20415;&#30340;&#21457;&#36865;HTTP&#38169;&#35823;&#30340;API&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.events</tt>
				</span></dt><dd><p>
						&#19968;&#20010;&#29992;&#20110;&#21796;&#36215;&#20107;&#20214;&#30340;API&#12290;
						&#36825;&#20123;&#20107;&#20214;&#21487;&#20197;&#36890;&#36807;&#34987; <tt class="literal">@Observer</tt> &#26041;&#27861;&#25110;&#32773;&#32465;&#23450; <tt class="literal">components.xml</tt> &#30340;&#26041;&#27861;&#35266;&#23519;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">raiseEvent(String type)</tt> &#8212; &#21796;&#36215;&#19968;&#20010;&#29305;&#27530;&#31867;&#22411;&#30340;&#20107;&#20214;&#65292;&#24182;&#20998;&#21457;&#21040;&#25152;&#26377;&#30340;&#35266;&#23519;&#32773;&#12290;
							</p></li><li><p>
								<tt class="literal">raiseAsynchronousEvent(String type)</tt> &#8212; &#21796;&#36215;&#19968;&#20010;&#20107;&#20214;&#65292;&#35813;&#20107;&#20214;&#21487;&#20197;&#34987;EJB3&#35760;&#26102;&#26381;&#21153;&#24322;&#27493;&#22788;&#29702;&#12290;
							</p></li><li><p>
								<tt class="literal">raiseTimedEvent(String type, ....)</tt> &#8212; &#35745;&#21010;&#19968;&#20010;&#20107;&#20214;&#65292;&#35813;&#20107;&#20214;&#21487;&#20197;&#34987;EJB3&#35760;&#26102;&#26381;&#21153;&#24322;&#27493;&#22788;&#29702;&#12290;
							</p></li><li><p>
								<tt class="literal">addListener(String type, String methodBinding)</tt> &#8212; &#20026;&#26576;&#19968;&#29305;&#23450;&#20107;&#20214;&#31867;&#22411;&#22686;&#21152;&#19968;&#20010;&#35266;&#23519;&#32773;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.interpolator</tt>
				</span></dt><dd><p>
						&#19968;&#20010;&#29992;&#20110;&#26367;&#25442;&#23383;&#31526;&#20018;&#24418;&#24335;&#30340;JSF EL&#34920;&#36798;&#24335;&#30340;API&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">interpolate(String template)</tt> &#8212; &#27983;&#35272;JSF EL&#34920;&#36798;&#24335;&#24418;&#24335; <tt class="literal">#{...}</tt>&#30340;&#27169;&#26495;&#21644;&#21462;&#20195;&#20182;&#20204;&#30340;&#35745;&#31639;&#20540;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.expressions</tt>
				</span></dt><dd><p>
						&#19968;&#20010;&#29992;&#20110;&#21019;&#36896;&#20540;&#21644;&#26041;&#27861;&#32465;&#23450;&#30340;API&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">createValueBinding(String expression)</tt> &#8212; &#21019;&#36896;&#20540;&#32465;&#23450;&#23545;&#35937;
							</p></li><li><p>
								<tt class="literal">createMethodBinding(String expression)</tt> &#8212; &#21019;&#36896;&#26041;&#27861;&#32465;&#23450;&#23545;&#35937;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.pojoCache</tt>
				</span></dt><dd><p>
						JBoss &#32531;&#23384;<tt class="literal">PojoCache</tt> &#23454;&#20363;&#31649;&#29702;&#32452;&#20214;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">pojoCache.cfgResourceName</tt> &#8212; &#37197;&#32622;&#25991;&#20214;&#30340;&#21517;&#23383;&#12290;&#40664;&#35748;&#21040; <tt class="literal">treecache.xml</tt>&#12290;
							</p></li></ul></div></dd></dl></div><p>
			&#25152;&#26377;&#36825;&#20123;&#32452;&#20214;&#36890;&#24120;&#37117;&#24050;&#34987;&#33258;&#21160;&#23433;&#35013;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16871"></a>28.3.&nbsp;&#32452;&#20214;&#30340;&#22269;&#38469;&#21270;&#21644;&#20027;&#39064;</h2></div></div><div></div></div><p>
			&#36825;&#19968;&#32452;&#30340;&#32452;&#20214;&#65292;&#35753;&#36890;&#36807;&#20351;&#29992;Seam&#26469;&#21019;&#24314;&#22269;&#38469;&#21270;&#29992;&#25143;&#25509;&#21475;&#21464;&#24471;&#26356;&#23481;&#26131;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.locale</tt>
				</span></dt><dd><p>
						Seam locale&#65288;&#26412;&#22320;&#21270;&#65289;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.international.timezone</tt>
				</span></dt><dd><p>
						Seam&#26102;&#38388;&#21306;&#22495;&#12290;&#26102;&#38388;&#21306;&#22495;&#26159;&#20250;&#35805;&#33539;&#22260;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.resourceBundle</tt>
				</span></dt><dd><p>
						Seam&#36164;&#28304;&#32465;&#23450;&#12290;&#23427;&#22312;stateless&#33539;&#22260;&#12290;&#25191;&#34892;&#28145;&#24230;&#20248;&#20808;&#26597;&#35810;&#65292;&#26597;&#35810;&#38190;&#20540;&#22312;&#19968;&#31995;&#21015;&#30340;JAVA&#36164;&#28304;&#21253;&#20013;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.resourceLoader</tt>
				</span></dt><dd><p>
						&#36164;&#28304;&#21152;&#36733;&#22120;&#25552;&#20379;&#23545;&#24212;&#29992;&#36164;&#28304;&#21644;&#36164;&#28304;&#21253;&#30340;&#35775;&#38382;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">resourceLoader.bundleNames</tt> &#8212; &#34987;&#25628;&#32034;&#30340;Java&#36164;&#28304;&#21253;&#30340;&#21253;&#21517;&#65292;&#22312;Seam&#36164;&#28304;&#32465;&#23450;&#34987;&#20351;&#29992;&#30340;&#24773;&#24418;&#19979;&#65292;&#40664;&#35748;&#21040; <tt class="literal">messages</tt>&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.international.localeSelector</tt>
				</span></dt><dd><p>
						&#25903;&#25345;locale&#65288;&#26412;&#22320;&#21270;&#65289;&#36873;&#25321;&#65292;&#19981;&#20165;&#22312;&#37197;&#32622;&#26102;&#65292;&#20063;&#21487;&#20197;&#22312;&#29992;&#25143;&#36816;&#34892;&#26102;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">select()</tt> &#8212; &#36873;&#25321;&#25351;&#23450;&#30340;locale&#12290;
							</p></li><li><p>
								<tt class="literal">localeSelector.locale</tt> &#8212; &#24403;&#21069;&#30340; <tt class="literal">java.util.Locale</tt>&#12290;
							</p></li><li><p>
								<tt class="literal">localeSelector.localeString</tt> &#8212; locale&#65288;&#26412;&#22320;&#21270;&#65289;&#23383;&#31526;&#20018;&#21270;&#30340;&#34920;&#36798;&#12290;
							</p></li><li><p>
								<tt class="literal">localeSelector.language</tt> &#8212; &#25351;&#23450;locale&#35821;&#35328;&#12290;
							</p></li><li><p>
								<tt class="literal">localeSelector.country</tt> &#8212; &#25351;&#23450;locale&#22269;&#23478;&#12290;
							</p></li><li><p>
								<tt class="literal">localeSelector.variant</tt> &#8212; &#25351;&#23450;locale&#21464;&#37327;&#12290;
							</p></li><li><p>
								<tt class="literal">localeSelector.supportedLocales</tt> &#8212; &#19968;&#20010; <tt class="literal">SelectItem</tt>s &#30340;&#21015;&#34920;&#65292;&#34920;&#31034;&#34987;&#25903;&#25345;&#30340;locales&#12290;&#23427;&#20204;&#22312; <tt class="literal">jsf-config.xml</tt> &#20013;&#21015;&#20986;&#12290;
							</p></li><li><p>
								<tt class="literal">localeSelector.cookieEnabled</tt> &#8212; &#25351;&#23450;locale&#65288;&#26412;&#22320;&#65289;&#30340;&#36873;&#25321;&#32467;&#26524;&#24517;&#39035;&#36890;&#36807;&#27983;&#35272;&#22120;&#26469;&#20445;&#30041;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.international.timezoneSelector</tt>
				</span></dt><dd><p>
						&#25903;&#25345;&#26102;&#38388;&#21306;&#22495;&#36873;&#25321;&#65292;&#19981;&#20165;&#22312;&#37197;&#32622;&#26102;&#65292;&#20063;&#21487;&#20197;&#22312;&#29992;&#25143;&#36816;&#34892;&#26102;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">select()</tt> &#8212; &#36873;&#25321;&#26126;&#30830;&#30340;locale&#65288;&#26412;&#22320;&#65289;&#12290;
							</p></li><li><p>
								<tt class="literal">timezoneSelector.timezone</tt> &#8212; &#24403;&#21069;&#30340; <tt class="literal">java.util.TimeZone</tt>&#12290;
							</p></li><li><p>
								<tt class="literal">timezoneSelector.timeZoneId</tt> &#8212; &#26102;&#38388;&#21306;&#22495;&#30340;&#23383;&#31526;&#20018;&#21270;&#34920;&#36798;&#12290;
							</p></li><li><p>
								<tt class="literal">timezoneSelector.cookieEnabled</tt> &#8212; &#25351;&#26126;&#26102;&#38388;&#21306;&#22495;&#30340;&#36873;&#25321;&#32467;&#26524;&#24517;&#39035;&#36890;&#36807;&#27983;&#35272;&#22120;&#26469;&#20445;&#30041;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.international.messages</tt>
				</span></dt><dd><p>
						&#19968;&#20010;&#21253;&#21547;&#20174;&#28040;&#24687;&#27169;&#26495;&#20013;&#33719;&#21462;&#30340;&#22269;&#38469;&#21270;&#28040;&#24687;&#30340;&#26144;&#23556;&#34920;&#12290;&#28040;&#24687;&#27169;&#26495;&#23450;&#20041;&#22312;Seam&#36164;&#28304;&#21253;&#20013;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.theme.themeSelector</tt>
				</span></dt><dd><p>
						&#25903;&#25345;&#20027;&#39064;&#36873;&#25321;&#65292;&#19981;&#20165;&#22312;&#37197;&#32622;&#26102;&#65292;&#20063;&#21487;&#20197;&#22312;&#29992;&#25143;&#36816;&#34892;&#26102;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">select()</tt> &#8212; &#36873;&#25321;&#26126;&#30830;&#30340;&#20027;&#39064;&#12290;
							</p></li><li><p>
								<tt class="literal">theme.availableThemes</tt> &#8212; &#19968;&#31995;&#21015;&#30340;&#24050;&#23450;&#20041;&#30340;&#20027;&#39064;&#21015;&#34920;&#12290;
							</p></li><li><p>
								<tt class="literal">themeSelector.theme</tt> &#8212; &#24050;&#36873;&#25321;&#30340;&#20027;&#39064;&#12290;
							</p></li><li><p>
								<tt class="literal">themeSelector.themes</tt> &#8212; &#19968;&#20010;<tt class="literal">SelectItem</tt>s &#30340;&#21015;&#34920;&#65292;&#25551;&#36848;&#20102;&#24050;&#23450;&#20041;&#30340;&#20027;&#39064;&#12290;
							</p></li><li><p>
								<tt class="literal">themeSelector.cookieEnabled</tt> &#8212; &#25351;&#26126;&#20027;&#39064;&#30340;&#36873;&#25321;&#32467;&#26524;&#24517;&#39035;&#36890;&#36807;&#27983;&#35272;&#22120;&#26469;&#20445;&#30041;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.theme.theme</tt>
				</span></dt><dd><p>
						&#19968;&#20010;&#21253;&#21547;&#20027;&#39064;&#23454;&#20307;&#30340;&#26144;&#23556;&#34920;&#12290;
					</p></dd></dl></div><p>
			&#25152;&#26377;&#36825;&#20123;&#32452;&#20214;&#36890;&#24120;&#37117;&#24050;&#34987;&#33258;&#21160;&#23433;&#35013;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e17090"></a>28.4.&nbsp;&#25511;&#21046;&#23545;&#35805;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#36825;&#19968;&#32452;&#32452;&#20214;&#65292;&#20801;&#35768;&#36890;&#36807;&#24212;&#29992;&#31243;&#24207;&#25110;&#29992;&#25143;&#30028;&#38754;&#26469;&#25511;&#21046;&#23545;&#35805;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.conversation</tt>
				</span></dt><dd><p>
						&#29992;&#20110;&#23545;&#24403;&#21069;Seam&#23545;&#35805;&#30340;&#23646;&#24615;&#36827;&#34892;&#24212;&#29992;&#25511;&#21046;&#30340;API&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">getId()</tt> &#8212; &#36820;&#22238;&#24403;&#21069;&#23545;&#35805;&#30340;ID
							</p></li><li><p>
								<tt class="literal">isNested()</tt> &#8212; &#24403;&#21069;&#23545;&#35805;&#26159;&#21542;&#23884;&#22871;&#22312;&#20854;&#23427;&#23545;&#35805;&#20013;&#65311;
							</p></li><li><p>
								<tt class="literal">isLongRunning()</tt> &#8212; &#24403;&#21069;&#23545;&#35805;&#26159;&#21542;&#26159;&#38271;&#26102;&#38388;&#36816;&#34892;&#65311;
							</p></li><li><p>
								<tt class="literal">getId()</tt> &#8212; &#36820;&#22238;&#24403;&#21069;&#23545;&#35805;&#30340;ID
							</p></li><li><p>
								<tt class="literal">getParentId()</tt> &#8212; &#36820;&#22238;&#29238;&#23545;&#35805;&#30340;&#23545;&#35805;ID
							</p></li><li><p>
								<tt class="literal">getRootId()</tt> &#8212; &#36820;&#22238;&#26681;&#23545;&#35805;&#30340;&#23545;&#35805;ID
							</p></li><li><p>
								<tt class="literal">setTimeout(int timeout)</tt> &#8212; &#35774;&#32622;&#24403;&#21069;&#23545;&#35805;&#30340;&#22833;&#25928;&#26102;&#38388;
							</p></li><li><p>
								<tt class="literal">setViewId(String outcome)</tt> &#8212;&#22312;&#36890;&#36807;&#23545;&#35805;&#20999;&#25442;&#22120;&#12289;&#23545;&#35805;&#21015;&#34920;&#25110;breadcrumbs&#20999;&#25442;&#24403;&#21069;&#23545;&#35805;&#26102;&#65292;&#35774;&#32622;&#35270;&#22270;ID&#12290;
							</p></li><li><p>
								<tt class="literal">setDescription(String description)</tt> &#8212; &#35774;&#32622;&#24403;&#21069;&#23545;&#35805;&#30340;&#35828;&#26126;&#12290;&#35813;&#35828;&#26126;&#34987;&#29992;&#26469;&#26174;&#31034;&#22312;&#23545;&#35805;&#20999;&#25442;&#22120;&#12289;&#23545;&#35805;&#21015;&#34920;&#25110;breadcrumbs&#20013;&#12290;
							</p></li><li><p>
								<tt class="literal">redirect()</tt> &#8212; &#37325;&#23450;&#21521;&#21040;&#24403;&#21069;&#23545;&#35805;&#20013;&#26368;&#21518;&#19968;&#20010;&#26126;&#30830;&#23450;&#20041;&#30340;&#35270;&#22270;ID&#65288;&#30331;&#24405;&#21518;&#26377;&#29992;&#65289;&#12290;
							</p></li><li><p>
								<tt class="literal">leave()</tt> &#8212; &#36864;&#20986;&#23545;&#35805;&#30340;&#33539;&#22260;&#65292;&#20294;&#23454;&#38469;&#19978;&#27809;&#26377;&#32467;&#26463;&#36825;&#27425;&#23545;&#35805;&#12290;
							</p></li><li><p>
								<tt class="literal">begin()</tt> &#8212; &#24320;&#22987;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#65288;&#31561;&#21516;&#20110;<tt class="literal">@Begin</tt>)&#12290;
							</p></li><li><p>
								<tt class="literal">beginPageflow(String pageflowName)</tt> &#8212; &#21327;&#21516;&#39029;&#38754;&#27969;&#65292;&#24320;&#22987;&#19968;&#20010;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#65288;&#31561;&#21516;&#20110;<tt class="literal">@Begin(pageflow="...")</tt>)&#12290;
							</p></li><li><p>
							<tt class="literal">end()</tt> &#8212; &#32467;&#26463;&#38271;&#26102;&#38388;&#36816;&#34892;&#30340;&#23545;&#35805;&#65288;&#31561;&#21516;&#20110; <tt class="literal">@End</tt>)&#12290;
							</p></li><li><p>
								<tt class="literal">pop()</tt> &#8212; &#24377;&#20986;&#23545;&#35805;&#22534;&#26632;&#65292;&#36820;&#22238;&#21040;&#29238;&#23545;&#35805;&#12290;
							</p></li><li><p>
							<tt class="literal">root()</tt> &#8212; &#36820;&#22238;&#21040;&#23545;&#35805;&#22534;&#26632;&#30340;&#26681;&#23545;&#35805;&#12290;
							</p></li><li><p>
								<tt class="literal">changeFlushMode(FlushModeType flushMode)</tt> &#8212; &#25913;&#21464;&#23545;&#35805;&#30340;&#21047;&#26032;&#27169;&#24335;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.conversationList</tt>
				</span></dt><dd><p>
						&#23545;&#35805;&#21015;&#34920;&#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.conversationStack</tt>
				</span></dt><dd><p>
						&#23545;&#35805;&#22534;&#26632;&#65288;breadcrumbs&#65289;&#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.faces.switcher</tt>
				</span></dt><dd><p>
						&#23545;&#35805;&#20999;&#25442;&#22120;&#12290;
					</p></dd></dl></div><p>
			&#25152;&#26377;&#36825;&#20123;&#32452;&#20214;&#36890;&#24120;&#37117;&#24050;&#34987;&#33258;&#21160;&#23433;&#35013;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e17246"></a>28.5.&nbsp;&#19982;jBPM&#30456;&#20851;&#30340;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#36825;&#20123;&#32452;&#20214;&#35201;&#21644;jBPM&#19968;&#36215;&#20351;&#29992;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.pageflow.pageflow</tt>
				</span></dt><dd><p>
						&#29992;&#20110;&#25511;&#21046;Seam&#39029;&#38754;&#27969;&#30340;API&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								IsInProcess()&#22914;&#26524;&#22312;&#36827;&#31243;&#20013;&#26377;&#19968;&#20010;&#39029;&#38754;&#27969;&#65292;&#21017;&#36820;&#22238; <tt class="literal">true</tt>
							</p></li><li><p>
								<tt class="literal">getProcessInstance()</tt> &#8212; &#20026;&#24403;&#21069;&#39029;&#38754;&#27969;&#36820;&#22238;jBPM  <tt class="literal">ProcessInstance</tt> &#65288;&#27969;&#31243;&#23454;&#20363;&#65289;
							</p></li><li><p>
								<tt class="literal">begin(String pageflowName)</tt> &#8212; &#22312;&#24403;&#21069;&#23545;&#35805;&#30340;&#19978;&#19979;&#25991;&#20013;&#24320;&#22987;&#19968;&#20010;&#39029;&#38754;&#27969;
							</p></li><li><p>
								<tt class="literal">reposition(String nodeName)</tt> &#8212; &#20026;&#24403;&#21069;&#39029;&#38754;&#27969;&#22797;&#20301;&#21040;&#19968;&#20010;&#25351;&#23450;&#30340;&#33410;&#28857;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.actor</tt>
				</span></dt><dd><p>
						&#29992;&#20110;&#19982;&#24403;&#21069;Session&#30456;&#20851;&#30340;jBPM&#30340;&#35282;&#33394;&#23646;&#24615;&#30340;&#24212;&#29992;&#25511;&#21046;&#30340;API
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">setId(String actorId)</tt> &#8212; &#35774;&#32622;&#24403;&#21069;&#29992;&#25143;&#30340;jBPM&#35282;&#33394;&#26631;&#35782;&#12290;
							</p></li><li><p>
								<tt class="literal">getGroupActorIds()</tt> &#8212; &#36820;&#22238;&#19968;&#20010;&#26356;&#22810;&#30340;&#24403;&#21069;&#29992;&#25143;&#32676;&#30340;jBPM&#35282;&#33394;&#26631;&#35782;&#37096;&#20998;<tt class="literal">Set</tt>&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.transition</tt>
				</span></dt><dd><p>
						&#29992;&#20110;&#24403;&#21069;&#20219;&#21153;&#30340;jBPM&#36716;&#25442;&#30340;&#24212;&#29992;&#25511;&#21046;&#30340;API&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">setName(String transitionName)</tt> &#8212; &#24403;&#24403;&#21069;&#20219;&#21153;&#20197; <tt class="literal">@EndTask</tt> &#32467;&#26463;&#26102;&#65292;&#35774;&#32622;jBPM&#20020;&#26102;&#21517;&#23383;&#26469;&#20351;&#29992;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.businessProcess</tt>
				</span></dt><dd><p>
						&#29992;&#20110;&#23545;&#35805;&#19982;&#19994;&#21153;&#22788;&#29702;&#20043;&#38388;&#32852;&#31995;&#30340;&#31243;&#24207;&#25511;&#21046;&#30340;API&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">businessProcess.taskId</tt> &#8212; &#19982;&#24403;&#21069;&#23545;&#35805;&#30456;&#20851;&#30340;&#20219;&#21153;&#26631;&#35782;&#12290;
							</p></li><li><p>
								<tt class="literal">businessProcess.processId</tt> &#8212;&#19982;&#24403;&#21069;&#23545;&#35805;&#30456;&#20851;&#30340;&#36807;&#31243;&#26631;&#35782;&#12290;
							</p></li><li><p>
								<tt class="literal">businessProcess.hasCurrentTask()</tt> &#8212; &#26159;&#21542;&#26159;&#19968;&#20010;&#19982;&#24403;&#21069;&#23545;&#35805;&#30456;&#20851;&#30340;&#20219;&#21153;&#23454;&#20363;&#65311;
							</p></li><li><p>
								<tt class="literal">businessProcess.hasCurrentProcess()</tt> &#8212;&#26159;&#21542;&#26159;&#19968;&#20010;&#19982;&#24403;&#21069;&#23545;&#35805;&#30456;&#20851;&#30340;&#36807;&#31243;&#23454;&#20363;&#65311;
							</p></li><li><p>
								<tt class="literal">createProcess(String name)</tt> &#8212; &#21019;&#24314;&#19968;&#20010;&#21629;&#21517;&#36807;&#31243;&#23450;&#20041;&#30340;&#23454;&#20363;&#65292;&#24182;&#19982;&#24403;&#21069;&#23545;&#35805;&#30456;&#20851;&#12290;
							</p></li><li><p>
								<tt class="literal">startTask()</tt> &#8212; &#21551;&#21160;&#19982;&#24403;&#21069;&#23545;&#35805;&#30456;&#20851;&#30340;&#20219;&#21153;&#12290;
							</p></li><li><p>
								<tt class="literal">endTask(String transitionName)</tt> &#8212; &#32467;&#26463;&#19982;&#24403;&#21069;&#23545;&#35805;&#30456;&#20851;&#30340;&#20219;&#21153;&#12290;
							</p></li><li><p>
								<tt class="literal">resumeTask(Long id)</tt> &#8212; &#32467;&#21512;&#24403;&#21069;&#23545;&#35805;&#21644;&#25351;&#23450;&#26631;&#35782;&#30340;&#20219;&#21153;&#12290;
							</p></li><li><p>
								<tt class="literal">resumeProcess(Long id)</tt> &#8212;&#32467;&#21512;&#24403;&#21069;&#23545;&#35805;&#21644;&#25351;&#23450;&#26631;&#35782;&#30340;&#36807;&#31243;&#12290;
							</p></li><li><p>
								<tt class="literal">transition(String transitionName)</tt> &#8212; &#35302;&#21457;&#20020;&#26102;&#36807;&#31243;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.taskInstance</tt>
				</span></dt><dd><p>
						jBPM <tt class="literal">TaskInstance</tt> &#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.processInstance</tt>
				</span></dt><dd><p>
						jBPM <tt class="literal">ProcessInstance</tt> &#65288;&#27969;&#31243;&#23454;&#20363;&#65289;&#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.jBPMContext</tt>
				</span></dt><dd><p>
						&#20107;&#20214;&#33539;&#22260; <tt class="literal">jBPMContext</tt> &#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.taskInstanceList</tt>
				</span></dt><dd><p>
						jBPM&#20219;&#21153;&#21015;&#34920;&#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.pooledTaskInstanceList</tt>
				</span></dt><dd><p>
						jBPM&#27744;&#20219;&#21153;&#21015;&#34920;&#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.taskInstanceListForType</tt>
				</span></dt><dd><p>
						jBPM&#20219;&#21153;&#21015;&#34920;&#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.pooledTask</tt>
				</span></dt><dd><p>
						&#29992;&#20110;&#27744;&#20219;&#21153;&#23433;&#25490;&#30340;&#34892;&#20026;&#25805;&#20316;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.processInstanceFinder</tt>
				</span></dt><dd><p>
						&#36807;&#31243;&#23454;&#20363;&#20219;&#21153;&#21015;&#34920;&#31649;&#29702;&#32773;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.processInstanceList</tt>
				</span></dt><dd><p>
						&#36807;&#31243;&#23454;&#20363;&#20219;&#21153;&#21015;&#34920;&#12290;
					</p></dd></dl></div><p>
			&#26080;&#35770; <tt class="literal">org.jboss.seam.core.jBPM</tt>&#36825;&#20010;&#32452;&#20214;&#26159;&#21542;&#24050;&#23433;&#35013;&#65292;&#25152;&#26377;&#20197;&#19978;&#32452;&#20214;&#37117;&#20250;&#34987;&#33258;&#21160;&#23433;&#35013;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e17498"></a>28.6.&nbsp;&#19982;&#23433;&#20840;&#30456;&#20851;&#30340;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#36825;&#20123;&#32452;&#20214;&#37117;&#19982;Web&#23618;&#23433;&#20840;&#26377;&#20851;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.web.userPrincipal</tt>
				</span></dt><dd><p>
						&#24403;&#21069;&#29992;&#25143;(&#26412;&#20154;)<tt class="literal">Principal</tt>&#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.web.isUserInRole</tt>
				</span></dt><dd><p>
						&#20351;JSF&#39029;&#38754;&#21487;&#20197;&#26681;&#25454;&#24403;&#21069;&#29992;&#25143;&#25317;&#26377;&#30340;&#35282;&#33394;&#26469;&#36873;&#25321;&#28210;&#26579;&#26576;&#19968;&#25511;&#21046;&#12290;
						<tt class="literal">&lt;h:commandButton value="edit" rendered="#{isUserInRole['admin']}"/&gt;</tt>&#12290;
					</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e17528"></a>28.7.&nbsp;&#19982;JMS&#30456;&#20851;&#30340;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#36825;&#20123;&#32452;&#20214;&#29992;&#20110;&#31649;&#29702; <tt class="literal">TopicPublisher</tt>s &#65288;&#20027;&#39064;&#21457;&#24067;&#32773;&#65289;&#21644; <tt class="literal">QueueSender</tt>s &#65288;&#38431;&#21015;&#21457;&#36865;&#32773;&#65289;&#65288;&#35265;&#19979;&#25991;&#65289;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.jms.queueSession</tt>
				</span></dt><dd><p>
						JMS <tt class="literal">QueueSession</tt> &#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.jms.topicSession</tt>
				</span></dt><dd><p>
						JMS <tt class="literal">TopicSession</tt> &#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="components.mail"></a>28.8.&nbsp;&#19982;&#37038;&#20214;&#30456;&#20851;&#30340;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#36825;&#20123;&#32452;&#20214;&#19982;Seam&#30340;&#37038;&#20214;&#25903;&#25345;&#19968;&#36215;&#34987;&#20351;&#29992;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.mail.mailSession</tt>
				</span></dt><dd><p>
						JavaMail <tt class="literal">Session</tt> &#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
						Session&#25110;&#32773;&#21487;&#20197;&#20174;JNDI&#19978;&#19979;&#25991;&#20013;&#33719;&#21462;&#65288;&#36890;&#36807;&#35774;&#23450; <tt class="literal">sessionJndiName</tt>&#23646;&#24615;&#65289;&#65292;&#25110;&#32773;&#21487;&#20197;&#26681;&#25454;&#37197;&#32622;&#36873;&#39033;&#26469;&#21019;&#24314;&#12290;
						&#22914;&#26524;&#26159;&#21019;&#24314;&#65292;<tt class="literal">host</tt> &#24517;&#39035;&#34987;&#35774;&#23450;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">org.jboss.seam.mail.mailSession.host</tt> &#8212; &#20351;&#29992;SMTP&#26381;&#21153;&#30340;&#20027;&#26426;&#21517;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.mail.mailSession.port</tt> &#8212; &#20351;&#29992;SMTP&#26381;&#21153;&#30340;&#31471;&#21475;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.mail.mailSession.username</tt> &#8212;  &#29992;&#20110;&#36830;&#25509;&#21040;SMTP&#26381;&#21153;&#30340;&#29992;&#25143;&#21517;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.mail.mailSession.password</tt> &#8212; &#29992;&#20110;&#26469;&#36830;&#25509;&#21040;SMTP&#26381;&#21153;&#30340;&#23494;&#30721;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.mail.mailSession.debug</tt> &#8212; &#24320;&#21551;JavaMail debug&#27169;&#24335;&#12290;&#65288;&#38750;&#24120;&#35814;&#32454;&#65289;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.mail.mailSession.ssl</tt> &#8212; &#24320;&#21551;&#21040;SMTP&#30340;SSL&#36830;&#25509;&#65288;&#40664;&#35748;&#31471;&#21475;465&#65289;
							</p><p>
								<tt class="literal">org.jboss.seam.mail.mailSession.tls</tt> &#8212; &#40664;&#35748;&#20026;true&#65292;&#20915;&#23450;&#26159;&#21542;&#24320;&#21551;&#22312;&#37038;&#20214;&#20250;&#35805;&#20013;&#30340;TLS&#25903;&#25345;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.mail.mailSession.sessionJndiName</tt> &#8212; &#22312;JNDI&#20043;&#20869;&#30340;javax.mail.Session&#30340;&#21517;&#23383;&#65292;&#22914;&#26524;&#23427;&#34987;&#25552;&#20379;&#65292;&#25152;&#26377;&#20854;&#23427;&#23646;&#24615;&#37117;&#23558;&#34987;&#24573;&#30053;&#12290;
							</p></li></ul></div></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e17636"></a>28.9.&nbsp;&#22522;&#30784;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#36825;&#20123;&#32452;&#20214;&#25552;&#20379;&#20102;&#20851;&#38190;&#30340;&#24179;&#21488;&#22522;&#30784;&#35774;&#26045;&#12290;&#20320;&#21487;&#20197;&#36890;&#36807;&#22312; <tt class="literal">components.xml</tt> &#25991;&#20214;&#20013;&#35774;&#23450; <tt class="literal">install="true"</tt> &#26469;&#23433;&#35013;&#19968;&#20010;&#40664;&#35748;&#24773;&#24418;&#19979;&#26410;&#34987;&#23433;&#35013;&#30340;&#32452;&#20214;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.init</tt>
				</span></dt><dd><p>
						&#20026;Seam&#25552;&#20379;&#20102;&#21021;&#22987;&#21270;&#35774;&#32622;&#65292;&#24635;&#26159;&#33258;&#21160;&#34987;&#23433;&#35013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">org.jboss.seam.core.init.jndiPattern</tt> &#8212; JNDI&#27169;&#24335;&#29992;&#20110;&#23547;&#25214;&#20250;&#35805;Bean&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.core.init.debug</tt> &#8212; &#25171;&#24320; Seam &#35843;&#35797;&#27169;&#24335;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.core.init.clientSideConversations</tt> &#8212;
								&#22914;&#26524;&#35774;&#20026; <tt class="literal">true</tt>&#65292;Seam&#23558;&#20250;&#22312;&#23458;&#25143;&#31471;&#32780;&#19981;&#26159;&#22312; <tt class="literal">HttpSession</tt> &#20013;&#20445;&#23384;&#23545;&#35805;&#19978;&#19979;&#25991;&#21464;&#37327;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.core.init.userTransactionName</tt> &#8212; &#24403;&#23547;&#25214;JTA <tt class="literal">UserTransaction</tt> &#23545;&#35937;&#26102;&#65292;&#20351;&#29992;JNDI&#21629;&#21517;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.manager</tt>
				</span></dt><dd><p>
						&#20869;&#22312;&#30340;&#32452;&#20214;&#29992;&#20110;Seam&#39029;&#21644;&#23545;&#35805;&#19978;&#19979;&#25991;&#31649;&#29702;&#65292;&#24635;&#26159;&#33258;&#21160;&#34987;&#23433;&#35013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">org.jboss.seam.core.manager.conversationTimeout</tt> &#8212; &#23545;&#35805;&#19978;&#19979;&#25991;&#30340;&#36229;&#26102;&#26102;&#38388;&#65292;&#21333;&#20301;&#20026;&#24494;&#31186;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.core.manager.concurrentRequestTimeout</tt> &#8212; &#24403;&#19968;&#20010;&#32447;&#31243;&#35797;&#22270;&#22312;&#38271;&#26102;&#38388;&#30340;&#23545;&#35805;&#19978;&#19979;&#25991;&#20013;&#24471;&#21040;&#19968;&#20010;&#38145;&#26102;&#30340;&#26368;&#22823;&#31561;&#24453;&#26102;&#38388;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.core.manager.conversationIdParameter</tt> &#8212; &#29992;&#20110;&#20256;&#36865;&#23545;&#35805;ID&#30340;&#35831;&#27714;&#21442;&#25968;&#65292;&#40664;&#35748;&#20026; <tt class="literal">conversationId</tt>&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.core.manager.conversationIsLongRunningParameter</tt> &#8212; &#29992;&#20110;&#20256;&#36865;&#26159;&#21542;&#26159;&#38271;&#26102;&#38388;&#23545;&#35805;&#30340;&#35831;&#27714;&#21442;&#25968;&#65292;&#40664;&#35748;&#26159;&#38271;&#26102;&#38388;&#23545;&#35805;&#65306;<tt class="literal">conversationIsLongRunning</tt>&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.navigation.pages</tt>
				</span></dt><dd><p>
						&#20869;&#37096;&#32452;&#20214;&#29992;&#20110;Seam&#24037;&#20316;&#24179;&#21488;&#31649;&#29702;&#65292;&#24635;&#26159;&#33258;&#21160;&#34987;&#23433;&#35013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">org.jboss.seam.core.pages.noConversationViewId</tt> &#8212; &#24403;&#23545;&#35805;&#22312;&#26381;&#21153;&#31471;&#27809;&#26377;&#34987;&#25214;&#21040;&#26102;&#65292;&#23558;&#37325;&#23450;&#21521;&#21040;&#35270;&#22270;&#30340;ID&#65288;&#20840;&#23616;&#35774;&#23450;&#65289;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.navigation.pages.loginViewId</tt> &#8212; &#24403;&#38750;&#25480;&#26435;&#29992;&#25143;&#35797;&#22270;&#35775;&#38382;&#19968;&#20010;&#21463;&#20445;&#25252;&#30340;&#39029;&#38754;&#26102;&#65292;&#23558;&#37325;&#23450;&#21521;&#21040;&#35270;&#22270;&#30340;ID&#65288;&#20840;&#23616;&#35774;&#23450;&#65289;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.navigation.pages.httpPort</tt> &#8212; http&#37197;&#32622;&#35831;&#27714;&#25152;&#20351;&#29992;&#30340;&#31471;&#21475;&#65288;&#20840;&#23616;&#35774;&#23450;&#65289;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.navigation.pages.httpsPort</tt> &#8212; https&#37197;&#32622;&#35831;&#27714;&#25152;&#20351;&#29992;&#30340;&#31471;&#21475;&#65288;&#20840;&#23616;&#35774;&#23450;&#65289;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.navigation.pages.resources</tt> &#8212; &#19968;&#20010;&#29992;&#26469;&#25628;&#32034; <tt class="literal">pages.xml</tt> &#26679;&#24335;&#36164;&#28304;&#30340;&#21015;&#34920;&#12290;&#40664;&#35748;&#20026; <tt class="literal">WEB-INF/pages.xml</tt>&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.bpm.jBPM</tt>
				</span></dt><dd><p>
						&#24341;&#23548; <tt class="literal">jBPMConfiguration</tt> &#65288;jBPM&#37197;&#32622;&#65289;&#12290;&#23433;&#35013;&#30456;&#24212;&#30340;&#31867;&#20026; <tt class="literal">org.jboss.seam.bpm.jBPM</tt>&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">org.jboss.seam.core.jBPM.processDefinitions</tt> &#8212; &#19968;&#31995;&#21015;&#30340;jPDL&#25991;&#20214;&#30340;&#36164;&#28304;&#21015;&#34920;&#65292;&#29992;&#20110;&#19994;&#21153;&#36827;&#31243;&#30340;&#21327;&#35843;&#65288;orchestration&#65289;&#12290;
							</p></li><li><p>
								<tt class="literal">org.jboss.seam.core.jBPM.pageflowDefinitions</tt> &#8212; &#19968;&#31995;&#21015;&#30340;jPDL &#25991;&#20214;&#30340;&#36164;&#28304;&#21015;&#34920;&#65292;&#29992;&#20110;&#23545;&#35805;&#39029;&#38754;&#27969;&#30340;&#23450;&#20041;&#65288;orchestration&#65289;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.conversationEntries</tt>
				</span></dt><dd><p>
						&#20869;&#22312;&#30340;Session&#33539;&#22260;&#30340;&#32452;&#20214;&#65292;&#29992;&#20110;&#22312;&#21508;&#35831;&#27714;&#38388;&#35760;&#24405;&#27963;&#21160;&#30340;&#38271;&#26102;&#38388;&#23545;&#35805;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.faces.facesPage</tt>
				</span></dt><dd><p>
						&#20869;&#22312;&#30340;&#39029;&#33539;&#22260;&#30340;&#32452;&#20214;&#65292;&#29992;&#20110;&#35760;&#24405;&#19968;&#39029;&#24403;&#20013;&#30456;&#20851;&#30340;&#23545;&#35805;&#19978;&#19979;&#25991;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.persistence.persistenceContexts</tt>
				</span></dt><dd><p>
						&#20869;&#22312;&#32452;&#20214;&#65292;&#29992;&#20197;&#35760;&#24405;&#24403;&#21069;&#23545;&#35805;&#20013;&#30340;&#25345;&#20037;&#23618;&#19978;&#19979;&#25991;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.jms.queueConnection</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#19968;&#20010;JMS <tt class="literal">QueueConnection</tt>&#65288;&#38431;&#21015;&#36830;&#25509;&#65289;&#12290;
						&#24403;&#31649;&#29702;&#30340; <tt class="literal">QueueSender</tt>&#65288;&#38431;&#21015;&#21457;&#36865;&#32773;&#65289;&#34987;&#23433;&#35013;&#30340;&#26102;&#20505;&#65292;&#23427;&#20063;&#34987;&#23433;&#35013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">org.jboss.seam.jms.queueConnection.queueConnectionFactoryJndiName</tt>
								&#8212; JMS <tt class="literal">QueueConnectionFactory</tt>&#65288;&#38431;&#21015;&#36830;&#25509;&#24037;&#21378;&#65289;&#30340;JNDI&#21517;&#31216;&#65292;&#40664;&#35748;&#20026; <tt class="literal">UIL2ConnectionFactory</tt>&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.jms.topicConnection</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#19968;&#20010;JMS <tt class="literal">TopicConnection</tt> &#65288;&#20027;&#39064;&#36830;&#25509;&#65289;&#12290;
						&#24403;&#31649;&#29702;&#30340; <tt class="literal">TopicPublisher</tt> &#34987;&#23433;&#35013;&#30340;&#26102;&#20505;&#65292;&#23427;&#20063;&#34987;&#23433;&#35013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">org.jboss.seam.jms.topicConnection.topicConnectionFactoryJndiName</tt>
								&#8212; &#19968;&#20010;JMS <tt class="literal">TopicConnectionFactory</tt> &#65288;&#20027;&#39064;&#36830;&#25509;&#24037;&#21378;&#65289;&#30340;JNDI&#21517;&#31216;&#65292;&#40664;&#35748;&#20026; <tt class="literal">UIL2ConnectionFactory</tt>
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.persistence.persistenceProvider</tt>
				</span></dt><dd><p>
						&#25277;&#35937;&#23618;&#65292;&#23545;&#20110;JPA&#25552;&#20379;&#32773;&#30340;&#38750;&#26631;&#20934;&#21270;&#29305;&#24615;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.validators</tt>
				</span></dt><dd><p>
						&#32531;&#23384;Hibernate Validator&#23454;&#20363; <tt class="literal">ClassValidator</tt>&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.faces.validation</tt>
				</span></dt><dd><p>
						&#34987;&#24212;&#29992;&#31243;&#24207;&#29992;&#26469;&#21028;&#26029;&#39564;&#35777;&#26159;&#21542;&#25104;&#21151;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.debug.introspector</tt>
				</span></dt><dd><p>
						&#25903;&#25345;Seam&#35843;&#35797;&#39029;&#38754;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.debug.contexts</tt>
				</span></dt><dd><p>
						&#25903;&#25345;Seam&#35843;&#35797;&#39029;&#38754;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.exception.exceptions</tt>
				</span></dt><dd><p>
						&#29992;&#20197;&#22788;&#29702;&#24322;&#24120;&#30340;&#20869;&#37096;&#32452;&#20214;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.transaction.transaction</tt>
				</span></dt><dd><p>
						&#36890;&#36807;&#19968;&#20010;&#19982;JTA&#20860;&#23481;&#30340;&#25509;&#21475;&#65292;&#29992;&#20197;&#25511;&#21046;&#20107;&#21153;&#21644;&#23545;&#24213;&#23618;&#20107;&#21153;&#31649;&#29702;&#25552;&#20379;&#25277;&#35937;&#30340;API&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">org.jboss.seam.faces.safeActions</tt>
				</span></dt><dd><p>
						&#36890;&#36807;&#26816;&#26597;&#35270;&#22270;&#20013;&#30340;&#25805;&#20316;&#34920;&#36798;&#24335;&#65288;action expression&#65289;&#65292;&#21028;&#26029;&#22312;&#36827;&#26469;&#30340;URL&#37324;&#30340;&#25805;&#20316;&#34920;&#36798;&#24335;&#26159;&#21542;&#23433;&#20840;&#12290;
					</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e17963"></a>28.10.&nbsp;&#26434;&#39033;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#36825;&#20123;&#32452;&#20214;&#26080;&#27861;&#24402;&#31867;&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.async.dispatcher</tt>
				</span></dt><dd><p>
						&#20026;&#24322;&#27493;&#26041;&#27861;&#35843;&#24230;&#26080;&#29366;&#24577;&#20250;&#35805;Bean&#12290;
					</p></dd></dl></div><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.image</tt>
				</span></dt><dd><p>
						&#29992;&#20197;&#22270;&#20687;&#22788;&#29702;&#12290;
					</p></dd></dl></div><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.pojoCache</tt>
				</span></dt><dd><p>
						PojoCache&#23454;&#20363;&#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
					</p></dd></dl></div><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">org.jboss.seam.core.uiComponent</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#19968;&#20010;&#20197;Component ID&#20026;&#38190;&#20540;&#30340;UIComponents&#30340;&#26144;&#23556;&#34920;&#12290;
					</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e18008"></a>28.11.&nbsp;&#29305;&#27530;&#32452;&#20214;</h2></div></div><div></div></div><p>
			&#24403;&#22312;Seam&#37197;&#32622;&#20013;&#25351;&#23450;&#20102;&#21517;&#23383;&#65292;&#26576;&#20123;&#29305;&#27530;&#30340;Seam&#32452;&#20214;&#31867;&#21487;&#23433;&#35013;&#22810;&#27425;&#12290;
			&#20363;&#22914;&#65292;&#25509;&#19979;&#26469;&#37197;&#32622;&#22312;<tt class="literal">components.xml</tt>&#19979;&#30340;&#20960;&#34892;&#65292;&#23433;&#35013;&#21644;&#37197;&#32622;&#20102;&#20004;&#20010;Seam&#32452;&#20214;&#65306;
		</p><pre class="programlisting">&lt;component name="bookingDatabase"
          class="org.jboss.seam.persistence.ManagedPersistenceContext"&gt;
    &lt;property name="persistenceUnitJndiName"&gt;java:/comp/emf/bookingPersistence&lt;/property&gt;
&lt;/component&gt;

&lt;component name="userDatabase"
          class="org.jboss.seam.persistence.ManagedPersistenceContext"&gt;
    &lt;property name="persistenceUnitJndiName"&gt;java:/comp/emf/userPersistence&lt;/property&gt;
		&lt;/component&gt;</pre><p>
			&#36825;&#20004;&#20010;Seam&#32452;&#20214;&#26159; <tt class="literal">bookingDatabase</tt> &#21644; <tt class="literal">userDatabase</tt>&#12290;
		</p><div class="variablelist"><dl><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;entityManager&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.persistence.ManagedPersistenceContext</tt>
				</span></dt><dd><p>
						&#23545;&#35805;&#33539;&#22260;&#30340;&#21463;&#31649; <tt class="literal">EntityManager</tt> &#30340;&#31649;&#29702;&#32452;&#20214;&#12290;
						&#35813; <tt class="literal">EntityManager</tt> &#26377;&#19968;&#20010;&#25193;&#23637;&#30340;&#25345;&#20037;&#23618;&#19978;&#19979;&#25991;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal"><span class="emphasis"><em>&lt;entityManager&gt;</em></span>.entityManagerFactory</tt>
								&#8212; &#19968;&#20010;&#20540;&#32465;&#23450;&#34920;&#36798;&#24335;&#65292;&#35813;&#34920;&#36798;&#24335;&#30340;&#20540;&#20026;&#19968;&#20010; <tt class="literal">EntityManagerFactory</tt> &#30340;&#23454;&#20363;&#12290;
							</p><p>
								<tt class="literal"><span class="emphasis"><em>&lt;entityManager&gt;</em></span>.persistenceUnitJndiName</tt>
								&#8212; &#23454;&#20307;&#31649;&#29702;&#32773;&#24037;&#21378;&#30340;JNDI&#21517;&#31216;&#65292;&#40664;&#35748;&#20026; <tt class="literal">java:/<span class="emphasis"><em>&lt;managedPersistenceContext&gt;</em></span></tt>&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;entityManagerFactory&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.persistence.EntityManagerFactory</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#19968;&#20010;JPA  <tt class="literal">EntityManagerFactory</tt>&#65288;&#23454;&#20307;&#31649;&#29702;&#32773;&#24037;&#21378;&#65289;&#12290;&#24403;&#19981;&#22312;EJB3.0&#25903;&#25345;&#30340;&#29615;&#22659;&#19979;&#65292;&#29305;&#21035;&#26377;&#29992;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">entityManagerFactory.persistenceUnitName</tt> &#8212;
								&#25345;&#20037;&#21333;&#20803;&#30340;&#21517;&#31216;&#12290;
							</p></li></ul></div><p>
						&#21487;&#21442;&#32771;API JavaDoc&#65292;&#24471;&#21040;&#26356;&#22810;&#30340;&#37197;&#32622;&#23646;&#24615;&#20449;&#24687;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;session&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.persistence.ManagedSession</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#32773;&#32452;&#20214;&#65292;&#29992;&#20110;&#22312;&#23545;&#35805;&#33539;&#22260;&#20869;&#31649;&#29702;Hibernate <tt class="literal">Session</tt>&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal"><span class="emphasis"><em>&lt;session&gt;</em></span>.sessionFactory</tt>
								&#8212; &#19968;&#20010;&#20540;&#32465;&#23450;&#34920;&#36798;&#24335;&#65292;&#20854;&#20540;&#20026;&#19968;&#20010; <tt class="literal">SessionFactory</tt> &#30340;&#23454;&#20363;&#12290;
							</p><p>
								<tt class="literal"><span class="emphasis"><em>&lt;session&gt;</em></span>.sessionFactoryJndiName</tt>
								&#8212; Session &#24037;&#21378;&#30340;JNDI&#21517;&#31216;&#65292;&#40664;&#35748;&#20026; <tt class="literal">java:/<span class="emphasis"><em>&lt;managedSession&gt;</em></span></tt>&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;sessionFactory&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.persistence.HibernateSessionFactory</tt>
				</span></dt><dd><p>
						&#31649;&#29702;Hibernate <tt class="literal">SessionFactory</tt>&#65288;&#20250;&#35805;&#24037;&#21378;&#65289;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal">&lt;sessionFactory&gt;.cfgResourceName</tt> &#8212;
								&#37197;&#32622;&#25991;&#20214;&#30340;&#36335;&#24452;&#65292;&#40664;&#35748;&#20026; <tt class="literal">hibernate.cfg.xml</tt>&#12290;
							</p></li></ul></div><p>
						&#21487;&#21442;&#32771;API JavaDoc&#65292;&#24471;&#21040;&#26356;&#22810;&#30340;&#37197;&#32622;&#23646;&#24615;&#20449;&#24687;&#12290;
					</p></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;managedQueueSender&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.jms.ManagedQueueSender</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#32773;&#32452;&#20214;&#65292;&#29992;&#20110;&#22312;&#20107;&#20214;&#33539;&#22260;&#20869;&#31649;&#29702;JMS <tt class="literal">QueueSender</tt>&#65288;&#38431;&#21015;&#21457;&#36865;&#32773;&#65289;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal"><span class="emphasis"><em>&lt;managedQueueSender&gt;</em></span>.queueJndiName</tt> &#8212; JMS&#38431;&#21015;&#30340;JNDI&#21517;&#31216;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;managedTopicPublisher&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.jms.ManagedTopicPublisher</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#32773;&#32452;&#20214;&#65292;&#29992;&#20110;&#22312;&#20107;&#20214;&#33539;&#22260;&#20869;&#31649;&#29702;JMS <tt class="literal">TopicPublisher</tt>&#65288;&#20027;&#39064;&#21457;&#24067;&#32773;&#65289;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal"><span class="emphasis"><em>&lt;managedTopicPublisher&gt;</em></span>.topicJndiName</tt> &#8212; JMS&#20027;&#39064;&#30340;JNDI&#21517;&#31216;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;managedWorkingMemory&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.drools.ManagedWorkingMemory</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#32773;&#32452;&#20214;&#65292;&#29992;&#20110;&#31649;&#29702;&#23545;&#35805;&#33539;&#22260;&#20869;&#30340;&#19968;&#20010;&#21463;&#31649;Drools <tt class="literal">WorkingMemory</tt>&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal"><span class="emphasis"><em>&lt;managedWorkingMemory&gt;</em></span>.ruleBase</tt> &#8212; &#20540;&#34920;&#36798;&#24335;&#65292;&#20854;&#20540;&#20026;&#19968;&#20010; <tt class="literal">RuleBase</tt> &#30340;&#23454;&#20363;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;ruleBase&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.drools.RuleBase</tt>
				</span></dt><dd><p>
						&#31649;&#29702;&#32773;&#32452;&#20214;&#65292;&#29992;&#20110;&#24212;&#29992;&#31243;&#24207;&#33539;&#22260;&#20869;&#30340;Drools <tt class="literal">RuleBase</tt>&#65288;&#22522;&#26412;&#35268;&#21017;&#65289;&#12290;
						<span class="emphasis"><em>&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;&#36825;&#19981;&#26159;&#30495;&#27491;&#29992;&#20110;&#29983;&#20135;&#20351;&#29992;&#65292;&#22240;&#20026;&#23427;&#19981;&#25903;&#25345;&#26032;&#35268;&#21017;&#30340;&#21160;&#24577;&#23433;&#35013;&#12290;</em></span>
					</p><div class="itemizedlist"><ul type="disc"><li><p>
								<tt class="literal"><span class="emphasis"><em>&lt;ruleBase&gt;</em></span>.ruleFiles</tt> &#8212; &#19968;&#31995;&#21015;&#21253;&#21547;&#65288;Drools&#65289;&#35268;&#21017;&#30340;&#25991;&#20214;&#21015;&#34920;&#12290;
							</p><p>
								<tt class="literal"><span class="emphasis"><em>&lt;ruleBase&gt;</em></span>.dslFile</tt> &#8212; (Drools)DSL&#23450;&#20041;&#12290;
							</p></li></ul></div></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;entityHome&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.framework.EntityHome</tt>
				</span></dt><dd></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;hibernateEntityHome&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.framework.HibernateEntityHome</tt>
				</span></dt><dd></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;entityQuery&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.framework.EntityQuery</tt>
				</span></dt><dd></dd><dt><span class="term">
					<tt class="literal">
						<span class="emphasis"><em>&lt;hibernateEntityQuery&gt;</em></span>
					</tt>
				, </span><span class="term">
					<tt class="literal">org.jboss.seam.framework.HibernateEntityQuery</tt>
				</span></dt><dd></dd></dl></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="controls"></a>Chapter&nbsp;29.&nbsp;Seam&#30340;JSF&#25511;&#20214;</h2></div></div><div></div></div><p>
  	Seam&#21253;&#25324;&#35768;&#22810;&#26377;&#21033;&#20110;&#20351;&#29992;Seam&#30340;JSF&#25511;&#20214;&#12290;&#23427;&#20204;&#29992;&#26469;&#34917;&#20805;&#20869;&#24314;&#30340;JSF&#25511;&#20214;&#65292;&#20197;&#21450;&#26469;&#33258;&#20854;&#20182;&#31532;&#19977;&#26041;&#24211;&#30340;&#25511;&#20214;&#12290;
    &#25105;&#20204;&#25512;&#33616;&#20197;JBoss Ajax4jsf&#12289;JBoss Richfaces&#21644;Apache MyFaces Trinidad&#26631;&#31614;&#24211;&#26469;&#20351;&#29992;Seam&#12290;&#25105;&#20204;&#19981;&#24314;&#35758;&#20351;&#29992;Tomahawk&#26631;&#31614;&#24211;&#26469;&#20351;&#29992;Seam&#12290;
	</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="controls.tags"></a>29.1.&nbsp;&#26631;&#31614;</h2></div></div><div></div></div><p>
  &#20026;&#20102;&#20351;&#29992;&#36825;&#20123;tagsd&#65292;&#35201;&#22312;&#20320;&#30340;&#39029;&#38754;&#20013;&#23450;&#20041;&#8220;<tt class="literal">s</tt>&#8221;&#21629;&#21517;&#31354;&#38388;&#22914;&#19979;&#65288;&#21482;&#29992;&#20110;Facelets&#65289;&#65306;
  </p><pre class="programlisting">&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:s="http://jboss.com/products/seam/taglib"&gt;</pre><p>
  ui&#30340;&#20363;&#23376;&#65292;&#31034;&#33539;&#20102;&#36825;&#20854;&#20013;&#35768;&#22810;&#26631;&#31614;&#30340;&#29992;&#27861;&#12290;
  </p><div class="table"><a name="d0e18389"></a><p class="title"><b>Table&nbsp;29.1.&nbsp;Seam&#30340;JSF&#25511;&#20214;&#21442;&#32771;</b></p><table summary="Seam&#30340;JSF&#25511;&#20214;&#21442;&#32771;" border="1"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>
              <tt class="literal">&lt;s:button&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#36890;&#36807;&#25511;&#21046;&#23545;&#35805;&#20256;&#25773;&#25903;&#25345;&#21160;&#20316;&#35843;&#29992;&#30340;&#25353;&#38062;&#12290;<span class="emphasis"><em>&#19981;&#25552;&#20132;&#34920;&#21333;&#12290;</em></span>
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">value</tt> &#8212; &#26631;&#31614;
                </p></li><li><p>
                <tt class="literal">action</tt> &#8212; &#25351;&#23450;&#21160;&#20316;&#30417;&#21548;&#32773;&#30340;&#19968;&#31181;&#26041;&#27861;&#32465;&#23450;&#12290;
                </p></li><li><p>
                <tt class="literal">view</tt> &#8212; &#38142;&#25509;&#30340;JSF view id&#12290;
                </p></li><li><p>
                <tt class="literal">fragment</tt> &#8212; &#38142;&#25509;&#30340;fragment&#26631;&#35782;&#31526;&#12290;
                </p></li><li><p>
                <tt class="literal">disabled</tt> &#8212; &#35813;&#38142;&#25509;&#22788;&#20110;&#21462;&#28040;&#29366;&#24577;&#21527;&#65311;
                </p></li><li><p>
                <tt class="literal">propagation</tt> &#8212; &#30830;&#23450;&#23545;&#35805;&#20256;&#25773;&#39118;&#26684;&#65306;<tt class="literal">begin</tt>&#12289;<tt class="literal">join</tt>&#12289;<tt class="literal">nest</tt>&#12289;<tt class="literal">none</tt> &#25110;&#32773; <tt class="literal">end</tt>&#12290;
                </p></li><li><p>
                <tt class="literal">pageflow</tt> &#8212; &#36215;&#22987;&#30340;&#39029;&#38754;&#27969;&#23450;&#20041;&#12290;
                &#65288;&#36825;&#21482;&#22312; <tt class="literal">propagation="begin"</tt> &#25110;&#32773; <tt class="literal">propagation="join"</tt> &#30340;&#26102;&#20505;&#25165;&#26377;&#29992;&#12290;&#65289;
                </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:button id="cancel" value="Cancel"
          action="#{hotelBooking.cancel}"/&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:cache&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#21033;&#29992;JBoss&#30340;Cache&#32531;&#23384;&#28210;&#26579;&#36807;&#30340;&#39029;&#38754;&#29255;&#26029;&#12290;
            &#27880;&#24847; <tt class="literal">&lt;s:cache&gt;</tt> &#23454;&#38469;&#19978;&#20351;&#29992;&#30001;&#20869;&#24314;&#30340; <tt class="literal">pojoCache</tt> &#32452;&#20214;&#31649;&#29702;&#30340;JBoss Cache&#30340;&#23454;&#20363;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">key</tt> &#8212; &#26159;&#32531;&#23384;&#28210;&#26579;&#36807;&#30340;&#20869;&#23481;&#30340;&#38190;&#65292;&#32463;&#24120;&#26159;&#19968;&#20010;&#20540;&#34920;&#36798;&#24335;&#12290;
                &#20363;&#22914;&#65292;&#22914;&#26524;&#25105;&#20204;&#22312;&#32531;&#23384;&#19968;&#20010;&#26174;&#31034;&#25991;&#26723;&#30340;&#39029;&#38754;&#29255;&#26029;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992; <tt class="literal">key="Document-#{document.id}"</tt>&#12290;
                </p></li><li><p>
                <tt class="literal">enabled</tt> &#8212; &#26159;&#19968;&#20010;&#20540;&#34920;&#36798;&#24335;&#65292;&#20915;&#23450;&#26159;&#21542;&#24212;&#35813;&#20351;&#29992;&#32531;&#23384;&#12290;
                </p></li><li><p>
                <tt class="literal">region</tt> &#8212; &#26159;&#19968;&#20010;&#35201;&#20351;&#29992;&#30340;JBoss Cache&#33410;&#28857;&#65288;&#19981;&#21516;&#30340;&#33410;&#28857;&#21487;&#20197;&#26377;&#19981;&#21516;&#30340;&#36807;&#26399;&#31574;&#30053;&#65289;&#12290;
                </p></li></ul></div><p><span class="emphasis"><em>Usage &#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:cache key="entry-#{blogEntry.id}" region="pageFragments"&gt;
  &lt;div class="blogEntry"&gt;
    &lt;h3&gt;#{blogEntry.title}&lt;/h3&gt;
    &lt;div&gt;
      &lt;s:formattedText value="#{blogEntry.body}"/&gt;
    &lt;/div&gt;
    &lt;p&gt;
      [Posted on&amp;#160;
      &lt;h:outputText value="#{blogEntry.date}"&gt;
        &lt;f:convertDateTime timezone="#{blog.timeZone}" locale="#{blog.locale}"
                           type="both"/&gt;
      &lt;/h:outputText&gt;]
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/s:cache&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:conversationId&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#23558;&#23545;&#35805;id&#28155;&#21152;&#21040;&#19968;&#20010;&#36755;&#20986;&#38142;&#25509;&#65288;&#25110;&#32773;&#31867;&#20284;&#30340;JSF&#25511;&#20214;&#65289;&#12290;<span class="emphasis"><em>&#21482;&#29992;&#20110;Facelets&#12290;</em></span>
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:conversationPropagation&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
              &#32473;&#19968;&#20010;&#21629;&#20196;&#38142;&#25509;&#25110;&#32773;&#25353;&#38062;&#23450;&#21046;&#23545;&#35805;&#20256;&#25773;&#65288;&#25110;&#32773;&#31867;&#20284;&#30340;JSF&#25511;&#20214;&#65289;&#12290;<span class="emphasis"><em>&#21482;&#29992;&#20110;Facelets&#12290;</em></span>
              </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
                  <tt class="literal">propagation</tt> &#8212; &#30830;&#23450;&#23545;&#35805;&#20256;&#25773;&#39118;&#26684;&#65307;<tt class="literal">begin</tt>&#12289;<tt class="literal">join</tt>&#12289;<tt class="literal">nest</tt>&#12289;<tt class="literal">none</tt> &#25110;&#32773; <tt class="literal">end</tt>&#12290;
                  </p></li><li><p>
                  <tt class="literal">pageflow</tt> &#8212; &#26159;&#19968;&#20010;&#36215;&#22987;&#39029;&#38754;&#27969;&#23450;&#20041;&#12290;
                  &#65288;&#36825;&#21482;&#22312; <tt class="literal">propagation="begin"</tt> &#25110;&#32773; <tt class="literal">propagation="join"</tt> &#30340;&#26102;&#20505;&#25165;&#26377;&#29992;&#12290;&#65289;
                  </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;h:commandButton value="Apply" action="#{personHome.update}"&gt;
  &lt;s:conversationPropagation type="join" /&gt;
&lt;/h:commandButton&gt;</pre></td></tr><tr><td valign="top"><p><tt class="literal">&lt;s:convertDateTime&gt;</tt></p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#22312;Seam&#30340;timezone&#20013;&#25191;&#34892;&#26085;&#26399;&#25110;&#32773;&#26102;&#38388;&#23545;&#35805;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;h:outputText value="#{item.orderDate}"&gt;
  &lt;s:convertDateTime type="both" dateStyle="full"/&gt;
&lt;/h:outputText&gt;</pre></td></tr><tr><td valign="top"><p><tt class="literal">&lt;s:convertEntity&gt;</tt></p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#32473;&#24403;&#21069;&#30340;&#32452;&#20214;&#20998;&#37197;&#19968;&#20010;&#23454;&#20307;&#36716;&#25442;&#22120;&#12290;&#36825;&#20027;&#35201;&#23545;&#21333;&#36873;&#25353;&#38062;&#21644;&#19979;&#25289;&#25511;&#20214;&#26377;&#29992;&#12290;
            </p><p>
            &#36716;&#25442;&#22120;&#20351;&#29992;&#20219;&#20309;&#20855;&#26377; <tt class="literal">@Id</tt> &#27880;&#35299;&#65288;&#31616;&#21333;&#30340;&#25110;&#32773;&#22797;&#21512;&#30340;&#65289;&#30340;&#21463;&#25511;&#23454;&#20307;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#37197;&#32622;</em></span></p><p>
            &#20320;&#24517;&#39035;&#36890;&#36807; <tt class="literal">&lt;s:convertEntity /&gt;</tt> &#20351;&#29992; <span class="emphasis"><em>Seam&#31649;&#29702;&#30340;&#20107;&#21153;</em></span>
			&#65288;&#35831;&#35265;<a href="#persistence.seam-managed-transactions" title="8.2.&nbsp;Seam&#31649;&#29702;&#30340;&#20107;&#21153;">Section&nbsp;8.2, &#8220;Seam&#31649;&#29702;&#30340;&#20107;&#21153;&#8221;</a>&#65289;
            </p><p>
            &#22914;&#26524;&#20320;&#30340; <span class="emphasis"><em>&#21463;&#25511;&#25345;&#20037;&#21270;&#19978;&#19979;&#25991;</em></span> &#19981;&#26159;&#31216;&#20316; <tt class="literal">entityManager</tt>&#65292;&#37027;&#20320;&#23601;&#38656;&#35201;&#22312; components.xml &#20013;&#35774;&#32622;&#23427;&#65306;
            </p><pre class="programlisting">&lt;component name="org.jboss.seam.ui.EntityConverter"&gt;
  &lt;property name="entityManager"&gt;#{em}&lt;/property&gt;
&lt;/component&gt;</pre><p>
            &#22914;&#26524;&#20320;&#24819;&#22312;&#23454;&#20307;&#36716;&#25442;&#22120;&#19978;&#20351;&#29992;&#19981;&#27490;&#19968;&#20010;&#23454;&#20307;&#31649;&#29702;&#22120;&#65292;&#20320;&#21487;&#20197;&#22312;componets.xml&#20013;&#20026;&#27599;&#19968;&#20010;&#23454;&#20307;&#31649;&#29702;&#22120;&#21019;&#24314;&#19968;&#20221;&#23454;&#20307;&#36716;&#25442;&#22120;&#12290;
            </p><pre class="programlisting">&lt;component name="myEntityConverter" class="org.jboss.seam.ui.converter.EntityConverter"&gt;
  &lt;property name="entityManager"&gt;#{em}&lt;/property&gt;
&lt;/component&gt;</pre><pre class="programlisting">&lt;h:selectOneMenu value="#{person.continent}"&gt;
  &lt;s:selectItems value="#{continents.resultList}" var="continent"
                 label="#{continent.name}" /&gt;
    &lt;f:converter converterId="myEntityConverter" /&gt;
&lt;/h:selectOneMenu&gt;</pre><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;h:selectOneMenu value="#{person.continent}" required="true"&gt;
  &lt;s:selectItems value="#{continents.resultList}" var="continent"
                 label="#{continent.name}"
                 noSelectionLabel="Please Select..."/&gt;
    &lt;s:convertEntity /&gt;
&lt;/h:selectOneMenu&gt;</pre></td></tr><tr><td valign="top"><p><tt class="literal">&lt;s:convertEnum&gt;</tt></p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#32473;&#24403;&#21069;&#30340;&#32452;&#20214;&#20998;&#37197;&#19968;&#20010;enum&#36716;&#25442;&#22120;&#12290;&#36825;&#20027;&#35201;&#23545;&#21333;&#36873;&#25353;&#38062;&#21644;&#19979;&#25289;&#25511;&#20214;&#26377;&#29992;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;h:selectOneMenu value="#{person.honorific}"&gt;
  &lt;s:selectItems value="#{honorifics}" var="honorific"
                 label="#{honorific.label}"
                 noSelectionLabel="Please select" /&gt;
  &lt;s:convertEnum /&gt;
&lt;/h:selectOneMenu&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:decorate&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#22312;&#39564;&#35777;&#22833;&#36133;&#25110;&#32773;&#35774;&#32622;&#20102; <tt class="literal">required="true"</tt> &#26102;&#65292;&#8220;&#35013;&#39280;&#8221;&#19968;&#20010;JSF&#36755;&#20837;&#22495;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">template</tt> &#8212; &#29992;&#26469;&#35013;&#39280;&#32452;&#20214;&#30340;Facelets&#27169;&#26495;&#12290;
                </p></li></ul></div><p>
            <tt class="literal">#{invalid}</tt> &#21644; <tt class="literal">#{required}</tt> &#21487;&#20197;&#22312; <tt class="literal">s:decorate</tt> &#20869;&#20351;&#29992;&#65307;
            &#22914;&#26524;&#20320;&#25353;&#35201;&#27714;&#35774;&#32622;&#20102;&#27491;&#34987;&#35013;&#39280;&#30340;&#36755;&#20837;&#32452;&#20214;&#65292;<tt class="literal">#{required}</tt> &#23601;&#21462;&#20540;&#20026; <tt class="literal">true</tt>&#65292;
            &#24182;&#19988;&#22914;&#26524;&#21457;&#29983;&#26657;&#39564;&#38169;&#35823;, <tt class="literal">#{invalid}</tt> &#21462;&#20540;&#20026; <tt class="literal">true</tt>&#12290;
            </p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:decorate template="edit.xhtml"&gt;
  &lt;ui:define name="label"&gt;Country:&lt;/ui:define&gt;
    &lt;h:inputText value="#{location.country}" required="true"/&gt;
  &lt;/s:decorate&gt;</pre><pre class="programlisting">&lt;ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:s="http://jboss.com/products/seam/taglib"&gt;

  &lt;div&gt;

    &lt;s:label styleClass="#{invalid?'error':''}"&gt;
      &lt;ui:insert name="label"/&gt;
      &lt;s:span styleClass="required" rendered="#{required}"&gt;*&lt;/s:span&gt;
    &lt;/s:label&gt;

    &lt;span class="#{invalid?'error':''}"&gt;
      &lt;s:validateAll&gt;
        &lt;ui:insert/&gt;
      &lt;/s:validateAll&gt;
    &lt;/span&gt;

    &lt;s:message styleClass="error"/&gt;

  &lt;/div&gt;

&lt;/ui:composition&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:div&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
             &#28210;&#26579;&#19968;&#20010;HTML<tt class="literal">&lt;div&gt;</tt>&#12290;
             </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:div rendered="#{selectedMember == null}"&gt;
  Sorry, but this member does not exist.
&lt;/s:div&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:enumItem&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
              &#20174;&#19968;&#20010;enum&#20540;&#20013;&#21019;&#24314;&#19968;&#20010; <tt class="literal">SelectItem</tt>&#12290;
              </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
                  <tt class="literal">enumValue</tt> &#8212; &#26159;enum&#20540;&#30340;&#23383;&#31526;&#20018;&#34920;&#31034;&#27861;&#12290;
                  </p></li><li><p>
                  <tt class="literal">label</tt> &#8212; &#22312;&#28210;&#26579; <tt class="literal">SelectItem</tt> &#26102;&#35201;&#20351;&#29992;&#30340;&#26631;&#31614;&#12290;
                  </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;h:selectOneRadio id="radioList"
                  layout="lineDirection"
                  value="#{newPayment.paymentFrequency}"&gt;
  &lt;s:convertEnum /&gt;
  &lt;s:enumItem enumValue="ONCE" label="Only Once" /&gt;
  &lt;s:enumItem enumValue="EVERY_MINUTE" label="Every Minute" /&gt;
  &lt;s:enumItem enumValue="HOURLY"       label="Every Hour" /&gt;
  &lt;s:enumItem enumValue="DAILY"        label="Every Day" /&gt;
  &lt;s:enumItem enumValue="WEEKLY"       label="Every Week" /&gt;
&lt;/h:selectOneRadio&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:fileUpload&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#28210;&#26579;&#19968;&#20010;&#25991;&#20214;&#19978;&#36733;&#25511;&#20214;&#12290;&#36825;&#20010;&#25511;&#20214;&#24517;&#39035;&#36890;&#36807;&#22312;form&#20013;&#20351;&#29992; <tt class="literal">multipart/form-data</tt> &#30340;&#32534;&#30721;&#31867;&#22411;&#65292;&#20363;&#22914;&#65306;
            </p><pre class="programlisting">&lt;h:form enctype="multipart/form-data"&gt;</pre><p>
            &#23545;&#20110;&#22810;&#37096;&#20998;&#35831;&#27714;&#65292;&#20063;&#24517;&#39035;&#22312; <tt class="literal">web.xml</tt> &#20013;&#37197;&#32622;Seam Multipart Servlet&#36807;&#28388;&#22120;&#65306;
            </p><pre class="programlisting">&lt;filter&gt;
  &lt;filter-name&gt;Seam Filter&lt;/filter-name&gt;
  &lt;filter-class&gt;org.jboss.seam.servlet.SeamFilter&lt;/filter-class&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
  &lt;filter-name&gt;Seam Filter&lt;/filter-name&gt;
  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</pre><p><span class="emphasis"><em>&#37197;&#32622;</em></span></p><p>
            &#19979;&#21015;&#22810;&#37096;&#20998;&#35831;&#27714;&#30340;&#37197;&#32622;&#36873;&#39033;&#21487;&#20197;&#22312; components.xml &#20013;&#36827;&#34892;&#37197;&#32622;&#65306;
            </p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">createTempFiles</tt> &#8212; &#22914;&#26524;&#36825;&#20010;&#36873;&#25321;&#35774;&#32622;&#20026;true&#65292;&#19978;&#36733;&#22909;&#30340;&#25991;&#20214;&#23601;&#27969;&#21521;&#19968;&#20010;&#20020;&#26102;&#25991;&#20214;&#65292;&#32780;&#19981;&#26159;&#27969;&#21521;&#20869;&#23384;&#12290;
                </p></li><li><p>
                <tt class="literal">maxRequestSize</tt> &#8212; &#20801;&#35768;&#19978;&#36733;&#25991;&#20214;&#30340;&#26368;&#22823;&#23383;&#33410;&#25968;&#12290;
                </p></li></ul></div><p>
            &#19979;&#38754;&#26159;&#19968;&#20010;&#20363;&#23376;&#65306;
            </p><pre class="programlisting">&lt;component class="org.jboss.seam.web.MultipartFilter"&gt;
  &lt;property name="createTempFiles"&gt;true&lt;/property&gt;
  &lt;property name="maxRequestSize"&gt;1000000&lt;/property&gt;
&lt;/component&gt;</pre><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">data</tt> &#8212; &#36825;&#20010;&#20540;&#32465;&#23450;&#25509;&#25910;&#20108;&#36827;&#21046;&#25991;&#20214;&#25968;&#25454;&#12290;
                &#25509;&#25910;&#22495;&#24212;&#35813;&#22768;&#26126;&#20026;&#19968;&#20010; <tt class="literal">byte[]</tt>  &#25110;&#32773; <tt class="literal">InputStream</tt> &#65288;&#24517;&#35201;&#65289;&#12290;
                </p></li><li><p>
                <tt class="literal">contentType</tt> &#8212; &#36825;&#20010;&#20540;&#32465;&#23450;&#25509;&#25910;&#25991;&#20214;&#30340;&#20869;&#23481;&#31867;&#22411;&#65288;&#21487;&#36873;&#65289;&#12290;
                </p></li><li><p>
                <tt class="literal">fileName</tt> &#8212; &#36825;&#20010;&#20540;&#32465;&#23450;&#25509;&#25910;&#30340;&#25991;&#20214;&#21517;&#65288;&#21487;&#36873;&#65289;&#12290;
                </p></li><li><p>
                <tt class="literal">fileSize</tt> &#8212; &#36825;&#20010;&#20540;&#32465;&#23450;&#25509;&#25910;&#30340;&#25991;&#20214;&#22823;&#23567;&#65288;&#21487;&#36873;&#65289;&#12290;
                </p></li><li><p>
                <tt class="literal">accept</tt> &#8212; &#21487;&#20197;&#25509;&#21463;&#30340;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#20869;&#23481;&#31867;&#22411;&#21015;&#34920;&#65292;&#21487;&#33021;&#27983;&#35272;&#22120;&#19981;&#25903;&#25345;&#12290;
                &#20363;&#22914; <tt class="literal">"images/png,images/jpg"</tt>&#12289;<tt class="literal">"images/"</tt>&#12290;
                </p></li><li><p>
                <tt class="literal">style</tt> &#8212; &#25511;&#20214;&#30340;&#26679;&#24335;&#65292;&#21363;CSS&#20043;&#31867;&#30340;
                </p></li><li><p>
                <tt class="literal">styleClass</tt> &#8212; &#25511;&#20214;&#30340;&#26679;&#24335;&#31867;
                </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:fileUpload id="picture" data="#{register.picture}"
              accept="image/png"
              contentType="#{register.pictureContentType}" /&gt;</pre></td></tr><tr><td valign="top"><p><tt class="literal">&lt;s:formattedText&gt;</tt></p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#36755;&#20986; <span class="emphasis"><em>Seam Text</em></span>&#65292;&#19968;&#31181;&#23500;&#25991;&#26412;&#26631;&#35760;&#65292;&#23545;&#20110;&#21338;&#23458;&#12289;Wiki&#21644;&#20854;&#20182;&#21487;&#33021;&#20351;&#29992;&#23500;&#25991;&#26412;&#30340;&#24212;&#29992;&#31243;&#24207;&#24456;&#26377;&#29992;&#12290;&#23436;&#25972;&#30340;&#29992;&#27861;&#35831;&#35265;Seam Text&#31456;&#33410;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">value</tt> &#8212; &#19968;&#20010;&#25351;&#23450;&#35201;&#28210;&#26579;&#30340;&#23500;&#25991;&#26412;&#26631;&#35760;&#30340;EL&#34920;&#36798;&#24335;&#12290;
                </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:formattedText value="#{blog.text}"/&gt;</pre><p><span class="emphasis"><em>&#23454;&#20363;</em></span></p><div class="mediaobject" align="center"><img src="images/controls-seamtext.png" align="middle"></div></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:validateFormattedText&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#26816;&#26597;&#25552;&#20132;&#30340;&#20540;&#26159;&#21542;&#21512;&#20046;Seam Text
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:fragment&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>&#19968;&#20010;&#38750;&#28210;&#26579;&#30340;&#32452;&#20214;&#65292;&#29992;&#20110;&#21551;&#29992;&#65295;&#21462;&#28040;&#23427;&#23376;&#32452;&#20214;&#30340;&#28210;&#26579;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:fragment rendered="#{auction.highBidder ne null}"&gt;
  Current bid:
&lt;/s:fragment&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:graphicImage&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#19968;&#20010;&#20801;&#35768;&#22312;Seam Component&#20013;&#21019;&#24314;&#22270;&#29255;&#30340;&#25193;&#23637;&#20102;&#30340; <tt class="literal">&lt;h:graphicImage&gt;</tt>&#65307;&#21487;&#20197;&#23545;&#22270;&#29255;&#36827;&#34892;&#36827;&#19968;&#27493;&#36716;&#25442;&#12290;
            </p><p>
            &#25903;&#25345; <tt class="literal">&lt;h:graphicImage&gt;</tt> &#30340;&#25152;&#26377;&#23646;&#24615;&#65292;&#20197;&#21450;&#65306;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
               <tt class="literal">value</tt> &#8212; &#35201;&#26174;&#31034;&#30340;&#22270;&#29255;&#12290;&#21487;&#20197;&#26159;&#19968;&#20010;&#36335;&#24452; <tt class="literal">String</tt>&#65288;&#20174;classpath&#21152;&#36733;&#65289;&#12289;
               <tt class="literal">byte[]</tt>&#12289;<tt class="literal">java.io.File</tt>&#12289;<tt class="literal">java.io.InputStream</tt> &#25110;&#32773; <tt class="literal">java.net.URL</tt>&#12290;
               &#30446;&#21069;&#25903;&#25345;&#30340;&#22270;&#29255;&#26684;&#24335;&#26377; <tt class="literal">image/png</tt>&#12289;<tt class="literal">image/jpeg</tt> &#21644; <tt class="literal">image/gif</tt>&#12290;
               </p></li><li><p>
               <tt class="literal">fileName</tt> &#8212; &#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#65292;&#22270;&#29255;&#23558;&#26377;&#19968;&#20010;&#36890;&#29992;&#30340;&#25991;&#20214;&#21517;&#12290;
               &#22914;&#26524;&#20320;&#24819;&#35201;&#33258;&#24049;&#32473;&#25991;&#20214;&#21629;&#21517;&#65292;&#23601;&#24212;&#35813;&#22312;&#36825;&#37324;&#25351;&#23450;&#12290;&#36825;&#20010;&#21517;&#31216;&#24212;&#35813;&#26159;&#21807;&#19968;&#30340;&#12290;
               </p></li></ul></div><p><span class="emphasis"><em>&#36716;&#25442;</em></span></p><p>
             &#20026;&#20102;&#32473;&#22270;&#29255;&#24212;&#29992;&#19968;&#31181;&#36716;&#25442;&#65292;&#20320;&#35201;&#23884;&#22871;&#19968;&#20010;&#25351;&#23450;&#35201;&#24212;&#29992;&#30340;&#36716;&#25442;&#30340;&#26631;&#31614;&#12290;Seam&#30446;&#21069;&#25903;&#25345;&#19979;&#38754;&#36825;&#20123;&#36716;&#25442;&#65306;
             </p><div class="variablelist"><dl><dt><span class="term"><tt class="literal">&lt;s:transformImageSize&gt;</tt> <tt class="literal">s:transformImageSize</tt></span></dt><dd><div class="itemizedlist"><ul type="disc"><li><p>
                      <tt class="literal">width</tt> &#8212; &#22270;&#29255;&#30340;&#26032;&#23485;&#24230;
                      </p></li><li><p>
                      <tt class="literal">height</tt> &#8212; &#22270;&#29255;&#30340;&#26032;&#39640;&#24230;
                      </p></li><li><p>
                      <tt class="literal">maintainRatio</tt> &#8212; &#22914;&#26524;&#20026; <tt class="literal">true</tt>&#65292;&#24182;&#19988;&#25351;&#23450;&#20102;&#20854;&#20013; <span class="emphasis"><em>&#19968;&#20010;</em></span>
                        <tt class="literal">width</tt>/<tt class="literal">height</tt>&#65292;&#22270;&#29255;&#23558;&#21033;&#29992;&#19981;&#30830;&#23450;&#30340;&#12289;&#27491;&#34987;&#35745;&#31639;&#29992;&#26469;&#32500;&#25345;&#32437;&#27178;&#27604;&#30340;&#23610;&#23544;&#35843;&#25972;&#22823;&#23567;&#12290;
                      </p></li><li><p>
                      <tt class="literal">factor</tt> &#8212; &#36890;&#36807;&#25351;&#23450;&#30340;&#27604;&#20363;&#32553;&#25918;&#22270;&#29255;
                      </p></li></ul></div></dd><dt><span class="term"><tt class="literal">&lt;s:transformImageBlur&gt;</tt></span></dt><dd><div class="itemizedlist"><ul type="disc"><li><p>
                      <tt class="literal">radius</tt> &#8212; &#21033;&#29992;&#25351;&#23450;&#30340;&#21322;&#24452;&#25191;&#34892;&#19968;&#20010;&#28176;&#21464;&#27169;&#31946;
                      </p></li></ul></div></dd><dt><span class="term"><tt class="literal">&lt;s:transformImageType&gt;</tt></span></dt><dd><div class="itemizedlist"><ul type="disc"><li><p>
                      <tt class="literal">contentType</tt> &#8212; &#23558;&#22270;&#29255;&#30340;&#31867;&#22411;&#21464;&#25104; <tt class="literal">image/jpeg</tt> &#25110;&#32773; <tt class="literal">image/png</tt>
                      </p></li></ul></div></dd></dl></div><p>
            &#21019;&#24314;&#20320;&#33258;&#24049;&#30340;&#36716;&#25442;&#24456;&#23481;&#26131;&#8212;&#8212;&#21019;&#24314;&#19968;&#20010; <tt class="literal">&#23454;&#29616;</tt> &#20102; <tt class="literal">org.jboss.seam.ui.graphicImage.ImageTransform</tt> &#30340; <tt class="literal">UIComponent</tt>&#12290;
            &#22312; <tt class="literal">applyTransform()</tt> &#26041;&#27861;&#20869;&#37096;&#20351;&#29992; <tt class="literal">image.getBufferedImage()</tt> &#26469;&#33719;&#24471;&#21407;&#22987;&#22270;&#29255;&#65292;&#29992; <tt class="literal">image.setBufferedImage()</tt> &#26469;&#35774;&#32622;&#20320;&#36716;&#25442;&#21518;&#30340;&#22270;&#29255;&#12290;&#36716;&#25442;&#20197;&#35270;&#22270;&#20013;&#25351;&#23450;&#30340;&#39034;&#24207;&#36827;&#34892;&#12290;
            </p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:graphicImage rendered="#{auction.image ne null}"
                value="#{auction.image.data}"&gt;
  &lt;s:transformImageSize width="200" maintainRatio="true"/&gt;
&lt;/s:graphicImage&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:link&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#36890;&#36807;&#25511;&#21046;&#23545;&#35805;&#20256;&#25773;&#25903;&#25345;&#21160;&#20316;&#35843;&#29992;&#30340;&#38142;&#25509;&#12290;<span class="emphasis"><em>&#19981;&#25552;&#20132;&#34920;&#21333;&#12290;</em></span>
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">value</tt> &#8212; &#26631;&#31614;&#12290;
                </p></li><li><p>
                <tt class="literal">action</tt> &#8212; &#25351;&#23450;&#21160;&#20316;&#30417;&#21548;&#32773;&#30340;&#19968;&#31181;&#26041;&#27861;&#32465;&#23450;&#12290;
                </p></li><li><p>
                <tt class="literal">view</tt> &#8212; &#38142;&#25509;&#30340;JSF view id&#12290;
                </p></li><li><p>
                <tt class="literal">fragment</tt> &#8212; &#38142;&#25509;&#30340;fragment&#26631;&#35782;&#31526;&#12290;
                </p></li><li><p>
                <tt class="literal">disabled</tt> &#8212; &#35813;&#38142;&#25509;&#22788;&#20110;&#21462;&#28040;&#29366;&#24577;&#21527;&#65311;
                </p></li><li><p>
                <tt class="literal">propagation</tt> &#8212; &#30830;&#23450;&#23545;&#35805;&#20256;&#25773;&#39118;&#26684;&#65306;<tt class="literal">begin</tt>&#12289;<tt class="literal">join</tt>&#12289;<tt class="literal">nest</tt>&#12289;<tt class="literal">none</tt> &#25110;&#32773; <tt class="literal">end</tt>&#12290;
                </p></li><li><p>
                <tt class="literal">pageflow</tt> &#8212; &#36215;&#22987;&#30340;&#39029;&#38754;&#27969;&#23450;&#20041;&#12290;
                &#65288;&#36825;&#21482;&#22312; <tt class="literal">propagation="begin"</tt> &#25110;&#32773; <tt class="literal">propagation="join"</tt>&#30340;&#26102;&#20505;&#25165;&#26377;&#29992;&#12290;&#65289;
                </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:link id="register" view="/register.xhtml"
        value="Register New User"/&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:message&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#8221;&#35013;&#39280;&#8220;&#19968;&#20010;&#21253;&#21547;&#39564;&#35777;&#20986;&#38169;&#28040;&#24687;&#30340;JSF&#36755;&#20837;&#22495;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;f:facet name="afterInvalidField"&gt;
  &lt;s:span&gt;
    &amp;#160;Error:&amp;#160;
    &lt;s:message/&gt;
  &lt;/s:span&gt;
&lt;/f:facet&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:label&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#35013;&#39280;&#19968;&#20010;&#21253;&#21547;&#26631;&#31614;&#30340;JSF&#36755;&#20837;&#22495;&#12290;&#36825;&#20010;&#26631;&#31614;&#25918;&#22312;HTML <tt class="literal">&lt;label&gt;</tt> &#26631;&#31614;&#20869;&#37096;&#65292;&#19988;&#19982;&#26368;&#36817;&#30340;JSF&#36755;&#20837;&#32452;&#20214;&#30456;&#20851;&#32852;&#12290;
            &#23427;&#32463;&#24120;&#19982; <tt class="literal">&lt;s:decorate&gt;</tt> &#20849;&#29992;&#12290;
            </p><p><span class="emphasis"><em>Attributes &#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">style</tt> &#8212; &#25511;&#20214;&#30340;&#26679;&#24335;
                </p></li><li><p>
                <tt class="literal">styleClass</tt> &#8212; &#25511;&#20214;&#30340;&#26679;&#24335;&#31867;
                </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:label styleClass="label"&gt;
  Country:
&lt;/s:label&gt;
&lt;h:inputText value="#{location.country}" required="true"/&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:remote&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#29992;Seam Remoting&#29983;&#25104;&#25152;&#38656;&#35201;&#30340;JavaScript&#23384;&#26681;&#65288;stub&#65289;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span>
&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;</p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">include</tt> &#8212; &#19968;&#20010;&#35201;&#20026;&#20854;&#29983;&#25104;Seam Remoting JavaScript &#23384;&#26681;&#30340;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#32452;&#20214;&#21517;&#21015;&#34920;&#65288;&#25110;&#32773;&#21512;&#27861;&#30340;&#20840;&#31867;&#21517;&#65289;&#12290;
                &#26356;&#22810;&#35814;&#24773;&#35831;&#35265; <a href="#remoting" title="Chapter&nbsp;21.&nbsp;Remoting">Chapter&nbsp;21, <i>Remoting</i></a>&#12290;
                </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:remote include="customerAction,accountAction,com.acme.MyBean"/&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:selectDate&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
              <span class="emphasis"><em>&#24050;&#34987;&#24223;&#24323;&#12290; &#29992; <tt class="literal">&lt;rich:calendar /&gt;</tt> &#20195;&#26367;&#12290;</em></span>
            </p><p>
            &#26174;&#31034;&#19968;&#20010;&#21160;&#24577;&#30340;&#26085;&#26399;&#36873;&#25321;&#22120;&#32452;&#20214;&#65292;&#23427;&#32473;&#25351;&#23450;&#30340;&#36755;&#20837;&#22495;&#36873;&#25321;&#26085;&#26399;&#12290;
            <tt class="literal">selectDate</tt> &#20803;&#32032;&#30340;&#20027;&#20307;&#24212;&#35813;&#21253;&#21547;HTML&#20803;&#32032;&#65292;&#20363;&#22914;&#25991;&#26412;&#25110;&#32773;&#22270;&#29255;&#65292;&#25552;&#31034;&#29992;&#25143;&#28857;&#20987;&#20197;&#26174;&#31034;&#26085;&#26399;&#36873;&#25321;&#22120;&#12290;
            &#26085;&#26399;&#36873;&#25321;&#22120; <span class="emphasis"><em>&#24517;&#39035;</em></span> &#21033;&#29992;CSS&#23450;&#20041;&#26679;&#24335;&#12290;
            &#21487;&#20197;&#22312;Seam booking demo&#20013;&#25214;&#21040;CSS&#33539;&#20363;&#25991;&#20214; <tt class="literal">date.css</tt> &#65292;&#25110;&#32773;&#21487;&#20197;&#21033;&#29992;seam-gen&#29983;&#25104;&#12290;
            &#29992;&#26469;&#25511;&#21046;&#26085;&#26399;&#36873;&#25321;&#22120;&#22806;&#35266;&#30340;CSS&#26679;&#24335;&#20063;&#22312;&#19979;&#38754;&#20570;&#20102;&#35828;&#26126;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">for</tt> &#8212; &#26085;&#26399;&#36873;&#25321;&#22120;&#35201;&#25226;&#36873;&#25321;&#30340;&#26085;&#26399;&#25554;&#20837;&#21040;&#20854;&#20013;&#30340;&#36755;&#20837;&#22495;&#30340;id&#12290;
                </p></li><li><p>
                <tt class="literal">dateFormat</tt> &#8212; &#26085;&#26399;&#26684;&#24335;&#30340;&#23383;&#31526;&#20018;&#12290;&#36825;&#24212;&#35813;&#19982;&#36755;&#20837;&#22495;&#30340;&#26085;&#26399;&#26684;&#24335;&#21305;&#37197;&#12290;
                </p></li><li><p>
                <tt class="literal">startYear</tt> &#8212; &#24377;&#20986;&#24180;&#36873;&#25321;&#22120;&#33539;&#22260;&#23558;&#20174;&#36825;&#19968;&#24180;&#24320;&#22987;&#12290;
                </p></li><li><p>
                <tt class="literal">endYear</tt> &#8212; &#24377;&#20986;&#24180;&#36873;&#25321;&#22120;&#33539;&#22260;&#23558;&#20174;&#36825;&#19968;&#24180;&#32456;&#27490;&#12290;
                </p></li><li><p>
                <tt class="literal">firstDayOfWeek</tt> &#8212; &#25511;&#21046;&#21738;&#19968;&#22825;&#26159;&#19968;&#21608;&#30340;&#31532;&#19968;&#22825;&#65288;0 = Sunday, 6 = Saturday&#65289;&#12290;
                &#22914;&#26524;&#27809;&#26377;&#35774;&#32622;&#36825;&#20010;&#23646;&#24615;&#65292;&#37027;&#20040;&#19968;&#21608;&#30340;&#31532;&#19968;&#22825;&#40664;&#35748;&#23558;&#22522;&#20110;&#29992;&#25143;&#25152;&#22312;&#30340;&#21306;&#22495;&#12290;
                </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><p>
              </p><pre class="programlisting">&lt;div class="row"&gt;
  &lt;h:outputLabel for="dob"&gt;Date of birth&lt;em&gt;*&lt;/em&gt;&lt;/h:outputLabel&gt;
  &lt;h:inputText id="dob" value="#{user.dob}" required="true"&gt;
    &lt;s:convertDateTime pattern="MM/dd/yyyy"/&gt;
  &lt;/h:inputText&gt;
  &lt;s:selectDate for="dob" startYear="1910" endYear="2007"&gt;
    &lt;img src="img/datepicker.png"/&gt;
  &lt;/s:selectDate&gt;
  &lt;div class="validationError"&gt;&lt;h:message for="dob"/&gt;&lt;/div&gt;
&lt;/div&gt;</pre><p>
            </p><p><span class="emphasis"><em>&#33539;&#20363;</em></span></p><div class="mediaobject" align="center"><img src="images/controls-selectdate.png" align="middle"></div><p><span class="emphasis"><em>CSS&#26679;&#24335;</em></span></p><p>
            &#20197;&#19979;&#21015;&#34920;&#25551;&#36848;&#20102;&#29992;&#26469;&#25511;&#21046;selectDate&#25511;&#20214;&#26679;&#24335;&#30340;CSS&#31867;&#21517;&#12290;
            </p><div class="itemizedlist"><ul type="disc"><li><p>
                <tt class="literal">seam-date</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#24377;&#20986;&#26085;&#21382;&#30340;&#22806;&#23618; <tt class="literal">div</tt>&#12290; (1)
                &#23427;&#36824;&#29992;&#20110;&#25511;&#21046;&#26085;&#21382;&#20869;&#37096;&#24067;&#23616;&#30340; <tt class="literal">table</tt>&#12290; (2)
                </p></li><li><p>
                <tt class="literal">seam-date-header</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#26085;&#21382;&#22836;&#34920;&#34892;&#65288;<tt class="literal">tr</tt>&#65289;&#21644;&#22836;&#34920;&#21333;&#20803;&#65288;<tt class="literal">td</tt>&#65289;&#12290; (3)
                </p></li><li><p>
                <tt class="literal">seam-date-header-prevMonth</tt> &#8212; &#29992;&#20110;&#8221;&#21069;&#19968;&#20010;&#26376;&#8220;&#34920;&#21333;&#20803;&#65288;<tt class="literal">td</tt>&#65289;&#65292;&#28857;&#20987;&#23427;&#26102;&#65292;&#23548;&#33268;&#26085;&#21382;&#26174;&#31034;&#24403;&#21069;&#26174;&#31034;&#30340;&#21069;&#19968;&#20010;&#26376;&#12290; (4)
                </p></li><li><p>
                <tt class="literal">seam-date-header-nextMonth</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#8221;&#19979;&#19968;&#20010;&#26376;&#8220;&#34920;&#21333;&#20803;&#65288;<tt class="literal">td</tt>&#65289;&#65292;&#28857;&#20987;&#23427;&#26102;&#65292;&#23548;&#33268;&#26085;&#21382;&#26174;&#31034;&#24403;&#21069;&#26174;&#31034;&#30340;&#19979;&#19968;&#20010;&#26376;&#12290; (5)
                </p></li><li><p>
                <tt class="literal">seam-date-headerDays</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21382;&#26085;header&#34892;&#65288;<tt class="literal">tr</tt>&#65289;&#65292;&#23427;&#21253;&#21547;&#20102;&#21608;&#26085;&#26399;&#30340;&#21517;&#31216;&#12290; (6)
                </p></li><li><p>
                <tt class="literal">seam-date-footer</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#26085;&#21382;&#30340;footer&#34892;&#65288;<tt class="literal">tr</tt>&#65289;&#65292;&#23427;&#26174;&#31034;&#24403;&#21069;&#26085;&#26399;&#12290; (7)
                </p></li><li><p>
                <tt class="literal">seam-date-inMonth</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#20102;&#24403;&#21069;&#26174;&#31034;&#26376;&#20221;&#20013;&#30340;&#19968;&#20010;&#26085;&#26399;&#30340;&#34920;&#21333;&#20803;(<tt class="literal">td</tt>)&#20803;&#32032;&#12290; (8)
                </p></li><li><p>
                <tt class="literal">seam-date-outMonth</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#20102;&#24403;&#21069;&#26174;&#31034;&#26376;&#20221;&#20043;&#22806;&#30340;&#19968;&#20010;&#26085;&#26399;&#30340;&#34920;&#21333;&#20803;&#65288;<tt class="literal">td</tt>&#65289;&#20803;&#32032;&#12290; (9)
                </p></li><li><p>
                <tt class="literal">seam-date-selected</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#24403;&#21069;&#36873;&#25321;&#26085;&#26399;&#30340;&#34920;&#21333;&#20803;<tt class="literal">td</tt>&#20803;&#32032;&#12290; (10)
                </p></li><li><p>
                <tt class="literal">seam-date-dayOff-inMonth</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#24403;&#21069;&#36873;&#25321;&#26376;&#20221;&#20043;&#20869;&#30340;&#8221;&#20241;&#20551;&#8220;&#26085;&#65288;&#20363;&#22914;&#21608;&#26411;&#65292;&#21608;&#20845;&#21644;&#21608;&#26085;&#65289;&#30340;&#34920;&#21333;&#20803;&#20803;&#32032;&#12290; (11)
                </p></li><li><p>
                <tt class="literal">seam-date-dayOff-outMonth</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#24403;&#21069;&#36873;&#25321;&#30340;&#26376;&#20221;&#20043;&#22806;&#30340;&#20241;&#20551;&#26085;&#65288;&#20363;&#22914;&#21608;&#26411;&#65292;&#21608;&#20845;&#21644;&#21608;&#26085;&#65289;&#30340;&#34920;&#21333;&#20803;&#20803;&#32032;&#12290; (12)
                </p></li><li><p>
                <tt class="literal">seam-date-hover</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#40736;&#26631;&#32463;&#36807;&#30340;&#34920;&#21333;&#20803;&#65288;<tt class="literal">td</tt>&#65289;&#20803;&#32032;&#12290; (13)
                </p></li><li><p>
                <tt class="literal">seam-date-monthNames</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#24377;&#20986;&#26376;&#20221;&#36873;&#25321;&#22120;&#30340; <tt class="literal">div</tt> &#25511;&#20214;&#12290; (14)
                </p></li><li><p>
                <tt class="literal">seam-date-monthNameLink</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#24377;&#20986;&#26376;&#20221;&#21517;&#31216;&#30340;anchor&#65288;<tt class="literal">a</tt>&#25511;&#20214;&#12290; (15)
                </p></li><li><p>
                <tt class="literal">seam-date-years </tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#24377;&#20986;&#24180;&#36873;&#25321;&#22120;&#30340;<tt class="literal">div</tt>&#25511;&#20214;&#12290; (16)
                </p></li><li><p>
                <tt class="literal">seam-date-yearLink</tt> &#8212; &#36825;&#20010;&#31867;&#29992;&#20110;&#21253;&#21547;&#24377;&#20986;&#24180;&#20221;&#30340;anchor&#65288;<tt class="literal">a</tt>&#65289;&#25511;&#20214;&#12290; (17)
                </p></li></ul></div><div class="mediaobject" align="center"><img src="images/controls-selectdatecss.png" align="middle"></div></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:selectItems&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
               &#20174;&#19968;&#20010;List&#12289;Set&#12289;DataModel&#25110;&#32773;Array&#20013;&#21019;&#24314;&#19968;&#20010; <tt class="literal">List&lt;SelectItem&gt;</tt> &#12290;
               </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">value</tt> &#8212; &#19968;&#20010;EL&#34920;&#36798;&#24335;&#65292;&#25351;&#23450;&#25903;&#25345; <tt class="literal">List&lt;SelectItem&gt;</tt> &#30340;&#25968;&#25454;&#65307;
                 </p></li><li><p>
                 <tt class="literal">var</tt> &#8212; &#23450;&#20041;&#36845;&#20195;&#26399;&#38388;&#20445;&#23384;&#24403;&#21069;&#23545;&#35937;&#30340;&#26412;&#22320;&#21464;&#37327;&#30340;&#21517;&#31216;&#12290;
                 </p></li><li><p>
                 <tt class="literal">label</tt> &#8212; &#28210;&#26579; <tt class="literal">SelectItem</tt> &#26102;&#35201;&#20351;&#29992;&#30340;&#26631;&#31614;&#12290;&#21487;&#20197;&#21442;&#32771; <tt class="literal">var</tt> &#21464;&#37327;&#12290;
                 </p></li><li><p>
                 <tt class="literal">disabled</tt> &#8212; &#22914;&#26524;&#20026;true&#65292;<tt class="literal">SelectItem</tt> &#23558;&#34987;&#21462;&#28040;&#28210;&#26579;&#12290;&#21487;&#20197;&#21442;&#32771; <tt class="literal">var</tt> &#21464;&#37327;&#12290;
                 </p></li><li><p>
                 <tt class="literal">noSelectionLabel</tt> &#8212; &#25351;&#23450;&#65288;&#21487;&#36873;&#65289;&#26631;&#31614;&#25918;&#22312;&#21015;&#34920;&#30340;&#39030;&#37096;&#65288;&#22914;&#26524;&#20063;&#25351;&#23450; <tt class="literal">required="true"</tt>&#65292;&#37027;&#20040;&#36873;&#25321;&#36825;&#20010;&#20540;&#23558;&#23548;&#33268;&#39564;&#35777;&#20986;&#38169;&#65289;&#12290;
                 </p></li><li><p>
                 <tt class="literal">hideNoSelectionLabel</tt> &#8212; &#22914;&#26524;&#20026;true&#65292;&#36873;&#25321;&#19968;&#20010;&#20540;&#26102;&#65292;<tt class="literal">noSelectionLabel</tt> &#23558;&#34987;&#38544;&#34255;&#12290;
                 </p></li></ul></div><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;h:selectOneMenu value="#{person.age}"
                 converter="#{converters.ageConverter}"&gt;
  &lt;s:selectItems value="#{ages}" var="age" label="#{age}" /&gt;
&lt;/h:selectOneMenu&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:span&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#28210;&#26579;&#19968;&#20010;HTML&#30340;<tt class="literal">&lt;span&gt;</tt>&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:span styleClass="required" rendered="#{required}"&gt;*&lt;/s:span&gt;</pre></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:taskId&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
              &#24403;&#20219;&#20309;&#21487;&#20197;&#36890;&#36807; <tt class="literal">#{task}</tt> &#20351;&#29992;&#30340;&#26102;&#20505;&#65292;&#23558;&#20219;&#20309;id&#28155;&#21152;&#21040;&#19968;&#20010;&#36755;&#20986;&#38142;&#25509;&#65288;&#25110;&#32773;&#31867;&#20284;&#30340;JSF&#25511;&#20214;&#65289;&#12290;<span class="emphasis"><em>&#21482;&#29992;&#20110;Facelets&#12290;</em></span>
              </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p></td></tr><tr><td valign="top"><p>
              <tt class="literal">&lt;s:validate&gt;</tt>
            </p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#19968;&#20010;&#38750;&#21487;&#35270;&#21270;&#30340;&#25511;&#20214;&#65292;&#21033;&#29992; Hibernate Validator &#23545;&#32465;&#23450;&#23646;&#24615;&#39564;&#35777;&#19968;&#20010;JSF&#36755;&#20837;&#22495;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;h:inputText id="userName" required="true"
             value="#{customer.userName}"&gt;
  &lt;s:validate /&gt;
&lt;/h:inputText&gt;
&lt;h:message for="userName" styleClass="error" /&gt;</pre></td></tr><tr><td valign="top"><p><tt class="literal">&lt;s:validateAll&gt;</tt> <tt class="literal">s:validateAll</tt></p></td><td valign="top"><p><span class="emphasis"><em>&#25551;&#36848;</em></span></p><p>
            &#19968;&#20010;&#38750;&#21487;&#35270;&#21270;&#30340;&#25511;&#20214;&#65292;&#21033;&#29992; Hibernate Validator &#23545;&#23427;&#20204;&#32465;&#23450;&#30340;&#23646;&#24615;&#39564;&#35777;&#25152;&#26377;&#30340;&#23376;JSF&#36755;&#20837;&#22495;&#12290;
            </p><p><span class="emphasis"><em>&#23646;&#24615;</em></span></p><p>&#26080;&#12290;</p><p><span class="emphasis"><em>&#29992;&#27861;</em></span></p><pre class="programlisting">&lt;s:validateAll&gt;
  &lt;div class="entry"&gt;
    &lt;h:outputLabel for="username"&gt;Username:&lt;/h:outputLabel&gt;
    &lt;h:inputText id="username" value="#{user.username}"
                 required="true"/&gt;
    &lt;h:message for="username" styleClass="error" /&gt;
  &lt;/div&gt;
  &lt;div class="entry"&gt;
    &lt;h:outputLabel for="password"&gt;Password:&lt;/h:outputLabel&gt;
    &lt;h:inputSecret id="password" value="#{user.password}"
                   required="true"/&gt;
    &lt;h:message for="password" styleClass="error" /&gt;
  &lt;/div&gt;
  &lt;div class="entry"&gt;
    &lt;h:outputLabel for="verify"&gt;Verify Password:&lt;/h:outputLabel&gt;
    &lt;h:inputSecret id="verify" value="#{register.verify}"
                   required="true"/&gt;
    &lt;h:message for="verify" styleClass="error" /&gt;
  &lt;/div&gt;
&lt;/s:validateAll&gt;</pre></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="controls.annotations"></a>29.2.&nbsp;&#27880;&#35299;</h2></div></div><div></div></div><p>
  &#20026;&#20102;&#20801;&#35768;&#20320;&#29992;Seam&#32452;&#20214;&#20316;&#20026;JSF&#36716;&#25442;&#22120;&#21644;&#39564;&#35777;&#22120;&#65292;Seam&#20063;&#25552;&#20379;&#27880;&#35299;&#65306;
  </p><div class="variablelist"><dl><dt><span class="term">
        <tt class="literal">@Converter</tt>
      </span></dt><dd><pre class="programlisting">
@Name("fooConverter")
@BypassInterceptors
@Converter
public class FooConverter implements Converter {

  @In EntityManager entityManager;

  @Transactional
  public Object getAsObject(FacesContext context, UIComponent cmp, String value) {
    EntityManager entityManager = (EntityManager) Component.getInstance("entityManager");
    entityManager.joinTransaction();
    // Do the conversion
  }

  public String getAsString(FacesContext context, UIComponent cmp, Object value) {
    // Do the conversion
  }

}</pre><p>
            &#23558;Seam&#32452;&#20214;&#27880;&#20876;&#20026;&#19968;&#20010;JSF&#36716;&#25442;&#22120;&#12290;&#36825;&#37324;&#23637;&#31034;&#30340;&#26159;&#65292;&#22312;&#23558;&#20540;&#36716;&#25442;&#22238;&#23427;&#30340;&#23545;&#35937;&#34920;&#31034;&#27861;&#30340;&#26102;&#20505;&#65292;&#33021;&#22815;&#35775;&#38382;JTA&#20107;&#21153;&#20013;&#30340;JPA EntityManager&#30340;&#36716;&#25442;&#22120;&#12290;
            </p></dd><dt><span class="term">
        <tt class="literal">@Validator</tt>
      </span></dt><dd><pre class="programlisting">
@Name("barValidator")
@BypassInterceptors
@Validator
public class BarValidator implements Validator {

  @In FooController fooController;

  public void validate(FacesContext context, UIComponent cmp, Object value)
    throws ValidatorException {
    FooController fooController = (FooController) Component.getInstance("fooController");
    return fooController.validate(value);
  }

}</pre><p>
            &#23558;Seam&#32452;&#20214;&#27880;&#20876;&#20026;&#19968;&#20010;JSF&#39564;&#35777;&#22120;&#12290;&#36825;&#37324;&#23637;&#31034;&#30340;&#26159;&#65292;&#19968;&#20010;&#27880;&#20837;&#21478;&#19968;&#20010;Seam&#32452;&#20214;&#30340;&#39564;&#35777;&#22120;&#65307;&#27880;&#20837;&#30340;&#32452;&#20214;&#29992;&#26469;&#39564;&#35777;&#20540;&#12290;
            </p></dd></dl></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="elenhancements"></a>Chapter&nbsp;30.&nbsp;&#34920;&#36798;&#24335;&#35821;&#35328;&#22686;&#24378;</h2></div></div><div></div></div><p>
	   	Seam&#25552;&#20379;&#20102;&#19968;&#20010;&#21487;&#25193;&#23637;&#26631;&#20934;&#32479;&#19968;&#34920;&#36798;&#35821;&#35328;&#65288;EL&#65289;&#34987;&#31216;&#20026;JBoss EL&#12290;JBoss EL&#25552;&#20379;&#20102;&#35768;&#22810;&#22686;&#24378;&#34920;&#36798;&#21644;&#26356;&#24378;&#30340;EL&#35821;&#35328;&#26041;&#38754;&#30340;&#21152;&#24378;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e19812"></a>30.1.&nbsp;&#21442;&#25968;&#26041;&#27861;&#32465;&#23450;</h2></div></div><div></div></div><p>
        	&#26631;&#20934;EL&#40664;&#35748;&#20219;&#20309;&#21442;&#25968;&#26041;&#27861;&#37117;&#26159;Java&#20195;&#30721;&#26041;&#24335;&#12290;&#36825;&#23601;&#24847;&#21619;&#30528;&#21442;&#25968;&#26041;&#27861;&#19981;&#33021;&#34987;JSF&#26041;&#24335;&#26469;&#20351;&#29992;&#12290;Seam&#25552;&#20379;&#20102;&#19968;&#20010;&#21152;&#24378;&#24335;&#30340;EL&#20801;&#35768;&#21442;&#25968;&#21253;&#21547;&#22312;&#34920;&#36798;&#24335;&#20013;&#26469;&#34920;&#36798;&#33258;&#24049;&#12290;
        	Seam&#25552;&#20379;&#30340; <span class="emphasis"><em>any</em></span> &#34920;&#36798;&#26041;&#27861;&#65292;&#21253;&#25324;&#20219;&#20309;JSF&#30340;&#32465;&#23450;&#12290;&#20363;&#22914;&#65306;
        </p><pre class="programlisting">&lt;h:commandButton action="#{hotelBooking.bookHotel(hotel)}" value="Book Hotel"/&gt;</pre><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19822"></a>30.1.1.&nbsp;&#29992;&#27861;</h3></div></div><div></div></div><p>
			  &#21442;&#25968;&#29992;&#25324;&#21495;&#34920;&#31034;&#65292;&#29992;&#36887;&#21495;&#20998;&#38548;&#65306;
			</p><pre class="programlisting">&lt;h:commandButton action="#{hotelBooking.bookHotel(hotel, user)}" value="Book Hotel"/&gt;</pre><p>
			     &#21442;&#25968; <tt class="literal">hotel</tt> &#21644; <tt class="literal">user</tt> &#20250;&#34987;&#20316;&#20026;&#20540;&#34920;&#36798;&#24335;&#35745;&#31639;&#65292;&#24182;&#20256;&#36882;&#21040;&#32452;&#20214;&#30340; <tt class="literal">bookHotel()</tt> &#26041;&#27861;&#20013;&#12290;&#36825;&#35753;&#20320;&#26377;&#20102; <tt class="literal">@In</tt> &#30340;&#26367;&#20195;&#26041;&#27861;&#12290;
			</p><p>&#20219;&#20309;&#20540;&#34920;&#36798;&#24335;&#37117;&#21487;&#20197;&#29992;&#20316;&#21442;&#25968;&#65306;</p><pre class="programlisting">&lt;h:commandButton action="#{hotelBooking.bookHotel(hotel.id, user.username)}"
                 value="Book Hotel"/&gt;</pre><p>
            	<span class="emphasis"><em>&#27880;&#24847;&#65306;</em></span> &#20320;&#19981;&#33021;&#36890;&#36807;&#23545;&#35937;&#30340;&#26041;&#24335;&#26469;&#34920;&#36848;&#65281;&#25152;&#26377;&#30340;&#37117;&#35201;&#26159;&#26159;&#30452;&#25509;&#30340;&#21517;&#31216;&#65292;&#20363;&#22914;&#65292;<tt class="literal">hotel.id</tt> &#21644; <tt class="literal">user.username</tt>&#12290;
            	&#22914;&#26524;&#20320;&#26597;&#30475;&#19979;&#20808;&#21069;&#30340;&#20195;&#30721;&#65292;&#20320;&#23558;&#21487;&#20197;&#30475;&#21040;&#25353;&#38062;&#21629;&#20196;&#21253;&#25324;&#36825;&#20123;&#21517;&#31216;&#12290;&#24403;&#20320;&#35302;&#21457;&#25353;&#38062;&#20107;&#20214;&#30340;&#26102;&#20505;&#65292;&#36825;&#20123;&#21517;&#31216;&#30340;&#34920;&#36848;&#23558;&#34987;&#25552;&#20132;&#21040;&#26381;&#21153;&#22120;&#31471;&#65292;Seam&#23558;&#22312;action&#35843;&#29992;&#21069;&#26469;&#26597;&#35810;&#36825;&#20123;&#25552;&#20132;&#36807;&#26469;&#30340;&#21517;&#31216;&#65288;&#22312;&#20219;&#20309;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;&#30340;&#19978;&#19979;&#25991;&#20013;&#65289;&#12290;
            	&#22914;&#26524;&#36825;&#20123;&#21517;&#31216;&#34920;&#36848;&#26080;&#27861;&#22312;&#37027;&#26102;&#21051;&#24471;&#21040;&#65288;&#22240;&#20026; <tt class="literal">hotel</tt> &#21644; <tt class="literal">user</tt> &#21464;&#37327;&#19981;&#33021;&#22312;&#20219;&#20309;&#24212;&#29992;&#31243;&#24207;&#30340;&#19978;&#19979;&#25991;&#20013;&#25214;&#21040;&#65289;&#65292;action&#26041;&#27861;&#23558;&#36820;&#22238;&#19968;&#20010; <tt class="literal">null</tt> &#34920;&#36848;&#65281;
            </p><p>
				&#20320;&#29978;&#33267;&#21487;&#20197;&#20256;&#36882;&#21253;&#21547;&#26377;&#21333;&#24341;&#21495;&#25110;&#21452;&#24341;&#21495;&#30340;&#23383;&#31526;&#20018;:
			</p><pre class="programlisting">&lt;h:commandLink action="#{printer.println('Hello world!')}" value="Hello"/&gt;</pre><pre class="programlisting">&lt;h:commandLink action="#{printer.println('Hello again')} value="Hello"/&gt;</pre><p>
			  	&#20320;&#21487;&#33021;&#36824;&#24819;&#25226;&#36825;&#31181;&#26631;&#35760;&#29992;&#22312;&#20320;&#25152;&#26377;&#30340;action&#26041;&#27861;&#19978;&#65292;&#19981;&#31649;&#20182;&#20204;&#26159;&#19981;&#26159;&#38656;&#35201;&#20256;&#36882;&#21442;&#25968;&#12290;&#36825;&#20063;&#33021;&#25552;&#39640;&#31243;&#24207;&#30340;&#21487;&#35835;&#24615;&#65292;&#26126;&#30830;&#34920;&#26126;&#36825;&#26159;&#26041;&#27861;&#34920;&#36798;&#24335;&#32780;&#38750;&#20540;&#34920;&#36798;&#24335;&#65306;
			</p><pre class="programlisting">&lt;s:link value="Cancel" action="#{hotelBooking.cancel()}"/&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19877"></a>30.1.2.&nbsp;&#38480;&#21046;</h3></div></div><div></div></div><p>&#35831;&#27880;&#24847;&#20197;&#19979;&#30340;&#38480;&#21046;&#65306;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e19882"></a>30.1.2.1.&nbsp;&#19982;JSP 2.1&#19981;&#20860;&#23481;</h4></div></div><div></div></div><p>
					&#36825;&#19968;&#25193;&#23637;&#30446;&#21069;&#19981;&#20860;&#23481;JSP 2.1&#12290;&#22240;&#27492;&#22914;&#26524;&#20320;&#24076;&#26395;&#23558;&#36825;&#19968;&#25193;&#23637;&#29992;&#20110;JSF 1.2&#65292;&#20320;&#24517;&#39035;&#20351;&#29992;Facelets&#12290;&#30446;&#21069;&#36825;&#19968;&#25193;&#23637;&#22312;JSP 2.0&#19979;&#36816;&#20316;&#27491;&#24120;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e19887"></a>30.1.2.2.&nbsp;&#20174;Java&#20195;&#30721;&#20013;&#35843;&#29992; <tt class="literal">MethodExpression</tt>
				</h4></div></div><div></div></div><p>
					&#19968;&#33324;&#32780;&#35328;&#65292;<tt class="literal">MethodExpression</tt> &#25110; <tt class="literal">MethodBinding</tt> &#34987;&#21019;&#24314;&#21518;&#65292;&#21442;&#25968;&#26159;&#36890;&#36807;JSF&#20256;&#36882;&#30340;&#12290;
					&#22914;&#26524;&#26159;&#26041;&#27861;&#32465;&#23450;,JSF&#20551;&#35774;&#19981;&#20250;&#20256;&#36882;&#21442;&#25968;&#12290;&#20351;&#29992;&#36825;&#20010;&#25193;&#23637;&#30340;&#35805;&#65292;&#25105;&#20204;&#30452;&#21040;&#34920;&#36798;&#24335;&#34987;&#35745;&#31639;&#21069;&#65292;&#37117;&#26080;&#27861;&#30693;&#36947;&#21442;&#25968;&#31867;&#22411;&#12290;&#36825;&#23601;&#24102;&#26469;&#20004;&#20010;&#23567;&#30340;&#21103;&#20316;&#29992;&#65306;
				</p><div class="itemizedlist"><ul type="disc"><li><p>
							&#22312;Java&#20195;&#30721;&#20013;&#35843;&#29992; <tt class="literal">MethodExpression</tt>&#65292;&#20320;&#20256;&#36882;&#30340;&#21442;&#25968;&#21487;&#33021;&#34987;&#24573;&#30053;&#12290;&#23450;&#20041;&#22312;&#34920;&#36798;&#24335;&#20013;&#30340;&#21442;&#25968;&#34987;&#20248;&#20808;&#22788;&#29702;&#12290;
						</p></li><li><p>
							&#36890;&#24120;&#65292;&#22312;&#20219;&#20309;&#26102;&#38388;&#35843;&#29992; <tt class="literal">methodExpression.getMethodInfo().getParamTypes()</tt> &#37117;&#26159;&#23433;&#20840;&#30340;&#12290;
							&#20294;&#23545;&#20110;&#21547;&#26377;&#21442;&#25968;&#30340;&#34920;&#36798;&#24335;&#65292;&#20320;&#24517;&#39035;&#20808;&#35843;&#29992; <tt class="literal">MethodExpression</tt>&#65292;&#25165;&#33021;&#35843;&#29992; <tt class="literal">getParamTypes()</tt>&#12290;
						</p></li></ul></div><p>
					&#20197;&#19978;&#20004;&#31181;&#24773;&#20917;&#37117;&#21313;&#20998;&#32597;&#35265;&#65292;&#32780;&#19988;&#21482;&#21457;&#29983;&#22312;&#20320;&#22312;Java&#20195;&#30721;&#20013;&#25163;&#21160;&#35843;&#29992; <tt class="literal">MethodExpression</tt> &#30340;&#26102;&#20505;&#12290;
				</p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e19925"></a>30.2.&nbsp;&#21442;&#25968;&#20540;&#32465;&#23450;</h2></div></div><div></div></div><p>
        	&#26631;&#20934;EL&#20165;&#20801;&#35768;&#35775;&#38382;&#23646;&#24615;&#36825;&#20010;&#25104;&#20102;JavaBean&#21629;&#21517;&#30340;&#32422;&#23450;&#12290;&#20363;&#22914;&#65292;&#34920;&#36798;&#24335; <tt class="literal">#{person.name}</tt> &#35201;&#27714; <tt class="literal">getName()</tt> &#34920;&#31034;&#24403;&#21069;&#30340;&#20540;&#12290;
        	&#28982;&#32780;&#35768;&#22810;&#30340;&#23545;&#35937;&#21364;&#27809;&#26377;&#24688;&#24403;&#30340;&#21629;&#21517;&#23646;&#24615;&#25110;&#32773;&#21442;&#25968;&#12290;&#36825;&#20123;&#20540;&#33021;&#34987;&#20351;&#29992;&#30340;&#26041;&#27861;&#26469;&#35843;&#29992;&#65292;&#36825;&#20010;&#23601;&#21644;&#21442;&#25968;&#26041;&#27861;&#32465;&#23450;&#24456;&#30456;&#20284;&#12290;&#20363;&#22914;&#65292;&#19979;&#38754;&#34920;&#36798;&#24335;&#23601;&#26159;&#20351;&#29992; <tt class="literal">length()</tt> &#26041;&#27861;&#36820;&#22238;&#19968;&#20010;&#23383;&#31526;&#20018;&#30340;&#22823;&#23567;&#12290;
        </p><pre class="programlisting">#{person.name.length()}</pre><p>
        &#20320;&#21487;&#20197;&#36890;&#36807;&#19968;&#20010;&#30456;&#31867;&#20284;&#30340;&#26041;&#27861;&#26469;&#35775;&#38382;&#19968;&#20010;&#38598;&#21512;&#30340;&#22823;&#23567;&#12290;
		</p><pre class="programlisting">#{searchResults.size()}</pre><p>
			&#22312;&#19968;&#33324;&#30340; form #{obj.property} &#34920;&#36798;&#24335;&#20013;&#21487;&#20197;&#31561;&#21516;&#20110;&#34920;&#36798;&#24335; #{obj.getProperty()}&#12290;
		</p><p>
        	&#24403;&#28982;&#21442;&#25968;&#30340;&#26041;&#24335;&#20063;&#26159;&#20801;&#35768;&#30340;&#65292;&#21482;&#35201;&#25353;&#29031;&#21516;&#26679;&#38480;&#21046;&#30340;&#26041;&#27861;&#26469;&#32465;&#23450;&#26159;&#19968;&#26679;&#30340;&#12290;
        	&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#23601;&#26159;&#36890;&#36807;&#25991;&#23383;&#23383;&#31526;&#20018;&#35843;&#29992; <tt class="literal">productsByColorMethod</tt> &#30340;&#12290;
        </p><pre class="programlisting">#{controller.productsByColor('blue')}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e19954"></a>30.3.&nbsp;&#26144;&#23556;</h2></div></div><div></div></div><p>
        	JBoss EL&#25903;&#25345;&#26377;&#38480;&#30340;&#26144;&#23556;&#35821;&#27861;&#12290;&#36825;&#37324;&#35201;&#24378;&#35843;&#30340;&#19968;&#28857;&#23601;&#26159;&#36825;&#20010;&#35821;&#27861;&#19981;&#33021;&#34987;Facelets&#25110;&#32773;JSP&#35299;&#26512;&#20063;&#19981;&#33021;&#22312;xhtml&#25110;&#32773;JSP&#20013;&#20351;&#29992;&#12290;
        	&#25105;&#20204;&#26399;&#24453;&#22312;&#19979;&#19968;&#20010;JBoss EL&#29256;&#26412;&#20013;projection&#35821;&#27861;&#20013;&#23558;&#24471;&#21040;&#25913;&#21464;&#12290;
        </p><p>
        	&#26144;&#23556;&#34920;&#36798;&#24335;&#26159;&#36890;&#36807;&#22810;&#20540;&#65288;list, set&#31561;&#31561;&#65289;&#34920;&#36798;&#24335;&#26469;&#20307;&#29616;&#19968;&#20010;&#23376;&#34920;&#36798;&#24335;&#30340;&#12290;&#20363;&#22914;&#65292;&#34920;&#36798;&#24335;&#65306;
        </p><pre class="programlisting">#{company.departments}</pre><p>
        	&#21487;&#20197;&#36820;&#22238;&#19968;&#20010;department&#30340;list&#38598;&#21512;&#12290;&#22914;&#26524;&#20320;&#20165;&#38656;&#35201;department name&#30340;&#38598;&#21512;&#65292;&#37027;&#20040;&#20320;&#30340;&#36873;&#39033;&#23601;&#35201;&#36890;&#36807;&#36941;&#21382;&#36845;&#20195;&#30340;&#26041;&#24335;&#26469;&#33719;&#21462;&#20540;&#12290;JBoss EL&#25903;&#25345;&#36825;&#26679;&#19968;&#20010;&#26144;&#23556;&#34920;&#36798;&#24335;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.name}}</pre><p>
        	&#23376;&#34920;&#36798;&#24335;&#34987;&#22823;&#25324;&#21495;{}&#21253;&#22260;&#36215;&#26469;&#12290;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#34920;&#36798;&#24335; <tt class="literal">d.name</tt> &#26159;&#36941;&#21382;&#24471;&#21040;&#30340;&#27599;&#20010;department&#20540;&#65292;&#20351;&#29992; <tt class="literal">d</tt> &#20316;&#20026;department&#23545;&#35937;&#30340;&#21035;&#21517;&#12290;
        	&#36825;&#20010;&#34920;&#36798;&#24335;&#30340;&#32467;&#26524;&#26159;&#19968;&#20010;String&#20540;&#30340;&#38598;&#21512;&#12290;
        </p><p>
        	&#20219;&#20309;&#19968;&#20010;&#26377;&#25928;&#34920;&#36798;&#24335;&#30340;&#37117;&#21487;&#20197;&#22312;&#34920;&#36798;&#24335;&#20013;&#20351;&#29992;&#12290;&#20551;&#22914;&#20320;&#24819;&#30693;&#36947;&#22312;&#20844;&#21496;&#25152;&#26377;department&#65288;&#37096;&#38376;&#65289;&#20010;&#25968;&#30340;&#26102;&#20505;&#65292;&#19979;&#38754;&#23427;&#23601;&#21487;&#20197;&#24456;&#22909;&#39564;&#35777;&#20070;&#20889;&#27491;&#30830;&#24615;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.size()}}</pre><p>
        	&#26144;&#23556;&#21487;&#20197;&#34987;&#23884;&#22871;&#12290;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#36820;&#22238;&#30340;&#23601;&#26159;&#22312;&#27599;&#20010;department&#27599;&#20010;&#38599;&#21592;&#30340;&#21517;&#23383;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.employees.{emp|emp.lastName}}}</pre><p>
        	&#23884;&#22871;&#26144;&#23556;&#26377;&#26102;&#21487;&#33021;&#26377;&#28857;&#26840;&#25163;&#65292;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#23601;&#26159;&#36820;&#22238;&#19968;&#20010;&#25152;&#26377;department&#25152;&#26377;employee&#30340;&#38598;&#21512;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.employees}}</pre><p>
        	&#20294;&#26159;&#65292;&#23427;&#23454;&#38469;&#19978;&#35201;&#36820;&#22238;&#21333;&#20010;department&#25152;&#26377;employee&#65288;&#38599;&#21592;&#65289;&#30340;&#38598;&#21512;&#12290;&#20026;&#20102;&#21516;&#26102;&#20855;&#26377;&#36825;&#20010;&#20540;&#65292;&#23427;&#36824;&#38656;&#35201;&#19968;&#20010;&#31245;&#24494;&#38271;&#28857;&#30340;&#34920;&#36798;&#24335;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.employees.{e|e}}}</pre></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="testing"></a>Chapter&nbsp;31.&nbsp;&#27979;&#35797;Seam&#24212;&#29992;&#31243;&#24207;</h2></div></div><div></div></div><p>
		&#22823;&#37096;&#20998;&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#33267;&#23569;&#38656;&#35201;&#20004;&#31181;&#31867;&#22411;&#30340;&#33258;&#21160;&#27979;&#35797;&#65306;
		<span class="emphasis"><em>&#21333;&#20803;&#27979;&#35797;&#65288;unit test&#65289;</em></span> &#26159;&#38548;&#31163;&#27979;&#35797;&#29305;&#23450;&#30340;Seam&#32452;&#20214;&#65292;&#21644;&#33050;&#26412;&#21270;&#30340; <span class="emphasis"><em>&#38598;&#25104;&#27979;&#35797;&#65288;integration test&#65289;</em></span> &#26159;&#32508;&#21512;&#22320;&#27979;&#35797;&#24212;&#29992;&#20013;&#25152;&#26377;&#30340;Java&#23618;&#38754;&#65288;&#21363;&#38500;&#20102;&#34920;&#29616;&#23618;&#20043;&#22806;&#30340;&#25152;&#26377;&#20869;&#23481;&#65289;&#12290;
	</p><p>
	   &#20004;&#31181;&#31867;&#22411;&#30340;&#27979;&#35797;&#37117;&#24456;&#23481;&#26131;&#32534;&#20889;&#12290;
	</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e20004"></a>31.1.&nbsp;Seam&#32452;&#20214;&#30340;&#21333;&#20803;&#27979;&#35797;</h2></div></div><div></div></div><p>
		&#25152;&#26377;&#30340;Seam&#32452;&#20214;&#37117;&#26159;&#31616;&#21333;Java&#23545;&#35937;&#65288;POJO&#65289;&#12290;&#22914;&#26524;&#20320;&#24819;&#31616;&#21270;&#21333;&#20803;&#27979;&#35797;&#65292;&#37027;&#20040;&#36825;&#26159;&#20010;&#26497;&#22909;&#30340;&#24320;&#31471;&#65292;&#32780;&#19988;Seam&#23558;&#20854;&#37325;&#28857;&#25918;&#22312;&#32452;&#20214;&#38388;&#20132;&#20114;&#30340;&#21452;&#21521;&#27880;&#20837;&#21644;&#19978;&#19979;&#25991;&#23545;&#35937;&#30340;&#35775;&#38382;&#19978;&#65292;&#36825;&#20351;&#24471;Seam&#30340;&#32452;&#20214;&#22312;&#33073;&#31163;&#20854;&#27491;&#24120;&#36816;&#34892;&#29615;&#22659;&#26102;&#65292;&#20063;&#21487;&#20197;&#24456;&#23481;&#26131;&#22320;&#34987;&#27979;&#35797;&#12290;
		</p><p>
		    &#24605;&#32771;&#22914;&#19979;&#30340;Seam&#32452;&#20214;&#65306;
		</p><pre class="programlisting">@Stateless
@Scope(EVENT)
@Name("register")
public class RegisterAction implements Register
{
   private User user;
   private EntityManager em;

   @In
   public void setUser(User user) {
       this.user = user;
   }

   @PersistenceContext
   public void setBookingDatabase(EntityManager em) {
       this.em = em;
   }

   public String register()
   {
      List existing = em.createQuery("select username from User where username=:username")
         .setParameter("username", user.getUsername())
         .getResultList();
      if (existing.size()==0)
      {
         em.persist(user);
         return "success";
      }
      else
      {
         return null;
      }
   }

}</pre><p>
            &#27979;&#35797;&#19978;&#36848;&#32452;&#20214;&#30340;TestNG&#27979;&#35797;&#22914;&#19979;&#65306;
        </p><pre class="programlisting">public class RegisterActionTest
{

    @Test
    public testRegisterAction()
    {
        EntityManager em = getEntityManagerFactory().createEntityManager();
        em.getTransaction().begin();

        User gavin = new User();
        gavin.setName("Gavin King");
        gavin.setUserName("1ovthafew");
        gavin.setPassword("secret");

        RegisterAction action = new RegisterAction();
        action.setUser(gavin);
        action.setBookingDatabase(em);

        assert "success".equals( action.register() );

        em.getTransaction().commit();
        em.close();
    }


    private EntityManagerFactory emf;

    public EntityManagerFactory getEntityManagerFactory()
    {
        return emf;
    }

    @BeforeClass
    public void init()
    {
        emf = Persistence.createEntityManagerFactory("myResourceLocalEntityManager");
    }

    @AfterClass
    public void destroy()
    {
        emf.close();
    }
    
}
</pre><p>
            Java Persistence API&#21487;&#20197;&#19982;Java SE&#21644;Java EE&#19968;&#36215;&#20351;&#29992; &#8212; &#24403;&#19978;&#36848;&#32452;&#20214;&#22312;&#24212;&#29992;&#26381;&#21153;&#22120;&#65288;Java EE&#65289;&#20013;&#20351;&#29992;&#26102;&#65292;&#30001;&#23481;&#22120;&#26469;&#36127;&#36131;&#20107;&#21153;&#31649;&#29702;&#65307;&#28982;&#32780;&#65292;&#22312;&#21333;&#20803;&#27979;&#35797;&#65288;Java SE&#65289;&#37324;&#65292;&#20107;&#21153;&#24517;&#39035;&#26174;&#24335;&#22320;&#20351;&#29992;&#26412;&#22320;&#36164;&#28304;&#23454;&#20307;&#31649;&#29702;&#22120;&#26469;&#36827;&#34892;&#31649;&#29702;&#12290;
            &#36825;&#35201;&#27714;&#22312; <tt class="literal">persistence.xml</tt> &#36827;&#34892;&#37197;&#32622;&#12290;
       </p><p>
			Seam&#30340;&#32452;&#20214;&#36890;&#24120;&#19981;&#30452;&#25509;&#20381;&#36182;&#20110;&#23481;&#22120;&#30340;&#22522;&#30784;&#35774;&#26045;&#65292;&#22240;&#27492;&#22823;&#37096;&#20998;&#30340;&#21333;&#20803;&#27979;&#35797;&#36319;&#19978;&#36848;&#19968;&#26679;&#23481;&#26131;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e20024"></a>31.2.&nbsp;Seam&#32452;&#20214;&#30340;&#38598;&#25104;&#27979;&#35797;</h2></div></div><div></div></div><p>
		&#30456;&#27604;&#21333;&#20803;&#27979;&#35797;&#65292;&#38598;&#25104;&#27979;&#35797;&#26377;&#31245;&#35768;&#30340;&#38590;&#24230;&#12290;&#22312;&#36825;&#37324;&#65292;&#25105;&#20204;&#19981;&#33021;&#20877;&#23545;&#23481;&#22120;&#30340;&#22522;&#30784;&#35774;&#26045;&#35270;&#32780;&#19981;&#35265;&#65292;&#30456;&#21453;&#36825;&#20063;&#27491;&#26159;&#38656;&#35201;&#27979;&#35797;&#30340;&#19968;&#37096;&#20998;&#65281;
		&#21516;&#26102;&#65292;&#25105;&#20204;&#20063;&#19981;&#24819;&#24378;&#21046;&#22320;&#23558;&#25105;&#20204;&#30340;&#24212;&#29992;&#31243;&#24207;&#37096;&#32626;&#21040;&#24212;&#29992;&#26381;&#21153;&#22120;&#19978;&#26469;&#36816;&#34892;&#36825;&#20123;&#33258;&#21160;&#21270;&#27979;&#35797;&#12290;
		&#37027;&#20040;&#20026;&#20102;&#33021;&#20840;&#38754;&#22320;&#27979;&#35797;&#25105;&#20204;&#30340;&#24212;&#29992;&#31243;&#24207;&#65292;&#19988;&#22312;&#19981;&#25439;&#22833;&#22826;&#22810;&#24615;&#33021;&#30340;&#26465;&#20214;&#19979;&#65292;&#25105;&#20204;&#38656;&#35201;&#22312;&#27979;&#35797;&#29615;&#22659;&#20013;&#20877;&#36896;&#24517;&#35201;&#30340;&#23481;&#22120;&#22522;&#30784;&#35774;&#26045;&#12290;
        </p><p>
			&#22240;&#27492;Seam&#37319;&#21462;&#30340;&#26041;&#27861;&#26159;&#22312;&#19968;&#20010;&#32463;&#20462;&#21098;&#36807;&#30340;&#23481;&#22120;&#29615;&#22659;&#20013;&#65288;Seam&#65292;&#20197;&#21450;&#23884;&#20837;&#24335;&#30340;JBoss&#23481;&#22120;&#65292;&#38656;&#35201;JDK 1.5&#24182;&#19988;&#19981;&#25903;&#25345;JDK 1.6&#65289;&#32534;&#20889;&#27979;&#35797;&#29992;&#20363;&#26469;&#27979;&#35797;&#20320;&#30340;&#32452;&#20214;&#12290;
        </p><pre class="programlisting">public class RegisterTest extends SeamTest
{

   @Test
   public void testRegisterComponent() throws Exception
   {

      new ComponentTest() {

         protected void testComponents() throws Exception
         {
            setValue("#{user.username}", "1ovthafew");
            setValue("#{user.name}", "Gavin King");
            setValue("#{user.password}", "secret");
            assert invokeMethod("#{register.register}").equals("success");
            assert getValue("#{user.username}").equals("1ovthafew");
            assert getValue("#{user.name}").equals("Gavin King");
            assert getValue("#{user.password}").equals("secret");
         }

      }.run();

   }

   ...

}</pre><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20033"></a>31.2.1.&nbsp;&#22312;&#38598;&#25104;&#27979;&#35797;&#20013;&#20351;&#29992;Mock&#23545;&#35937;</h3></div></div><div></div></div><p>
				&#26377;&#26102;&#20505;&#65292;Seam&#30340;&#19968;&#20123;&#32452;&#20214;&#25152;&#20381;&#36182;&#30340;&#36164;&#28304;&#22312;&#38598;&#25104;&#27979;&#35797;&#29615;&#22659;&#20013;&#27809;&#26377;&#65292;&#37027;&#20040;&#25105;&#20204;&#38656;&#35201;&#26367;&#25442;&#36825;&#20123;&#32452;&#20214;&#12290;
				&#20363;&#22914;&#65292;&#20551;&#35774;&#29616;&#22312;&#26377;&#19968;&#20123;Seam&#32452;&#20214;&#65292;&#20182;&#20204;&#26159;&#23545;&#25903;&#20184;&#22788;&#29702;&#31995;&#32479;&#30340;facade&#65292;&#31034;&#20363;&#22914;&#19979;
            </p><pre class="programlisting">@Name("paymentProcessor")
public class PaymentProcessor {
    public boolean processPayment(Payment payment) { .... }
}</pre><p>
 				&#20026;&#20102;&#33021;&#22815;&#38598;&#25104;&#27979;&#35797;&#65292;&#25105;&#20204;&#21487;&#20197;&#23545;&#27492;&#32452;&#20214;Mock&#22914;&#19979;&#65306;
            </p><pre class="programlisting">@Name("paymentProcessor")
@Install(precedence=MOCK)
public class MockPaymentProcessor extends PaymentProcessor {
    public void processPayment(Payment payment) {
        return true;
    }
}</pre><p>
				&#22240;&#20026; <tt class="literal">MOCK</tt> &#30340;&#20248;&#20808;&#32423;&#27604;&#24212;&#29992;&#32452;&#20214;&#30340;&#40664;&#35748;&#20248;&#20808;&#32423;&#35201;&#39640;&#65292;&#25152;&#20197;Seam&#23558;&#20248;&#20808;&#35013;&#37197;&#22312;classpath&#20013;&#30340;Mock&#23545;&#35937;&#12290;&#24403;&#37096;&#32626;&#21040;&#29983;&#20135;&#29615;&#22659;&#20013;&#30340;&#26102;&#20505;&#65292;&#37027;&#20123;Mock&#23545;&#35937;&#23558;&#19981;&#22797;&#23384;&#22312;&#65292;&#22240;&#27492;&#30495;&#27491;&#30340;&#32452;&#20214;&#23558;&#34987;&#35013;&#37197;&#36827;&#26469;&#12290;
            </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e20049"></a>31.3.&nbsp;&#38598;&#25104;&#27979;&#35797;Seam&#24212;&#29992;&#31243;&#24207;&#20013;&#30340;&#29992;&#25143;&#20132;&#20114;</h2></div></div><div></div></div><p>
			&#22312;&#27979;&#35797;&#20013;&#65292;&#19968;&#20010;&#26356;&#38590;&#30340;&#38382;&#39064;&#26159;&#27169;&#25311;&#29992;&#25143;&#20132;&#20114;&#12290;&#22240;&#27492;&#31532;&#19977;&#20010;&#38382;&#39064;&#26159;&#65306;&#25105;&#20204;&#24212;&#35813;&#22312;&#37027;&#37324;&#25918;&#32622;&#26029;&#35328;&#65288;assertion&#65289;&#12290;
			&#19968;&#20123;&#27979;&#35797;&#26694;&#26550;&#36890;&#36807;&#22312;Web&#27983;&#35272;&#22120;&#20013;&#37325;&#29616;&#29992;&#25143;&#20132;&#20114;&#26469;&#27979;&#35797;&#25972;&#20010;&#24212;&#29992;&#31243;&#24207;&#65292;&#36825;&#20123;&#27979;&#35797;&#26377;&#20854;&#36866;&#29992;&#20043;&#22788;&#65292;&#20294;&#20182;&#20204;&#24182;&#19981;&#36866;&#21512;&#22312;&#24320;&#21457;&#26102;&#20351;&#29992;&#12290;
        </p><p>
			&#22312;&#19968;&#20010;&#27169;&#25311;&#30340;JSF&#29615;&#22659;&#20013;&#65292;<tt class="literal">SeamTest</tt> &#21487;&#20197;&#35753;&#20320;&#32534;&#20889; <span class="emphasis"><em>&#33050;&#26412;&#21270;&#65288;scripted&#65289;</em></span> &#27979;&#35797;&#12290;
			&#36825;&#20123;&#33050;&#26412;&#21270;&#27979;&#35797;&#30340;&#29992;&#22788;&#26159;&#20026;&#20102;&#37325;&#29616;&#35270;&#22270;&#21644;Seam&#32452;&#20214;&#20043;&#38388;&#30340;&#20132;&#20114;&#65292;&#25442;&#21477;&#35805;&#35828;&#65292;&#20320;&#35201;&#20551;&#35013;&#20320;&#26159;JSF&#30340;&#23454;&#29616;&#65281;
        </p><p>
            &#36825;&#31181;&#26041;&#27861;&#21487;&#20197;&#27979;&#35797;&#38500;&#20102;&#35270;&#22270;&#20197;&#22806;&#30340;&#25152;&#26377;&#20107;&#29289;&#12290;
        </p><p>
            &#35753;&#25105;&#20204;&#26469;&#30475;&#19968;&#20010;JSP&#35270;&#22270;&#65292;&#27492;&#35270;&#22270;&#23545;&#24212;&#30340;&#32452;&#20214;&#23601;&#26159;&#19978;&#36848;&#21333;&#20803;&#27979;&#35797;&#36807;&#37027;&#20010;&#32452;&#20214;&#65306;
        </p><pre class="programlisting">&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Register New User&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;f:view&gt;
   &lt;h:form&gt;
     &lt;table border="0"&gt;
       &lt;tr&gt;
         &lt;td&gt;Username&lt;/td&gt;
         &lt;td&gt;&lt;h:inputText value="#{user.username}"/&gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
         &lt;td&gt;Real Name&lt;/td&gt;
         &lt;td&gt;&lt;h:inputText value="#{user.name}"/&gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
         &lt;td&gt;Password&lt;/td&gt;
         &lt;td&gt;&lt;h:inputSecret value="#{user.password}"/&gt;&lt;/td&gt;
       &lt;/tr&gt;
     &lt;/table&gt;
     &lt;h:messages/&gt;
     &lt;h:commandButton type="submit" value="Register" action="#{register.register}"/&gt;
   &lt;/h:form&gt;
  &lt;/f:view&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre><p>
			&#25105;&#20204;&#24819;&#27979;&#35797;&#19968;&#19979;&#24212;&#29992;&#31243;&#24207;&#30340;&#27880;&#20876;&#21151;&#33021;&#65288;&#21363;&#24403;&#29992;&#25143;&#28857;&#20987;&#27880;&#20876;&#25353;&#38062;&#35201;&#21457;&#29983;&#30340;&#20107;&#24773;&#65289;&#12290;&#25105;&#20204;&#21487;&#20197;&#22312;TestNG&#30340;&#33258;&#21160;&#27979;&#35797;&#20013;&#37325;&#29616;JSF&#30340;&#35831;&#27714;&#29983;&#21629;&#21608;&#26399;&#65306;
        </p><pre class="programlisting">public class RegisterTest extends SeamTest
{

   @Test
   public void testRegister() throws Exception
   {

      new FacesRequest() {

         @Override
         protected void processValidations() throws Exception
         {
            validateValue("#{user.username}", "1ovthafew");
            validateValue("#{user.name}", "Gavin King");
            validateValue("#{user.password}", "secret");
            assert !isValidationFailure();
         }

         @Override
         protected void updateModelValues() throws Exception
         {
            setValue("#{user.username}", "1ovthafew");
            setValue("#{user.name}", "Gavin King");
            setValue("#{user.password}", "secret");
         }

         @Override
         protected void invokeApplication()
         {
            assert invokeMethod("#{register.register}").equals("success");
         }

         @Override
         protected void renderResponse()
         {
            assert getValue("#{user.username}").equals("1ovthafew");
            assert getValue("#{user.name}").equals("Gavin King");
            assert getValue("#{user.password}").equals("secret");
         }

      }.run();

   }

   ...

}</pre><p>
			&#20540;&#24471;&#27880;&#24847;&#30340;&#26159;&#65306;&#25105;&#20204;&#32487;&#25215;&#20102; <tt class="literal">SeamTest</tt>&#65292;&#20854;&#20026;&#25105;&#20204;&#30340;&#32452;&#20214;&#25552;&#20379;&#20102;&#19968;&#20010;Seam&#29615;&#22659;&#65292;&#24182;&#19988;&#25105;&#20204;&#36824;&#38656;&#35201;&#20889;&#19968;&#20010;&#32487;&#25215;&#20102; <tt class="literal">SeamTest.FacesRequest</tt> &#30340;&#21311;&#21517;&#31867;&#65292;&#27492;&#21311;&#21517;&#31867;&#27169;&#25311;JSF&#30340;&#35831;&#27714;&#29983;&#21629;&#21608;&#26399;&#65288;&#36824;&#26377;&#19968;&#20010; <tt class="literal">SeamTest.NonFacesRequest</tt> &#26159;&#27979;&#35797;GET&#35831;&#27714;&#30340;&#65289;&#12290;
			&#20026;&#20102;&#27169;&#25311;JSF&#23545;&#25105;&#20204;&#32452;&#20214;&#30340;&#35843;&#29992;&#65292;&#25105;&#20204;&#24050;&#32463;&#23436;&#25104;&#20102;JSF&#19981;&#21516;&#38454;&#27573;&#30340;&#26041;&#27861;&#23454;&#29616;&#65292;&#25509;&#30528;&#25105;&#20204;&#36824;&#21152;&#20837;&#20102;&#21508;&#31181;&#26029;&#35328;&#12290;
        </p><p>
			&#20320;&#21487;&#20197;&#22312;Seam&#30340;&#26356;&#22797;&#26434;&#30340;&#31034;&#20363;&#24212;&#29992;&#31243;&#24207;&#20013;&#25214;&#21040;&#22823;&#37327;&#20851;&#20110;&#38598;&#25104;&#27979;&#35797;&#30340;&#29992;&#27861;&#65292;&#36824;&#26377;&#22312;Ant&#25110;&#32773;Eclipse&#30340;TestNG&#25554;&#20214;&#19979;&#36816;&#34892;&#36825;&#20123;&#27979;&#35797;&#30340;&#20351;&#29992;&#35828;&#26126;&#12290;
        </p><div class="mediaobject" align="center"><img src="images/plugin-testng.png" align="middle"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20090"></a>31.3.1.&nbsp;&#21033;&#29992;Mock&#25968;&#25454;&#36827;&#34892;&#38598;&#25104;&#27979;&#35797;</h3></div></div><div></div></div><p>
            &#22914;&#26524;&#20320;&#38656;&#35201;&#22312;&#27599;&#20010;&#27979;&#35797;&#20043;&#21069;&#22312;&#25968;&#25454;&#24211;&#20013;&#25554;&#20837;&#25110;&#28165;&#38500;&#25968;&#25454;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;DBUnit&#36827;&#34892;Seam&#30340;&#38598;&#25104;&#27979;&#35797;&#12290;&#35201;&#20570;&#21040;&#36825;&#19968;&#28857;&#65292;&#35201;&#32487;&#25215;DBUnitSeamTest&#32780;&#19981;&#26159;SeamTest&#12290;
         </p><p>
            &#20320;&#38656;&#35201;&#25552;&#20379;&#25968;&#25454;&#38598;&#32473;DBUnit&#65306;
         </p><pre class="programlisting">&lt;dataset&gt;

   &lt;ARTIST
      id="1"
      dtype="Band"
      name="Pink Floyd" /&gt;

   &lt;DISC
      id="1"
      name="Dark Side of the Moon"
      artist_id="1" /&gt;

&lt;/dataset&gt;</pre><p>
            &#24182;&#36890;&#36807;&#35206;&#30422; <tt class="literal">prepareDBUnitOperations()</tt> &#26469;&#21578;&#35785;Seam:
         </p><pre class="programlisting">protected void prepareDBUnitOperations() {
    beforeTestOperations.add(
       new DataSetOperation("my/datasets/BaseData.xml")
    );
 }</pre><p>
           &#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#20854;&#23427;&#30340;&#25805;&#20316;&#20316;&#20026;&#26500;&#36896;&#22120;&#21442;&#25968; <tt class="literal">DataSetOperation</tt> &#30340;&#25805;&#20316;&#40664;&#35748;&#26159; <tt class="literal">DatabaseOperation.CLEAN_INSERT</tt>&#12290;
           &#22312;&#35843;&#29992;&#27599;&#20010; <tt class="literal">@Test</tt> &#26041;&#27861;&#21069;&#65292;&#19978;&#36848;&#30340;&#31034;&#20363;&#20250;&#20808;&#28165;&#38500; <tt class="literal">BaseData.xml</tt> &#20013;&#23450;&#20041;&#30340;&#25152;&#26377;&#30340;&#34920;&#65292;&#28982;&#21518;&#25554;&#20837; <tt class="literal">BaseData.xml</tt> &#20013;&#23450;&#20041;&#30340;&#25152;&#26377;&#30340;&#25968;&#25454;&#34892;&#12290;
         </p><p>
           &#22914;&#26524;&#20320;&#38656;&#35201;&#22312;&#19968;&#20010;&#27979;&#35797;&#26041;&#27861;&#25191;&#34892;&#21518;&#36827;&#34892;&#39069;&#22806;&#30340;&#28165;&#38500;&#24037;&#20316;&#65292;&#28155;&#21152;&#25805;&#20316;&#21040; <tt class="literal">afterTestOperations</tt> &#21015;&#34920;&#20013;&#12290;
         </p><p>
           &#20320;&#38656;&#35201;&#36890;&#36807;&#35774;&#32622;&#19968;&#20010;&#21517;&#20026; <tt class="literal">datasourceJndiName</tt> &#30340;TestNG&#27979;&#35797;&#21442;&#25968;&#26469;&#21578;&#35785;DBUnit&#20320;&#27491;&#22312;&#20351;&#29992;&#30340;&#25968;&#25454;&#28304;&#65306;
         </p><pre class="programlisting">
   &lt;parameter name="datasourceJndiName" value="java:/seamdiscsDatasource"/&gt;
         </pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="testing.mail"></a>31.3.2.&nbsp;Seam Mail&#38598;&#25104;&#27979;&#35797;</h3></div></div><div></div></div><p>
            &#35686;&#21578;&#65281;&#36825;&#20010;&#21151;&#33021;&#20173;&#22312;&#24320;&#21457;&#24403;&#20013;&#12290;
          </p><p>
            &#38598;&#25104;&#27979;&#35797;Seam Mail&#30456;&#24403;&#30340;&#31616;&#21333;&#65306;
          </p><pre class="programlisting">public class MailTest extends SeamTest {

   @Test
   public void testSimpleMessage() throws Exception {

      new FacesRequest() {

         @Override
         protected void updateModelValues() throws Exception {
            setValue("#{person.firstname}", "Pete");
            setValue("#{person.lastname}", "Muir");
            setValue("#{person.address}", "test@example.com");
         }

         @Override
         protected void invokeApplication() throws Exception {
            MimeMessage renderedMessage = getRenderedMailMessage("/simple.xhtml");
            assert renderedMessage.getAllRecipients().length == 1;
            InternetAddress to = (InternetAddress) renderedMessage.getAllRecipients()[0];
            assert to.getAddress().equals("test@example.com");
         }

      }.run();
   }
}</pre><p>
            &#25105;&#20204;&#19982;&#24448;&#24120;&#19968;&#26679;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340; <tt class="literal">FacesRequest</tt>&#12290;
            &#22312; invokeApplication &#37324;&#25105;&#20204;&#36890;&#36807;&#20256;&#36882;&#28040;&#24687;&#30340;viewId&#21435;&#28210;&#26579; <tt class="literal">getRenderedMailMessage(viewId);</tt> &#30340;&#28040;&#24687;&#12290;
            &#36825;&#20010;&#26041;&#27861;&#36820;&#22238;&#24050;&#32463;&#28210;&#26579;&#23436;&#25104;&#30340;&#28040;&#24687;&#65292;&#20320;&#21487;&#20197;&#32487;&#32493;&#36827;&#34892;&#20320;&#30340;&#27979;&#35797;&#12290;&#20320;&#24403;&#28982;&#21487;&#20197;&#21516;&#26102;&#20351;&#29992;&#20219;&#20309;&#19968;&#39033;&#26631;&#20934;JSF&#30340;&#29983;&#21629;&#21608;&#26399;&#30340;&#26041;&#27861;&#12290;
          </p><p>
            &#36824;&#26377;&#23601;&#26159;&#19981;&#25903;&#25345;&#28210;&#26579;&#26631;&#20934;JSF&#32452;&#20214;&#65292;&#25152;&#20197;&#20320;&#19981;&#33021;&#26041;&#20415;&#22320;&#27979;&#35797;&#37038;&#20214;&#28040;&#24687;&#30340;&#20869;&#23481;&#20027;&#20307;&#12290;
          </p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="tools"></a>Chapter&nbsp;32.&nbsp;Seam&#24037;&#20855;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e20157"></a>32.1.&nbsp;jBPM&#35774;&#35745;&#22120;&#21644;&#26597;&#30475;&#22120;</h2></div></div><div></div></div><p>
		 	 jBPM&#35774;&#35745;&#22120;&#21644;&#26597;&#30475;&#22120;&#20250;&#25552;&#20379;&#19968;&#31181;&#38750;&#24120;&#28418;&#20142;&#30340;&#26041;&#27861;&#35753;&#20320;&#35774;&#35745;&#24182;&#26597;&#30475;&#19994;&#21153;&#27969;&#31243;&#21644;&#39029;&#38754;&#27969;&#12290;
		 	 &#36825;&#20010;&#20415;&#21033;&#30340;&#24037;&#20855;&#26159;JBoss Eclipse IDE&#38598;&#25104;&#24320;&#21457;&#29615;&#22659;&#30340;&#19968;&#37096;&#20998;&#65292;&#22312;jBPM&#30340;&#25991;&#26723;&#65288;http://docs.jboss.com/jbpm/v3/gpd/&#65289;&#20013;&#65292;&#20320;&#21487;&#20197;&#25214;&#21040;&#26356;&#35814;&#32454;&#30340;&#20449;&#24687;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20162"></a>32.1.1.&nbsp;&#19994;&#21153;&#27969;&#31243;&#35774;&#35745;&#22120;</h3></div></div><div></div></div><p>
			&#36825;&#20010;&#24037;&#20855;&#35753;&#20320;&#21487;&#20197;&#29992;&#21487;&#35270;&#21270;&#30340;&#26041;&#24335;&#35774;&#35745;&#19994;&#21153;&#27969;&#31243;&#12290;
       		</p><div class="screenshot"><div class="mediaobject" align="center"><img src="images/bpmd.png" align="middle"></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20175"></a>32.1.2.&nbsp;Pageflow&#26597;&#30475;&#22120;</h3></div></div><div></div></div><p>
	        &#36825;&#20010;&#24037;&#20855;&#21487;&#20197;&#24110;&#21161;&#20320;&#35774;&#35745;&#20986;&#21487;&#20197;&#25193;&#23637;&#30340;&#39029;&#38754;&#27969;&#65288;Pageflow&#65289;&#65292;&#24182;&#19988;&#35753;&#20320;&#35774;&#35745;&#20986;&#39029;&#38754;&#27969;&#30340;&#22270;&#24418;&#34920;&#29616;&#24418;&#24335;&#65292;&#22914;&#27492;&#20320;&#20415;&#21487;&#20197;&#21644;&#20854;&#20182;&#20154;&#20998;&#20139;&#24182;&#27604;&#36739;&#22914;&#20309;&#35774;&#35745;&#39029;&#38754;&#27969;&#30340;&#24605;&#24819;&#20102;&#12290;
			</p><div class="screenshot"><div class="mediaobject" align="center"><img src="images/bpmpfv.png" align="middle"></div></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="dependencies"></a>Chapter&nbsp;33.&nbsp;&#20381;&#36182;&#21253;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e20192"></a>33.1.&nbsp;&#39033;&#30446;&#20381;&#36182;&#21253;</h2></div></div><div></div></div><p>
		  	&#22312;&#36825;&#19968;&#31456;&#33410;&#20027;&#35201;&#26159;&#21015;&#20986;&#20102;Seam&#22312;&#32534;&#35793;&#26102;&#21644;&#36816;&#34892;&#26102;&#38656;&#35201;&#29992;&#21040;&#30340;&#20381;&#36182;&#21253;&#12290;&#21015;&#34920;&#20013;&#31867;&#22411;&#20026; <tt class="literal">ear</tt> &#30340;&#21253;&#24212;&#35813;&#25918;&#22312;&#24212;&#29992;&#31243;&#24207;ear&#25991;&#20214;&#30340;/lib&#30446;&#24405;&#20013;&#12290;
		  	&#31867;&#22411;&#20026; <tt class="literal">war</tt> &#30340;&#24212;&#35813;&#25918;&#22312;&#24212;&#29992;&#31243;&#24207;war&#25991;&#20214;&#30340; <tt class="literal">/WEB-INF/lib</tt> &#30446;&#24405;&#37324;&#12290;
		  	&#20381;&#36182;&#21253;&#30340;Scope&#26159;all&#12289;runtime&#25110;provided&#65288;JBoss AS 4.2&#65289;&#12290;
	    </p><p>
	      &#26368;&#26032;&#30340;&#29256;&#26412;&#20449;&#24687;&#27809;&#26377;&#21253;&#21547;&#22312;&#36825;&#20010;&#25991;&#26723;&#20013;&#65292;&#21487;&#20197;&#22312; <tt class="literal">/build/root.pom.xml</tt> Maven POM &#25991;&#20214;&#25214;&#21040;&#12290;
	    </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20211"></a>33.1.1.&nbsp;Core</h3></div></div><div></div></div><div class="table"><a name="d0e20214"></a><p class="title"><b>Table&nbsp;33.1.&nbsp;</b></p><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">commons-codec.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p>Seam Security&#20351;&#29992;Digest&#35748;&#35777;&#26102;&#25152;&#24517;&#39035;&#30340;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jboss-seam.jar</tt>
								</p></td><td align="center"><p>all</p></td><td align="center"><p>ear</p></td><td><p>Seam&#26680;&#24515;&#21253;&#65292;&#22987;&#32456;&#38656;&#35201;</p></td></tr><tr><td><p>
									<tt class="literal">jboss-seam-debug.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>&#22312;&#39033;&#30446;&#24320;&#21457;&#38454;&#27573;&#65292;&#24320;&#21551;Seam&#30340;&#35843;&#35797;&#21151;&#33021;&#26102;&#38656;&#35201;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jboss-seam-ioc.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>&#19982;Spring&#32467;&#21512;&#20351;&#29992;&#26102;&#38656;&#35201;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jboss-seam-pdf.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>&#24403;&#20351;&#29992;Seam&#30340;PDF&#21151;&#33021;&#26102;&#38656;&#35201;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jboss-seam-remoting.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>&#24403;&#20351;&#29992;Seam Remoting&#26102;&#38656;&#35201;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jboss-seam-ui.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>&#24403;&#20351;&#29992;Seam JSF&#25511;&#20214;&#26102;&#38656;&#35201;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jsf-api.jar</tt>
								</p></td><td align="center"><p>provided</p></td><td align="center"><p></p></td><td><p>JSF API</p></td></tr><tr><td><p>
									<tt class="literal">jsf-impl.jar</tt>
								</p></td><td align="center"><p>provided</p></td><td align="center"><p></p></td><td><p>JSF&#21442;&#32771;&#23454;&#29616;Reference Implementation</p></td></tr><tr><td><p>
									<tt class="literal">jsf-facelets.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>Facelets</p></td></tr><tr><td><p>
									<tt class="literal">urlrewrite.jar</tt>
								</p></td><td align="center"><p>war</p></td><td align="center"><p>no</p></td><td><p>URL Rewrite&#24211;</p></td></tr><tr><td><p>
									<tt class="literal">jcaptcha-all.jar</tt>
								</p></td><td align="center"><p>ear</p></td><td align="center"><p>no</p></td><td><p>&#29992;&#20197;&#25903;&#25345;Captcha&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">quartz.jar</tt>
								</p></td><td align="center"><p>ear</p></td><td align="center"><p>yes</p></td><td><p>&#24403;&#20320;&#24819;&#20351;&#29992;Seam&#20013;Quartz&#30340;&#24322;&#27493;&#29305;&#24615;&#36825;&#20010;&#26159;&#24517;&#39035;&#30340;&#12290;</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20441"></a>33.1.2.&nbsp;Ajax4JSF / RichFaces</h3></div></div><div></div></div><div class="table"><a name="d0e20444"></a><p class="title"><b>Table&nbsp;33.2.&nbsp;RichFaces&#20381;&#36182;&#21253;</b></p><table summary="RichFaces&#20381;&#36182;&#21253;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">richfaces-api.jar</tt>
								</p></td><td align="center"><p>all</p></td><td align="center"><p>ear</p></td><td><p>&#20351;&#29992;RichFaces&#26102;&#38656;&#35201;&#12290;&#20026;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#25552;&#20379;API&#31867;&#65292;&#27604;&#22914;&#65306;&#21019;&#24314;&#19968;&#26869;&#26641;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">richfaces-impl.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>&#20351;&#29992;RichFaces&#26102;&#38656;&#35201;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">richfaces-ui.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>&#20351;&#29992;RichFaces&#26102;&#38656;&#35201;&#12290;&#25552;&#20379;&#25152;&#26377;&#30340;UI&#32452;&#20214;</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20515"></a>33.1.3.&nbsp;Seam Mail</h3></div></div><div></div></div><div class="table"><a name="d0e20518"></a><p class="title"><b>Table&nbsp;33.3.&nbsp;Seam Mail&#20381;&#36182;&#21253;</b></p><table summary="Seam Mail&#20381;&#36182;&#21253;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">activation.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p>&#25903;&#25345;&#38468;&#20214;&#38656;&#35201;&#30340;&#21253;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">mail.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p>&#25903;&#25345;&#21457;&#36865;&#37038;&#20214;&#38656;&#35201;&#30340;&#21253;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">mail-ra.jar</tt>
								</p></td><td align="center"><p>compile only</p></td><td align="center"><p></p></td><td><p>&#25903;&#25345;&#25509;&#25910;&#37038;&#20214;&#30340;&#21253;&#12290;</p><p>mail-ra.rar&#24212;&#24403;&#22312;&#36816;&#34892;&#26102;&#34987;&#37096;&#32626;&#21040;&#24212;&#29992;&#26381;&#21153;&#22120;&#20013;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jboss-seam-mail.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>Seam Mail</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20606"></a>33.1.4.&nbsp;Seam PDF</h3></div></div><div></div></div><div class="table"><a name="d0e20609"></a><p class="title"><b>Table&nbsp;33.4.&nbsp;Seam PDF&#20381;&#36182;&#21253;</b></p><table summary="Seam PDF&#20381;&#36182;&#21253;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">itext.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>PDF&#24211;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jfreechart.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>&#22270;&#34920;&#24211;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jcommon.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>JFreeChart&#38656;&#35201;&#30340;&#24211;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">jboss-seam-pdf.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>Seam PDF&#26680;&#24515;&#24211;&#12290;</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20696"></a>33.1.5.&nbsp;JBoss Rules</h3></div></div><div></div></div><p>The JBoss Rules&#30340;&#25152;&#26377;&#21253;&#37117;&#21487;&#20197;&#22312;Seam&#30340;<tt class="literal">drools/lib</tt>&#30446;&#24405;&#20013;&#25214;&#21040;&#12290;</p><div class="table"><a name="d0e20704"></a><p class="title"><b>Table&nbsp;33.5.&nbsp;JBoss Rules&#20381;&#36182;&#21253;</b></p><table summary="JBoss Rules&#20381;&#36182;&#21253;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">antlr-runtime.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p>ANTLR Runtime&#24211;&#12290;</p></td></tr><tr><td><p>
									<tt class="literal">core.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p>Eclipse JDT</p></td></tr><tr><td><p>
									<tt class="literal">drools-compiler.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p></p></td></tr><tr><td><p>
									<tt class="literal">drools-core.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p></p></td></tr><tr><td><p>
									<tt class="literal">janino.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p></p></td></tr><tr><td><p>
									<tt class="literal">mvel.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p></p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20819"></a>33.1.6.&nbsp;JBPM</h3></div></div><div></div></div><div class="table"><a name="d0e20822"></a><p class="title"><b>Table&nbsp;33.6.&nbsp;JBPM&#20381;&#36182;&#21253;</b></p><table summary="JBPM&#20381;&#36182;&#21253;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">jbpm-jpdl.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p></p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20860"></a>33.1.7.&nbsp;GWT</h3></div></div><div></div></div><p>&#22914;&#26524;&#24819;&#22312;&#20320;&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;Google Web Toolkit(GWT)&#65292;&#36825;&#20123;&#21253;&#20063;&#26159;&#24517;&#39035;&#30340;&#12290;</p><div class="table"><a name="d0e20865"></a><p class="title"><b>Table&nbsp;33.7.&nbsp;GWT&#20381;&#36182;&#21253;</b></p><table summary="GWT&#20381;&#36182;&#21253;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">gwt-servlet.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>war</p></td><td><p>GWT Servlet&#24211;</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20904"></a>33.1.8.&nbsp;Spring</h3></div></div><div></div></div><p>&#22914;&#26524;&#20320;&#24819;&#22312;&#20320;&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;Spring&#26694;&#26550;&#65292;&#36825;&#20123;&#21253;&#20063;&#26159;&#24517;&#39035;&#30340;&#12290;</p><div class="table"><a name="d0e20909"></a><p class="title"><b>Table&nbsp;33.8.&nbsp;Spring Framework &#20381;&#36182;&#21253;</b></p><table summary="Spring Framework &#20381;&#36182;&#21253;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">spring.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p>Spring Framework&#24211;&#12290;</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20948"></a>33.1.9.&nbsp;Groovy</h3></div></div><div></div></div><p>&#22914;&#26524;&#20320;&#24819;&#22312;&#20320;&#30340;Seam&#24212;&#29992;&#31243;&#24207;&#20013;&#20351;&#29992;Groovy&#65292;&#36825;&#20123;&#21253;&#37117;&#26159;&#24517;&#39035;&#30340;&#12290;</p><div class="table"><a name="d0e20953"></a><p class="title"><b>Table&nbsp;33.9.&nbsp;Groovy&#20381;&#36182;&#21253;</b></p><table summary="Groovy&#20381;&#36182;&#21253;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="center"><p>&#21517;&#31216;</p></th><th align="center"><p>&#33539;&#22260;</p></th><th align="center"><p>&#31867;&#22411;</p></th><th align="center"><p>&#35828;&#26126;</p></th></tr></thead><tbody><tr><td><p>
									<tt class="literal">groovy-all.jar</tt>
								</p></td><td align="center"><p>runtime</p></td><td align="center"><p>ear</p></td><td><p>Groovy&#24211;</p></td></tr></tbody></table></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e20992"></a>33.2.&nbsp;&#20351;&#29992;Maven&#20381;&#36182;&#31649;&#29702;</h2></div></div><div></div></div></div><p>
    Maven&#25552;&#20379;&#20381;&#36182;&#31649;&#29702;&#65292;&#21487;&#20197;&#29992;&#26469;&#31649;&#29702;Seam&#39033;&#30446;&#30340;&#20381;&#36182;&#12290;&#21487;&#20197;&#20351;&#29992;Maven Ant Task&#26469;&#25972;&#21512;Maven&#21040;Ant&#26500;&#24314;&#20013;&#65292;&#25110;&#32773;&#20351;&#29992;Maven&#26469;&#26500;&#24314;&#21644;&#37096;&#32626;&#39033;&#30446;&#12290;
  </p><p>
    &#25105;&#20204;&#23454;&#38469;&#19978;&#19981;&#26159;&#22312;&#36825;&#37324;&#26469;&#35752;&#35770;&#22914;&#20309;&#20351;&#29992;Maven&#65292;&#20294;&#21482;&#36816;&#34892;&#20320;&#33021;&#20351;&#29992;&#30340;&#19968;&#20123;&#22522;&#26412;POM&#12290;
  </p><p>
     Seam&#30340;&#21457;&#34892;&#29256;&#26412;&#22312; http://repository.jboss.org/maven2
     &#27599;&#22812;&#24555;&#29031;&#22312; http://snapshots.jboss.org/maven2.
   </p><p>
     &#25152;&#26377;Seam&#30340;&#24037;&#20214;&#37117;&#22312;Maven&#37324;&#21487;&#20197;&#24471;&#21040;&#12290;
   </p><pre class="programlisting">&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.seam&lt;/groupId&gt;
  &lt;artifactId&gt;jboss-seam&lt;/artifactId&gt;
&lt;/dependency&gt;</pre><pre class="programlisting">&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.seam&lt;/groupId&gt;
  &lt;artifactId&gt;jboss-seam-ui&lt;/artifactId&gt;
&lt;/dependency&gt;</pre><pre class="programlisting">&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.seam&lt;/groupId&gt;
  &lt;artifactId&gt;jboss-seam-pdf&lt;/artifactId&gt;
&lt;/dependency&gt;</pre><pre class="programlisting">&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.seam&lt;/groupId&gt;
  &lt;artifactId&gt;jboss-seam-remoting&lt;/artifactId&gt;
&lt;/dependency&gt;</pre><pre class="programlisting">&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.seam&lt;/groupId&gt;
  &lt;artifactId&gt;jboss-seam-ioc&lt;/artifactId&gt;
&lt;/dependency&gt;</pre><pre class="programlisting">&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.seam&lt;/groupId&gt;
  &lt;artifactId&gt;jboss-seam-ioc&lt;/artifactId&gt;
&lt;/dependency&gt;</pre><p>
    &#19979;&#38754;&#31034;&#20363;&#30340;POM&#25991;&#20214;&#25552;&#20379;Seam&#12289;JPA&#65288;&#30001;Hibernate&#25552;&#20379;&#65289;&#21644;Hibernate Validator&#65306;
  </p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;org.jboss.seam.example/groupId&gt;
  &lt;artifactId&gt;my-project&lt;/artifactId&gt;
  &lt;version&gt;1.0&lt;/version&gt;
  &lt;name&gt;My Seam Project&lt;/name&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;
  &lt;repositories&gt;
    &lt;repository&gt;
      &lt;id&gt;repository.jboss.org&lt;/id&gt;
      &lt;name&gt;JBoss Repository&lt;/name&gt;
      &lt;url&gt;http://repository.jboss.org/maven2&lt;/url&gt;
    &lt;/repository&gt;
  &lt;/repositories&gt;

  &lt;dependencies&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
      &lt;version&gt;3.0.0.GA&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
      &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;
      &lt;version&gt;3.3.0.ga&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;
      &lt;version&gt;3.3.1.ga&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.jboss.seam&lt;/groupId&gt;
      &lt;artifactId&gt;jboss-seam&lt;/artifactId&gt;
      &lt;version&gt;2.0.0.GA&lt;/version&gt;
    &lt;/dependency&gt;
    
  &lt;/dependencies&gt;

&lt;/project&gt;</pre></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="translator"></a>Appendix&nbsp;A.&nbsp;Seam 2.0 &#24320;&#21457;&#25163;&#20876;&#20013;&#25991;&#32763;&#35793;&#39033;&#30446;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e21022"></a>A.1.&nbsp;&#22768;&#26126;</h2></div></div><div></div></div><p>
		Seam&#20013;&#25991;&#21442;&#32771;&#25163;&#20876;&#24471;&#21040;Seam Framework&#24320;&#21457;&#22242;&#38431;&#21450;&#20027;&#35201;&#20316;&#32773;Gavin King&#30340;&#30452;&#25509;&#25480;&#26435;&#21644;&#25903;&#25345;&#65292;&#20854;&#30446;&#30340;&#26159;&#22312;&#20013;&#25991;&#19990;&#30028;&#25512;&#24191;&#20248;&#31168;&#30340;&#24320;&#28304;&#25216;&#26415;&#12290;&#26412;&#27425;&#32763;&#35793;&#27963;&#21160;&#30001;&#28385;&#27743;&#32418;&#24320;&#25918;&#25216;&#26415;&#30740;&#31350;&#32452;&#32455;&#65288;<a href="http://www.redsaga.com" target="_top">http://www.redsaga.com</a>&#65289;&#36827;&#34892;&#32763;&#35793;&#30340;&#32452;&#32455;&#12289;&#21327;&#35843;&#24037;&#20316;&#12290;&#39033;&#30446;&#36127;&#36131;&#20154;&#20026;&#20446;&#40654;&#25935;&#12290;&#25105;&#20204;&#22312;&#27492;&#37073;&#37325;&#23459;&#24067;&#65292;&#26412;&#27425;&#32763;&#35793;&#36981;&#24490;&#21407;Seam Framework&#30340;&#25480;&#26435;&#21327;&#35758;&#65292;&#21363;LGPL&#21327;&#35758;&#12290;&#22312;&#23436;&#25972;&#20445;&#30041;&#20840;&#37096;&#25991;&#26412;&#21253;&#25324;&#26412;&#29256;&#26435;&#39029;&#65292;&#24182;&#19981;&#36829;&#21453;LGPL&#21327;&#35758;&#30340;&#21069;&#25552;&#19979;&#65292;&#20801;&#35768;&#21644;&#40723;&#21169;&#20219;&#20309;&#20154;&#36827;&#34892;&#20840;&#25991;&#36716;&#36733;&#21450;&#25512;&#24191;&#12290;&#25105;&#20204;&#22312;&#27492;&#23459;&#24067;&#25152;&#26377;&#21442;&#19982;&#20154;&#21592;&#25918;&#24323;&#38500;&#32626;&#21517;&#26435;&#22806;&#30340;&#19968;&#20999;&#26435;&#21033;&#12290;
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e21030"></a>A.2.&nbsp;&#39033;&#30446;&#21382;&#31243;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21033"></a>A.2.1.&nbsp;Seam 1.2.1 &#24320;&#21457;&#25163;&#20876;&#32763;&#35793;&#39033;&#30446;</h3></div></div><div></div></div><p>
			&#25105;&#20204;2.0&#30340;&#32763;&#35793;&#39033;&#30446;&#26159;&#22522;&#20110; 1.2.1 &#32763;&#35793;&#39033;&#30446;&#30340;&#22522;&#30784;&#19978;&#36827;&#34892;&#30340;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21038"></a>A.2.2.&nbsp;Seam 2.0 Beta 1 &#24320;&#21457;&#25163;&#20876;&#32763;&#35793;&#39033;&#30446;</h3></div></div><div></div></div><p>
				<span class="bold"><b>2007&#24180;09&#26376;05&#26085;</b></span>
			</p><p>&#39033;&#30446;&#21551;&#21160;&#65292;&#21551;&#21160;&#19968;&#33324;&#37117;&#26159;&#22312;&#22812;&#38388;&#21862;&#12290;
</p><p>
&#24182;&#22312;Spring&#20013;&#25991;&#35770;&#22363;&#65306;<a href="http://spring.jactiongroup.net/viewtopic.php?t=3521" target="_top">http://spring.jactiongroup.net/viewtopic.php?t=3521</a>
			</p><p>&#65288;&#22312;Yanger&#30340;&#22320;&#30424;&#19978;XXX&#19968;&#19979;&#65292;&#21478;&#25454;&#26195;&#38050;&#35828;Gavin King&#21644;Spring&#20851;&#31995;&#24456;&#22909;&#21834;&#65306;&#65289;&#65289;
</p><p>
JavaEye&#65306;<a href="http://yulimin.javaeye.com/blog/120769" target="_top">http://yulimin.javaeye.com/blog/120769</a>
			</p><p>
Matrix&#65306;<a href="http://www.matrix.org.cn/thread.shtml?topicId=14ba3958-5bbc-11dc-b06d-09b637715141&amp;forumId=17" target="_top">http://www.matrix.org.cn/thread.shtml?topicId=14ba3958-5bbc-11dc-b06d-09b637715141&amp;forumId=17</a>
			</p><p>
CSDN&#65306;<a href="http://community.csdn.net/Expert/TopicView1.asp?id=5745111" target="_top">http://community.csdn.net/Expert/TopicView1.asp?id=5745111</a>
			</p><p>
Dev2Dev&#65306;<a href="http://dev2dev.bea.com.cn/bbs/thread.jspa?forumID=64104&amp;threadID=43900&amp;tstart=0" target="_top">http://dev2dev.bea.com.cn/bbs/thread.jspa?forumID=64104&amp;threadID=43900&amp;tstart=0</a>
			</p><p>
CJSDN&#65306;<a href="http://www.cjsdn.net/post/view?bid=20&amp;id=191168&amp;sty=1&amp;tpg=1&amp;age=0" target="_top">http://www.cjsdn.net/post/view?bid=20&amp;id=191168&amp;sty=1&amp;tpg=1&amp;age=0</a>
			</p><p>
&#31561;&#31561;&#35770;&#22363;&#25509;&#21463;&#25253;&#21517;&#12290;
</p><p>
&#29992;&#20110;&#21327;&#35843;&#25511;&#21046;&#30340;wiki&#22320;&#22336;&#21457;&#24067;(<a href="http://wiki.redsaga.com/confluence/display/SeamRef" target="_top">http://wiki.redsaga.com/confluence/display/SeamRef</a>)&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;07&#26085;</b></span>
			</p><p>&#32463;&#36807;&#20004;&#22825;&#30340;&#22823;&#21147;&#23459;&#20256;&#65292;&#32456;&#20110;&#26377;&#20845;&#20301;&#20804;&#24351;&#30003;&#35831;&#21152;&#20837;&#20102;&#65292;&#25928;&#26524;&#36824;&#19981;&#38169;&#21834;&#65292;&#20294;&#26159;&#20173;&#38656;&#35201;&#21162;&#21147;&#23459;&#20256;&#65292;Robbin&#22312;JavaEye&#19978;&#24110;&#24537;&#32622;&#39030;&#20110;&#35770;&#22363;&#20013;&#30340;&#20844;&#21578;&#20102;&#65292;&#19981;&#20165;&#20165;&#26159;&#22312;&#28023;&#38420;&#22825;&#31354;&#29256;&#65292;&#20877;&#27425;&#34920;&#31034;&#24863;&#35874;&#65292;&#20063;&#30001;&#27492;&#24076;&#26395;&#26377;&#26356;&#22810;&#30340;&#20154;&#26469;&#21442;&#21152;&#12290;</p><p>
&#21508;&#20301;&#26032;&#26469;&#30340;&#20804;&#24351;&#26377;&#26102;&#38388;&#23601;&#25226;&#33258;&#24049; &#31168; &#20986;&#26469;&#32473;&#22823;&#20249;&#30631;&#30631;&#65292;&#35753;&#22823;&#23478;&#30475;&#19968;&#30475;&#19981;&#26159;&#27604;&#20013;&#22269;&#20307;&#25805;&#38431;&#30340;&#23567;&#20249;&#23376;&#20204;&#36824;&#35201;&#24069;&#21602;&#65306;&#65289;&#33267;&#23569;&#25105;&#30456;&#20449;&#27604;&#21496;&#20196;&#24069;&#26159;&#32943;&#23450;&#30340;&#12290;&#12290;&#12290;&#65306;&#65289;
</p><p>
&#26032;&#26469;&#30340;&#20804;&#24351;&#20808;&#29087;&#24713;&#19968;&#19979;&#22330;&#22320;&#65292;&#28982;&#21518;&#28909;&#36523;&#28909;&#36523;&#65292;&#19981;&#30528;&#24613;&#65292;&#36816;&#21160;&#20043;&#21069;&#19968;&#23450;&#35201;&#28909;&#36523;&#65292;&#36825;&#26679;&#25165;&#33021;&#20986;&#22909;&#25104;&#32489;&#65292;&#30772;&#32426;&#24405;&#25165;&#26377;&#24076;&#26395;&#65292;&#28909;&#36523;&#21160;&#20316;&#26377;&#24863;&#35273;&#19981;&#35268;&#33539;&#25110;&#19981;&#33298;&#26381;&#30340;&#22320;&#26041;&#65292;&#23601;&#35831;GTalk&#25110;&#37038;&#20214;&#19982;&#25105;&#65292;&#21496;&#20196;&#20250;&#25163;&#25226;&#25163;&#22320;&#24110;&#20320;&#25423;&#19968;&#25423;&#65306;&#65289;BTW&#65306;&#21496;&#20196;&#30334;&#31859;11'6&#65292;&#24046;&#28857;&#36798;&#26631;&#20108;&#32423;&#65292;&#21160;&#20316;&#36824;&#26159;&#27604;&#36739;&#35268;&#33539;&#30340;&#65292;&#32780;&#19988;&#25343;&#25423;&#21040;&#20301;&#65292;&#37325;&#35201;&#30340;&#26159;&#20813;&#36153;&#65307;&#21487;&#24796;&#29616;&#22312;&#20173;&#22788;&#20110;&#19977;&#32423;&#30340;&#38453;&#33829;&#37324;&#65292;&#23601;&#24046;&#28857;&#12290;&#12290;&#12290;
</p><p>
&#22522;&#20110;&#21407;&#26469;1.2.1&#30340;&#20219;&#21153;&#26377;&#22909;&#20960;&#20010;&#39046;&#21462;&#20102;&#65292;&#20294;&#19968;&#30452;&#27809;&#26377;&#36827;&#24230;&#26356;&#26032;&#65292;&#21508;&#20804;&#24351;&#33021;&#21542;&#25277;&#31354;&#30597;&#20004;&#30524;&#21602;&#65311;
</p><p>
&#21608;&#26411;&#65292;&#22823;&#23478;&#23601;&#22909;&#22909;&#20241;&#24687;&#20102;&#21543;&#12290;&#12290;&#12290; &#20241;&#24687;&#22909;&#20102;&#65292;&#21035;&#24536;&#35760;&#20102;&#36824;&#26377;&#20154;&#22312;&#25381;&#38829;&#36214;&#34382;&#12290;&#12290;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;09&#26085;</b></span>
			</p><p>&#26377;&#19977;&#20010;&#20219;&#21153;&#39046;&#21462;&#65292;&#24182;&#23436;&#25104;&#20102;&#20004;&#20010;&#65292;&#20294;&#26159;&#30001;&#20110;Wiki&#30340;&#38382;&#39064;&#23548;&#33268;&#26032;&#26469;&#30340;&#20154;&#21592;&#26080;&#27861;&#39046;&#21462;&#20219;&#21153;&#65292;&#36825;&#20010;&#38382;&#39064;&#38656;&#35201;&#26195;&#38050;&#23613;&#24555;&#24819;&#21150;&#27861;&#35299;&#20915;&#19968;&#19979;&#12290;
			</p><p>&#20854;&#23427;&#30340;&#20219;&#21153;&#22823;&#23478;&#32487;&#32493;&#39046;&#21462;&#65292;Wiki&#19978;&#30340;&#20219;&#21153;&#39046;&#21462;&#34920;&#26242;&#26102;&#30001;&#25105;&#26469;&#26356;&#26032;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;11&#26085;</b></span>
			</p><p>
6. conversations.xml 	 34K 	 10P 	  seanchan 	  	  	  working
			</p><p>
7. jbpm.xml 	32K 	10P 	 &#24046;&#27801; 	  	  	 &#32763;&#35793;-85% 	 2007-04-15
			</p><p>
17. mail.xml 	26K 	  7P 	 Xiaogang Cao 	  	  	 Working 	 
			</p><p>
27. components.xml 	68K 	11P 	 jiaochar 	  	  	 Working 	 
			</p><p>
28. controls.xml 	47K 	13P 	 blackwing 	  	  	 Working 	 
			</p><p>
30. testing.xml 	10K 	  6P 	 geshe 	  	  	 Working 	 
			</p><p>
31. tools.xml 	23K 	  9P 	 geshe 	  	  	 Working 	 
			</p><p>&#20170;&#22825;&#26159;&#20010;&#29305;&#21035;&#30340;&#26085;&#23376;&#65292;&#21040;&#30446;&#21069;&#20026;&#27490;&#65292;&#25105;&#20204;&#30340;&#24037;&#20316;&#36827;&#24230;&#20063;&#30456;&#24403;&#39034;&#21033;&#65292;&#20219;&#21153;&#37117;&#26377;&#20154;&#36827;&#34892;&#39046;&#21462;&#24182;&#24320;&#22987;&#24037;&#20316;&#65307;
			</p><p>
&#20854;&#20013; yeshucheng &#21516;&#23398;&#26368;&#20026;&#31215;&#26497;&#65292;&#39046;&#21462;&#20102;&#22235;&#20010;&#65292;&#23436;&#25104;&#20102;&#19977;&#20010;&#65292;&#25928;&#29575;&#20043;&#39640;&#20196;&#20154;&#20329;&#26381;&#21834;&#65281;&#65288;&#25484;&#22768;&#21709;&#36215;&#26469;&#12290;&#12290;&#12290;&#65289;&#65292;&#25353;&#25105;&#22899;&#20799;&#30340;&#19968;&#36143;&#35828;&#27861;&#26159;&#65292;&#20320;&#26159;&#31532;&#19968;&#21517;&#65292;&#22870;&#19968;&#20010;&#26143;&#26143;&#32473;&#20320;&#65306;
			</p><p>
&#21478;&#22806;&#65292;&#30001;&#20110;&#20197;&#19978;&#20960;&#20010;&#20219;&#21153;&#26102;&#38388;&#27604;&#36739;&#20037;&#20102;&#65292;&#33021;&#21542;&#25253;&#21578;&#19968;&#19979;&#29616;&#22312;&#30340;&#36827;&#24230;&#65292;&#22914;&#26524;&#26102;&#38388;&#19978;&#26377;&#22256;&#38590;&#65292;&#23558;&#30001;&#20854;&#23427;&#21516;&#23398;&#26469;&#39046;&#21462;&#65292;&#35831;&#22312;&#25910;&#21040;&#37038;&#20214;&#36890;&#30693;&#21518;&#24110;&#24537;&#26356;&#26032;&#19968;&#19979;&#36827;&#24230;&#65292;&#33509;&#26159;&#26102;&#38388;&#19978;&#26377;&#22256;&#38590;&#23601;&#20934;&#22791;&#31227;&#20132;&#20854;&#23427;&#21516;&#23398;&#26469;&#25509;&#25163;&#20102;&#12290;&#35874;&#35874;&#21512;&#20316;&#12290;
			</p><p>
&#26681;&#25454;&#36827;&#24230;&#65292;&#25105;&#20204;&#23601;&#21363;&#23558;&#36827;&#20837;&#27604;&#36739;&#33392;&#33510;&#30340;&#38454;&#27573;&#20102;&#65292;&#19968;&#23457;&#38454;&#27573;&#65292;&#19968;&#20123;&#38656;&#35201;&#27880;&#24847;&#30340;&#22320;&#26041;&#25105;&#21457;&#24067;&#22312; &#32763;&#35793;&#12289;&#26657;&#23545;&#27880;&#24847;&#20107;&#39033;&#65288;&#24517;&#35835;&#65289;&#29305;&#21035;&#26159;&#26032;&#21152;&#20837;&#32773; &#20102;&#65292;&#22823;&#23478;&#20808;&#21435;&#20102;&#35299;&#19968;&#19979;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;13&#26085;</b></span>
			</p><p>&#25226;&#21407;&#26469;&#24050;&#39046;&#21462;&#20294;&#26159;&#24182;&#23436;&#25104;&#32780;&#27809;&#26377;&#36827;&#24230;&#26356;&#26032;&#30340;&#20960;&#20010;&#20219;&#21153;&#25910;&#22238;&#20102;&#65292;&#24182;&#19988;&#20998;&#37197;&#32473;&#30003;&#35831;&#21152;&#20837;&#22242;&#38431;&#30340;&#20154;&#21592;&#36827;&#34892;&#35797;&#35793;&#65292;&#20813;&#24471;&#35797;&#35793;&#21407;&#26469;&#19968;&#22823;&#27573;&#30340;&#20869;&#23481;&#65292;&#28010;&#36153;&#20102;&#26102;&#38388;&#65292;&#21487;&#24796;&#20102;&#36164;&#28304;&#65292;&#29616;&#22312;&#35762;&#30340;&#26159;&#36164;&#28304;&#33410;&#32422;&#22411;&#31038;&#20250;&#21834;&#12290;&#25105;&#20204;&#21487;&#19981;&#33021;&#28010;&#36153;&#19982;&#38138;&#24352;&#20102;&#21834;&#12290;
			</p><p>
yeshucheng &#21516;&#23398;&#22235;&#20010;&#20219;&#21153;&#22522;&#26412;&#19978;&#37117;&#23436;&#25104;&#20102;&#65292;&#38500;&#20102;&#19968;&#20010;&#20219;&#21153;&#37324;&#26377;&#20123;&#22320;&#26041;&#20182;&#19981;&#26159;&#24456;&#30830;&#23450;&#20043;&#22806;&#65292;&#31561;&#19968;&#23457;&#26102;&#20877;&#36827;&#34892;&#20102;&#12290;&#19981;&#36807;&#21548;&#20182;&#35828;&#36825;&#20004;&#22825;&#20005;&#37325;&#24863;&#20882;&#65292;&#21496;&#20196;&#20063;&#21457;&#34920;&#24944;&#38382;&#65292;&#24182;&#20005;&#37325;&#20851;&#27880;&#20107;&#24577;&#30340;&#21457;&#23637;&#65292;&#31069;&#26089;&#26085;&#24247;&#22797;&#65292;&#32487;&#32493;&#26469;&#36827;&#34892;&#19968;&#26657;&#30340;&#24037;&#20316;&#12290;
			</p><p>
&#35797;&#35793;&#30340;&#36827;&#24230;&#20013;&#65292;mail.xml&#19982;testing.xml&#24050;&#32463;&#23436;&#25104;&#65292;&#24182;&#21021;&#27493;&#36890;&#36807;&#23457;&#26680;&#65292;&#22522;&#26412;&#19978;&#36798;&#21040;&#35201;&#27714;&#12290;&#23558;&#27492;&#20219;&#21153;&#30452;&#25509;&#20998;&#37197;&#32473;&#35797;&#35793;&#20154;&#21592;&#65292;&#24076;&#26395;&#33021;&#22815;&#20877;&#27425;&#36827;&#34892;&#19968;&#20123;Review&#24037;&#20316;&#65292;&#24182;&#25552;&#20132;CVS&#19978;&#38754;&#26469;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;15&#26085;</b></span>
			</p><p>&#36234;&#26469;&#36234;&#22810;&#30340;&#21516;&#23398;&#20204;&#30003;&#35831;&#21152;&#20837;&#20102;&#65292;&#30446;&#21069;&#30340;&#24037;&#20316;&#24320;&#22987;&#36827;&#20837;&#19968;&#23457;&#24037;&#20316;&#20102;&#65292;&#24076;&#26395;&#27491;&#22312;&#35797;&#35793;&#30340;&#21516;&#23398;&#20204;&#23613;&#24555;&#23436;&#25104;&#35797;&#35793;&#65292;&#24182;&#25552;&#20132;&#22238;&#26469;&#65292;&#20197;&#20415;&#19968;&#23457;&#24037;&#20316;&#39034;&#21033;&#22320;&#36827;&#34892;&#19979;&#21435;&#12290;
			</p><p>
&#21018;&#21152;&#20837;&#30340;&#23567;&#21608;&#21516;&#23398;zaya&#65292;&#22312;&#27604;&#21033;&#26102;&#21462;&#24471;&#35745;&#31639;&#26426;&#26412;&#31185;&#27605;&#19994;&#65292;&#30446;&#21069;&#22312;&#22269;&#20869;&#65292;&#21033;&#29992;&#36825;&#20010;&#31354;&#20313;&#30340;&#26102;&#38388;&#21152;&#20837;&#20102;&#25105;&#20204;&#65292;&#25105;&#20204;&#28909;&#28872;&#34920;&#31034;&#27426;&#36814;&#12290;&#24182;&#19988;&#22312;&#19968;&#23457;&#30340;&#24037;&#20316;&#20013;&#23436;&#25104;&#30340;&#30456;&#24403;&#24555;&#36895;&#12290;
			</p><p>
&#24050;&#32463;&#23436;&#25104;&#20102; gettingstarted.xml &#30340;&#19968;&#23457;&#24037;&#20316;&#65292;&#20851;&#20110;&#20182;&#22312;&#19968;&#23457;&#24037;&#20316;&#20013;&#25152;&#20570;&#30340;&#23457;&#26657;&#35760;&#24405;&#65292;&#25105;&#22312;&#36825;&#37324;&#36827;&#34892;&#20844;&#24067;&#65292;&#24182;&#25226;&#20182;&#30340;&#19968;&#20123;&#25152;&#24819;&#19982;&#24314;&#35758;&#25918;&#19978;&#26469;&#65292;&#22823;&#23478;&#21487;&#20197;&#21442;&#32771;&#12290;
			</p><p>
&#19968;&#23457;&#20108;&#23457;&#20043;&#26368;&#20339;&#23454;&#36341;&#65292;&#23457;&#26657;&#32773;&#24517;&#30475;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;17&#26085;</b></span>
			</p><p>&#20026;&#20102;&#26041;&#20415;&#22823;&#23478;&#38598;&#20013;&#31934;&#21147;&#36827;&#34892;&#19968;&#23457;&#24037;&#20316;&#65292;&#25105;&#32034;&#24615;&#25226;&#25152;&#26377;&#30340;&#25991;&#20214;&#36827;&#34892;&#20102;&#27604;&#23545;&#19982;&#21512;&#24182;&#65292;&#36825;&#26679;&#22823;&#23478;&#21487;&#20197;&#30452;&#25509;&#22312;cn-2.0.0B1&#19979;&#38754;&#30340;&#25991;&#20214;&#36827;&#34892;&#30452;&#25509;&#30340;&#19968;&#23457;&#20102;&#65292;&#24076;&#26395;&#21487;&#20197;&#21152;&#24555;&#22823;&#23478;&#30340;&#19968;&#23457;&#36895;&#24230;&#12290;
			</p><p>
&#21516;&#26102;&#25105;&#20063;&#24314;&#31435;&#20102;&#30456;&#20851;&#30340;build&#21450;&#30456;&#20851;&#30340;&#25991;&#20214;&#65292;&#24182;&#29983;&#25104;&#20102;&#20869;&#37096; CHM &#29256;&#26412;&#20102;&#65292;&#31561;&#32763;&#35793;&#38454;&#27573;&#30340;&#20219;&#21153;&#20840;&#37096;&#23436;&#25104;&#21518;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;build&#20986;&#31532;&#19968;&#20010;&#29256;&#26412;&#26469;&#20379;&#20869;&#37096;&#38405;&#35835;&#20102;&#12290;
			</p><p>
&#19968;&#23457;&#30340;&#24037;&#20316;&#26377;&#22235;&#20010;&#24320;&#22987;&#39046;&#21462;&#24182;&#24037;&#20316;&#65292;&#21152;&#27839;&#21162;&#21147;&#24178;&#21834;&#65292;&#20013;&#31179;&#23601;&#24555;&#35201;&#21040;&#20102;&#65292;&#25105;&#39532;&#19978;&#23601;&#35201;&#32473;&#22823;&#20249;&#21457;&#26376;&#39292;&#20102;&#21862;&#65306;&#65289;
			</p><p>
&#30001;&#20110; richard &#21516;&#23398;&#20020;&#26102;&#39033;&#30446;&#19978;&#39532;&#65292;&#26242;&#19988;&#19981;&#33021;&#32763;&#35793; groovy.xml &#31456;&#33410;&#65292;&#26377;&#20852;&#36259;&#30340;&#21516;&#23398;&#21487;&#20197;&#24320;&#22987;&#25250;&#21862;&#12290;&#12290;&#12290;&#19981;&#36807;&#25105;&#21487;&#23601;&#35201;&#36817;&#27700;&#27004;&#21488;&#20808;&#24471;&#26376;&#20102;&#21834;&#65306;&#65289;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;19&#26085;</b></span>
			</p><p>&#21448;&#26377;&#20004;&#20301;&#26032;&#21516;&#23398;&#30003;&#35831;&#21152;&#20837;&#20102;&#65292;&#35753;&#20182;&#20204;&#24037;&#20316;&#22312;&#35797;&#23457;&#19978;&#38754;&#65292;&#24453;&#35797;&#23457;&#36890;&#36807;&#21518;&#27491;&#24335;&#21152;&#20837;&#12290;

&#19968;&#23457;&#26377;&#20219;&#21153;&#23436;&#25104;&#24773;&#20917;&#65292;&#20219;&#21153;&#30003;&#35831;&#36827;&#24230;&#19981;&#38169;&#65292;&#32487;&#32493;&#21152;&#27833;&#21834;&#65292; groovy.xml &#20063;&#26377;&#20154;&#35748;&#39046;&#20102;&#65292;&#21160;&#20316;&#30495;&#24555;&#21834;&#65292;&#29616;&#22312;&#23601;&#26159; itext.xml &#30340;&#38382;&#39064;&#20102;&#65292;&#19981;&#30693;&#36947;&#25214;&#24471;&#22238;&#26469;&#19981;&#65311;&#25214;&#19981;&#22238;&#26469;&#23601;&#24471;&#37325;&#26032;&#24320;&#22987;&#32763;&#35793;&#20102;&#12290;
			</p><p>
&#21478;&#22806;&#65306;&#35797;&#35793;&#19982;&#35797;&#23457;&#30340;&#21516;&#23398;&#36895;&#24230;&#35201;&#21152;&#24555;&#19968;&#20123;&#21734;&#65306;&#65289; &#36825;&#20123;&#22825;&#25509;&#36830;&#21152;&#29677;&#65292;&#32047;&#65292;&#30524;&#30555;&#37117;&#30529;&#19981;&#24320;&#20102;&#12290;&#12290;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;21&#26085;</b></span>
			</p><p>groovy.xml &#32763;&#35793;&#23436;&#25104;&#65292;&#36895;&#24230;&#19981;&#38169;&#65292;&#26195;&#38050;&#30340; concepts.xml &#20063;&#32763;&#35793;&#23436;&#25104;&#20102;&#21862;&#65292;&#25105;&#21512;&#24182;&#20102;&#65292;kuuyee&#20063;&#24320;&#22987;&#19968;&#23457;&#20102;&#65292;&#25250;&#24471;&#30495;&#24555;&#65307;&#65289;conversations.xml&#12289;configuration.xml &#20063;&#32763;&#35793;&#21512;&#24182;&#23436;&#25104;&#65292;&#21487;&#20197;&#24320;&#22987;&#19968;&#23457;&#24037;&#20316;&#65292;&#22312;&#27491;&#24335;&#21152;&#20837;&#30340;&#25104;&#21592;&#24403;&#20013;&#65292;&#32763;&#35793;&#19982;&#19968;&#23457;&#30340;&#36827;&#24230;&#37117;&#19981;&#38169;&#12290;&#21807;&#19968;&#24863;&#21040;&#26377;&#28857;&#20799;&#36951;&#25022;&#30340;&#26159;&#21018;&#30003;&#35831;&#21152;&#20837;&#30340;&#21516;&#23398;&#20204;&#22312;&#35797;&#35793;&#19982;&#35797;&#23457;&#30340;&#36827;&#24230;&#19978;&#38754;&#22914;&#26524;&#33021;&#22815;&#35937;&#24050;&#27491;&#24335;&#21152;&#20837;&#30340;&#21516;&#23398;&#20204;&#30340;&#36895;&#24230;&#19968;&#26679;&#24555;&#30340;&#35805;&#65292;&#37027;&#23601;&#24456;&#22909;&#20102;&#12290;
			</p><p>
&#36817;&#26085;&#65292;&#31179;&#39118;&#36865;&#29245;&#65292;&#36827;&#20837;&#31179;&#22825;&#20102;&#65292;&#20013;&#31179;&#20063;&#23601;&#24555;&#21040;&#20102;&#12290;&#22312;&#36825;&#37324;&#25552;&#21069;&#32473;&#21516;&#23398;&#20204;&#21457;&#26376;&#39292;&#20102;&#65292;&#31069;&#22823;&#23478;&#20013;&#31179;&#33410;&#24555;&#20048;&#65281;&#26376;&#39292;
			</p><p>
&#23567;&#21608;&#21516;&#23398; yaza &#22312;&#19968;&#23457;&#30340;&#24037;&#20316;&#20013;&#30456;&#24403;&#30340;&#35748;&#30495;&#65292;&#23454;&#22312;&#26159;&#20329;&#26381;&#65281;&#65288;&#25484;&#22768;&#40723;&#21169;&#65292;&#21709;&#36215;&#26469;&#12290;&#12290;&#12290;&#65289;&#65292;&#35831;&#30475; &#19968;&#23457;&#20108;&#23457;&#20043;&#26368;&#20339;&#23454;&#36341;&#65292;&#23457;&#26657;&#32773;&#24517;&#30475; &#20182;&#25152;&#20570;&#30340;&#24037;&#20316;&#35760;&#24405;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;23&#26085;</b></span>
			</p><p>&#21040;&#20170;&#22825;&#26202;&#19978;&#20026;&#27490;&#65292;&#19968;&#23457;&#30340;&#24037;&#20316;&#26377;&#20116;&#20010;&#23436;&#25104;&#65292;&#19968;&#20010;&#23436;&#25104;80%&#65292;&#19977;&#20010;&#22312;&#19968;&#23457;&#20013;&#65292;&#25509;&#36817;&#19968;&#23457;&#24037;&#20316;&#37327;&#30340;20%&#65292;&#20294;&#26159; webservices.xml controls.xml tools.xml &#30340;&#35797;&#35793;&#24037;&#20316;&#36824;&#27809;&#26377;&#23436;&#25104;&#65292;itext.xml&#29616;&#22312;&#25214;&#19981;&#21040;&#21407;&#26469;&#30340;&#29256;&#26412;&#65292;&#32780;&#19988;Xu MingMing&#21516;&#23398;&#20063;&#19968;&#30452;&#27809;&#26377;&#25552;&#20132;&#19978;&#26469;&#65292;&#21482;&#33021;&#24320;&#22987;&#37325;&#26032;&#32763;&#35793;&#20102;&#12290;&#30446;&#21069;&#20063;&#23436;&#25104;20%&#24038;&#21491;&#20102;&#12290;&#19968;&#23457;&#30340;&#24037;&#20316;&#36824;&#38656;&#35201;&#22823;&#23478;&#30340;&#25346;&#21495;&#24320;&#24037;&#21834;&#12290;&#12290;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;26&#26085;</b></span>
			</p><p>&#22823;&#23478;&#26159;&#21542;&#36824;&#27785;&#37257;&#20110;&#20013;&#31179;&#20339;&#33410;&#30340;&#27426;&#20048;&#24403;&#20013;&#21568;&#65292;&#36817;&#26469;&#36827;&#24230;&#24456;&#19968;&#33324;&#21568;&#65292;&#21496;&#20196;&#24456;&#29983;&#27668;&#21568;&#12290;&#12290;&#12290;&#65306;&#65288;
			</p><p>
&#26377;&#26102;&#38388;&#30340;&#20804;&#24351;&#30475;&#30475;&#36827;&#24230;&#34920;&#22043;&#65292;&#30475;&#30475;&#26377;&#27809;&#26377;&#36866;&#21512;&#33258;&#24049;&#30340;&#23601;&#39046;&#21462;&#22238;&#23478;&#36807;&#33410;&#21568;&#12290;&#12290;&#12290;&#36807;&#23436;&#33410;&#23601;&#22238;&#24402;&#21040;CVS&#19978;&#22043;&#65307;&#65289;
			</p><p>
&#21478;&#22806;&#35201;&#25209;&#35780;&#19968;&#19979;
			</p><p>20. webservices.xml 	9K 	  	mazhao&#35797;&#35793;&#20013; 	  	  	Working 	2007-09-07
			</p><p>31. tools.xml 	23K 	9P 	junjzheng&#35797;&#35793;&#20013; 	  	  	  	2007-09-12
28. controls.xml 	47K 	13P 	huwenjiemaster&#35797;&#35793;&#20013; 	  	  	  	2007-09-13
			</p><p>
&#19977;&#20301;&#35797;&#35793;&#30340;&#21516;&#23398;&#65292;&#26102;&#38388;&#20063;&#22826;&#20037;&#20102;&#21543;&#65292;&#27492;&#37038;&#20214;&#21457;&#20986;&#21518;&#65292;&#22914;&#26524;&#36824;&#27809;&#26377;&#25910;&#21040;&#20320;&#20204;&#30340;&#30830;&#20999;&#22238;&#22797;&#30340;&#35805;&#65292;&#23601;&#20934;&#22791;&#21462;&#28040;&#20320;&#20204;&#30340;&#35797;&#35793;&#35831;&#27714;&#20102;&#65292;&#22810;&#35874;&#37197;&#21512;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;28&#26085;</b></span>
			</p><p>&#28909;&#28872;&#27426;&#36814; DigitalSonic &#22238;&#24402;&#22242;&#38431;&#65281; </p><p>
				<span class="bold"><b>2007&#24180;09&#26376;29&#26085;</b></span>
			</p><p>mazhao &#30340;&#30005;&#35805;&#27809;&#26377;&#20154;&#25509;&#21548;&#65292;junjzheng &#30005;&#35805;&#32852;&#31995;&#20102;&#65292;&#20182;&#22312;&#21162;&#21147;&#20013;&#65292;&#22269;&#24198;&#33410;&#21518;&#25552;&#20132;&#65292;huwenjiemaster &#30005;&#35805;&#32852;&#31995;&#36807;&#20102;&#65292;&#22240;&#36817;&#26399;&#20986;&#24046;&#26242;&#26102;&#21462;&#28040;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;09&#26376;30&#26085;</b></span>
			</p><p>&#38454;&#27573;&#24615;&#26376;&#24635;&#32467;&#65306;&#65299;&#65301;&#20010;&#23567;&#20219;&#21153;
			</p><p>
&#19968;&#12289;&#32763;&#35793;&#24773;&#20917;&#65306;&#23436;&#25104;&#65299;&#65297;&#20010;&#65292;&#36824;&#26377;&#65300;&#20010;&#22312;&#35797;&#35793;&#20013;
			</p><p>
16. itext.xml     51K     11P     topquan&#35797;&#35793;&#20013;
			</p><p>
20. webservices.xml     9K          mazhao&#35797;&#35793;&#20013;
			</p><p>
28. controls.xml     47K     13P     xukai&#35797;&#35793;
			</p><p>
31. tools.xml     23K     9P     junjzheng&#35797;&#35793;&#20013; 
			</p><p>
&#20108;&#12289;&#19968;&#23457;&#24773;&#20917;&#65306;&#23436;&#25104;&#65304;&#20010;&#65292;&#27491;&#22312;&#35797;&#23457;&#65301;&#20010;&#65292;&#19968;&#23457;&#24037;&#20316;&#36827;&#34892;&#20013;&#65300;&#20010;&#65292;&#20173;&#26410;&#30003;&#39046;&#65297;&#65304;&#20010;&#65288;&#21253;&#21547;&#65300;&#20010;&#35797;&#35793;&#65289;
			</p><p>
&#22269;&#24198;&#33410;&#21516;&#20048;&#65281;&#26377;&#26102;&#38388;&#26469;&#20851;&#27880;&#20851;&#27880;&#19968;&#19979;&#65306;&#65289; </p><p>
				<span class="bold"><b>2007&#24180;10&#26376;07&#26085;</b></span>
			</p><p>&#22269;&#24198;&#38271;&#20551;&#32467;&#26463;&#20102;&#65292;&#19971;&#22825;&#26102;&#38388;&#22823;&#23478;&#29609;&#24471;&#24320;&#24515;&#19981;&#65311;&#21035;&#24536;&#35760;&#25226;&#21435;&#29609;&#30340;&#24515;&#24471;&#19982;&#30456;&#29255; Share &#20986;&#26469;&#21568;&#65306;&#65289; 
			</p><p>
&#22312;&#36825;&#27425;&#22269;&#24198;&#38271;&#20551;&#37324;&#65292;&#25105;&#20204;&#30340; DigitalSonic &#21516;&#23398;&#23436;&#25104;&#20102; 3 &#20010;&#19968;&#23457;&#65292;&#26361;&#26195;&#38050;&#21516;&#23398;&#23436;&#25104;&#20102; 3 &#20010;&#19968;&#23457;&#65292;yeshucheng &#21516;&#23398;&#23436;&#25104;&#20102; 1 &#20010;&#19968;&#23457;&#65292;1 &#20010;&#22312;&#36827;&#34892;&#20013;&#65292;&#22823;&#23478;&#40723;&#25484;&#65288;&#25484;&#22768;&#29031;&#26679;&#21709;&#36215;&#26469;&#12290;&#12290;&#12290;&#65289;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;09&#26085;</b></span>
			</p><p>&#25910;&#21040;&#19968;&#20010;&#35797;&#35793;&#30340;&#21453;&#39304;&#32467;&#26524;&#65292;&#26195;&#38050;&#36827;&#34892;&#20102;&#20840;&#25991;&#25209;&#27880;&#19982;&#19968;&#23457;&#65292; yeshucheng &#21516;&#23398;&#20063;&#23436;&#25104;&#20102; 1 &#20010;&#19968;&#23457;&#12290;&#20854;&#23427;&#21516;&#23398;&#20272;&#35745;&#37117;&#36824;&#27809;&#26377;&#20174;&#38271;&#20551;&#32508;&#21512;&#30151;&#24674;&#22797;&#36807;&#26469;&#65306;&#65289;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;11&#26085;</b></span>
			</p><p>Hi&#65292;&#21508;&#20301;&#65292;&#37266;&#37266;&#21834;&#65292;&#24590;&#20040;&#27809;&#26377;&#21160;&#38745;&#21602;&#65311; &#38271;&#20551;&#32508;&#21512;&#30151; continuing ... &#65306;&#65288;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;13&#26085;</b></span>
			</p><p>&#27426;&#36814;&#19968;&#20301;&#26032;&#21516;&#23398;&#30340;&#30003;&#35831;&#21152;&#20837;&#65292;&#20272;&#35745;&#22823;&#23478;&#20877;&#20241;&#24687;&#23436;&#36825;&#19968;&#21608;&#21518;&#20803;&#27668;&#24212;&#24403;&#21487;&#20197;&#24674;&#22797;&#36807;&#26469;&#20102;&#21834;&#12290;&#12290;&#12290;&#38271;&#20551;&#32508;&#21512;&#30151; continuing ... &#65306;&#65288;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;15&#26085;</b></span>
			</p><p>&#20170;&#22825;&#26159;&#19968;&#20010;&#29305;&#27530;&#30340;&#26085;&#23376;&#65281;
			</p><p>
&#30001;&#20110;&#20004;&#27425;&#26080;&#27861;&#32852;&#31995;&#19978; webservices.xml &#30340;&#35797;&#35793;&#32773;&#65292;&#29616;&#23558;&#20043;&#21462;&#28040;&#65292;&#21478;&#30005;&#35805;&#32852;&#31995;&#20102; itext.xml &#35797;&#35793;&#20102;20%&#30340;&#21516;&#23398;&#65292;&#20182;&#20063;&#22240;&#26102;&#38388;&#20851;&#31995;&#32780;&#26080;&#27861;&#32487;&#32493;&#21442;&#19982;&#36827;&#26469;&#65292;&#20063;&#23558;&#27492;&#20219;&#21153;&#26242;&#26102;&#21462;&#28040;&#12290;&#20854;&#23427;&#21516;&#23398;&#21487;&#20197;&#32487;&#32493;&#39046;&#21462;&#20102;&#65292;&#35831;&#35797;&#23457;&#30340;&#21516;&#23398;&#19982;&#26412;&#21608;&#26411;&#20043;&#21069;&#25552;&#20132;&#35797;&#23457;&#30340;&#32467;&#26524;&#65292;&#36807;&#20102;&#26412;&#21608;&#26411;&#20043;&#21518;&#65292;&#23558;&#33258;&#21160;&#21462;&#28040;&#20320;&#30340;&#20219;&#21153;&#19982;&#21152;&#20837;&#35831;&#27714;&#65292;&#35874;&#35874;&#65281;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;19&#26085;</b></span>
			</p><p>&#37117;&#22312;&#21442;&#21152;&#20195;&#34920;&#22823;&#20250;&#65292;&#24537;&#30860;&#20013;&#12290;&#12290;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;21&#26085;</b></span>
			</p><p>&#36825;&#20004;&#22825;&#65292;&#25105;&#20877;&#27425;&#36992;&#35831;&#21040;&#20004;&#20301;&#26032;&#21516;&#23398;&#21152;&#20837;&#25105;&#20204;&#30340;&#22242;&#38431;&#20102;&#12290;
			</p><p>
&#32763;&#35793;&#24037;&#20316;&#21482;&#21097;&#19979;&#19977;&#20010;&#35797;&#35793;&#30340;&#24037;&#20316;&#65292;&#24076;&#26395;&#33021;&#22815;&#22312;&#26412;&#21608;&#20043;&#20869;&#23436;&#25104;&#20840;&#37096;&#30340;&#32763;&#35793;&#24037;&#20316;&#12290;
			</p><p>
&#19968;&#23457;&#24037;&#20316;&#36824;&#26377;&#65302;&#20010;&#27809;&#26377;&#20154;&#39046;&#21462;&#30340;&#65292;&#20197;&#30446;&#21069;&#30340;&#36827;&#24230;&#26469;&#30475;&#65292;&#65297;&#65297;&#26376;&#65301;&#21495;&#25105;&#20204;&#24212;&#24403;&#21487;&#20197;&#39044;&#26399;&#23436;&#25104;&#32763;&#35793;&#30340;&#20840;&#37096;&#24037;&#20316;&#12290;&#24182;&#19988;&#25105;&#20204;&#30340;&#19968;&#23457;&#24037;&#20316;&#20063;&#25552;&#21069;&#36827;&#34892;&#24182;&#23436;&#25104;&#20102;&#32422;&#65301;&#65296;&#65285;&#65292;&#21487;&#20197;&#20048;&#35266;&#22320;&#20272;&#35745;&#25105;&#20204;&#24212;&#35813;&#33021;&#22815;&#25353;&#26102;&#23436;&#25104;&#27492;&#27425;&#30340;&#32763;&#35793;&#24037;&#20316;&#65292;&#24863;&#35874;&#22823;&#23478;&#36825;&#19968;&#27573;&#26102;&#38388;&#20197;&#26469;&#30340;&#36763;&#33510;&#24037;&#20316;&#19982;&#21162;&#21147;&#22857;&#29486;&#65281;&#35874;&#35874;&#65281;
			</p><p>
&#20108;&#23457;&#24037;&#20316;&#20063;&#21487;&#20197;&#21516;&#27493;&#24320;&#22987;&#36827;&#34892;&#20102;&#65292;&#24076;&#26395;&#26377;&#26102;&#38388;&#30340;&#21516;&#23398;&#31215;&#26497;&#22320;&#36827;&#34892;&#39046;&#21462;&#19982;&#23457;&#26657;&#65281;
			</p><p>
&#21162;&#21147;&#65281;&#21162;&#21147;&#65281;&#20877;&#21162;&#21147;&#65281;&#25105;&#20204;&#19968;&#23450;&#21487;&#20197;&#23436;&#25104;&#36825;&#27425;&#20809;&#33635;&#30340;&#20219;&#21153;&#65306;&#65289; &#35874;&#35874;&#65281;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;24&#26085;</b></span>
			</p><p>&#21916;&#21916;&#21916;&#65306;
			</p><p>
1&#12289;&#21313;&#19971;&#22823;&#20250;&#35758;&#32988;&#21033;&#22278;&#28385;&#22320;&#38381;&#24149;&#20102;&#65281;
			</p><p>
2&#12289;&#23270;&#23077;&#19968;&#21495;&#20170;&#22825;&#26202;&#19978;&#20063;&#25104;&#21151;&#21457;&#23556;&#65292;&#24182;&#27491;&#24120;&#36827;&#20837;&#22320;&#29699;&#36712;&#36947;&#20102;&#65281;
			</p><p>
3&#12289;&#25105;&#20204;&#30340;&#32763;&#35793;&#20219;&#21153;&#20063;&#21482;&#21097;&#26368;&#21518;&#19968;&#20010;&#30340;20%&#30340;&#35797;&#35793;&#20102;&#65281;
			</p><p>
4&#12289;&#19968;&#23457;&#24037;&#20316;&#20063;&#22312;&#32039;&#24352;&#22320;&#36827;&#34892;&#20013;&#65292;&#24076;&#26395;&#22823;&#23478;&#32487;&#32493;&#39046;&#21462;&#20219;&#21153;&#65281;
			</p><p>
5&#12289;&#24320;&#20010;&#23567;&#20250;&#65292;&#29616;&#22312;Seam 2.0.0&#20986;&#20102;RC2&#20102;&#65292;&#25105;&#20204;&#30340;&#20108;&#23457;&#24037;&#20316;&#26159;&#21542;&#32771;&#34385;&#20877;&#27425;&#36827;&#34892;&#21512;&#24182;&#21602;&#65311;&#36824;&#26159;&#31561;&#27491;&#24335;&#29256;&#20986;&#26469;&#21518;&#20877;&#36827;&#34892;&#21512;&#24182;&#65311;
			</p><p># 05.10.2007: Seam 2.0.0.CR2 has been released.
			</p><p># 18.09.2007: Seam 2.0.0.CR1 has been released.
			</p><p># 27.06.2007: Seam 2.0.0.BETA1 has been released.
			</p><p>
&#19978;&#38754;&#26159;Seam&#30340;&#21457;&#24067;&#26102;&#38388;&#65292;&#20272;&#35745;CR2&#21518;&#24212;&#24403;&#23601;&#26159;&#27491;&#24335;&#29256;&#20102;&#21543;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;25&#26085;</b></span>
			</p><p>&#19981;&#21916;&#19981;&#21916;&#65306;
			</p><p>
&#26368;&#21518;&#19968;&#20301;&#35797;&#35793;&#30340;&#32463;&#30005;&#35805;&#32852;&#31995;&#20063;&#22240;&#26102;&#38388;&#20851;&#31995;&#21487;&#33021;&#26080;&#27861;&#20840;&#37096;&#23436;&#25104;&#20102;&#12290;
			</p><p>
&#35797;&#35793;&#30340;&#20004;&#20301;&#21516;&#23398;&#30005;&#35805;&#32852;&#31995;&#21518;&#20063;&#22240;&#21508;&#33258;&#30340;&#21407;&#22240;&#32780;&#36864;&#20986;&#20102;&#12290;
			</p><p>
&#27809;&#26377;&#20851;&#31995;&#65292;&#26412;&#21608;&#26411;&#30340;&#30446;&#26631;&#26159;&#23436;&#25104;&#25152;&#26377;&#30340;&#32763;&#35793;&#20219;&#21153;&#65292;&#24182;&#20105;&#21462;&#19968;&#23457;&#23436;&#25104;99%&#65306;&#65289;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;27&#26085;</b></span>
			</p><p>&#30475;&#26469;&#26368;&#21518;&#19968;&#20301;&#35797;&#35793;&#30340;&#21516;&#23398;&#20063;&#26080;&#27861;&#21450;&#26102;&#23436;&#25104;&#20219;&#21153;&#20102;&#12290;&#12290;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;29&#26085;</b></span>
			</p><p>xukai&#30340;&#35797;&#35793;&#24037;&#20316;&#24182;&#27809;&#26377;&#23436;&#25104;&#65292;&#24182;&#19988;&#22312;&#30005;&#35805;&#36890;&#30693;&#19977;&#22825;&#21518;&#20063;&#27809;&#26377;&#25552;&#20132;&#20219;&#21153;&#36827;&#24230;&#24773;&#20917;&#19982;&#25991;&#26723;&#65292;&#29305;&#27492;&#21462;&#28040;&#20854;&#35797;&#35793;&#36164;&#26684;&#65281;</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;29&#26085;</b></span>
			</p><p>&#37324;&#31243;&#30865;&#20107;&#20214;&#65306;

			</p><p>
&#32463;&#36807;&#36817;&#20004;&#20010;&#26376;&#21162;&#21147;&#22859;&#25112;&#65292;&#21040;&#20170;&#22825;&#20026;&#27490;&#65292;&#32763;&#35793;&#24037;&#20316;&#20840;&#37096;&#23436;&#25104;&#65292;&#22312;&#27492;&#24863;&#35874;&#25152;&#26377;&#21442;&#19982;&#30340;&#32763;&#35793;&#20154;&#21592;&#65281;&#35874;&#35874;&#20320;&#20204;&#20102;&#65292;&#36763;&#33510;&#20102;&#65281;
</p><p>
&#29616;&#23558;&#32763;&#35793;&#30340;&#24037;&#20316;&#20219;&#21153;&#36827;&#34892;&#32479;&#35745;&#22914;&#19979;&#65306;&#65288;&#25353;&#23436;&#25104;&#30340;&#20219;&#21153;&#20010;&#25968;&#30340;&#22810;&#23569;&#65292;&#24182;&#19981;&#20934;&#30830;&#65292;&#22240;&#20026;&#26377;&#39029;&#25968;&#30340;&#20851;&#31995;&#65289;
		</p><p>
				</p><div class="table"><a name="d0e21380"></a><p class="title"><b>Table&nbsp;A.1.&nbsp;&#21442;&#19982;&#20154;&#21592;&#21015;&#34920;</b></p><table summary="&#21442;&#19982;&#20154;&#21592;&#21015;&#34920;" width="100%" border="1"><colgroup><col align="center"><col align="center"><col align="center"><col><col></colgroup><thead><tr><th align="center">&#32763;&#35793;&#20154;&#21592;</th><th align="center">&#23436;&#25104;&#30340;&#32763;&#35793;&#24037;&#20316;&#37327;</th><th align="center">&#22791;&#27880;</th><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr></thead><tbody><tr><td align="center">yeshucheng</td><td align="center">4</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">CaoXiaogang</td><td align="center">3</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">DigitalSonic</td><td align="center">3</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">crazycy</td><td align="center">2</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">Echo</td><td align="center">2</td><td align="center">&#22899;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">seanchan</td><td align="center">2</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">YuLimin</td><td align="center">2</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">YY</td><td align="center">2</td><td align="center">&#22899;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">agile_boy</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">alexchang</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">caoer</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">chentianyi</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">downpour</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">jiaochar</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">junjzheng</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">kuuyee</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">lyfcdy</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">magice</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">mochow</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">pesome</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">yeby</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr><tr><td align="center">&#24046;&#27801;</td><td align="center">1</td><td align="center">&nbsp;</td><td class="auto-generated">&nbsp;</td><td class="auto-generated">&nbsp;</td></tr></tbody></table></div><p>
			</p><p>
				<span class="bold"><b>2007&#24180;10&#26376;31&#26085;</b></span>
			</p><p>&#19968;&#23457;&#24037;&#20316;&#24418;&#21183;&#20173;&#27604;&#36739;&#20005;&#23803;&#21834;&#65306;
</p><p>
&#30001;&#20110;&#19968;&#30452;&#32852;&#31995;&#19981;&#19978;&#26080;&#38177;prajack&#35768;&#26480;&#21516;&#23398;&#65292;&#25925;&#23558;&#20854;&#35797;&#23457;&#30340;&#26435;&#21033;&#21462;&#28040;&#12290;
</p><p>
&#30446;&#21069;&#19968;&#23457;&#26410;&#23436;&#25104;&#30340;&#24773;&#20917;&#22914;&#19979;&#65306;
</p><p>
&#19968;&#23457;&#20013;&#30340;&#26377; &#65304;&#20010;&#65292;&#20173;&#26377;&#65299;&#20010;&#19968;&#23457;&#24037;&#20316;&#31561;&#24453;&#35748;&#39046;&#20013;&#12290;&#20849;&#35745;&#65297;&#65297;&#20010;&#24037;&#20316;&#20219;&#21153;&#65292; &#30456;&#23545;&#20110;&#65299;&#65300;&#20010;&#20219;&#21153;&#32780;&#35328;&#65292;&#29616;&#22312;&#20026;&#27490;&#25165;&#23436;&#25104;&#65302;&#65296;&#65285;&#65292;&#65300;&#21608;&#20043;&#20869;&#35201;&#23436;&#25104;&#30340;&#24418;&#21183;&#36824;&#26159;&#27604;&#36739;&#22256;&#38590;&#21834;&#12290;&#35201;&#21162;&#21147;&#21834;&#65281;&#65281;&#65281;
			</p><p>
				<span class="bold"><b>2007&#24180;11&#26376;05&#26085;</b></span>
			</p><p>&#19968;&#23457;&#32487;&#32493;&#36827;&#34892;&#20013;&#65292;&#24050;&#32463;&#23436;&#25104;&#19968;&#20010;&#65292;&#26032;&#20219;&#21153;&#20063;&#34987;&#35748;&#39046;&#20102;&#19968;&#20010;&#12290;&#29616;&#22312;Seam 2.0.0 GA&#20063;&#20986;&#26469;&#20102;&#65292;&#25105;&#19979;&#36733;&#20102;xml&#25991;&#26723;&#65292;&#23545;&#27604;&#20102;&#19968;&#19979;&#65292;&#20462;&#25913;&#30340;&#22320;&#26041;&#19981;&#22810;&#65292;&#20105;&#21462;&#22312;&#20108;&#23457;&#30340;&#26102;&#20505;&#36827;&#34892;&#21512;&#24182;&#65292;&#21516;&#27493;&#21457;&#24067;&#20013;&#25991;&#29256;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;11&#26376;07&#26085;</b></span>
			</p><p>&#12290;&#12290;&#12290;&#12290;&#12290;&#12290;&#32487;&#32493;&#21162;&#21147;&#24178;&#27963;&#20013;&#12290;&#12290;&#12290;&#12290;&#12290;&#12290; </p><p>
				<span class="bold"><b>2007&#24180;11&#26376;09&#26085;</b></span>
			</p><p>&#19968;&#23457;&#24037;&#20316;&#37117;&#26377;&#21516;&#23398;&#35748;&#39046;&#20102;&#65292;&#21482;&#21097;&#19979;&#20116;&#20010;&#24037;&#20316;&#20219;&#21153;&#23601;&#23436;&#25104;&#19968;&#23457;&#24037;&#20316;&#20102;&#65292;&#25552;&#21069;&#23436;&#25104;&#19968;&#23457;&#30340;&#20840;&#37096;&#24037;&#20316;&#26159;&#32988;&#21033;&#22312;&#26395;&#20102;&#21834;&#12290;&#12290;&#12290;&#21152;&#27833;&#21834;&#12290;&#12290;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;11&#26376;11&#26085;</b></span>
			</p><p>&#26412;&#26469;&#26159;&#24819;2007.11.11 11:11:11&#21457;&#24067;&#39044;&#35272;&#29256;&#65292;&#26080;&#22856;&#33410;&#26085;&#21040;&#20102;&#65292;&#20154;&#37117;&#36305;&#20809;&#20102;&#65292;&#20219;&#21153;&#20063;&#23601;&#12290;&#12290;&#12290;&#21704;&#21704;&#21704;&#12290;&#12290;&#12290;11111111111&#33410;&#24555;&#20048;&#12290;&#12290;&#12290;</p><p>
				<span class="bold"><b>2007&#24180;11&#26376;13&#26085;</b></span>
			</p><p>
&#36827;&#23637;&#39034;&#21033;&#65292;&#19968;&#23457;&#24037;&#20316;&#36824;&#26377;&#19968;&#20010;&#23601;&#20840;&#37096;&#23436;&#25104;&#20102;&#65292;&#29616;&#22312;&#24320;&#22987;&#30528;&#25163;&#20934;&#22791;&#39044;&#35272;&#29256;&#30340;&#21457;&#24067;&#19982;&#20108;&#23457;&#30340;&#24037;&#20316;&#20102;&#12290;
			</p><p>
&#20108;&#23457;&#30340;&#24037;&#20316;&#23558;&#20197;&#27491;&#24335;&#29256;&#36827;&#34892;&#21512;&#24182;&#21518;&#24320;&#22987;&#20108;&#23457;&#12290; 
			</p><p>
				<span class="bold"><b>2007&#24180;11&#26376;14&#26085;</b></span>
			</p><p>
				<span class="bold"><b>&#37324;&#31243;&#30865;&#20107;&#20214;&#65306;</b></span>
			</p><p>
&#19968;&#23457;&#24037;&#20316;&#32467;&#26463;&#65292;&#20108;&#23457;&#24037;&#20316;&#20934;&#22791;&#20013;&#65292;&#21512;&#24182;&#21040;&#65319;&#65313;&#29256;&#30340;&#24037;&#20316;&#25105;&#24050;&#32463;&#23436;&#25104;&#20102;&#65292;&#20108;&#23457;&#30340;&#24037;&#20316;&#37319;&#21462;Leader&#20998;&#37197;&#21046;&#65292;&#24182;&#30001;&#20219;&#21153;&#36131;&#20219;&#32773;&#23436;&#25104;&#20219;&#21153;&#12290;
</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21593"></a>A.2.3.&nbsp;Seam 2.0 &#27491;&#24335;&#29256;&#24320;&#21457;&#25163;&#20876;&#32763;&#35793;&#39033;&#30446;</h3></div></div><div></div></div><p>
				<span class="bold"><b>2007&#24180;11&#26376;15&#26085;</b></span>
			</p><p>
			&#20108;&#23457;&#21512;&#24182;&#24037;&#20316;&#23436;&#25104;&#65292;&#20108;&#23457;&#30340;&#24037;&#20316;&#24320;&#22987;&#20102;&#12290;&#26368;&#21518;&#19968;&#20851;&#30340;&#23457;&#26680;&#24037;&#20316;&#65292;&#38656;&#35201;&#22312;&#23457;&#26657;&#30340;&#36807;&#31243;&#20013;&#25226;&#19968;&#20123;&#26415;&#35821;&#38598;&#20013;&#20986;&#26469;&#25918;&#21040;&#26415;&#35821;&#34920;&#20013;&#21435;&#12290;
			</p><p>
&#26415;&#35821;&#34920;&#65306;<a href="http://wiki.redsaga.com/confluence/pages/viewpage.action?pageId=1751" target="_top">http://wiki.redsaga.com/confluence/pages/viewpage.action?pageId=1751</a>
			</p><p>
&#27880;&#24847;&#65306;&#35831;&#26356;&#26032;CVS&#30340;&#20869;&#23481;&#65292;&#20108;&#23457;&#26159;&#22312; cn2.0.0GA &#30446;&#24405;&#19979;&#36827;&#34892;&#30340;&#65281;
			</p><p>
				<span class="bold"><b>2007&#24180;11&#26376;17&#26085;</b></span>
			</p><p>
			&#20108;&#23457;&#30340;&#20219;&#21153;&#36824;&#26159;&#27604;&#36739;&#33392;&#24040;&#30340;&#65292;&#25110;&#35768;&#24310;&#26399;&#26159;&#19981;&#21487;&#36991;&#20813;&#30340;&#65292;&#20294;&#26159;&#36136;&#37327;&#25226;&#20851;&#26159;&#31532;&#19968;&#35201;&#32032;&#12290;&#21152;&#27833;&#12290;&#12290;&#12290;
			</p><p>
				<span class="bold"><b>2007&#24180;12&#26376;22&#26085;</b></span>
			</p><p>
			&#22826;&#22810;&#20107;&#24773;&#22826;&#22810;&#35805;&#35201;&#35828;&#20102;&#12290;&#37027;&#23601;&#31616;&#26126;&#25212;&#35201;&#21543;&#65306;&#20908;&#33267;&#33410;&#24555;&#20048;&#65281;&#65281;&#65281; 
			</p><p>
				<span class="bold"><b>2007&#24180;12&#26376;24&#26085;</b></span>
			</p><p>
			&#38750;&#24120;&#39640;&#20852;&#25105;&#20204;&#21448;&#26377;&#20004;&#20301;&#28418;&#20142;&#30340;MM&#65288;&#29579;&#29747;&#12289;&#32993;&#29141;&#65289;&#21152;&#20837;&#25105;&#20204;&#30340;&#32763;&#35793;&#38431;&#20237;&#20013;&#26469;&#20102;&#65292;&#29616;&#22312;&#25105;&#20204;&#30340;&#38431;&#20237;&#21040;&#20102;"&#30007;&#22899;&#25645;&#37197;&#65292;&#24178;&#27963;&#19981;&#32047;"&#30340;&#20849;&#20135;&#20027;&#20041;&#38454;&#27573;&#20102;&#65281;&#65306;&#65289;
			</p><p>
				<span class="bold"><b>2007&#24180;12&#26376;30&#26085;</b></span>
			</p><p>
			&#25152;&#26377;&#30340;&#20108;&#23457;&#24037;&#20316;&#23436;&#25104;&#65292;&#21457;&#24067;RC&#29256;&#65292;&#24863;&#35874;&#25152;&#26377;&#21442;&#21152;&#32763;&#35793;&#19982;&#23457;&#26657;&#30340;&#20804;&#24351;&#22992;&#22969;&#20204;&#65292;&#24863;&#35874;&#19968;&#30452;&#20851;&#27880;&#25105;&#20204;&#32763;&#35793;&#27963;&#21160;&#30340;&#26379;&#21451;&#20204;&#65292;&#35874;&#35874;&#20320;&#20204;&#20102;&#65281;&#65281;&#65281;
			</p><p>
				<span class="bold"><b>2008&#24180;03&#26376;27&#26085;</b></span>
			</p><p>
			&#28385;&#27743;&#32418;&#24320;&#25918;&#25216;&#26415;&#30740;&#31350;&#32452;&#32455;&#21457;&#24067;Seam 2.0&#20013;&#25991;&#25991;&#26723;&#27491;&#24335;&#29256;
			</p>
			&#19977;&#20010;&#26376;&#21069;&#65292;&#25105;&#20204;&#21457;&#24067;&#20102;RC&#29256;&#65292;&#35814;&#35265;&#65306;
			<p>
			<a href="http://yulimin.javaeye.com/blog/151917" target="_top">http://yulimin.javaeye.com/blog/151917</a>
			</p><p>
			&#29616;&#22312;&#25105;&#20204;&#27491;&#24335;&#21457;&#24067;Seam 2.0&#20013;&#25991;&#25991;&#26723;&#27491;&#24335;&#29256;&#65292;&#24076;&#26395;&#23545;&#22823;&#23478;&#26377;&#25152;&#24110;&#21161;&#65292;&#35874;&#35874;&#12290;
			</p><p>
			&#21516;&#26102;&#65292;&#20877;&#27425;&#24863;&#35874;&#29579;&#29747;&#12289;&#39532;&#36234;&#12289;&#26195;&#38050;&#22312;&#21457;&#24067;RC&#29256;&#21518;&#65292;&#23545;&#20840;&#37096;&#35793;&#25991;&#36827;&#34892;&#36890;&#35835;&#65292;&#21457;&#29616;&#24182;&#32416;&#27491;&#20854;&#20013;&#30340;&#38382;&#39064;&#12290;
			</p><p>
			&#34429;&#28982;&#25105;&#20204;&#27491;&#24335;&#23459;&#24067;&#27491;&#24335;&#29256;&#21457;&#24067;&#65292;&#20294;&#26159;&#20063;&#24076;&#26395;&#24191;&#22823;&#26379;&#21451;&#33021;&#22815;&#22312;&#38405;&#35835;&#30340;&#36807;&#31243;&#33509;&#21457;&#29616;&#26377;&#30097;&#38382;&#30340;&#22320;&#26041;&#65292;&#21450;&#26102;&#25552;&#20986;&#26469;&#36827;&#34892;&#35752;&#35770;&#24182;&#21152;&#20197;&#20462;&#27491;&#65292;&#20849;&#21516;&#25552;&#39640;&#25991;&#26723;&#30340;&#36136;&#37327;&#65292;&#20849;&#21516;&#20026;&#24320;&#28304;&#27963;&#21160;&#36129;&#29486;&#33258;&#24049;&#30340;&#19968;&#20221;&#21147;&#37327;&#12290;
			</p><p>
			&#26368;&#21518;&#65292;&#24863;&#35874;&#25152;&#26377;&#21442;&#19982;&#32763;&#35793;&#19982;&#23457;&#26657;&#30340;&#20804;&#24351;&#22992;&#22969;&#20204;&#65292;&#25152;&#26377;&#30340;&#20154;&#21592;&#37117;&#23558;&#33719;&#24471;&#27492;&#27425;&#27963;&#21160;&#30340;&#32426;&#24565;&#19987;&#39064; T-Shirt &#19968;&#20214;&#65281;&#35831;&#22312;&#36825;&#37324;&#36827;&#34892;&#30331;&#35760;&#19982;&#39046;&#21462;&#12290;
			</p><p>
			<a href="http://wiki.redsaga.com/confluence/pages/viewpage.action?pageId=2791" target="_top">http://wiki.redsaga.com/confluence/pages/viewpage.action?pageId=2791</a>
			</p><p>
			&#38169;&#35823;&#38590;&#20813;&#65292;&#26377;&#21017;&#25913;&#20043;&#65292;&#26080;&#21017;&#21152;&#21193;&#65281;
			</p><p>
			&#22312;&#32447;&#38405;&#35835;&#19982;&#19979;&#36733;&#22320;&#22336;&#35814;&#35265;&#65306;
			</p><p>
			<a href="http://wiki.redsaga.com/confluence/display/SeamRef/Home" target="_top">http://wiki.redsaga.com/confluence/display/SeamRef/Home</a>
			</p></div></div></div></div></body></html>