<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>5.&nbsp;Maven Dependency Management</title><link rel="stylesheet" href="css/manual-multipage.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="Spring for Android Reference Documentation"><link rel="up" href="index.html" title="Spring for Android Reference Documentation"><link rel="prev" href="core.html" title="4.&nbsp;Core Module"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.&nbsp;Maven Dependency Management</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="core.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;</td></tr></table><hr></div><div class="chapter" title="5.&nbsp;Maven Dependency Management"><div class="titlepage"><div><div><h2 class="title"><a name="spring-android-maven"></a>5.&nbsp;Maven Dependency Management</h2></div></div></div>

  

  <div class="section" title="5.1&nbsp;Introduction"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="maven-example-introduction"></a>5.1&nbsp;Introduction</h2></div></div></div>
  
	
	
	<p>An alternative to downloading the individual library jars yourself is to use Maven for dependency management. The <a class="ulink" href="http://code.google.com/p/maven-android-plugin" target="_top">Android Maven Plugin</a> allows developers to utilize Maven's dependency management capabilities within an Android application. Additionally, the <a class="ulink" href="http://rgladwell.github.com/m2e-android/" target="_top">Android Configurator for M2E</a> bridges the Maven Android Plugin and the <a class="ulink" href="http://developer.android.com/sdk/eclipse-adt.html" target="_top">Android Development Tools (ADT)</a> to allow the use of dependency management within Eclipse.</p>
	
  </div>

  <div class="section" title="5.2&nbsp;SpringSource Repository"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e661"></a>5.2&nbsp;SpringSource Repository</h2></div></div></div>
	
	
	
	<p>The following repositories are available for all SpringSource projects. Much more information is available at the <a class="ulink" href="https://github.com/SpringSource/spring-framework/wiki/SpringSource-repository-FAQ" target="_top">SpringSource Repository FAQ</a>.</p>
	
	<p>Release versions, such as 1.0.0.RELEASE, are available through <a class="ulink" href="http://search.maven.org/" target="_top">Maven Central</a> or via the <a class="ulink" href="http://repo.springsource.org/" target="_top">SpringSource Repository</a>:

		</p><pre class="programlisting">
<span class="hl-tag">&lt;repository&gt;</span>
    <span class="hl-tag">&lt;id&gt;</span>springsource-repo<span class="hl-tag">&lt;/id&gt;</span>
    <span class="hl-tag">&lt;name&gt;</span>SpringSource Repository<span class="hl-tag">&lt;/name&gt;</span>
    <span class="hl-tag">&lt;url&gt;</span>http://repo.springsource.org/release<span class="hl-tag">&lt;/url&gt;</span>
<span class="hl-tag">&lt;/repository&gt;</span>
		</pre><p>

	</p>

	<p>If you are developing against a milestone version, such as 1.0.0.RC2, you will need to add the following repository in order to resolve the artifact:

		</p><pre class="programlisting">
<span class="hl-tag">&lt;repository&gt;</span>
    <span class="hl-tag">&lt;id&gt;</span>springsource-milestone<span class="hl-tag">&lt;/id&gt;</span>
    <span class="hl-tag">&lt;name&gt;</span>SpringSource Milestone Repository<span class="hl-tag">&lt;/name&gt;</span>
    <span class="hl-tag">&lt;url&gt;</span>http://repo.springsource.org/milestone<span class="hl-tag">&lt;/url&gt;</span>
<span class="hl-tag">&lt;/repository&gt;</span>
		</pre><p>

	</p>

	<p>If you are testing out the latest nightly build version (e.g. 1.0.1.BUILD-SNAPSHOT), you will need to add the following repository:

		</p><pre class="programlisting">
<span class="hl-tag">&lt;repository&gt;</span>
    <span class="hl-tag">&lt;id&gt;</span>springsource-snapshot<span class="hl-tag">&lt;/id&gt;</span>
    <span class="hl-tag">&lt;name&gt;</span>SpringSource Snapshot Repository<span class="hl-tag">&lt;/name&gt;</span>
    <span class="hl-tag">&lt;url&gt;</span>http://repo.springsource.org/snapshot<span class="hl-tag">&lt;/url&gt;</span>
<span class="hl-tag">&lt;/repository&gt;</span>
		</pre><p>

	</p>
	
  </div>
  
  <div class="section" title="5.3&nbsp;Example POM"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="maven-example-pom"></a>5.3&nbsp;Example POM</h2></div></div></div>
  
	
	
	<p>The following <a class="ulink" href="http://maven.apache.org/guides/introduction/introduction-to-the-pom.html" target="_top">Maven POM file</a> from the <a class="ulink" href="https://github.com/SpringSource/spring-android-samples" target="_top">Spring for Android Showcase</a> sample application, illustrates how to configure the <a class="ulink" href="http://code.google.com/p/maven-android-plugin" target="_top">Maven Android Plugin</a> and associated dependencies for use with Spring for Android and Spring Social.</p>
	
	<pre class="programlisting">
<span class="hl-tag">&lt;project</span> <span class="hl-attribute">xmlns</span>=<span class="hl-value">"http://maven.apache.org/POM/4.0.0"</span> <span class="hl-attribute">xmlns:xsi</span>=<span class="hl-value">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hl-attribute">xsi:schemaLocation</span>=<span class="hl-value">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="hl-tag">&gt;</span>
    <span class="hl-tag">&lt;modelVersion&gt;</span>4.0.0<span class="hl-tag">&lt;/modelVersion&gt;</span>

    <span class="hl-tag">&lt;groupId&gt;</span>org.springframework.android<span class="hl-tag">&lt;/groupId&gt;</span>
    <span class="hl-tag">&lt;artifactId&gt;</span>spring-android-showcase-client<span class="hl-tag">&lt;/artifactId&gt;</span>
    <span class="hl-tag">&lt;version&gt;</span>1.0.1.BUILD-SNAPSHOT<span class="hl-tag">&lt;/version&gt;</span>
    <span class="hl-tag">&lt;packaging&gt;</span>apk<span class="hl-tag">&lt;/packaging&gt;</span>
    <span class="hl-tag">&lt;name&gt;</span>spring-android-showcase-client<span class="hl-tag">&lt;/name&gt;</span>
    <span class="hl-tag">&lt;url&gt;</span>http://www.springsource.org/spring-android<span class="hl-tag">&lt;/url&gt;</span>
    <span class="hl-tag">&lt;inceptionYear&gt;</span>2010<span class="hl-tag">&lt;/inceptionYear&gt;</span>
    <span class="hl-tag">&lt;organization&gt;</span>
        <span class="hl-tag">&lt;name&gt;</span>SpringSource<span class="hl-tag">&lt;/name&gt;</span>
        <span class="hl-tag">&lt;url&gt;</span>http://www.springsource.org<span class="hl-tag">&lt;/url&gt;</span>
    <span class="hl-tag">&lt;/organization&gt;</span>

    <span class="hl-tag">&lt;properties&gt;</span>
        <span class="hl-tag">&lt;android-platform&gt;</span>16<span class="hl-tag">&lt;/android-platform&gt;</span>
        <span class="hl-tag">&lt;android-maven-plugin-version&gt;</span>3.4.0<span class="hl-tag">&lt;/android-maven-plugin-version&gt;</span>
        <span class="hl-tag">&lt;maven-compiler-plugin-version&gt;</span>2.5.1<span class="hl-tag">&lt;/maven-compiler-plugin-version&gt;</span>
        <span class="hl-tag">&lt;java-version&gt;</span>1.6<span class="hl-tag">&lt;/java-version&gt;</span>
        <span class="hl-tag">&lt;maven-eclipse-plugin-version&gt;</span>2.8<span class="hl-tag">&lt;/maven-eclipse-plugin-version&gt;</span>
        <span class="hl-tag">&lt;com.google.android-version&gt;</span>4.1.1.4<span class="hl-tag">&lt;/com.google.android-version&gt;</span>
        <span class="hl-comment">&lt;!-- Available Android versions: 1.5_r3, 1.5_r4, 1.6_r2, 2.1.2, 2.1_r1, 
            2.2.1, 2.3.1, 2.3.3, 4.0.1.2, 4.1.1.4 --&gt;</span>
        <span class="hl-tag">&lt;org.springframework.android-version&gt;</span>1.0.1.BUILD-SNAPSHOT<span class="hl-tag">&lt;/org.springframework.android-version&gt;</span>
        <span class="hl-tag">&lt;com.fasterxml.jackson-version&gt;</span>2.1.2<span class="hl-tag">&lt;/com.fasterxml.jackson-version&gt;</span>
        <span class="hl-tag">&lt;com.google.code.gson-version&gt;</span>2.2.2<span class="hl-tag">&lt;/com.google.code.gson-version&gt;</span>
        <span class="hl-tag">&lt;org.simpleframework-version&gt;</span>2.6.9<span class="hl-tag">&lt;/org.simpleframework-version&gt;</span>
    <span class="hl-tag">&lt;/properties&gt;</span>

    <span class="hl-tag">&lt;dependencies&gt;</span>
        <span class="hl-tag">&lt;dependency&gt;</span>
            <span class="hl-tag">&lt;groupId&gt;</span>com.google.android<span class="hl-tag">&lt;/groupId&gt;</span>
            <span class="hl-tag">&lt;artifactId&gt;</span>android<span class="hl-tag">&lt;/artifactId&gt;</span>
            <span class="hl-tag">&lt;version&gt;</span>${com.google.android-version}<span class="hl-tag">&lt;/version&gt;</span>
            <span class="hl-tag">&lt;scope&gt;</span>provided<span class="hl-tag">&lt;/scope&gt;</span>
        <span class="hl-tag">&lt;/dependency&gt;</span>
        <span class="hl-tag">&lt;dependency&gt;</span>
            <span class="hl-tag">&lt;groupId&gt;</span>org.springframework.android<span class="hl-tag">&lt;/groupId&gt;</span>
            <span class="hl-tag">&lt;artifactId&gt;</span>spring-android-rest-template<span class="hl-tag">&lt;/artifactId&gt;</span>
            <span class="hl-tag">&lt;version&gt;</span>${org.springframework.android-version}<span class="hl-tag">&lt;/version&gt;</span>
        <span class="hl-tag">&lt;/dependency&gt;</span>
        
        <span class="hl-comment">&lt;!-- Jackson JSON Processor --&gt;</span>
        <span class="hl-tag">&lt;dependency&gt;</span>
            <span class="hl-tag">&lt;groupId&gt;</span>com.fasterxml.jackson.core<span class="hl-tag">&lt;/groupId&gt;</span>
            <span class="hl-tag">&lt;artifactId&gt;</span>jackson-databind<span class="hl-tag">&lt;/artifactId&gt;</span>
            <span class="hl-tag">&lt;version&gt;</span>${com.fasterxml.jackson-version}<span class="hl-tag">&lt;/version&gt;</span>
        <span class="hl-tag">&lt;/dependency&gt;</span>
        
        <span class="hl-comment">&lt;!-- Gson JSON Processor --&gt;</span>
        <span class="hl-tag">&lt;dependency&gt;</span>
            <span class="hl-tag">&lt;groupId&gt;</span>com.google.code.gson<span class="hl-tag">&lt;/groupId&gt;</span>
            <span class="hl-tag">&lt;artifactId&gt;</span>gson<span class="hl-tag">&lt;/artifactId&gt;</span>
            <span class="hl-tag">&lt;version&gt;</span>${com.google.code.gson-version}<span class="hl-tag">&lt;/version&gt;</span>
        <span class="hl-tag">&lt;/dependency&gt;</span>
        
        <span class="hl-comment">&lt;!-- Simple XML Processor --&gt;</span>
        <span class="hl-tag">&lt;dependency&gt;</span>
            <span class="hl-tag">&lt;groupId&gt;</span>org.simpleframework<span class="hl-tag">&lt;/groupId&gt;</span>
            <span class="hl-tag">&lt;artifactId&gt;</span>simple-xml<span class="hl-tag">&lt;/artifactId&gt;</span>
            <span class="hl-tag">&lt;version&gt;</span>${org.simpleframework-version}<span class="hl-tag">&lt;/version&gt;</span>
            <span class="hl-tag">&lt;exclusions&gt;</span>
                <span class="hl-comment">&lt;!-- StAX is not available on Android --&gt;</span>
                <span class="hl-tag">&lt;exclusion&gt;</span>
                    <span class="hl-tag">&lt;artifactId&gt;</span>stax<span class="hl-tag">&lt;/artifactId&gt;</span>
                    <span class="hl-tag">&lt;groupId&gt;</span>stax<span class="hl-tag">&lt;/groupId&gt;</span>
                <span class="hl-tag">&lt;/exclusion&gt;</span>
                <span class="hl-tag">&lt;exclusion&gt;</span>
                    <span class="hl-tag">&lt;artifactId&gt;</span>stax-api<span class="hl-tag">&lt;/artifactId&gt;</span>
                    <span class="hl-tag">&lt;groupId&gt;</span>stax<span class="hl-tag">&lt;/groupId&gt;</span>
                <span class="hl-tag">&lt;/exclusion&gt;</span>
                <span class="hl-comment">&lt;!-- Provided by Android --&gt;</span>
                <span class="hl-tag">&lt;exclusion&gt;</span>
                    <span class="hl-tag">&lt;artifactId&gt;</span>xpp3<span class="hl-tag">&lt;/artifactId&gt;</span>
                    <span class="hl-tag">&lt;groupId&gt;</span>xpp3<span class="hl-tag">&lt;/groupId&gt;</span>
                <span class="hl-tag">&lt;/exclusion&gt;</span>
            <span class="hl-tag">&lt;/exclusions&gt;</span>
        <span class="hl-tag">&lt;/dependency&gt;</span>
    <span class="hl-tag">&lt;/dependencies&gt;</span>

    <span class="hl-tag">&lt;repositories&gt;</span>
        <span class="hl-tag">&lt;repository&gt;</span>
            <span class="hl-tag">&lt;id&gt;</span>spring-snapshot<span class="hl-tag">&lt;/id&gt;</span>
            <span class="hl-tag">&lt;name&gt;</span>SpringSource Snapshot Repository<span class="hl-tag">&lt;/name&gt;</span>
            <span class="hl-tag">&lt;url&gt;</span>http://repo.springsource.org/libs-snapshot<span class="hl-tag">&lt;/url&gt;</span>
        <span class="hl-tag">&lt;/repository&gt;</span>
    <span class="hl-tag">&lt;/repositories&gt;</span>

    <span class="hl-tag">&lt;build&gt;</span>
        <span class="hl-tag">&lt;finalName&gt;</span>${project.artifactId}<span class="hl-tag">&lt;/finalName&gt;</span>
        <span class="hl-tag">&lt;sourceDirectory&gt;</span>src<span class="hl-tag">&lt;/sourceDirectory&gt;</span>
        <span class="hl-tag">&lt;plugins&gt;</span>
            <span class="hl-tag">&lt;plugin&gt;</span>
                <span class="hl-tag">&lt;groupId&gt;</span>com.jayway.maven.plugins.android.generation2<span class="hl-tag">&lt;/groupId&gt;</span>
                <span class="hl-tag">&lt;artifactId&gt;</span>android-maven-plugin<span class="hl-tag">&lt;/artifactId&gt;</span>
                <span class="hl-tag">&lt;version&gt;</span>${android-maven-plugin-version}<span class="hl-tag">&lt;/version&gt;</span>
                <span class="hl-tag">&lt;configuration&gt;</span>
                    <span class="hl-tag">&lt;sdk&gt;</span>
                        <span class="hl-tag">&lt;platform&gt;</span>${android-platform}<span class="hl-tag">&lt;/platform&gt;</span>
                    <span class="hl-tag">&lt;/sdk&gt;</span>
                    <span class="hl-tag">&lt;deleteConflictingFiles&gt;</span>true<span class="hl-tag">&lt;/deleteConflictingFiles&gt;</span>
                    <span class="hl-tag">&lt;undeployBeforeDeploy&gt;</span>true<span class="hl-tag">&lt;/undeployBeforeDeploy&gt;</span>
                <span class="hl-tag">&lt;/configuration&gt;</span>
                <span class="hl-tag">&lt;extensions&gt;</span>true<span class="hl-tag">&lt;/extensions&gt;</span>
            <span class="hl-tag">&lt;/plugin&gt;</span>
            <span class="hl-tag">&lt;plugin&gt;</span>
                <span class="hl-tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="hl-tag">&lt;/groupId&gt;</span>
                <span class="hl-tag">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="hl-tag">&lt;/artifactId&gt;</span>
                <span class="hl-tag">&lt;version&gt;</span>${maven-compiler-plugin-version}<span class="hl-tag">&lt;/version&gt;</span>
                <span class="hl-tag">&lt;configuration&gt;</span>
                    <span class="hl-tag">&lt;source&gt;</span>${java-version}<span class="hl-tag">&lt;/source&gt;</span>
                    <span class="hl-tag">&lt;target&gt;</span>${java-version}<span class="hl-tag">&lt;/target&gt;</span>
                <span class="hl-tag">&lt;/configuration&gt;</span>
            <span class="hl-tag">&lt;/plugin&gt;</span>
            <span class="hl-tag">&lt;plugin&gt;</span>
                <span class="hl-tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="hl-tag">&lt;/groupId&gt;</span>
                <span class="hl-tag">&lt;artifactId&gt;</span>maven-eclipse-plugin<span class="hl-tag">&lt;/artifactId&gt;</span>
                <span class="hl-tag">&lt;version&gt;</span>${maven-eclipse-plugin-version}<span class="hl-tag">&lt;/version&gt;</span>
                <span class="hl-tag">&lt;configuration&gt;</span>
                    <span class="hl-tag">&lt;downloadSources&gt;</span>true<span class="hl-tag">&lt;/downloadSources&gt;</span>
                    <span class="hl-tag">&lt;downloadJavadocs&gt;</span>true<span class="hl-tag">&lt;/downloadJavadocs&gt;</span>
                <span class="hl-tag">&lt;/configuration&gt;</span>
            <span class="hl-tag">&lt;/plugin&gt;</span>
        <span class="hl-tag">&lt;/plugins&gt;</span>
    <span class="hl-tag">&lt;/build&gt;</span>

<span class="hl-tag">&lt;/project&gt;</span>
	</pre>
  </div>

  <div class="section" title="5.4&nbsp;Maven Commands"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="maven-commands"></a>5.4&nbsp;Maven Commands</h2></div></div></div>
	
	<p>Once you have configured a Maven POM in your Android project you can use the following Maven command to clean and assemble your Android APK file.</p>
	
	<pre class="programlisting">
$ mvn clean install
	</pre>
	
	<p>The Android Maven Plugin provides several <a class="ulink" href="http://maven-android-plugin-m2site.googlecode.com/svn/plugin-info.html" target="_top">goals</a> for use in building and deploying your application. You can configure a specific emulator in the plugin configuration, or if you omit the emulator name, the plugin will attempt to execute the specified goal on all available emulators and devices.</p>
	
	<p>The following command starts the emulator specified in the Maven Android Plugin section of the POM file. If no emulator name is configured, then the plugin attempts to start an AVD with the name of <code class="literal">Default</code>.</p>
	
	<pre class="programlisting">
$ mvn android:emulator-start
	</pre>
	
	<p>Deploys the built apk file to the emulator or attached device.</p>
	
	<pre class="programlisting">
$ mvn android:deploy
	</pre>
	
	<p>Starts the app on the emulator or attached device.</p>
	
	<pre class="programlisting">
$ mvn android:run
	</pre>
	
	<p>Displays a list of help topics for the Android Maven Plugin.</p>
	
	<pre class="programlisting">
$ mvn android:help
	</pre>
	
  </div>

</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="core.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;</td></tr><tr><td width="40%" align="left" valign="top">4.&nbsp;Core Module&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;</td></tr></table></div></body></html>