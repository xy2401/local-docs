<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="Andy Wilkinson">
<title>Spring REST Docs</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
.hidden {
	display: none;
}

.switch {
	border-width: 1px 1px 0 1px;
	border-style: solid;
	border-color: #7a2518;
	display: inline-block;
}

.switch--item {
	padding: 10px;
	background-color: #ffffff;
	color: #7a2518;
	display: inline-block;
	cursor: pointer;
}

.switch--item:not(:first-child) {
	border-width: 0 0 0 1px;
	border-style: solid;
	border-color: #7a2518;
}

.switch--item.selected {
	background-color: #7a2519;
	color: #ffffff;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script type="text/javascript">
function addBlockSwitches() {
	$('.primary').each(function() {
		primary = $(this);
		createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
		primary.children('.title').remove();
	});
	$('.secondary').each(function(idx, node) {
		secondary = $(node);
		primary = findPrimary(secondary);
		switchItem = createSwitchItem(secondary, primary.children('.switch'));
		switchItem.content.addClass('hidden');
		findPrimary(secondary).append(switchItem.content);
		secondary.remove();
	});
}

function createBlockSwitch(primary) {
	blockSwitch = $('<div class="switch"></div>');
	primary.prepend(blockSwitch);
	return blockSwitch;
}

function findPrimary(secondary) {
	candidate = secondary.prev();
	while (!candidate.is('.primary')) {
		candidate = candidate.prev();
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	blockName = block.children('.title').text();
	content = block.children('.content').first().append(block.next('.colist'));
	item = $('<div class="switch--item">' + blockName + '</div>');
	item.on('click', '', content, function(e) {
		$(this).addClass('selected');
		$(this).siblings().removeClass('selected');
		e.data.siblings('.content').addClass('hidden');
		e.data.removeClass('hidden');
	});
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

$(addBlockSwitches);
</script>
</head>

<body class="book toc2 toc-left">
<div id="header">
<h1>Spring REST Docs</h1>
<div class="details">
<span id="author" class="author">Andy Wilkinson</span><br>
<span id="revnumber">version 2.0.3.RELEASE</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#getting-started">Getting started</a>
<ul class="sectlevel2">
<li><a href="#getting-started-sample-applications">Sample applications</a></li>
<li><a href="#getting-started-requirements">Requirements</a></li>
<li><a href="#getting-started-build-configuration">Build configuration</a>
<ul class="sectlevel3">
<li><a href="#getting-started-build-configuration-packaging-the-documentation">Packaging the documentation</a></li>
</ul>
</li>
<li><a href="#getting-started-documentation-snippets">Generating documentation snippets</a>
<ul class="sectlevel3">
<li><a href="#getting-started-documentation-snippets-setup">Setting up your tests</a></li>
<li><a href="#getting-started-documentation-snippets-invoking-the-service">Invoking the RESTful service</a></li>
</ul>
</li>
<li><a href="#getting-started-using-the-snippets">Using the snippets</a></li>
</ul>
</li>
<li><a href="#documenting-your-api">Documenting your API</a>
<ul class="sectlevel2">
<li><a href="#documenting-your-api-hypermedia">Hypermedia</a>
<ul class="sectlevel3">
<li><a href="#documenting-your-api-hypermedia-link-formats">Hypermedia link formats</a></li>
<li><a href="#documenting-your-api-hypermedia-ignoring-common-links">Ignoring common links</a></li>
</ul>
</li>
<li><a href="#documenting-your-api-request-response-payloads">Request and response payloads</a>
<ul class="sectlevel3">
<li><a href="#documenting-your-api-request-response-payloads-fields">Request and response fields</a></li>
<li><a href="#documenting-your-api-request-response-payloads-subsections">Documenting a subsection of a request or response payload</a></li>
</ul>
</li>
<li><a href="#documenting-your-api-request-parameters">Request parameters</a></li>
<li><a href="#documenting-your-api-path-parameters">Path parameters</a></li>
<li><a href="#documenting-your-api-request-parts">Request parts</a></li>
<li><a href="#documenting-your-api-request-parts-payloads">Request part payloads</a>
<ul class="sectlevel3">
<li><a href="#documenting-your-api-request-parts-payloads-body">Documenting a request part&#8217;s body</a></li>
<li><a href="#documenting-your-api-request-parts-payloads-fields">Documenting a request part&#8217;s fields</a></li>
</ul>
</li>
<li><a href="#documenting-your-api-http-headers">HTTP headers</a></li>
<li><a href="#documenting-your-api-reusing-snippets">Reusing snippets</a></li>
<li><a href="#documenting-your-api-constraints">Documenting constraints</a>
<ul class="sectlevel3">
<li><a href="#documenting-your-api-constraints-finding">Finding constraints</a></li>
<li><a href="#documenting-your-api-constraints-describing">Describing constraints</a></li>
<li><a href="#_using_constraint_descriptions_in_generated_snippets">Using constraint descriptions in generated snippets</a></li>
</ul>
</li>
<li><a href="#documenting-your-api-default-snippets">Default snippets</a></li>
<li><a href="#documentating-your-api-parameterized-output-directories">Using parameterized output directories</a></li>
<li><a href="#documenting-your-api-customizing">Customizing the output</a>
<ul class="sectlevel3">
<li><a href="#documenting-your-api-customizing-snippets">Customizing the generated snippets</a></li>
<li><a href="#documenting-your-api-customizing-including-extra-information">Including extra information</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#customizing-requests-and-responses">Customizing requests and responses</a>
<ul class="sectlevel2">
<li><a href="#customizing-requests-and-responses-preprocessors">Preprocessors</a>
<ul class="sectlevel3">
<li><a href="#customizing-requests-and-responses-preprocessors-pretty-print">Pretty printing</a></li>
<li><a href="#customizing-requests-and-responses-preprocessors-mask-links">Masking links</a></li>
<li><a href="#customizing-requests-and-responses-preprocessors-remove-headers">Removing headers</a></li>
<li><a href="#customizing-requests-and-responses-preprocessors-replace-patterns">Replacing patterns</a></li>
<li><a href="#customizing-requests-and-responses-preprocessors-modify-request-parameters">Modifying request parameters</a></li>
<li><a href="#customizing-requests-and-responses-preprocessors-modify-uris">Modifying URIs</a></li>
<li><a href="#customizing-requests-and-responses-preprocessors-writing-your-own">Writing your own preprocessor</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#configuration">Configuration</a>
<ul class="sectlevel2">
<li><a href="#configuration-uris">Documented URIs</a>
<ul class="sectlevel3">
<li><a href="#configuration-uris-mockmvc">MockMvc URI customization</a></li>
<li><a href="#configuration-uris-rest-assured">REST Assured URI customization</a></li>
<li><a href="#configuration-uris-webtestclient">WebTestClient URI customization</a></li>
</ul>
</li>
<li><a href="#configuration-snippet-encoding">Snippet encoding</a></li>
<li><a href="#configuration-snippet-template-format">Snippet template format</a></li>
<li><a href="#configuration-default-snippets">Default snippets</a></li>
<li><a href="#configuration-default-preprocessors">Default operation preprocessors</a></li>
</ul>
</li>
<li><a href="#working-with-asciidoctor">Working with Asciidoctor</a>
<ul class="sectlevel2">
<li><a href="#working-with-asciidoctor-resources">Resources</a></li>
<li><a href="#working-with-asciidoctor-including-snippets">Including snippets</a>
<ul class="sectlevel3">
<li><a href="#working-with-asciidoctor-including-snippets-operation">Including multiple snippets for an operation</a></li>
<li><a href="#working-with-asciidoctor-including-snippets-individual">Including individual snippets</a></li>
</ul>
</li>
<li><a href="#working-with-asciidoctor-customizing-tables">Customizing tables</a>
<ul class="sectlevel3">
<li><a href="#working-with-asciidoctor-customizing-tables-formatting-columns">Formatting columns</a></li>
<li><a href="#working-with-asciidoctor-customizing-tables-title">Configuring the title</a></li>
<li><a href="#working-with-asciidoctor-customizing-tables-formatting-problems">Avoiding table formatting problems</a></li>
<li><a href="#_further_reading">Further reading</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#working-with-markdown">Working with Markdown</a>
<ul class="sectlevel2">
<li><a href="#working-with-markdown-limitations">Limitations</a></li>
<li><a href="#working-with-markdown-including-snippets">Including snippets</a></li>
</ul>
</li>
<li><a href="#contributing">Contributing</a>
<ul class="sectlevel2">
<li><a href="#contributing-questions">Questions</a></li>
<li><a href="#contributing-bugs">Bugs</a></li>
<li><a href="#contributing-enhancements">Enhancements</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div id="abstract" class="paragraph">
<p>Document RESTful services by combining hand-written documentation with auto-generated
snippets produced with Spring MVC Test.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The aim of Spring REST Docs is to help you to produce documentation for your RESTful
services that is accurate and readable.</p>
</div>
<div class="paragraph">
<p>Writing high-quality documentation is difficult. One way to ease that difficulty is to use
tools that are well-suited to the job. To this end, Spring REST Docs uses
<a href="http://asciidoctor.org">Asciidoctor</a> by default. Asciidoctor processes plain text and
produces HTML, styled and layed out to suit your needs. If you prefer, Spring REST Docs
can also be configured to use Markdown.</p>
</div>
<div class="paragraph">
<p>Spring REST Docs makes use of snippets produced by tests written with Spring MVC&#8217;s
<a href="https://docs.spring.io/spring-framework/docs/5.0.x/spring-framework-reference/testing.html#spring-mvc-test-framework">test framework</a>, Spring
WebFlux&#8217;s <a href="https://docs.spring.io/spring-framework/docs/5.0.x/spring-framework-reference/testing.html#webtestclient"><code>WebTestClient</code></a> or
<a href="http://www.rest-assured.io">REST Assured 3</a>. This test-driven approach helps to guarantee
the accuracy of your service&#8217;s documentation. If a snippet is incorrect the test that
produces it will fail.</p>
</div>
<div class="paragraph">
<p>Documenting a RESTful service is largely about describing its resources. Two key parts
of each resource&#8217;s description are the details of the HTTP requests that it consumes
and the HTTP responses that it produces. Spring REST Docs allows you to work with these
resources and the HTTP requests and responses, shielding your documentation
from the inner-details of your service&#8217;s implementation. This separation helps you to
document your service&#8217;s API rather than its implementation. It also frees you to evolve
the implementation without having to rework the documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="link" href="#getting-started">Getting started</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to get started with Spring REST Docs.</p>
</div>
<div class="sect2">
<h3 id="getting-started-sample-applications"><a class="link" href="#getting-started-sample-applications">Sample applications</a></h3>
<div class="paragraph">
<p>If you want to jump straight in, a number of sample applications are available:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. MockMvc</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 13.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Sample</th>
<th class="tableblock halign-left valign-top">Build system</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-spring-data-rest">Spring Data REST</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates the creation of a getting started guide and an API guide for a service
  implemented using <a href="http://projects.spring.io/spring-data-rest/">Spring Data REST</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-spring-hateoas">Spring HATEOAS</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates the creation of a getting started guide and an API guide for a service
  implemented using <a href="http://projects.spring.io/spring-hateoas/">Spring HATEOAS</a>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. WebTestClient</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 13.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Sample</th>
<th class="tableblock halign-left valign-top">Build system</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/web-test-client">WebTestClient</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates the use of Spring REST docs with Spring WebFlux&#8217;s WebTestClient.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. REST Assured</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 13.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Sample</th>
<th class="tableblock halign-left valign-top">Build system</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-grails">Grails</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates the use of Spring REST docs with <a href="https://grails.org">Grails</a> and
  <a href="https://github.com/spockframework/spock">Spock</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-assured">REST Assured</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates the use of Spring REST Docs with <a href="http://rest-assured.io">REST Assured</a>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Advanced</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 13.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Sample</th>
<th class="tableblock halign-left valign-top">Build system</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-slate">Slate</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates the use of Spring REST Docs with Markdown and
  <a href="http://github.com/tripit/slate">Slate</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/testng">TestNG</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates the use of Spring REST Docs with <a href="http://testng.org">TestNG</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/junit5">JUnit 5</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates the use of Spring REST Docs with <a href="http://junit.org/junit5/">JUnit 5</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="getting-started-requirements"><a class="link" href="#getting-started-requirements">Requirements</a></h3>
<div class="paragraph">
<p>Spring REST Docs has the following minimum requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java 8</p>
</li>
<li>
<p>Spring Framework 5 (5.0.2 or later)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, the <code>spring-restdocs-restassured</code> module has the following minimum
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>REST Assured 3.0</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-build-configuration"><a class="link" href="#getting-started-build-configuration">Build configuration</a></h3>
<div class="paragraph">
<p>The first step in using Spring REST Docs is to configure your project&#8217;s build. The
<a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-spring-hateoas">Spring HATEOAS</a> and
<a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-spring-data-rest">Spring Data REST</a> samples contain a <code>build.gradle</code>
and <code>pom.xml</code> respectively that you may wish to use as a reference. The key parts of
the configuration are described below.</p>
</div>
<div class="listingblock primary">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt; <i class="conum" data-value="1"></i><b>(1)</b>
	&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;
	&lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;
	&lt;version&gt;2.0.3.RELEASE&lt;/version&gt;
	&lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;

&lt;build&gt;
	&lt;plugins&gt;
		&lt;plugin&gt; <i class="conum" data-value="2"></i><b>(2)</b>
			&lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;
			&lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;
			&lt;version&gt;1.5.3&lt;/version&gt;
			&lt;executions&gt;
				&lt;execution&gt;
					&lt;id&gt;generate-docs&lt;/id&gt;
					&lt;phase&gt;prepare-package&lt;/phase&gt; <i class="conum" data-value="3"></i><b>(3)</b>
					&lt;goals&gt;
						&lt;goal&gt;process-asciidoc&lt;/goal&gt;
					&lt;/goals&gt;
					&lt;configuration&gt;
						&lt;backend&gt;html&lt;/backend&gt;
						&lt;doctype&gt;book&lt;/doctype&gt;
					&lt;/configuration&gt;
				&lt;/execution&gt;
			&lt;/executions&gt;
			&lt;dependencies&gt;
				&lt;dependency&gt; <i class="conum" data-value="4"></i><b>(4)</b>
					&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;
					&lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;
					&lt;version&gt;2.0.3.RELEASE&lt;/version&gt;
				&lt;/dependency&gt;
			&lt;/dependencies&gt;
		&lt;/plugin&gt;
	&lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Add a dependency on <code>spring-restdocs-mockmvc</code> in the <code>test</code> scope. If you want to use
<code>WebTestClient</code> or REST Assured rather than MockMvc, add a dependency on
<code>spring-restdocs-webtestclient</code> or <code>spring-restdocs-restassured</code> respectively instead.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add the Asciidoctor plugin.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Using <code>prepare-package</code> allows the documentation to be
<a href="#getting-started-build-configuration-maven-packaging">included in the package</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Add <code>spring-restdocs-asciidoctor</code> as a dependency of the Asciidoctor plugin. This
will automatically configure the <code>snippets</code> attribute for use in your <code>.adoc</code> files to
point to <code>target/generated-snippets</code>. It will also allow you to use the <code>operation</code>
block macro.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code>plugins { <i class="conum" data-value="1"></i><b>(1)</b>
	id "org.asciidoctor.convert" version "1.5.3"
}

dependencies {
	asciidoctor 'org.springframework.restdocs:spring-restdocs-asciidoctor:2.0.3.RELEASE' <i class="conum" data-value="2"></i><b>(2)</b>
	testCompile 'org.springframework.restdocs:spring-restdocs-mockmvc:2.0.3.RELEASE' <i class="conum" data-value="3"></i><b>(3)</b>
}

ext { <i class="conum" data-value="4"></i><b>(4)</b>
	snippetsDir = file('build/generated-snippets')
}

test { <i class="conum" data-value="5"></i><b>(5)</b>
	outputs.dir snippetsDir
}

asciidoctor { <i class="conum" data-value="6"></i><b>(6)</b>
	inputs.dir snippetsDir <i class="conum" data-value="7"></i><b>(7)</b>
	dependsOn test <i class="conum" data-value="8"></i><b>(8)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply the Asciidoctor plugin.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add a dependency on <code>spring-restdocs-asciidoctor</code> in the <code>asciidoctor</code> configuration.
This will automatically configure the <code>snippets</code> attribute for use in your <code>.adoc</code>
files to point to <code>build/generated-snippets</code>. It will also allow you to use the
<code>operation</code> block macro.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add a dependency on <code>spring-restdocs-mockmvc</code> in the <code>testCompile</code> configuration. If
you want to use REST Assured rather than MockMvc, add a dependency on
<code>spring-restdocs-restassured</code> instead.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Configure a property to define the output location for generated snippets.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Configure the <code>test</code> task to add the snippets directory as an output.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Configure the <code>asciidoctor</code> task</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Configure the snippets directory as an input.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Make the task depend on the test task so that the tests are run before the
documentation is created.</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="getting-started-build-configuration-packaging-the-documentation"><a class="link" href="#getting-started-build-configuration-packaging-the-documentation">Packaging the documentation</a></h4>
<div class="paragraph">
<p>You may want to package the generated documentation in your project&#8217;s jar file, for
example to have it <a href="http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-static-content">served as
static content</a> by Spring Boot. To do so, configure your project&#8217;s build so that:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The documentation is generated before the jar is built</p>
</li>
<li>
<p>The generated documentation is included in the jar</p>
</li>
</ol>
</div>
<div class="listingblock primary">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt; <i class="conum" data-value="1"></i><b>(1)</b>
	&lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;
	&lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;
	&lt;!--  --&gt;
&lt;/plugin&gt;
&lt;plugin&gt; <i class="conum" data-value="2"></i><b>(2)</b>
	&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;
	&lt;version&gt;2.7&lt;/version&gt;
	&lt;executions&gt;
		&lt;execution&gt;
			&lt;id&gt;copy-resources&lt;/id&gt;
			&lt;phase&gt;prepare-package&lt;/phase&gt;
			&lt;goals&gt;
				&lt;goal&gt;copy-resources&lt;/goal&gt;
			&lt;/goals&gt;
			&lt;configuration&gt; <i class="conum" data-value="3"></i><b>(3)</b>
				&lt;outputDirectory&gt;
					${project.build.outputDirectory}/static/docs
				&lt;/outputDirectory&gt;
				&lt;resources&gt;
					&lt;resource&gt;
						&lt;directory&gt;
							${project.build.directory}/generated-docs
						&lt;/directory&gt;
					&lt;/resource&gt;
				&lt;/resources&gt;
			&lt;/configuration&gt;
		&lt;/execution&gt;
	&lt;/executions&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The existing declaration for the Asciidoctor plugin.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The resource plugin must be declared after the Asciidoctor plugin as they are bound
to the same phase (<code>prepare-package</code>) and the resource plugin must run after the
Asciidoctor plugin to ensure that the documentation is generated before it&#8217;s copied.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Copy the generated documentation into the build output&#8217;s <code>static/docs</code> directory,
from where it will be included in the jar file.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code>bootJar {
	dependsOn asciidoctor <i class="conum" data-value="1"></i><b>(1)</b>
	from ("${asciidoctor.outputDir}/html5") { <i class="conum" data-value="2"></i><b>(2)</b>
		into 'static/docs'
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Ensure that the documentation has been generated before the jar is built.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Copy the generated documentation into the jar&#8217;s <code>static/docs</code> directory.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-documentation-snippets"><a class="link" href="#getting-started-documentation-snippets">Generating documentation snippets</a></h3>
<div class="paragraph">
<p>Spring REST Docs uses Spring MVC&#8217;s
<a href="https://docs.spring.io/spring-framework/docs/5.0.x/spring-framework-reference/testing.html#spring-mvc-test-framework">test framework</a>,
Spring WebFlux&#8217;s <a href="https://docs.spring.io/spring-framework/docs/5.0.x/spring-framework-reference/testing.html#webtestclient"><code>WebTestClient</code></a> or
<a href="http://www.rest-assured.io">REST Assured</a> to make requests to the service that you are
documenting. It then produces documentation snippets for the request and the resulting
response.</p>
</div>
<div class="sect3">
<h4 id="getting-started-documentation-snippets-setup"><a class="link" href="#getting-started-documentation-snippets-setup">Setting up your tests</a></h4>
<div class="paragraph">
<p>Exactly how you setup your tests depends on the test framework that you&#8217;re using.
Spring REST Docs provides first-class support for JUnit 4 and JUnit 5. Other frameworks,
such as TestNG, are also supported although slightly more setup is required.</p>
</div>
<div class="sect4">
<h5 id="getting-started-documentation-snippets-setup-junit"><a class="link" href="#getting-started-documentation-snippets-setup-junit">Setting up your JUnit 4 tests</a></h5>
<div class="paragraph">
<p>When using JUnit 4, the first step in generating documentation snippets is to declare a
<code>public</code> <code>JUnitRestDocumentation</code> field that&#8217;s annotated as a JUnit <code>@Rule</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Rule
public JUnitRestDocumentation restDocumentation = new JUnitRestDocumentation();</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the <code>JUnitRestDocumentation</code> rule is automatically configured with an output
directory based on your project&#8217;s build tool:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Build tool</th>
<th class="tableblock halign-left valign-top">Output directory</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>target/generated-snippets</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build/generated-snippets</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The default can be overridden by providing an output directory when creating the
<code>JUnitRestDocumentation</code> instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Rule
public JUnitRestDocumentation restDocumentation = new JUnitRestDocumentation("custom");</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, provide an <code>@Before</code> method to configure MockMvc, WebTestClient or REST Assured:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private MockMvc mockMvc;

@Autowired
private WebApplicationContext context;

@Before
public void setUp() {
	this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
			.apply(documentationConfiguration(this.restDocumentation)) <i class="conum" data-value="1"></i><b>(1)</b>
			.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>MockMvc</code> instance is configured using a <code>MockMvcRestDocumentationConfigurer</code>. An
instance of this class can be obtained from the static <code>documentationConfiguration()</code>
method on <code>org.springframework.restdocs.mockmvc.MockMvcRestDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private WebTestClient webTestClient;

@Autowired
private WebApplicationContext context;

@Before
public void setUp() {
	this.webTestClient = WebTestClient.bindToApplicationContext(this.context)
			.configureClient()
			.filter(documentationConfiguration(this.restDocumentation)) <i class="conum" data-value="1"></i><b>(1)</b>
			.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>WebTestClient</code> instance is configured by adding a
<code>WebTestclientRestDocumentationConfigurer</code> as an <code>ExchangeFilterFunction</code>.  An instance of
this class can be obtained from the static <code>documentationConfiguration()</code> method on
<code>org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private RequestSpecification spec;

@Before
public void setUp() {
	this.spec = new RequestSpecBuilder().addFilter(
			documentationConfiguration(this.restDocumentation)) <i class="conum" data-value="1"></i><b>(1)</b>
			.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>REST Assured is configured by adding a <code>RestAssuredRestDocumentationConfigurer</code> as a
<code>Filter</code>. An instance of this class can be obtained from the static
<code>documentationConfiguration()</code> method on <code>RestAssuredRestDocumentation</code> in the
<code>org.springframework.restdocs.restassured3</code> package.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The configurer applies sensible defaults and also provides an API for customizing the
configuration. Refer to the <a href="#configuration">configuration section</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="getting-started-documentation-snippets-setup-junit-5"><a class="link" href="#getting-started-documentation-snippets-setup-junit-5">Setting up your JUnit 5 tests</a></h5>
<div class="paragraph">
<p>When using JUnit 5, the first step in generating documentation snippets is to apply
the <code>RestDocumentationExtension</code> to your test class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ExtendWith(RestDocumentationExtension.class)
public class JUnit5ExampleTests {</code></pre>
</div>
</div>
<div class="paragraph">
<p>For testing a typical Spring application the <code>SpringExtension</code> should also be applied:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ExtendWith({RestDocumentationExtension.class, SpringExtension.class})
public class JUnit5ExampleTests {</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>RestDocumentationExtension</code> is automatically configured with an output directory
based on your project&#8217;s build tool:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Build tool</th>
<th class="tableblock halign-left valign-top">Output directory</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>target/generated-snippets</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build/generated-snippets</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Next, provide a <code>@BeforeEach</code> method to configure MockMvc, WebTestClient, or REST Assured:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private MockMvc mockMvc;

@BeforeEach
public void setUp(WebApplicationContext webApplicationContext,
		RestDocumentationContextProvider restDocumentation) {
	this.mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext)
			.apply(documentationConfiguration(restDocumentation)) <i class="conum" data-value="1"></i><b>(1)</b>
			.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>MockMvc</code> instance is configured using a <code>MockMvcRestDocumentationConfigurer</code>. An
instance of this class can be obtained from the static <code>documentationConfiguration()</code>
method on <code>org.springframework.restdocs.mockmvc.MockMvcRestDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private WebTestClient webTestClient;

@BeforeEach
public void setUp(WebApplicationContext webApplicationContext,
		RestDocumentationContextProvider restDocumentation) {
	this.webTestClient = WebTestClient.bindToApplicationContext(webApplicationContext)
			.configureClient()
			.filter(documentationConfiguration(restDocumentation)) <i class="conum" data-value="1"></i><b>(1)</b>
			.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>WebTestClient</code> instance is configured by adding a
<code>WebTestClientRestDocumentationConfigurer</code> as an <code>ExchangeFilterFunction</code>.  An instance of
this class can be obtained from the static <code>documentationConfiguration()</code> method on
<code>org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private RequestSpecification spec;

@Before
public void setUp(RestDocumentationContextProvider restDocumentation) {
	this.spec = new RequestSpecBuilder()
			.addFilter(documentationConfiguration(restDocumentation)) <i class="conum" data-value="1"></i><b>(1)</b>
			.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>REST Assured is configured by adding a <code>RestAssuredRestDocumentationConfigurer</code> as a
<code>Filter</code>. An instance of this class can be obtained from the static
<code>documentationConfiguration()</code> method on <code>RestAssuredRestDocumentation</code> in the
<code>org.springframework.restdocs.restassured3</code> package.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The configurer applies sensible defaults and also provides an API for customizing the
configuration. Refer to the <a href="#configuration">configuration section</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_setting_up_your_tests_without_junit"><a class="link" href="#_setting_up_your_tests_without_junit">Setting up your tests without JUnit</a></h5>
<div id="getting-started-documentation-snippets-setup-manual" class="paragraph">
<p>The configuration when JUnit is not being used is largely similar to when it is being
used. This section describes the key differences. The <a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/testng">TestNG sample</a> also
illustrates the approach.</p>
</div>
<div class="paragraph">
<p>The first difference is that <code>ManualRestDocumentation</code> should be used in place of
<code>JUnitRestDocumentation</code> and there&#8217;s no need for the <code>@Rule</code> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private ManualRestDocumentation restDocumentation = new ManualRestDocumentation();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Secondly, <code>ManualRestDocumentation.beforeTest(Class, String)</code>
must be called before each test. This can be done as part of the method that is
configuring MockMvc, WebTestClient, or REST Assured:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private MockMvc mockMvc;

@Autowired
private WebApplicationContext context;

@BeforeMethod
public void setUp(Method method) {
	this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
			.apply(documentationConfiguration(this.restDocumentation))
			.build();
	this.restDocumentation.beforeTest(getClass(), method.getName());
}</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private WebTestClient webTestClient;

@Autowired
private WebApplicationContext context;

@BeforeMethod
public void setUp(Method method) {
	this.webTestClient = WebTestClient.bindToApplicationContext(this.context)
			.configureClient()
			.filter(documentationConfiguration(this.restDocumentation)) <i class="conum" data-value="1"></i><b>(1)</b>
			.build();
	this.restDocumentation.beforeTest(getClass(), method.getName());
}</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private RequestSpecification spec;

@BeforeMethod
public void setUp(Method method) {
	this.spec = new RequestSpecBuilder().addFilter(
			documentationConfiguration(this.restDocumentation))
			.build();
	this.restDocumentation.beforeTest(getClass(), method.getName());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lastly, <code>ManualRestDocumentation.afterTest</code> must be called after each test. For example,
with TestNG:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@AfterMethod
public void tearDown() {
	this.restDocumentation.afterTest();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-documentation-snippets-invoking-the-service"><a class="link" href="#getting-started-documentation-snippets-invoking-the-service">Invoking the RESTful service</a></h4>
<div class="paragraph">
<p>Now that the testing framework has been configured, it can be used to invoke the RESTful
service and document the request and response. For example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/").accept(MediaType.APPLICATION_JSON)) <i class="conum" data-value="1"></i><b>(1)</b>
	.andExpect(status().isOk()) <i class="conum" data-value="2"></i><b>(2)</b>
	.andDo(document("index")); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Invoke the root (<code>/</code>) of the service and indicate that an <code>application/json</code> response
is required.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Assert that the service produced the expected response.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the call to the service, writing the snippets into a directory named <code>index</code>
that will be located beneath the configured output directory. The snippets are written by
a <code>RestDocumentationResultHandler</code>. An instance of this class can be obtained from the
static <code>document</code> method on
<code>org.springframework.restdocs.mockmvc.MockMvcRestDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/").accept(MediaType.APPLICATION_JSON) <i class="conum" data-value="1"></i><b>(1)</b>
		.exchange().expectStatus().isOk() <i class="conum" data-value="2"></i><b>(2)</b>
		.expectBody().consumeWith(document("index")); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Invoke the root (<code>/</code>) of the service and indicate that an <code>application/json</code> response
is required.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Assert that the service produced the expected response.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the call to the service, writing the snippets into a directory named <code>index</code>
that will be located beneath the configured output directory. The snippets are written by
a <code>Consumer</code> of the <code>ExchangeResult</code>. Such a consumer can be obtained from the static
<code>document</code> method on <code>org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec) <i class="conum" data-value="1"></i><b>(1)</b>
		.accept("application/json") <i class="conum" data-value="2"></i><b>(2)</b>
		.filter(document("index")) <i class="conum" data-value="3"></i><b>(3)</b>
		.when().get("/") <i class="conum" data-value="4"></i><b>(4)</b>
		.then().assertThat().statusCode(is(200)); <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply the specification that was initialised in the <code>@Before</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Indicate that an <code>application/json</code> response is required.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the call to the service, writing the snippets into a directory named <code>index</code>
that will be located beneath the configured output directory. The snippets are written by
a <code>RestDocumentationFilter</code>. An instance of this class can be obtained from the
static <code>document</code> method on <code>RestAssuredRestDocumentation</code>  in the
<code>org.springframework.restdocs.restassured3</code> package.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Invoke the root (<code>/</code>) of the service.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Assert that the service produce the expected response.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, six snippets are written:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;output-directory&gt;/index/curl-request.adoc</code></p>
</li>
<li>
<p><code>&lt;output-directory&gt;/index/http-request.adoc</code></p>
</li>
<li>
<p><code>&lt;output-directory&gt;/index/http-response.adoc</code></p>
</li>
<li>
<p><code>&lt;output-directory&gt;/index/httpie-request.adoc</code></p>
</li>
<li>
<p><code>&lt;output-directory&gt;/index/request-body.adoc</code></p>
</li>
<li>
<p><code>&lt;output-directory&gt;/index/response-body.adoc</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Refer to <a href="#documenting-your-api">Documenting your API</a> for more information about these and other snippets
that can be produced by Spring REST Docs.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-using-the-snippets"><a class="link" href="#getting-started-using-the-snippets">Using the snippets</a></h3>
<div class="paragraph">
<p>Before using the generated snippets, a <code>.adoc</code> source file must be created. You can name
the file whatever you like as long as it has a <code>.adoc</code> suffix. The result HTML file will
have the same name but with a <code>.html</code> suffix. The default location of the source files and
the resulting HTML files depends on whether you are using Maven or Gradle:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 53.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Build tool</th>
<th class="tableblock halign-left valign-top">Source files</th>
<th class="tableblock halign-left valign-top">Generated files</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>src/main/asciidoc/*.adoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>target/generated-docs/*.html</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>src/docs/asciidoc/*.adoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build/asciidoc/html5/*.html</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The generated snippets can then be included in the manually created Asciidoctor file from
above using the
<a href="http://asciidoctor.org/docs/asciidoc-syntax-quick-reference/#include-files">include macro</a>.
The <code>snippets</code> attribute that is automatically set by <code>spring-restdocs-asciidoctor</code>
configured in the <a href="#getting-started-build-configuration">build
configuration</a> can be used to reference the snippets output directory. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-adoc hljs" data-lang="adoc">include::{snippets}/index/curl-request.adoc[]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documenting-your-api"><a class="link" href="#documenting-your-api">Documenting your API</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides more details about using Spring REST Docs to document your API.</p>
</div>
<div class="sect2">
<h3 id="documenting-your-api-hypermedia"><a class="link" href="#documenting-your-api-hypermedia">Hypermedia</a></h3>
<div class="paragraph">
<p>Spring REST Docs provides support for documenting the links in a
<a href="https://en.wikipedia.org/wiki/HATEOAS">Hypermedia-based</a> API:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/").accept(MediaType.APPLICATION_JSON))
	.andExpect(status().isOk())
	.andDo(document("index", links( <i class="conum" data-value="1"></i><b>(1)</b>
			linkWithRel("alpha").description("Link to the alpha resource"), <i class="conum" data-value="2"></i><b>(2)</b>
			linkWithRel("bravo").description("Link to the bravo resource")))); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the response&#8217;s links.
Uses the static <code>links</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a link whose rel is <code>alpha</code>. Uses the static <code>linkWithRel</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Expect a link whose rel is <code>bravo</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/").accept(MediaType.APPLICATION_JSON).exchange()
	.expectStatus().isOk().expectBody()
	.consumeWith(document("index",links( <i class="conum" data-value="1"></i><b>(1)</b>
			linkWithRel("alpha").description("Link to the alpha resource"), <i class="conum" data-value="2"></i><b>(2)</b>
			linkWithRel("bravo").description("Link to the bravo resource")))); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the response&#8217;s links.
Uses the static <code>links</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a link whose rel is <code>alpha</code>. Uses the static <code>linkWithRel</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Expect a link whose rel is <code>bravo</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.accept("application/json")
	.filter(document("index", links( <i class="conum" data-value="1"></i><b>(1)</b>
			linkWithRel("alpha").description("Link to the alpha resource"), <i class="conum" data-value="2"></i><b>(2)</b>
			linkWithRel("bravo").description("Link to the bravo resource")))) <i class="conum" data-value="3"></i><b>(3)</b>
	.get("/").then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the response&#8217;s links.
Uses the static <code>links</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a link whose rel is <code>alpha</code>. Uses the static <code>linkWithRel</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Expect a link whose rel is <code>bravo</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet named <code>links.adoc</code> that contains a table describing the resource&#8217;s
links.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If a link in the response has a <code>title</code>, the description can be omitted from its
descriptor and the <code>title</code> will be used. If you omit the description and the link does
not have a <code>title</code> a failure will occur.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When documenting links, the test will fail if an undocumented link is found in the
response. Similarly, the test will also fail if a documented link is not found in the
response and the link has not been marked as optional.</p>
</div>
<div class="paragraph">
<p>If you do not want to document a link, you can mark it as ignored. This will prevent it
from appearing in the generated snippet while avoiding the failure described above.</p>
</div>
<div class="paragraph">
<p>Links can also be documented in a relaxed mode where any undocumented links will not cause
a test failure. To do so, use the <code>relaxedLinks</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>. This can be useful when
documenting a particular scenario where you only want to focus on a subset of the links.</p>
</div>
<div class="sect3">
<h4 id="documenting-your-api-hypermedia-link-formats"><a class="link" href="#documenting-your-api-hypermedia-link-formats">Hypermedia link formats</a></h4>
<div class="paragraph">
<p>Two link formats are understood by default:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Atom  links are expected to be in an array named <code>links</code>. Used by default when the
content type of the response is compatible with <code>application/json</code>.</p>
</li>
<li>
<p>HAL  links are expected to be in a map named <code>_links</code>. Used by default when the
content type of the response is compatible with <code>application/hal+json</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are using Atom or HAL-format links but with a different content type you can
provide one of the built-in <code>LinkExtractor</code> implementations to <code>links</code>. For example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.andDo(document("index", links(halLinks(), <i class="conum" data-value="1"></i><b>(1)</b>
		linkWithRel("alpha").description("Link to the alpha resource"),
		linkWithRel("bravo").description("Link to the bravo resource"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Indicate that the links are in HAL format. Uses the static <code>halLinks</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.consumeWith(document("index",links(halLinks(), <i class="conum" data-value="1"></i><b>(1)</b>
		linkWithRel("alpha").description("Link to the alpha resource"),
		linkWithRel("bravo").description("Link to the bravo resource"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Indicate that the links are in HAL format. Uses the static <code>halLinks</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.filter(document("index", links(halLinks(), <i class="conum" data-value="1"></i><b>(1)</b>
		linkWithRel("alpha").description("Link to the alpha resource"),
		linkWithRel("bravo").description("Link to the bravo resource"))))</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Indicate that the links are in HAL format. Uses the static <code>halLinks</code> method on
<code>org.springframework.restdocs.hypermedia.HypermediaDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If your API represents its links in a format other than Atom or HAL, you can provide your
own implementation of the <code>LinkExtractor</code> interface to extract the links from the
response.</p>
</div>
</div>
<div class="sect3">
<h4 id="documenting-your-api-hypermedia-ignoring-common-links"><a class="link" href="#documenting-your-api-hypermedia-ignoring-common-links">Ignoring common links</a></h4>
<div class="paragraph">
<p>Rather than documenting links that are common to every response, such as <code>self</code> and
<code>curies</code> when using HAL, you may want to document them once in an overview section and
then ignore them in the rest of your API&#8217;s documentation. To do so, you can build on the
<a href="#documenting-your-api-reusing-snippets">support for reusing snippets</a> to add link
descriptors to a snippet that&#8217;s preconfigured to ignore certain links. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public static LinksSnippet links(LinkDescriptor... descriptors) {
	return HypermediaDocumentation.links(linkWithRel("self").ignored().optional(),
			linkWithRel("curies").ignored()).and(descriptors);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-request-response-payloads"><a class="link" href="#documenting-your-api-request-response-payloads">Request and response payloads</a></h3>
<div class="paragraph">
<p>In addition to the hypermedia-specific support <a href="#documenting-your-api-hypermedia">described
above</a>, support for general documentation of request and response payloads is also
provided.</p>
</div>
<div class="paragraph">
<p>By default, Spring REST Docs will automatically generate snippets for the body of the
request and the body of the response. These snippets are named <code>request-body.adoc</code> and
<code>response-body.adoc</code> respectively.</p>
</div>
<div class="sect3">
<h4 id="documenting-your-api-request-response-payloads-fields"><a class="link" href="#documenting-your-api-request-response-payloads-fields">Request and response fields</a></h4>
<div class="paragraph">
<p>To provide more detailed documentation of a request or response payload, support for
documenting the payload&#8217;s fields is provided.</p>
</div>
<div class="paragraph">
<p>Consider the following payload:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
	"contact": {
		"name": "Jane Doe",
		"email": "jane.doe@example.com"
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Its fields can be documented like this:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/user/5").accept(MediaType.APPLICATION_JSON))
		.andExpect(status().isOk())
		.andDo(document("index",
				responseFields( <i class="conum" data-value="1"></i><b>(1)</b>
						fieldWithPath("contact.email")
								.description("The user's email address"), <i class="conum" data-value="2"></i><b>(2)</b>
				fieldWithPath("contact.name").description("The user's name")))); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the fields in the response
payload. To document a request <code>requestFields</code> can be used. Both are static methods on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a field with the path <code>contact.email</code>. Uses the static <code>fieldWithPath</code> method
on <code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Expect a field with the path <code>contact.name</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("user/5").accept(MediaType.APPLICATION_JSON)
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("user",
		responseFields( <i class="conum" data-value="1"></i><b>(1)</b>
			fieldWithPath("contact.email").description("The user's email address"), <i class="conum" data-value="2"></i><b>(2)</b>
			fieldWithPath("contact.name").description("The user's name")))); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the fields in the response
payload. To document a request <code>requestFields</code> can be used. Both are static methods on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a field with the path <code>contact.email</code>. Uses the static <code>fieldWithPath</code> method
on <code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Expect a field with the path <code>contact.name</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec).accept("application/json")
	.filter(document("user", responseFields( <i class="conum" data-value="1"></i><b>(1)</b>
			fieldWithPath("contact.name").description("The user's name"), <i class="conum" data-value="2"></i><b>(2)</b>
			fieldWithPath("contact.email").description("The user's email address")))) <i class="conum" data-value="3"></i><b>(3)</b>
	.when().get("/user/5")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the fields in the response
payload. To document a request <code>requestFields</code> can be used. Both are static methods on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a field with the path <code>contact.email</code>. Uses the static <code>fieldWithPath</code> method on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Expect a field with the path <code>contact.name</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet that contains a table describing the fields. For requests this
snippet is named <code>request-fields.adoc</code>. For responses this snippet is named
<code>response-fields.adoc</code>.</p>
</div>
<div class="paragraph">
<p>When documenting fields, the test will fail if an undocumented field is found in the
payload. Similarly, the test will also fail if a documented field is not found in the
payload and the field has not been marked as optional.</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t want to provide detailed documentation for all of the fields, an entire
subsection of a payload can be documented. For example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/user/5").accept(MediaType.APPLICATION_JSON))
		.andExpect(status().isOk())
		.andDo(document("index",
				responseFields( <i class="conum" data-value="1"></i><b>(1)</b>
						subsectionWithPath("contact")
								.description("The user's contact details")))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document the subsection with the path <code>contact</code>. <code>contact.email</code> and <code>contact.name</code>
are now seen as having also been documented. Uses the static <code>subsectionWithPath</code>
method on <code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("user/5").accept(MediaType.APPLICATION_JSON)
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("user",
		responseFields(
			subsectionWithPath("contact").description("The user's contact details")))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document the subsection with the path <code>contact</code>. <code>contact.email</code> and <code>contact.name</code>
are now seen as having also been documented. Uses the static <code>subsectionWithPath</code>
method on <code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec).accept("application/json")
	.filter(document("user", responseFields(
			subsectionWithPath("contact").description("The user's contact details")))) <i class="conum" data-value="1"></i><b>(1)</b>
	.when().get("/user/5")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document the subsection with the path <code>contact</code>. <code>contact.email</code> and <code>contact.name</code>
are now seen as having also been documented. Uses the static <code>subsectionWithPath</code>
method on <code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>subsectionWithPath</code> can be useful for providing a high-level overview of a particular
section of a payload. Separate, more detailed documentation for a subsection can then
<a href="#documenting-your-api-request-response-payloads-subsections">be produced</a>.</p>
</div>
<div class="paragraph">
<p>If you do not want to document a field or subsection at all, you can mark it as ignored.
This will prevent it from appearing in the generated snippet while avoiding the failure
described above.</p>
</div>
<div class="paragraph">
<p>Fields can also be documented in a relaxed mode where any undocumented fields will not
cause a test failure. To do so, use the <code>relaxedRequestFields</code> and <code>relaxedResponseFields</code>
methods on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>. This can be useful when
documenting a particular scenario where you only want to focus on a subset of the payload.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
By default, Spring REST Docs will assume that the payload you are documenting is
JSON. If you want to document an XML payload the content type of the request or response
must be compatible with <code>application/xml</code>.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="documenting-your-api-request-response-payloads-fields-json"><a class="link" href="#documenting-your-api-request-response-payloads-fields-json">Fields in JSON payloads</a></h5>
<div class="sect5">
<h6 id="documenting-your-api-request-response-payloads-fields-json-field-paths"><a class="link" href="#documenting-your-api-request-response-payloads-fields-json-field-paths">JSON field paths</a></h6>
<div class="paragraph">
<p>JSON field paths use either dot notation or bracket notation. Dot notation uses '.' to
separate each key in the path; <code>a.b</code>, for example. Bracket notation wraps each key in
square brackets and single quotes; <code>['a']['b']</code>, for example. In either case, <code>[]</code> is used
to identify an array. Dot notation is more concise, but using bracket notation enables the
use of <code>.</code> within a key name; <code>['a.b']</code>, for example. The two different notations can be
used in the same path; <code>a['b']</code>, for example.</p>
</div>
<div class="paragraph">
<p>With this JSON payload:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
	"a":{
		"b":[
			{
				"c":"one"
			},
			{
				"c":"two"
			},
			{
				"d":"three"
			}
		],
		"e.dot" : "four"
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following paths are all present:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object containing <code>b</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array containing three objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>['a']['b']</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array containing three objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a['b']</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array containing three objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>['a'].b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array containing three objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.b[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array containing three objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.b[].c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array containing the strings <code>one</code> and <code>two</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.b[].d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The string <code>three</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a['e.dot']</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The string <code>four</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>['a']['e.dot']</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The string <code>four</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A payload that uses an array at its root can also be documented. The path <code>[]</code> will refer
to the entire array. You can then use bracket or dot notation to identify fields within
the array&#8217;s entries. For example, <code>[].id</code> corresponds to the <code>id</code> field of every object
found in the following array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
	{
		"id":1
	},
	{
		"id":2
	}
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use <code>*</code> as a wildcard to match fields with different names. For example,
<code>users.*.role</code> could be used to document the role of every user in the following JSON:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
	"users":{
		"ab12cd34":{
			"role": "Administrator"
		},
		"12ab34cd":{
			"role": "Guest"
		}
	}
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="documenting-your-api-request-response-payloads-fields-json-field-types"><a class="link" href="#documenting-your-api-request-response-payloads-fields-json-field-types">JSON field types</a></h6>
<div class="paragraph">
<p>When a field is documented, Spring REST Docs will attempt to determine its type by
examining the payload. Seven different types are supported:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of each occurrence of the field is an array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of each occurrence of the field is a boolean (<code>true</code> or <code>false</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of each occurrence of the field is an object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of each occurrence of the field is a number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of each occurrence of the field is <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of each occurrence of the field is a string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">varies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The field occurs multiple times in the payload with a variety of different types</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The type can also be set explicitly using the <code>type(Object)</code> method on
<code>FieldDescriptor</code>. The result of the supplied <code>Object</code>'s <code>toString</code> method will be used
in the documentation. Typically, one of the values enumerated by <code>JsonFieldType</code> will be
used:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.andDo(document("index",
		responseFields(
				fieldWithPath("contact.email").type(JsonFieldType.STRING) <i class="conum" data-value="1"></i><b>(1)</b>
						.description("The user's email address"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the field&#8217;s type to <code>String</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.consumeWith(document("user",
	responseFields(
		fieldWithPath("contact.email")
			.type(JsonFieldType.STRING) <i class="conum" data-value="1"></i><b>(1)</b>
			.description("The user's email address"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the field&#8217;s type to <code>String</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.filter(document("user", responseFields(
		fieldWithPath("contact.email")
				.type(JsonFieldType.STRING) <i class="conum" data-value="1"></i><b>(1)</b>
				.description("The user's email address"))))</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the field&#8217;s type to <code>String</code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="documenting-your-api-request-response-payloads-fields-xml"><a class="link" href="#documenting-your-api-request-response-payloads-fields-xml">XML payloads</a></h5>
<div class="sect5">
<h6 id="documenting-your-api-request-response-payloads-fields-xml-field-paths"><a class="link" href="#documenting-your-api-request-response-payloads-fields-xml-field-paths">XML field paths</a></h6>
<div class="paragraph">
<p>XML field paths are described using XPath. <code>/</code> is used to descend into a child node.</p>
</div>
</div>
<div class="sect5">
<h6 id="documenting-your-api-request-response-payloads-fields-xml-field-types"><a class="link" href="#documenting-your-api-request-response-payloads-fields-xml-field-types">XML field types</a></h6>
<div class="paragraph">
<p>When documenting an XML payload, you must provide a type for the field using the
<code>type(Object)</code> method on <code>FieldDescriptor</code>. The result of the supplied type&#8217;s <code>toString</code>
method will be used in the documentation.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="documenting-your-api-request-response-payloads-fields-reusing-field-descriptors"><a class="link" href="#documenting-your-api-request-response-payloads-fields-reusing-field-descriptors">Reusing field descriptors</a></h5>
<div class="paragraph">
<p>In addition to the general support for <a href="#documenting-your-api-reusing-snippets">reusing
snippets</a>, the request and response snippets allow additional descriptors to be
configured with a path prefix. This allows the descriptors for a repeated portion of a
request or response payload to be created once and then reused.</p>
</div>
<div class="paragraph">
<p>Consider an endpoint that returns a book:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
	"title": "Pride and Prejudice",
	"author": "Jane Austen"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The paths for <code>title</code> and <code>author</code> are simply <code>title</code> and <code>author</code> respectively.</p>
</div>
<div class="paragraph">
<p>Now consider an endpoint that returns an array of books:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[{
	"title": "Pride and Prejudice",
	"author": "Jane Austen"
},
{
	"title": "To Kill a Mockingbird",
	"author": "Harper Lee"
}]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The paths for <code>title</code> and <code>author</code> are <code>[].title</code> and <code>[].author</code> respectively. The only
difference between the single book and the array of books is that the fields' paths now
have a <code>[].</code> prefix.</p>
</div>
<div class="paragraph">
<p>The descriptors that document a book can be created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">FieldDescriptor[] book = new FieldDescriptor[] {
		fieldWithPath("title").description("Title of the book"),
		fieldWithPath("author").description("Author of the book") };</code></pre>
</div>
</div>
<div class="paragraph">
<p>They can then be used to document a single book:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/books/1").accept(MediaType.APPLICATION_JSON))
		.andExpect(status().isOk()).andDo(document("book", responseFields(book))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document <code>title</code> and <code>author</code> using existing descriptors</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/books/1").accept(MediaType.APPLICATION_JSON)
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("book",
		responseFields(book))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document <code>title</code> and <code>author</code> using existing descriptors</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec).accept("application/json")
	.filter(document("book", responseFields(book))) <i class="conum" data-value="1"></i><b>(1)</b>
	.when().get("/books/1")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document <code>title</code> and <code>author</code> using existing descriptors</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>And an array of books:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/books").accept(MediaType.APPLICATION_JSON))
		.andExpect(status().isOk())
		.andDo(document("book",
				responseFields(
						fieldWithPath("[]").description("An array of books")) <i class="conum" data-value="1"></i><b>(1)</b>
								.andWithPrefix("[].", book))); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document the array</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document <code>[].title</code> and <code>[].author</code> using the existing descriptors prefixed with <code>[].</code></td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/books").accept(MediaType.APPLICATION_JSON)
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("books",
		responseFields(
			fieldWithPath("[]")
				.description("An array of books")) <i class="conum" data-value="1"></i><b>(1)</b>
				.andWithPrefix("[].", book))); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document the array</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document <code>[].title</code> and <code>[].author</code> using the existing descriptors prefixed with <code>[].</code></td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec).accept("application/json")
	.filter(document("books", responseFields(
		fieldWithPath("[]").description("An array of books")) <i class="conum" data-value="1"></i><b>(1)</b>
		.andWithPrefix("[].", book))) <i class="conum" data-value="2"></i><b>(2)</b>
	.when().get("/books")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Document the array</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document <code>[].title</code> and <code>[].author</code> using the existing descriptors prefixed with <code>[].</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="documenting-your-api-request-response-payloads-subsections"><a class="link" href="#documenting-your-api-request-response-payloads-subsections">Documenting a subsection of a request or response payload</a></h4>
<div class="paragraph">
<p>If a payload is large or structurally complex, it can be useful to document
individual sections of the payload. REST Docs allows you to do so by extracting a
subsection of the payload and then documenting it.</p>
</div>
<div class="sect4">
<h5 id="documenting-your-api-request-response-payloads-subsections-body"><a class="link" href="#documenting-your-api-request-response-payloads-subsections-body">Documenting a subsection of a request or response body</a></h5>
<div class="paragraph">
<p>Consider the following JSON response body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
	"weather": {
		"wind": {
			"speed": 15.3,
			"direction": 287.0
		},
		"temperature": {
			"high": 21.2,
			"low": 14.8
		}
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A snippet that documents the <code>temperature</code> object can be produces as follows:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/locations/1").accept(MediaType.APPLICATION_JSON))
		.andExpect(status().isOk()).andDo(document("location",
				responseBody(beneathPath("weather.temperature")))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Produce a snippet containing a subsection of the response body. Uses the static
<code>responseBody</code> and <code>beneathPath</code> methods on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>. To produce a snippet
for the request body, <code>requestBody</code> can be used in place of <code>responseBody</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/locations/1").accept(MediaType.APPLICATION_JSON)
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("temperature",
		responseBody(beneathPath("weather.temperature")))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Produce a snippet containing a subsection of the response body. Uses the static
<code>responseBody</code> and <code>beneathPath</code> methods on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>. To produce a snippet
for the request body, <code>requestBody</code> can be used in place of <code>responseBody</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec).accept("application/json")
	.filter(document("location", responseBody(beneathPath("weather.temperature")))) <i class="conum" data-value="1"></i><b>(1)</b>
	.when().get("/locations/1")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Produce a snippet containing a subsection of the response body. Uses the static
<code>responseBody</code> and <code>beneathPath</code> methods on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>. To produce a snippet
for the request body, <code>requestBody</code> can be used in place of <code>responseBody</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet with the following contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
	"temperature": {
		"high": 21.2,
		"low": 14.8
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To make the snippet&#8217;s name distinct, an identifier for the subsection is included. By
default, this identifier is <code>beneath-${path}</code>. For example, the code above will result in
a snippet named <code>response-body-beneath-weather.temperature.adoc</code>. The identifier can
be customized using the <code>withSubsectionId(String)</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">responseBody(beneathPath("weather.temperature").withSubsectionId("temp"));</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example will result in a snippet named <code>request-body-temp.adoc</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="documenting-your-api-request-response-payloads-subsections-fields"><a class="link" href="#documenting-your-api-request-response-payloads-subsections-fields">Documenting the fields of a subsection of a request or response</a></h5>
<div class="paragraph">
<p>As well as documenting a subsection of a request or response body, it&#8217;s also possible to
document the fields in a particular subsection. A snippet that documents the fields of
the <code>temperature</code> object (<code>high</code> and <code>low</code>) can be produced as follows:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/locations/1").accept(MediaType.APPLICATION_JSON))
		.andExpect(status().isOk())
		.andDo(document("location",
				responseFields(beneathPath("weather.temperature"), <i class="conum" data-value="1"></i><b>(1)</b>
						fieldWithPath("high").description(
								"The forecast high in degrees celcius"), <i class="conum" data-value="2"></i><b>(2)</b>
				fieldWithPath("low")
						.description("The forecast low in degrees celcius"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Produce a snippet describing the fields in the subsection of the response payload
beneath the path <code>weather.temperature</code>. Uses the static <code>beneathPath</code> method on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document the <code>high</code> and <code>low</code> fields.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/locations/1").accept(MediaType.APPLICATION_JSON)
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("temperature",
		responseFields(beneathPath("weather.temperature"), <i class="conum" data-value="1"></i><b>(1)</b>
			fieldWithPath("high").description("The forecast high in degrees celcius"), <i class="conum" data-value="2"></i><b>(2)</b>
			fieldWithPath("low").description("The forecast low in degrees celcius"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Produce a snippet describing the fields in the subsection of the response payload
beneath the path <code>weather.temperature</code>. Uses the static <code>beneathPath</code> method on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document the <code>high</code> and <code>low</code> fields.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec).accept("application/json")
	.filter(document("location", responseFields(beneathPath("weather.temperature"), <i class="conum" data-value="1"></i><b>(1)</b>
		fieldWithPath("high").description("The forecast high in degrees celcius"), <i class="conum" data-value="2"></i><b>(2)</b>
		fieldWithPath("low").description("The forecast low in degrees celcius"))))
	.when().get("/locations/1")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Produce a snippet describing the fields in the subsection of the response payload
beneath the path <code>weather.temperature</code>. Uses the static <code>beneathPath</code> method on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document the <code>high</code> and <code>low</code> fields.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet that contains a table describing the <code>high</code> and <code>low</code> fields
of <code>weather.temperature</code>. To make the snippet&#8217;s name distinct, an identifier for the
subsection is included. By default, this identifier is <code>beneath-${path}</code>. For
example, the code above will result in a snippet named
<code>response-fields-beneath-weather.temperature.adoc</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-request-parameters"><a class="link" href="#documenting-your-api-request-parameters">Request parameters</a></h3>
<div class="paragraph">
<p>A request&#8217;s parameters can be documented using <code>requestParameters</code>. Request parameters
can be included in a <code>GET</code> request&#8217;s query string. For example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/users?page=2&amp;per_page=100")) <i class="conum" data-value="1"></i><b>(1)</b>
	.andExpect(status().isOk())
	.andDo(document("users", requestParameters( <i class="conum" data-value="2"></i><b>(2)</b>
			parameterWithName("page").description("The page to retrieve"), <i class="conum" data-value="3"></i><b>(3)</b>
			parameterWithName("per_page").description("Entries per page") <i class="conum" data-value="4"></i><b>(4)</b>
	)));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>GET</code> request with two parameters, <code>page</code> and <code>per_page</code> in the query
string.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s parameters.
Uses the static <code>requestParameters</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the <code>page</code> parameter. Uses the static <code>parameterWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Document the <code>per_page</code> parameter.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/users?page=2&amp;per_page=100") <i class="conum" data-value="1"></i><b>(1)</b>
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("users", requestParameters( <i class="conum" data-value="2"></i><b>(2)</b>
			parameterWithName("page").description("The page to retrieve"), <i class="conum" data-value="3"></i><b>(3)</b>
			parameterWithName("per_page").description("Entries per page") <i class="conum" data-value="4"></i><b>(4)</b>
	)));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>GET</code> request with two parameters, <code>page</code> and <code>per_page</code> in the query
string.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s parameters.
Uses the static <code>requestParameters</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the <code>page</code> parameter. Uses the static <code>parameterWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Document the <code>per_page</code> parameter.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.filter(document("users", requestParameters( <i class="conum" data-value="1"></i><b>(1)</b>
			parameterWithName("page").description("The page to retrieve"), <i class="conum" data-value="2"></i><b>(2)</b>
			parameterWithName("per_page").description("Entries per page")))) <i class="conum" data-value="3"></i><b>(3)</b>
	.when().get("/users?page=2&amp;per_page=100") <i class="conum" data-value="4"></i><b>(4)</b>
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST Docs to  produce a snippet describing the request&#8217;s parameters.
Uses the static <code>requestParameters</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document the <code>page</code> parameter. Uses the static <code>parameterWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the <code>per_page</code> parameter.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Perform a <code>GET</code> request with two parameters, <code>page</code> and <code>per_page</code> in the query
string.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Request parameters can also be included as form data in the body of a POST request:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(post("/users").param("username", "Tester")) <i class="conum" data-value="1"></i><b>(1)</b>
	.andExpect(status().isCreated())
	.andDo(document("create-user", requestParameters(
			parameterWithName("username").description("The user's username")
	)));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>POST</code> request with a single parameter, <code>username</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();
formData.add("username", "Tester");
this.webTestClient.post().uri("/users").body(BodyInserters.fromFormData(formData)) <i class="conum" data-value="1"></i><b>(1)</b>
	.exchange().expectStatus().isCreated().expectBody()
	.consumeWith(document("create-user", requestParameters(
		parameterWithName("username").description("The user's username")
)));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>POST</code> request with a single parameter, <code>username</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.filter(document("create-user", requestParameters(
			parameterWithName("username").description("The user's username"))))
	.formParam("username", "Tester") <i class="conum" data-value="1"></i><b>(1)</b>
	.when().post("/users") <i class="conum" data-value="2"></i><b>(2)</b>
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure the <code>username</code> parameter.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Perform the <code>POST</code> request.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In both cases, the result is a snippet named <code>request-parameters.adoc</code> that contains a
table describing the parameters that are supported by the resource.</p>
</div>
<div class="paragraph">
<p>When documenting request parameters, the test will fail if an undocumented request
parameter is used in the request. Similarly, the test will also fail if a documented
request parameter is not found in the request and the request parameter has not been
marked as optional.</p>
</div>
<div class="paragraph">
<p>If you do not want to document a request parameter, you can mark it as ignored. This will
prevent it from appearing in the generated snippet while avoiding the failure described
above.</p>
</div>
<div class="paragraph">
<p>Request parameters can also be documented in a relaxed mode where any undocumented
parameters will not cause a test failure. To do so, use the <code>relaxedRequestParameters</code>
method on <code>org.springframework.restdocs.request.RequestDocumentation</code>. This can be useful
when documenting a particular scenario where you only want to focus on a subset of the
request parameters.</p>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-path-parameters"><a class="link" href="#documenting-your-api-path-parameters">Path parameters</a></h3>
<div class="paragraph">
<p>A request&#8217;s path parameters can be documented using <code>pathParameters</code>. For example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/locations/{latitude}/{longitude}", 51.5072, 0.1275)) <i class="conum" data-value="1"></i><b>(1)</b>
	.andExpect(status().isOk())
	.andDo(document("locations", pathParameters( <i class="conum" data-value="2"></i><b>(2)</b>
			parameterWithName("latitude").description("The location's latitude"), <i class="conum" data-value="3"></i><b>(3)</b>
			parameterWithName("longitude").description("The location's longitude") <i class="conum" data-value="4"></i><b>(4)</b>
	)));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>GET</code> request with two path parameters, <code>latitude</code> and <code>longitude</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s path
parameters. Uses the static <code>pathParameters</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the parameter named <code>latitude</code>. Uses the static <code>parameterWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Document the parameter named <code>longitude</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/locations/{latitude}/{longitude}", 51.5072, 0.1275) <i class="conum" data-value="1"></i><b>(1)</b>
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("locations",
		pathParameters( <i class="conum" data-value="2"></i><b>(2)</b>
			parameterWithName("latitude").description("The location's latitude"), <i class="conum" data-value="3"></i><b>(3)</b>
			parameterWithName("longitude").description("The location's longitude")))); <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>GET</code> request with two path parameters, <code>latitude</code> and <code>longitude</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s path
parameters. Uses the static <code>pathParameters</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the parameter named <code>latitude</code>. Uses the static <code>parameterWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Document the parameter named <code>longitude</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.filter(document("locations", pathParameters( <i class="conum" data-value="1"></i><b>(1)</b>
			parameterWithName("latitude").description("The location's latitude"), <i class="conum" data-value="2"></i><b>(2)</b>
			parameterWithName("longitude").description("The location's longitude")))) <i class="conum" data-value="3"></i><b>(3)</b>
	.when().get("/locations/{latitude}/{longitude}", 51.5072, 0.1275) <i class="conum" data-value="4"></i><b>(4)</b>
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s path
parameters. Uses the static <code>pathParameters</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document the parameter named <code>latitude</code>. Uses the static <code>parameterWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the parameter named <code>longitude</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Perform a <code>GET</code> request with two path parameters, <code>latitude</code> and <code>longitude</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet named <code>path-parameters.adoc</code> that contains a table describing
the path parameters that are supported by the resource.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are using MockMvc then, to make the path parameters available for documentation,
the request must be built using one of the methods on <code>RestDocumentationRequestBuilders</code>
rather than <code>MockMvcRequestBuilders</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When documenting path parameters, the test will fail if an undocumented path parameter
is used in the request. Similarly, the test will also fail if a documented path parameter
is not found in the request and the path parameter has not been marked as optional.</p>
</div>
<div class="paragraph">
<p>Path parameters can also be documented in a relaxed mode where any undocumented
parameters will not cause a test failure. To do so, use the <code>relaxedPathParameters</code>
method on <code>org.springframework.restdocs.request.RequestDocumentation</code>. This can be useful
when documenting a particular scenario where you only want to focus on a subset of the
path parameters.</p>
</div>
<div class="paragraph">
<p>If you do not want to document a path parameter, you can mark it as ignored. This will
prevent it from appearing in the generated snippet while avoiding the failure described
above.</p>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-request-parts"><a class="link" href="#documenting-your-api-request-parts">Request parts</a></h3>
<div class="paragraph">
<p>The parts of a multipart request can be documenting using <code>requestParts</code>. For example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(multipart("/upload").file("file", "example".getBytes())) <i class="conum" data-value="1"></i><b>(1)</b>
	.andExpect(status().isOk())
	.andDo(document("upload", requestParts( <i class="conum" data-value="2"></i><b>(2)</b>
			partWithName("file").description("The file to upload")) <i class="conum" data-value="3"></i><b>(3)</b>
));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>POST</code> request with a single part named <code>file</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s parts. Uses
the static <code>requestParts</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the part named <code>file</code>. Uses the static <code>partWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MultiValueMap&lt;String, Object&gt; multipartData = new LinkedMultiValueMap&lt;&gt;();
multipartData.add("file", "example".getBytes());
this.webTestClient.post().uri("/upload").body(BodyInserters.fromMultipartData(multipartData)) <i class="conum" data-value="1"></i><b>(1)</b>
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("upload", requestParts( <i class="conum" data-value="2"></i><b>(2)</b>
		partWithName("file").description("The file to upload")) <i class="conum" data-value="3"></i><b>(3)</b>
));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>POST</code> request with a single part named <code>file</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s parts. Uses
the static <code>requestParts</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the part named <code>file</code>. Uses the static <code>partWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.filter(document("users", requestParts( <i class="conum" data-value="1"></i><b>(1)</b>
			partWithName("file").description("The file to upload")))) <i class="conum" data-value="2"></i><b>(2)</b>
	.multiPart("file", "example") <i class="conum" data-value="3"></i><b>(3)</b>
	.when().post("/upload") <i class="conum" data-value="4"></i><b>(4)</b>
	.then().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s parts. Uses
the static <code>requestParts</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document the part named <code>file</code>. Uses the static <code>partWithName</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Configure the request with the part named <code>file</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Perform the <code>POST</code> request to <code>/upload</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet named <code>request-parts.adoc</code> that contains a table describing the
request parts that are supported by the resource.</p>
</div>
<div class="paragraph">
<p>When documenting request parts, the test will fail if an undocumented part is used in the
request. Similarly, the test will also fail if a documented part is not found in the
request and the part has not been marked as optional.</p>
</div>
<div class="paragraph">
<p>Request parts can also be documented in a relaxed mode where any undocumented
parts will not cause a test failure. To do so, use the <code>relaxedRequestParts</code> method on
<code>org.springframework.restdocs.request.RequestDocumentation</code>. This can be useful
when documenting a particular scenario where you only want to focus on a subset of the
request parts.</p>
</div>
<div class="paragraph">
<p>If you do not want to document a request part, you can mark it as ignored. This will
prevent it from appearing in the generated snippet while avoiding the failure described
above.</p>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-request-parts-payloads"><a class="link" href="#documenting-your-api-request-parts-payloads">Request part payloads</a></h3>
<div class="paragraph">
<p>The payload of a request part can be documented in much the same way as the
<a href="#documenting-your-api-request-response-payloads">payload of a request</a> with support
for documenting a request part&#8217;s body and its fields.</p>
</div>
<div class="sect3">
<h4 id="documenting-your-api-request-parts-payloads-body"><a class="link" href="#documenting-your-api-request-parts-payloads-body">Documenting a request part&#8217;s body</a></h4>
<div class="paragraph">
<p>A snippet containing the body of a request part can be generated:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MockMultipartFile image = new MockMultipartFile("image", "image.png", "image/png",
		"&lt;&lt;png data&gt;&gt;".getBytes());
MockMultipartFile metadata = new MockMultipartFile("metadata", "",
		"application/json", "{ \"version\": \"1.0\"}".getBytes());

this.mockMvc.perform(fileUpload("/images").file(image).file(metadata)
			.accept(MediaType.APPLICATION_JSON))
	.andExpect(status().isOk())
	.andDo(document("image-upload", requestPartBody("metadata"))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet containing the body of the
of the request part named <code>metadata</code>. Uses the static <code>requestPartBody</code> method on
<code>PayloadDocumentation</code>.
payload.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MultiValueMap&lt;String, Object&gt; multipartData = new LinkedMultiValueMap&lt;&gt;();
Resource imageResource = new ByteArrayResource("&lt;&lt;png data&gt;&gt;".getBytes()) {

	@Override
	public String getFilename() {
		return "image.png";
	}

};
multipartData.add("image", imageResource);
multipartData.add("metadata", Collections.singletonMap("version",  "1.0"));

this.webTestClient.post().uri("/images").body(BodyInserters.fromMultipartData(multipartData))
	.accept(MediaType.APPLICATION_JSON).exchange()
	.expectStatus().isOk().expectBody()
	.consumeWith(document("image-upload",
			requestPartBody("metadata"))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet containing the body of the
of the request part named <code>metadata</code>. Uses the static <code>requestPartBody</code> method on
<code>PayloadDocumentation</code>.
payload.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();
metadata.put("version", "1.0");
RestAssured.given(this.spec).accept("application/json")
	.filter(document("image-upload", requestPartBody("metadata"))) <i class="conum" data-value="1"></i><b>(1)</b>
	.when().multiPart("image", new File("image.png"), "image/png")
			.multiPart("metadata", metadata).post("images")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet containing the body of the request
part named <code>metadata</code>. Uses the static <code>requestPartBody</code> method on
<code>PayloadDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet <code>request-part-${part-name}-body.adoc</code> that contains the part&#8217;s
body. For example, documenting a part named <code>metadata</code> will produce a snippet named
<code>request-part-metadata-body.adoc</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="documenting-your-api-request-parts-payloads-fields"><a class="link" href="#documenting-your-api-request-parts-payloads-fields">Documenting a request part&#8217;s fields</a></h4>
<div class="paragraph">
<p>A request part&#8217;s fields can be documented in much the same way as the fields of a request
or response:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MockMultipartFile image = new MockMultipartFile("image", "image.png", "image/png",
		"&lt;&lt;png data&gt;&gt;".getBytes());
MockMultipartFile metadata = new MockMultipartFile("metadata", "",
		"application/json", "{ \"version\": \"1.0\"}".getBytes());

this.mockMvc.perform(fileUpload("/images").file(image).file(metadata)
			.accept(MediaType.APPLICATION_JSON))
	.andExpect(status().isOk())
	.andDo(document("image-upload", requestPartFields("metadata", <i class="conum" data-value="1"></i><b>(1)</b>
			fieldWithPath("version").description("The version of the image")))); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the fields in the payload
of the request part named <code>metadata</code>. Uses the static <code>requestPartFields</code> method on
<code>PayloadDocumentation</code>.
payload.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a field with the path <code>version</code>. Uses the static <code>fieldWithPath</code> method on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MultiValueMap&lt;String, Object&gt; multipartData = new LinkedMultiValueMap&lt;&gt;();
Resource imageResource = new ByteArrayResource("&lt;&lt;png data&gt;&gt;".getBytes()) {

	@Override
	public String getFilename() {
		return "image.png";
	}

};
multipartData.add("image", imageResource);
multipartData.add("metadata", Collections.singletonMap("version",  "1.0"));
this.webTestClient.post().uri("/images").body(BodyInserters.fromMultipartData(multipartData))
	.accept(MediaType.APPLICATION_JSON).exchange()
	.expectStatus().isOk().expectBody()
	.consumeWith(document("image-upload",
		requestPartFields("metadata", <i class="conum" data-value="1"></i><b>(1)</b>
			fieldWithPath("version").description("The version of the image")))); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the fields in the payload
of the request part named <code>metadata</code>. Uses the static <code>requestPartFields</code> method on
<code>PayloadDocumentation</code>.
payload.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a field with the path <code>version</code>. Uses the static <code>fieldWithPath</code> method on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();
metadata.put("version", "1.0");
RestAssured.given(this.spec).accept("application/json")
	.filter(document("image-upload", requestPartFields("metadata", <i class="conum" data-value="1"></i><b>(1)</b>
			fieldWithPath("version").description("The version of the image")))) <i class="conum" data-value="2"></i><b>(2)</b>
	.when().multiPart("image", new File("image.png"), "image/png")
			.multiPart("metadata", metadata).post("images")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST docs to produce a snippet describing the fields in the payload
of the request part named <code>metadata</code>. Uses the static <code>requestPartFields</code> method on
<code>PayloadDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Expect a field with the path <code>version</code>. Uses the static <code>fieldWithPath</code> method on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet that contains a table describing the part&#8217;s fields. This snippet
is named <code>request-part-${part-name}-fields.adoc</code>. For example, documenting a part named
<code>metadata</code> will produce a snippet named <code>request-part-metadata-fields.adoc</code>.</p>
</div>
<div class="paragraph">
<p>When documenting fields, the test will fail if an undocumented field is found in the
payload of the part. Similarly, the test will also fail if a documented field is not found
in the payload of the part and the field has not been marked as optional. For payloads
with a hierarchical structure, documenting a field is sufficient for all of its
descendants to also be treated as having been documented.</p>
</div>
<div class="paragraph">
<p>If you do not want to document a field, you can mark it as ignored. This will prevent it
from appearing in the generated snippet while avoiding the failure described above.</p>
</div>
<div class="paragraph">
<p>Fields can also be documented in a relaxed mode where any undocumented fields will not
cause a test failure. To do so, use the <code>relaxedRequestPartFields</code> method on
<code>org.springframework.restdocs.payload.PayloadDocumentation</code>. This can be useful when
documenting a particular scenario where you only want to focus on a subset of the payload
of the part.</p>
</div>
<div class="paragraph">
<p>For further information on describing fields, documenting payloads that use XML,
and more please refer to the
<a href="#documenting-your-api-request-response-payloads">section on documenting request and
response payloads</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-http-headers"><a class="link" href="#documenting-your-api-http-headers">HTTP headers</a></h3>
<div class="paragraph">
<p>The headers in a request or response can be documented using <code>requestHeaders</code> and
<code>responseHeaders</code> respectively. For example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc
	.perform(get("/people").header("Authorization", "Basic dXNlcjpzZWNyZXQ=")) <i class="conum" data-value="1"></i><b>(1)</b>
	.andExpect(status().isOk())
	.andDo(document("headers",
			requestHeaders( <i class="conum" data-value="2"></i><b>(2)</b>
					headerWithName("Authorization").description(
							"Basic auth credentials")), <i class="conum" data-value="3"></i><b>(3)</b>
			responseHeaders( <i class="conum" data-value="4"></i><b>(4)</b>
					headerWithName("X-RateLimit-Limit").description(
							"The total number of requests permitted per period"),
					headerWithName("X-RateLimit-Remaining").description(
							"Remaining requests permitted in current period"),
					headerWithName("X-RateLimit-Reset").description(
							"Time at which the rate limit period will reset"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>GET</code> request with an <code>Authorization</code> header that uses basic authentication</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s headers.
Uses the static <code>requestHeaders</code> method on
<code>org.springframework.restdocs.headers.HeaderDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the <code>Authorization</code> header. Uses the static <code>headerWithName</code> method on
<code>org.springframework.restdocs.headers.HeaderDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Produce a snippet describing the response&#8217;s headers. Uses the static <code>responseHeaders</code>
method on <code>org.springframework.restdocs.headers.HeaderDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient
	.get().uri("/people").header("Authorization", "Basic dXNlcjpzZWNyZXQ=") <i class="conum" data-value="1"></i><b>(1)</b>
	.exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("headers",
		requestHeaders( <i class="conum" data-value="2"></i><b>(2)</b>
			headerWithName("Authorization").description("Basic auth credentials")), <i class="conum" data-value="3"></i><b>(3)</b>
		responseHeaders( <i class="conum" data-value="4"></i><b>(4)</b>
			headerWithName("X-RateLimit-Limit")
				.description("The total number of requests permitted per period"),
			headerWithName("X-RateLimit-Remaining")
				.description("Remaining requests permitted in current period"),
			headerWithName("X-RateLimit-Reset")
				.description("Time at which the rate limit period will reset"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Perform a <code>GET</code> request with an <code>Authorization</code> header that uses basic authentication</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s headers.
Uses the static <code>requestHeaders</code> method on
<code>org.springframework.restdocs.headers.HeaderDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Document the <code>Authorization</code> header. Uses the static <code>headerWithName</code> method on
<code>org.springframework.restdocs.headers.HeaderDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Produce a snippet describing the response&#8217;s headers. Uses the static <code>responseHeaders</code>
method on <code>org.springframework.restdocs.headers.HeaderDocumentation</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.filter(document("headers",
			requestHeaders( <i class="conum" data-value="1"></i><b>(1)</b>
					headerWithName("Authorization").description(
							"Basic auth credentials")), <i class="conum" data-value="2"></i><b>(2)</b>
			responseHeaders( <i class="conum" data-value="3"></i><b>(3)</b>
					headerWithName("X-RateLimit-Limit").description(
							"The total number of requests permitted per period"),
					headerWithName("X-RateLimit-Remaining").description(
							"Remaining requests permitted in current period"),
					headerWithName("X-RateLimit-Reset").description(
							"Time at which the rate limit period will reset"))))
	.header("Authroization", "Basic dXNlcjpzZWNyZXQ=") <i class="conum" data-value="4"></i><b>(4)</b>
	.when().get("/people")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure Spring REST Docs to produce a snippet describing the request&#8217;s headers.
Uses the static <code>requestHeaders</code> method on
<code>org.springframework.restdocs.headers.HeaderDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Document the <code>Authorization</code> header. Uses the static <code>headerWithName</code> method on
`org.springframework.restdocs.headers.HeaderDocumentation.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Produce a snippet describing the response&#8217;s headers. Uses the static <code>responseHeaders</code>
method on <code>org.springframework.restdocs.headers.HeaderDocumentation</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Configure the request with an <code>Authorization</code> header that uses basic authentication</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result is a snippet named <code>request-headers.adoc</code> and a snippet named
<code>response-headers.adoc</code>. Each contains a table describing the headers.</p>
</div>
<div class="paragraph">
<p>When documenting HTTP Headers, the test will fail if a documented header is not found in
the request or response.</p>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-reusing-snippets"><a class="link" href="#documenting-your-api-reusing-snippets">Reusing snippets</a></h3>
<div class="paragraph">
<p>It&#8217;s common for an API that&#8217;s being documented to have some features that are common
across several of its resources. To avoid repetition when documenting such resources a
<code>Snippet</code> configured with the common elements can be reused.</p>
</div>
<div class="paragraph">
<p>First, create the <code>Snippet</code> that describes the common elements. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">protected final LinksSnippet pagingLinks = links(
		linkWithRel("first").optional().description("The first page of results"),
		linkWithRel("last").optional().description("The last page of results"),
		linkWithRel("next").optional().description("The next page of results"),
		linkWithRel("prev").optional().description("The previous page of results"));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Second, use this snippet and add further descriptors that are resource-specific. For
example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/").accept(MediaType.APPLICATION_JSON))
	.andExpect(status().isOk())
	.andDo(document("example", this.pagingLinks.and( <i class="conum" data-value="1"></i><b>(1)</b>
			linkWithRel("alpha").description("Link to the alpha resource"),
			linkWithRel("bravo").description("Link to the bravo resource"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Reuse the <code>pagingLinks</code> <code>Snippet</code> calling <code>and</code> to add descriptors that are specific
to the resource that is being documented.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/").accept(MediaType.APPLICATION_JSON).exchange()
	.expectStatus().isOk().expectBody()
	.consumeWith(document("example", this.pagingLinks.and( <i class="conum" data-value="1"></i><b>(1)</b>
		linkWithRel("alpha").description("Link to the alpha resource"),
		linkWithRel("bravo").description("Link to the bravo resource"))));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Reuse the <code>pagingLinks</code> <code>Snippet</code> calling <code>and</code> to add descriptors that are specific
to the resource that is being documented.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.accept("application/json")
	.filter(document("example", this.pagingLinks.and( <i class="conum" data-value="1"></i><b>(1)</b>
			linkWithRel("alpha").description("Link to the alpha resource"),
			linkWithRel("bravo").description("Link to the bravo resource"))))
	.get("/").then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Reuse the <code>pagingLinks</code> <code>Snippet</code> calling <code>and</code> to add descriptors that are specific
to the resource that is being documented.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result of the example is that links with the rels <code>first</code>, <code>last</code>, <code>next</code>, <code>previous</code>,
<code>alpha</code>, and <code>bravo</code> are all documented.</p>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-constraints"><a class="link" href="#documenting-your-api-constraints">Documenting constraints</a></h3>
<div class="paragraph">
<p>Spring REST Docs provides a number of classes that can help you to document constraints.
An instance of <code>ConstraintDescriptions</code> can be used to access descriptions of a class&#8217;s
constraints. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void example() {
	ConstraintDescriptions userConstraints = new ConstraintDescriptions(UserInput.class); <i class="conum" data-value="1"></i><b>(1)</b>
	List&lt;String&gt; descriptions = userConstraints.descriptionsForProperty("name"); <i class="conum" data-value="2"></i><b>(2)</b>
}

static class UserInput {

	@NotNull
	@Size(min = 1)
	String name;

	@NotNull
	@Size(min = 8)
	String password;

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create an instance of <code>ConstraintDescriptions</code> for the <code>UserInput</code> class</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Get the descriptions of the name property&#8217;s constraints. This list will contain two
descriptions; one for the <code>NotNull</code> constraint and one for the <code>Size</code> constraint.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-spring-hateoas/src/test/java/com/example/notes/ApiDocumentation.java"><code>ApiDocumentation</code></a>
class in the Spring HATEOAS sample shows this functionality in action.</p>
</div>
<div class="sect3">
<h4 id="documenting-your-api-constraints-finding"><a class="link" href="#documenting-your-api-constraints-finding">Finding constraints</a></h4>
<div class="paragraph">
<p>By default, constraints are found using a Bean Validation <code>Validator</code>. Currently, only
property constraints are supported. You can customize the <code>Validator</code> that&#8217;s used by
creating <code>ConstraintDescriptions</code> with a custom <code>ValidatorConstraintResolver</code> instance.
To take complete control of constraint resolution, your own implementation of
<code>ConstraintResolver</code> can be used.</p>
</div>
</div>
<div class="sect3">
<h4 id="documenting-your-api-constraints-describing"><a class="link" href="#documenting-your-api-constraints-describing">Describing constraints</a></h4>
<div class="paragraph">
<p>Default descriptions are provided for all of Bean Validation 2.0&#8217;s constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AssertFalse</p>
</li>
<li>
<p>AssertTrue</p>
</li>
<li>
<p>DecimalMax</p>
</li>
<li>
<p>DecimalMin</p>
</li>
<li>
<p>Digits</p>
</li>
<li>
<p>Email</p>
</li>
<li>
<p>Future</p>
</li>
<li>
<p>FutureOrPresent</p>
</li>
<li>
<p>Max</p>
</li>
<li>
<p>Min</p>
</li>
<li>
<p>Negative</p>
</li>
<li>
<p>NegativeOrZero</p>
</li>
<li>
<p>NotBlank</p>
</li>
<li>
<p>NotEmpty</p>
</li>
<li>
<p>NotNull</p>
</li>
<li>
<p>Null</p>
</li>
<li>
<p>Past</p>
</li>
<li>
<p>PastOrPresent</p>
</li>
<li>
<p>Pattern</p>
</li>
<li>
<p>Positive</p>
</li>
<li>
<p>PositiveOrZero</p>
</li>
<li>
<p>Size</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Default descriptions are also provided for the following constraints from Hibernate
Validator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CodePointLength</p>
</li>
<li>
<p>CreditCardNumber</p>
</li>
<li>
<p>Currency</p>
</li>
<li>
<p>EAN</p>
</li>
<li>
<p>Email</p>
</li>
<li>
<p>Length</p>
</li>
<li>
<p>LuhnCheck</p>
</li>
<li>
<p>Mod10Check</p>
</li>
<li>
<p>Mod11Check</p>
</li>
<li>
<p>NotBlank</p>
</li>
<li>
<p>NotEmpty</p>
</li>
<li>
<p>Currency</p>
</li>
<li>
<p>Range</p>
</li>
<li>
<p>SafeHtml</p>
</li>
<li>
<p>URL</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To override the default descriptions, or to provide a new description, create a resource
bundle with the base name
<code>org.springframework.restdocs.constraints.ConstraintDescriptions</code>.  The Spring
HATEOAS-based sample contains
<a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-spring-hateoas/src/test/resources/org/springframework/restdocs/constraints/ConstraintDescriptions.properties">an
example of such a resource bundle</a>.</p>
</div>
<div class="paragraph">
<p>Each key in the resource bundle is the fully-qualified name of a constraint plus
<code>.description</code>. For example, the key for the standard <code>@NotNull</code> constraint is
<code>javax.validation.constraints.NotNull.description</code>.</p>
</div>
<div class="paragraph">
<p>Property placeholder&#8217;s referring to a constraint&#8217;s attributes can be used in its
description. For example, the default description of the <code>@Min</code> constraint,
<code>Must be at least ${value}</code>, refers to the constraint&#8217;s <code>value</code> attribute.</p>
</div>
<div class="paragraph">
<p>To take more control of constraint description resolution, create <code>ConstraintDescriptions</code>
with a custom <code>ResourceBundleConstraintDescriptionResolver</code>. To take complete control,
create <code>ConstraintDescriptions</code> with a custom <code>ConstraintDescriptionResolver</code>
implementation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_constraint_descriptions_in_generated_snippets"><a class="link" href="#_using_constraint_descriptions_in_generated_snippets">Using constraint descriptions in generated snippets</a></h4>
<div class="paragraph">
<p>Once you have a constraint&#8217;s descriptions, you&#8217;re free to use them however you like in
the generated snippets. For example, you may want to include the constraint descriptions
as part of a field&#8217;s description. Alternatively, you could include the constraints as
<a href="#documenting-your-api-customizing-including-extra-information">extra information</a> in
the request fields snippet. The
<a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/samples/rest-notes-spring-hateoas/src/test/java/com/example/notes/ApiDocumentation.java"><code>ApiDocumentation</code></a>
class in the Spring HATEOAS-based sample illustrates the latter approach.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-default-snippets"><a class="link" href="#documenting-your-api-default-snippets">Default snippets</a></h3>
<div class="paragraph">
<p>A number of snippets are produced automatically when you document a request and response.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Snippet</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>curl-request.adoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the <a href="http://curl.haxx.se"><code>curl</code></a> command that is equivalent to the <code>MockMvc</code>
call that is being documented</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httpie-request.adoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the <a href="http://httpie.org"><code>HTTPie</code></a> command that is equivalent to the <code>MockMvc</code>
call that is being documented</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-request.adoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the HTTP request that is equivalent to the <code>MockMvc</code> call that is being
documented</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-response.adoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the HTTP response that was returned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>request-body.adoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the body of the request that was sent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>response-body.adoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the body of the response that was returned</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can configure which snippets are produced by default. Please refer to the
<a href="#configuration">configuration section</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="documentating-your-api-parameterized-output-directories"><a class="link" href="#documentating-your-api-parameterized-output-directories">Using parameterized output directories</a></h3>
<div class="paragraph">
<p>When using MockMvc or REST Assured, the output directory used by <code>document</code> can be
parameterized. The output directory cannot be parameterized when using WebTestClient.</p>
</div>
<div class="paragraph">
<p>The following parameters are supported:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{methodName}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unmodified name of the test method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{method-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the test method, formatted using kebab-case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{method_name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the test method, formatted using snake_case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{ClassName}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unmodified simple name of the test class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{class-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The simple name of the test class, formatted using kebab-case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{class_name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The simple name of the test class, formatted using snake_case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{step}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The count of calls made to the service in the current test</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, <code>document("{class-name}/{method-name}")</code> in a test method named
<code>creatingANote</code> on the test class <code>GettingStartedDocumentation</code>, will write
snippets into a directory named <code>getting-started-documentation/creating-a-note</code>.</p>
</div>
<div class="paragraph">
<p>A parameterized output directory is particularly useful in combination with an <code>@Before</code>
method. It allows documentation to be configured once in a setup method and then reused
in every test in the class:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Before
public void setUp() {
	this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
			.apply(documentationConfiguration(this.restDocumentation))
			.alwaysDo(document("{method-name}/{step}/")).build();
}</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Before
public void setUp() {
	this.spec = new RequestSpecBuilder()
			.addFilter(documentationConfiguration(this.restDocumentation))
			.addFilter(document("{method-name}/{step}")).build();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this configuration in place, every call to the service you are testing will produce
the <a href="#documenting-your-api-default-snippets">default snippets</a> without any further
configuration. Take a look at the <code>GettingStartedDocumentation</code> classes in each of the
sample applications to see this functionality in action.</p>
</div>
</div>
<div class="sect2">
<h3 id="documenting-your-api-customizing"><a class="link" href="#documenting-your-api-customizing">Customizing the output</a></h3>
<div class="sect3">
<h4 id="documenting-your-api-customizing-snippets"><a class="link" href="#documenting-your-api-customizing-snippets">Customizing the generated snippets</a></h4>
<div class="paragraph">
<p>Spring REST Docs uses <a href="https://mustache.github.io">Mustache</a> templates to produce the
generated snippets.
<a href="https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/spring-restdocs-core/src/main/resources/org/springframework/restdocs/templates">Default
templates</a> are provided for each of the snippets that Spring REST Docs can produce. To
customize a snippet&#8217;s content, you can provide your own template.</p>
</div>
<div class="paragraph">
<p>Templates are loaded from the classpath from an <code>org.springframework.restdocs.templates</code>
subpackage. The name of the subpackage is determined by the ID of the template format
that is in use. The default template format, Asciidoctor, has the ID <code>asciidoctor</code> so
snippets are loaded from <code>org.springframework.restdocs.templates.asciidoctor</code>. Each
template is named after the snippet that it will produce. For example, to
override the template for the <code>curl-request.adoc</code> snippet, create a template named
<code>curl-request.snippet</code> in
<code>src/test/resources/org/springframework/restdocs/templates/asciidoctor</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="documenting-your-api-customizing-including-extra-information"><a class="link" href="#documenting-your-api-customizing-including-extra-information">Including extra information</a></h4>
<div class="paragraph">
<p>There are two ways to provide extra information for inclusion in a generated snippet:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the <code>attributes</code> method on a descriptor to add one or more attributes to it.</p>
</li>
<li>
<p>Pass in some attributes when calling <code>curlRequest</code>, <code>httpRequest</code>, <code>httpResponse</code>, etc.
Such attributes will be associated with the snippet as a whole.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Any additional attributes are made available during the template rendering process.
Coupled with a custom snippet template, this makes it possible to include extra
information in a generated snippet.</p>
</div>
<div class="paragraph">
<p>A concrete example of the above is the addition of a constraints column and a title when
documenting request fields. The first step is to provide a <code>constraints</code> attribute for
each field that you are documenting and to provide a <code>title</code> attribute:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.andDo(document("create-user", requestFields(
		attributes(key("title").value("Fields for user creation")), <i class="conum" data-value="1"></i><b>(1)</b>
		fieldWithPath("name").description("The user's name")
				.attributes(key("constraints")
						.value("Must not be null. Must not be empty")), <i class="conum" data-value="2"></i><b>(2)</b>
		fieldWithPath("email").description("The user's email address")
				.attributes(key("constraints")
						.value("Must be a valid email address"))))); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure the <code>title</code> attribute for the request fields snippet</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the <code>constraints</code> attribute for the <code>name</code> field</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the <code>constraints</code> attribute for the <code>email</code> field</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.consumeWith(document("create-user",
	requestFields(
		attributes(key("title").value("Fields for user creation")), <i class="conum" data-value="1"></i><b>(1)</b>
		fieldWithPath("name")
			.description("The user's name")
			.attributes(key("constraints").value("Must not be null. Must not be empty")), <i class="conum" data-value="2"></i><b>(2)</b>
		fieldWithPath("email")
			.description("The user's email address")
			.attributes(key("constraints").value("Must be a valid email address"))))); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure the <code>title</code> attribute for the request fields snippet</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the <code>constraints</code> attribute for the <code>name</code> field</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the <code>constraints</code> attribute for the <code>email</code> field</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.filter(document("create-user", requestFields(
		attributes(key("title").value("Fields for user creation")), <i class="conum" data-value="1"></i><b>(1)</b>
		fieldWithPath("name").description("The user's name")
				.attributes(key("constraints")
						.value("Must not be null. Must not be empty")), <i class="conum" data-value="2"></i><b>(2)</b>
		fieldWithPath("email").description("The user's email address")
				.attributes(key("constraints")
						.value("Must be a valid email address"))))) <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure the <code>title</code> attribute for the request fields snippet</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the <code>constraints</code> attribute for the <code>name</code> field</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the <code>constraints</code> attribute for the <code>email</code> field</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The second step is to provide a custom template named <code>request-fields.snippet</code> that
includes the information about the fields' constraints in the generated snippet&#8217;s table
and adds a title:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>.{{title}} <i class="conum" data-value="1"></i><b>(1)</b>
|===
|Path|Type|Description|Constraints <i class="conum" data-value="2"></i><b>(2)</b>

{{#fields}}
|{{path}}
|{{type}}
|{{description}}
|{{constraints}} <i class="conum" data-value="3"></i><b>(3)</b>

{{/fields}}
|===</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Add a title to the table</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add a new column named "Constraints"</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Include the descriptors' <code>constraints</code> attribute in each row of the table</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizing-requests-and-responses"><a class="link" href="#customizing-requests-and-responses">Customizing requests and responses</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>There may be situations where you do not want to document a request exactly as it was sent
or a response exactly as it was received. Spring REST Docs provides a number of
preprocessors that can be used to modify a request or response before it&#8217;s documented.</p>
</div>
<div class="paragraph">
<p>Preprocessing is configured by calling <code>document</code> with an <code>OperationRequestPreprocessor</code>,
and/or an <code>OperationResponsePreprocessor</code>. Instances can be obtained using the
static <code>preprocessRequest</code> and <code>preprocessResponse</code> methods on <code>Preprocessors</code>. For
example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/")).andExpect(status().isOk())
	.andDo(document("index", preprocessRequest(removeHeaders("Foo")), <i class="conum" data-value="1"></i><b>(1)</b>
			preprocessResponse(prettyPrint()))); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/").exchange().expectStatus().isOk().expectBody()
	.consumeWith(document("index",
		preprocessRequest(removeHeaders("Foo")), <i class="conum" data-value="1"></i><b>(1)</b>
		preprocessResponse(prettyPrint()))); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.filter(document("index", preprocessRequest(removeHeaders("Foo")), <i class="conum" data-value="1"></i><b>(1)</b>
			preprocessResponse(prettyPrint()))) <i class="conum" data-value="2"></i><b>(2)</b>
.when().get("/")
.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatively, you may want to apply the same preprocessors to every test. You can do
so by configuring the preprocessors using the <code>RestDocumentationConfigurer</code> API in your
<code>@Before</code> method. For example to remove the <code>Foo</code> header from all requests and pretty print
all responses:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private MockMvc mockMvc;

@Before
public void setup() {
	this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
		.apply(documentationConfiguration(this.restDocumentation).operationPreprocessors()
			.withRequestDefaults(removeHeaders("Foo")) <i class="conum" data-value="1"></i><b>(1)</b>
			.withResponseDefaults(prettyPrint())) <i class="conum" data-value="2"></i><b>(2)</b>
		.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private WebTestClient webTestClient;

@Before
public void setup() {
	this.webTestClient = WebTestClient.bindToApplicationContext(this.context)
		.configureClient()
		.filter(documentationConfiguration(this.restDocumentation)
			.operationPreprocessors()
				.withRequestDefaults(removeHeaders("Foo")) <i class="conum" data-value="1"></i><b>(1)</b>
				.withResponseDefaults(prettyPrint())) <i class="conum" data-value="2"></i><b>(2)</b>
		.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private RequestSpecification spec;

@Before
public void setup() {
	this.spec = new RequestSpecBuilder()
		.addFilter(documentationConfiguration(this.restDocumentation).operationPreprocessors()
			.withRequestDefaults(removeHeaders("Foo")) <i class="conum" data-value="1"></i><b>(1)</b>
			.withResponseDefaults(prettyPrint())) <i class="conum" data-value="2"></i><b>(2)</b>
		.build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then, in each test, any configuration specific to that test can be performed. For example:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc.perform(get("/"))
		.andExpect(status().isOk())
		.andDo(document("index",
				links(linkWithRel("self").description("Canonical self link"))
		));</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient.get().uri("/").exchange().expectStatus().isOk()
	.expectBody().consumeWith(document("index",
		links(linkWithRel("self").description("Canonical self link"))));</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">RestAssured.given(this.spec)
	.filter(document("index",
		links(linkWithRel("self").description("Canonical self link"))))
	.when().get("/")
	.then().assertThat().statusCode(is(200));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Various built in preprocessors, including those illustrated above, are available via the
static methods on <code>Preprocessors</code>. See <a href="#customizing-requests-and-responses-preprocessors">below</a> for further details.</p>
</div>
<div class="sect2">
<h3 id="customizing-requests-and-responses-preprocessors"><a class="link" href="#customizing-requests-and-responses-preprocessors">Preprocessors</a></h3>
<div class="sect3">
<h4 id="customizing-requests-and-responses-preprocessors-pretty-print"><a class="link" href="#customizing-requests-and-responses-preprocessors-pretty-print">Pretty printing</a></h4>
<div class="paragraph">
<p><code>prettyPrint</code> on <code>Preprocessors</code> formats the content of the request or response
to make it easier to read.</p>
</div>
</div>
<div class="sect3">
<h4 id="customizing-requests-and-responses-preprocessors-mask-links"><a class="link" href="#customizing-requests-and-responses-preprocessors-mask-links">Masking links</a></h4>
<div class="paragraph">
<p>If you&#8217;re documenting a Hypermedia-based API, you may want to encourage clients to
navigate the API using links rather than through the use of hard coded URIs. One way to do
this is to limit the use of URIs in the documentation. <code>maskLinks</code> on
<code>Preprocessors</code> replaces the <code>href</code> of any links in the response with <code>&#8230;&#8203;</code>. A
different replacement can also be specified if you wish.</p>
</div>
</div>
<div class="sect3">
<h4 id="customizing-requests-and-responses-preprocessors-remove-headers"><a class="link" href="#customizing-requests-and-responses-preprocessors-remove-headers">Removing headers</a></h4>
<div class="paragraph">
<p><code>removeHeaders</code> on <code>Preprocessors</code> removes any headers from the request or response where
the name is equal to any of the given header names.</p>
</div>
<div class="paragraph">
<p><code>removeMatchingHeaders</code> on <code>Preprocessors</code> removes any headers from the request or
response where the name matches any of the given regular expression patterns.</p>
</div>
</div>
<div class="sect3">
<h4 id="customizing-requests-and-responses-preprocessors-replace-patterns"><a class="link" href="#customizing-requests-and-responses-preprocessors-replace-patterns">Replacing patterns</a></h4>
<div class="paragraph">
<p><code>replacePattern</code> on <code>Preprocessors</code> provides a general purpose mechanism for
replacing content in a request or response. Any occurrences of a regular expression are
replaced.</p>
</div>
</div>
<div class="sect3">
<h4 id="customizing-requests-and-responses-preprocessors-modify-request-parameters"><a class="link" href="#customizing-requests-and-responses-preprocessors-modify-request-parameters">Modifying request parameters</a></h4>
<div class="paragraph">
<p><code>modifyParameters</code> on <code>Preprocessors</code> can be used to add, set, and remove request
parameters.</p>
</div>
</div>
<div class="sect3">
<h4 id="customizing-requests-and-responses-preprocessors-modify-uris"><a class="link" href="#customizing-requests-and-responses-preprocessors-modify-uris">Modifying URIs</a></h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are using MockMvc or a WebTestClient that is not bound to a server,
URIs should be customized by <a href="#configuration-uris">changing the configuration</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>modifyUris</code> on <code>Preprocessors</code> can be used to modify any URIs in a request
or a response. When using REST Assured or WebTestClient bound to a server, this
allows you to customize the URIs that appear in the documentation while testing a
local instance of the service.</p>
</div>
</div>
<div class="sect3">
<h4 id="customizing-requests-and-responses-preprocessors-writing-your-own"><a class="link" href="#customizing-requests-and-responses-preprocessors-writing-your-own">Writing your own preprocessor</a></h4>
<div class="paragraph">
<p>If one of the built-in preprocessors does not meet your needs, you can write your own by
implementing the <code>OperationPreprocessor</code> interface. You can then use your custom
preprocessor in exactly the same way as any of the built-in preprocessors.</p>
</div>
<div class="paragraph">
<p>If you only want to modify the content (body) of a request or response, consider
implementing the <code>ContentModifier</code> interface and using it with the built-in
<code>ContentModifyingOperationPreprocessor</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration"><a class="link" href="#configuration">Configuration</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuration-uris"><a class="link" href="#configuration-uris">Documented URIs</a></h3>
<div class="sect3">
<h4 id="configuration-uris-mockmvc"><a class="link" href="#configuration-uris-mockmvc">MockMvc URI customization</a></h4>
<div class="paragraph">
<p>When using MockMvc, the default configuration for URIs documented by Spring REST Docs is:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scheme</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8080</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This configuration is applied by <code>MockMvcRestDocumentationConfigurer</code>. You can use its API
to change one or more of the defaults to suit your needs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
		.apply(documentationConfiguration(this.restDocumentation).uris()
				.withScheme("https")
				.withHost("example.com")
				.withPort(443))
		.build();</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the port is set to the default for the configured scheme (port 80 for HTTP or
port 443 for HTTPS), it will be omitted from any URIs in the generated snippets.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To configure a request&#8217;s context path, use the <code>contextPath</code> method on
<code>MockHttpServletRequestBuilder</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="configuration-uris-rest-assured"><a class="link" href="#configuration-uris-rest-assured">REST Assured URI customization</a></h4>
<div class="paragraph">
<p>REST Assured tests a service by making actual HTTP requests. As a result, URIs must be
customized once the operation on the service has been performed but before it is
documented. A <a href="#customizing-requests-and-responses-preprocessors-modify-uris">REST-Assured
specific preprocessor</a> is provided for this purpose.</p>
</div>
</div>
<div class="sect3">
<h4 id="configuration-uris-webtestclient"><a class="link" href="#configuration-uris-webtestclient">WebTestClient URI customization</a></h4>
<div class="paragraph">
<p>When using WebTestClient, the default base for URIs documented by Spring REST
Docs is <code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code>. This base can be customized using the
<a href="https://docs.spring.io/spring-framework/docs/5.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.Builder.html#baseUrl-java.lang.String-">
<code>baseUrl(String)</code> method on <code>WebTestClient.Builder</code></a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Before
public void setUp() {
	this.webTestClient = WebTestClient.bindToApplicationContext(this.context)
		.configureClient()
		.baseUrl("https://api.example.com") <i class="conum" data-value="1"></i><b>(1)</b>
		.filter(documentationConfiguration(this.restDocumentation)).build();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configure the base of documented URIs to be <code><a href="https://api.example.com" class="bare">https://api.example.com</a></code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-snippet-encoding"><a class="link" href="#configuration-snippet-encoding">Snippet encoding</a></h3>
<div class="paragraph">
<p>The default snippet encoding is <code>UTF-8</code>. You can change the default snippet encoding
using the <code>RestDocumentationConfigurer</code> API. For example, to use <code>ISO-8859-1</code>:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
		.apply(documentationConfiguration(this.restDocumentation)
				.snippets().withEncoding("ISO-8859-1"))
		.build();</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient = WebTestClient.bindToApplicationContext(this.context).configureClient()
	.filter(documentationConfiguration(this.restDocumentation)
		.snippets().withEncoding("ISO-8859-1"))
	.build();</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.spec = new RequestSpecBuilder()
		.addFilter(documentationConfiguration(this.restDocumentation)
				.snippets().withEncoding("ISO-8859-1"))
		.build();</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When Spring REST Docs converts a request or response&#8217;s content to a String, the
<code>charset</code> specified in the <code>Content-Type</code> header will be used if it is available. In its
absence, the JVM&#8217;s default <code>Charset</code> will be used. The JVM&#8217;s default <code>Charset</code> can be
configured using the <code>file.encoding</code> system property.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuration-snippet-template-format"><a class="link" href="#configuration-snippet-template-format">Snippet template format</a></h3>
<div class="paragraph">
<p>The default snippet template format is Asciidoctor. Markdown is also supported out of the
box. You can change the default format using the <code>RestDocumentationConfigurer</code> API:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
		.apply(documentationConfiguration(this.restDocumentation)
				.snippets().withTemplateFormat(TemplateFormats.markdown()))
		.build();</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient = WebTestClient.bindToApplicationContext(this.context).configureClient()
	.filter(documentationConfiguration(this.restDocumentation)
		.snippets().withTemplateFormat(TemplateFormats.markdown()))
	.build();</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.spec = new RequestSpecBuilder()
		.addFilter(documentationConfiguration(this.restDocumentation)
				.snippets().withTemplateFormat(TemplateFormats.markdown()))
		.build();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-default-snippets"><a class="link" href="#configuration-default-snippets">Default snippets</a></h3>
<div class="paragraph">
<p>Six snippets are produced by default:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>curl-request</code></p>
</li>
<li>
<p><code>http-request</code></p>
</li>
<li>
<p><code>http-response</code></p>
</li>
<li>
<p><code>httpie-request</code></p>
</li>
<li>
<p><code>request-body</code></p>
</li>
<li>
<p><code>response-body</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can change the default snippet configuration during setup using the
<code>RestDocumentationConfigurer</code> API. For example, to only produce the <code>curl-request</code>
snippet by default:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
		.apply(documentationConfiguration(this.restDocumentation).snippets()
				.withDefaults(curlRequest()))
		.build();</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient = WebTestClient.bindToApplicationContext(this.context)
	.configureClient().filter(
		documentationConfiguration(this.restDocumentation)
			.snippets().withDefaults(curlRequest()))
	.build();</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.spec = new RequestSpecBuilder()
		.addFilter(documentationConfiguration(this.restDocumentation).snippets()
				.withDefaults(curlRequest()))
		.build();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-default-preprocessors"><a class="link" href="#configuration-default-preprocessors">Default operation preprocessors</a></h3>
<div class="paragraph">
<p>You can configure default request and response preprocessors during setup using the
<code>RestDocumentationConfigurer</code> API. For example, to remove the <code>Foo</code> headers from all requests
and pretty print all responses:</p>
</div>
<div class="listingblock primary">
<div class="title">MockMvc</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)
		.apply(documentationConfiguration(this.restDocumentation)
				.operationPreprocessors()
				.withRequestDefaults(removeHeaders("Foo")) <i class="conum" data-value="1"></i><b>(1)</b>
				.withResponseDefaults(prettyPrint())) <i class="conum" data-value="2"></i><b>(2)</b>
		.build();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">WebTestClient</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.webTestClient = WebTestClient.bindToApplicationContext(this.context)
	.configureClient()
	.filter(documentationConfiguration(this.restDocumentation)
		.operationPreprocessors()
			.withRequestDefaults(removeHeaders("Foo")) <i class="conum" data-value="1"></i><b>(1)</b>
			.withResponseDefaults(prettyPrint())) <i class="conum" data-value="2"></i><b>(2)</b>
	.build();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">REST Assured</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">this.spec = new RequestSpecBuilder()
	.addFilter(documentationConfiguration(this.restDocumentation).operationPreprocessors()
		.withRequestDefaults(removeHeaders("Foo")) <i class="conum" data-value="1"></i><b>(1)</b>
		.withResponseDefaults(prettyPrint())) <i class="conum" data-value="2"></i><b>(2)</b>
	.build();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Apply a request preprocessor that will remove the header named <code>Foo</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Apply a response preprocessor that will pretty print its content.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="working-with-asciidoctor"><a class="link" href="#working-with-asciidoctor">Working with Asciidoctor</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes any aspects of working with Asciidoctor that are particularly
relevant to Spring REST Docs.</p>
</div>
<div class="sect2">
<h3 id="working-with-asciidoctor-resources"><a class="link" href="#working-with-asciidoctor-resources">Resources</a></h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://asciidoctor.org/docs/asciidoc-syntax-quick-reference">Syntax quick reference</a></p>
</li>
<li>
<p><a href="http://asciidoctor.org/docs/user-manual">User manual</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="working-with-asciidoctor-including-snippets"><a class="link" href="#working-with-asciidoctor-including-snippets">Including snippets</a></h3>
<div class="sect3">
<h4 id="working-with-asciidoctor-including-snippets-operation"><a class="link" href="#working-with-asciidoctor-including-snippets-operation">Including multiple snippets for an operation</a></h4>
<div class="paragraph">
<p>A macro named <code>operation</code> can be used to import all or some of the snippets that have
been generated for a specific operation. It is made available by including
<code>spring-restdocs-asciidoctor</code> in your project&#8217;s <a href="#getting-started-build-configuration">build configuration</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If you are using Gradle and its daemon or support for continuous builds, do not
use version 1.5.6 of the <code>org.asciidoctor.convert</code> plugin. It contains a
<a href="https://github.com/asciidoctor/asciidoctor-gradle-plugin/issues/222">regression</a> that
prevents extensions from working reliably.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The target of the macro is the name of the operation. In its simplest form, the macro
can be used to include all of the snippets for an operation, as shown in the following
example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>operation::index[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The operation macro also supports a <code>snippets</code> attribute. The <code>snippets</code> attribute can be
used to select the snippets that should be included. The attribute&#8217;s value is a
comma-separated list. Each entry in the list should be the name of a snippet file, minus
the <code>.adoc</code> suffix, to include. For example, only the curl, HTTP request and HTTP response
snippets can be included as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>operation::index[snippets='curl-request,http-request,http-response']</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the equivalent of the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-adoc hljs" data-lang="adoc">[[example_curl_request]]
== Curl request

include::{snippets}/index/curl-request.adoc[]

[[example_http_request]]
== HTTP request

include::{snippets}/index/http-request.adoc[]

[[example_http_response]]
== HTTP response

include::{snippets}/index/http-response.adoc[]</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="working-with-asciidoctor-including-snippets-operation-titles"><a class="link" href="#working-with-asciidoctor-including-snippets-operation-titles">Section titles</a></h5>
<div class="paragraph">
<p>For each snippet that&#8217;s including using <code>operation</code>, a section with a title will be
created. Default titles are provided for the built-in snippets:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Snippet</th>
<th class="tableblock halign-left valign-top">Title</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">curl-request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Curl Request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP response</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">httpie-request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPie request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">links</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request-body</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request body</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request-fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request fields</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">response-body</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response body</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">response-fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response fields</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For snippets not listed in the table above, a default title will be generated by replacing
<code>-</code> characters with spaces and capitalising the first letter. For example, the title for a
snippet named <code>custom-snippet</code> will be "Custom snippet".</p>
</div>
<div class="paragraph">
<p>The default titles can be customized using document attributes. The name of the attribute
should be <code>operation-{snippet}-title</code>. For example, to customize the title of the
<code>curl-request</code> snippet to be "Example request", use the following attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>:operation-curl-request-title: Example request</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="working-with-asciidoctor-including-snippets-individual"><a class="link" href="#working-with-asciidoctor-including-snippets-individual">Including individual snippets</a></h4>
<div class="paragraph">
<p>The <a href="http://asciidoctor.org/docs/asciidoc-syntax-quick-reference/#include-files">include
macro</a> is used to include individual snippets in your documentation. The <code>snippets</code>
attribute that is automatically set by <code>spring-restdocs-asciidoctor</code> configured in the
<a href="#getting-started-build-configuration">build configuration</a> can be used to reference the
snippets output directory. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>include::{snippets}/index/curl-request.adoc[]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="working-with-asciidoctor-customizing-tables"><a class="link" href="#working-with-asciidoctor-customizing-tables">Customizing tables</a></h3>
<div class="paragraph">
<p>Many of the snippets contain a table in its default configuration. The appearance of the
table can be customized, either by providing some additional configuration when the
snippet is included or by using a custom snippet template.</p>
</div>
<div class="sect3">
<h4 id="working-with-asciidoctor-customizing-tables-formatting-columns"><a class="link" href="#working-with-asciidoctor-customizing-tables-formatting-columns">Formatting columns</a></h4>
<div class="paragraph">
<p>Asciidoctor has rich support for
<a href="http://asciidoctor.org/docs/user-manual/#cols-format">formatting a table&#8217;s columns</a>. For
example, the widths of a table&#8217;s columns can be specified using the <code>cols</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>[cols="1,3"] <i class="conum" data-value="1"></i><b>(1)</b>
include::{snippets}/index/links.adoc[]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The table&#8217;s width will be split across its two columns with the second column being
three times as wide as the first.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="working-with-asciidoctor-customizing-tables-title"><a class="link" href="#working-with-asciidoctor-customizing-tables-title">Configuring the title</a></h4>
<div class="paragraph">
<p>The title of a table can be specified using a line prefixed by a <code>.</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>.Links <i class="conum" data-value="1"></i><b>(1)</b>
include::{snippets}/index/links.adoc[]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The table&#8217;s title will be <code>Links</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="working-with-asciidoctor-customizing-tables-formatting-problems"><a class="link" href="#working-with-asciidoctor-customizing-tables-formatting-problems">Avoiding table formatting problems</a></h4>
<div class="paragraph">
<p>Asciidoctor uses the <code>|</code> character to delimit cells in a table. This can cause problems
if you want a <code>|</code> to appear in a cell&#8217;s contents. The problem can be avoided by
escaping the <code>|</code> with a backslash, i.e. by using <code>\|</code> rather than <code>|</code>.</p>
</div>
<div class="paragraph">
<p>All of the default Asciidoctor snippet templates perform this escaping automatically
use a Mustache lamba named <code>tableCellContent</code>. If you write your own custom templates
you may want to use this lamba. For example, to escape <code>|</code> characters
in a cell that contains the value of a <code>description</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>| {{#tableCellContent}}{{description}}{{/tableCellContent}}</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_further_reading"><a class="link" href="#_further_reading">Further reading</a></h4>
<div class="paragraph">
<p>Refer to the <a href="http://asciidoctor.org/docs/user-manual/#tables">Tables section of
the Asciidoctor user manual</a> for more information about customizing tables.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="working-with-markdown"><a class="link" href="#working-with-markdown">Working with Markdown</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes any aspects of working with Markdown that are particularly
relevant to Spring REST Docs.</p>
</div>
<div class="sect2">
<h3 id="working-with-markdown-limitations"><a class="link" href="#working-with-markdown-limitations">Limitations</a></h3>
<div class="paragraph">
<p>Markdown was originally designed for people writing for the web and, as such, isn&#8217;t
as well-suited to writing documentation as Asciidoctor. Typically, these limitations
are overcome by using another tool that builds on top of Markdown.</p>
</div>
<div class="paragraph">
<p>Markdown has no official support for tables. Spring REST Docs' default Markdown snippet
templates use <a href="https://michelf.ca/projects/php-markdown/extra/#table">Markdown Extra&#8217;s table
format</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="working-with-markdown-including-snippets"><a class="link" href="#working-with-markdown-including-snippets">Including snippets</a></h3>
<div class="paragraph">
<p>Markdown has no built-in support for including one Markdown file in another. To include
the generated snippets of Markdown in your documentation, you should use an additional
tool that supports this functionality. One example that&#8217;s particularly well-suited to
documenting APIs is <a href="https://github.com/tripit/slate">Slate</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributing"><a class="link" href="#contributing">Contributing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring REST Docs is intended to make it easy for you to produce high-quality documentation
for your RESTful services. However, we can&#8217;t achieve that goal without your contributions.</p>
</div>
<div class="sect2">
<h3 id="contributing-questions"><a class="link" href="#contributing-questions">Questions</a></h3>
<div class="paragraph">
<p>You can ask questions about Spring REST Docs on <a href="http://stackoverflow.com">StackOverflow</a>
using the <code>spring-restdocs</code> tag. Similarly, we encourage you to help your fellow
Spring REST Docs users by answering questions.</p>
</div>
</div>
<div class="sect2">
<h3 id="contributing-bugs"><a class="link" href="#contributing-bugs">Bugs</a></h3>
<div class="paragraph">
<p>If you believe you have found a bug, please take a moment to search the
<a href="https://github.com/spring-projects/spring-restdocs/issues?q=is%3Aissue">existing issues</a>. If no one else has reported the problem,
please <a href="https://github.com/spring-projects/spring-restdocs/issues/new">open a new issue</a> that describes the problem in detail and,
ideally, includes a test that reproduces it.</p>
</div>
</div>
<div class="sect2">
<h3 id="contributing-enhancements"><a class="link" href="#contributing-enhancements">Enhancements</a></h3>
<div class="paragraph">
<p>If you&#8217;d like an enhancement to be made to Spring REST Docs, pull requests are most
welcome. The source code is on <a href="https://github.com/spring-projects/spring-restdocs">GitHub</a>. You may want to search the
<a href="https://github.com/spring-projects/spring-restdocs/issues?q=is%3Aissue">existing issues</a> and <a href="https://github.com/spring-projects/spring-restdocs/pulls?q=is%3Apr">pull requests</a>
to see if the enhancement is already being worked on. You may also want to
<a href="https://github.com/spring-projects/spring-restdocs/issues/new">open a new issue</a> to discuss a possible enhancement before work on it
begins.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.0.3.RELEASE<br>
Last updated 2018-12-10 13:29:06 UTC
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>