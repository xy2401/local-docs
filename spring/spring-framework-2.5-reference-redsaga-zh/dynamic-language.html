<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;24.&nbsp;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Spring Framework &#24320;&#21457;&#21442;&#32771;&#25163;&#20876;"><link rel="up" href="spring-integration.html" title="Part&nbsp;IV.&nbsp;&#25972;&#21512;"><link rel="previous" href="scheduling.html" title="Chapter&nbsp;23.&nbsp;Spring&#20013;&#30340;&#23450;&#26102;&#35843;&#24230;(Scheduling)&#21644;&#32447;&#31243;&#27744;(Thread Pooling)"><link rel="next" href="metadata.html" title="Chapter&nbsp;25.&nbsp;&#27880;&#35299;&#21644;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#25903;&#25345;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.springframework.org/" title="The Spring Framework"><img style="border:none;" src="images/xdev-spring_logo.jpg"></a><a style="border:none;" href="http://www.springsource.com/" title="SpringSource"><img style="border:none;position:absolute;padding-top:5px;right:42px;" src="images/springsource-banner-rhs.png"></a></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="dynamic-language"></a>Chapter&nbsp;24.&nbsp;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dynamic-language-introduction"></a>24.1.&nbsp;&#20171;&#32461;</h2></div></div><div></div></div><div class="sidebar"><p class="title"><b>&#20026;&#20160;&#20040;&#21482;&#25903;&#25345;&#36825;&#20123;&#21160;&#24577;&#35821;&#35328;&#65311;</b></p><p>
                &#36873;&#25321;&#25903;&#25345;&#36825;&#20123;&#35821;&#35328;&#30340;&#29702;&#30001;&#22914;&#19979;&#65306;
				a&#65289;&#36825;&#20123;&#35821;&#35328;&#22312;Java&#20225;&#19994;&#31038;&#21306;&#20855;&#26377;&#30456;&#24403;&#30340;&#24433;&#21709;&#21147;&#65307;
				b&#65289;&#22312;Spring 2.0&#30340;&#24320;&#21457;&#21608;&#26399;&#20869;&#27809;&#26377;&#25910;&#21040;&#35201;&#27714;&#25903;&#25345;&#20854;&#20182;&#35821;&#35328;&#30340;&#30003;&#35831;&#65307;
				c&#65289;Spring&#24320;&#21457;&#32773;&#23545;&#23427;&#20204;&#26368;&#20026;&#29087;&#24713;&#12290;
            </p><p>
				&#24403;&#28982;&#36825;&#24182;&#19981;&#26159;&#35828;&#23545;&#20110;&#20854;&#20182;&#35821;&#35328;&#23601;&#19981;&#20877;&#25552;&#20379;&#25903;&#25345;&#20102;&#12290;&#22914;&#26524;&#20320;&#24076;&#26395;&#22312;&#26032;&#30340;&#29256;&#26412;&#20013;&#25903;&#25345;&#20320;&#38047;&#29233;&#30340;&#21160;&#24577;&#35821;&#35328;&#65292;&#37027;&#20040;&#35831;&#22312;Spring&#30340;<a href="http://opensource.atlassian.com/projects/spring/secure/Dashboard.jspa" target="_top">JIRA</a>&#39029;&#38754;&#25552;&#20986;&#30003;&#35831;&#65288;&#25110;&#32773;&#33258;&#24049;&#23454;&#29616;&#65289;&#12290;
            </p></div><p>Spring 2.0&#24320;&#22987;&#24191;&#27867;&#25903;&#25345;&#22312;Spring&#20013;&#20351;&#29992;&#21160;&#24577;&#35821;&#35328;&#65288;&#22914;JRuby&#65289;&#23450;&#20041;&#30340;&#31867;&#21644;&#23545;&#35937;&#12290;Spring&#23545;&#21160;&#24577;&#35821;&#35328;&#30340;&#25903;&#25345;&#20027;&#35201;&#26377;&#65306;&#20801;&#35768;&#20320;&#20351;&#29992;&#25152;&#25903;&#25345;&#30340;&#21160;&#24577;&#35821;&#35328;&#32534;&#20889;&#20219;&#24847;&#25968;&#30446;&#30340;&#31867;&#65292;Spring&#23481;&#22120;&#33021;&#22815;&#23436;&#20840;&#36879;&#26126;&#30340;&#23454;&#20363;&#21270;&#65292;&#37197;&#32622;&#65292;&#20381;&#36182;&#27880;&#20837;&#20854;&#26368;&#32456;&#23545;&#35937;&#12290;</p><p>&#30446;&#21069;&#25903;&#25345;&#30340;&#21160;&#24577;&#35821;&#35328;&#21015;&#34920;&#22914;&#19979;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>JRuby</p></li><li><p>Groovy</p></li><li><p>BeanShell</p></li></ul></div><p>
			&#22312;<a href="dynamic-language.html#dynamic-language-scenarios" title="24.4.&nbsp;&#22330;&#26223;">Section&nbsp;24.4, &#8220;&#22330;&#26223;&#8221;</a>&#19968;&#33410;&#25551;&#36848;&#20102;&#19968;&#20123;&#21487;&#36816;&#34892;&#30340;&#31034;&#20363;&#65292;&#36890;&#36807;&#36825;&#20123;&#31034;&#20363;&#20320;&#21487;&#20197;&#20307;&#39564;&#21040;Spring&#23545;&#21160;&#24577;&#35821;&#35328;&#30340;&#25903;&#25345;&#12290;
        </p><p>
			&#27880;&#24847;<span class="emphasis"><em>&#21482;&#26377;</em></span>&#22312;Spring2.0&#21450;&#20197;&#19978;&#29256;&#26412;&#25165;&#21487;&#33719;&#24471;&#26412;&#31456;&#25152;&#25351;&#30340;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#12290;&#30446;&#21069;Spring&#22242;&#38431;&#36824;<span class="emphasis"><em>&#27809;&#26377;</em></span>&#35745;&#21010;&#35201;&#22312;&#20197;&#21069;&#30340;&#29256;&#26412;&#65288;&#22914;1.2.x&#65289;&#20013;&#25552;&#20379;&#23545;&#21160;&#24577;&#35821;&#35328;&#30340;&#25903;&#25345;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dynamic-language-a-first-example"></a>24.2.&nbsp;&#31532;&#19968;&#20010;&#31034;&#20363;</h2></div></div><div></div></div><p>
			&#26412;&#31456;&#30340;&#22823;&#37096;&#20998;&#20869;&#23481;&#30340;&#20851;&#27880;&#28857;&#37117;&#22312;&#25551;&#36848;Spring&#23545;&#21160;&#24577;&#35821;&#35328;&#30340;&#25903;&#25345;&#30340;&#32454;&#33410;&#19978;&#12290;&#22312;&#28145;&#20837;&#21040;&#36825;&#20123;&#32454;&#33410;&#20043;&#21069;&#65292;&#39318;&#20808;&#35753;&#25105;&#20204;&#30475;&#19968;&#20010;&#20351;&#29992;&#21160;&#24577;&#35821;&#35328;&#23450;&#20041;&#30340;bean&#30340;&#24555;&#36895;&#19978;&#25163;&#30340;&#20363;&#23376;&#12290;&#31532;&#19968;&#20010;bean&#20351;&#29992;&#30340;&#21160;&#24577;&#35821;&#35328;&#26159;Groovy&#65288;&#36825;&#20010;&#20363;&#23376;&#26469;&#33258;Spring&#30340;&#27979;&#35797;&#22871;&#20214;&#65292;&#22914;&#26524;&#20320;&#25171;&#31639;&#30475;&#30475;&#23545;&#20854;&#20182;&#35821;&#35328;&#30340;&#25903;&#25345;&#30340;&#30456;&#21516;&#30340;&#20363;&#23376;&#65292;&#35831;&#38405;&#35835;&#30456;&#24212;&#30340;&#28304;&#30721;&#65289;&#12290;
        </p><p>
			&#19979;&#38754;&#26159;Groovy bean&#35201;&#23454;&#29616;&#30340;<tt class="interfacename">Messenger</tt>&#25509;&#21475;&#12290;&#27880;&#24847;&#35813;&#25509;&#21475;&#26159;&#20351;&#29992;&#32431;Java&#23450;&#20041;&#30340;&#12290;&#20381;&#36182;&#30340;&#23545;&#35937;&#26159;&#36890;&#36807;<tt class="interfacename">Messenger</tt>&#25509;&#21475;&#30340;&#24341;&#29992;&#27880;&#20837;&#30340;&#65292;&#24182;&#19981;&#30693;&#36947;&#20854;&#23454;&#29616;&#26159;Groovy&#33050;&#26412;&#12290;
        </p><pre class="programlisting">package org.springframework.scripting;

public interface Messenger {

    String getMessage();
}</pre><p>
			&#19979;&#38754;&#26159;&#20381;&#36182;&#20110;<tt class="interfacename">Messenger</tt>&#25509;&#21475;&#30340;&#31867;&#30340;&#23450;&#20041;&#12290;
        </p><pre class="programlisting">package org.springframework.scripting;

public class DefaultBookingService implements BookingService {

    private Messenger messenger;

    public void setMessenger(Messenger messenger) {
        this.messenger = messenger;
    }

    public void processBooking() {
        // use the injected Messenger object...
    }
}</pre><p>&#19979;&#38754;&#26159;&#20351;&#29992;Groovy&#23454;&#29616;&#30340;<tt class="interfacename">Messenger</tt>&#25509;&#21475;&#12290;</p><pre class="programlisting">// from the file 'Messenger.groovy'
package org.springframework.scripting.groovy;

// import the Messenger interface (written in Java) that is to be implemented
import org.springframework.scripting.Messenger

// define the implementation in Groovy
class GroovyMessenger implements Messenger {

    String message
}</pre><p>
		    &#26368;&#21518;&#65292;&#36825;&#37324;&#30340;bean&#23450;&#20041;&#23558;Groovy&#23450;&#20041;&#30340;<tt class="interfacename">Messenger</tt>&#23454;&#29616;&#27880;&#20837;&#21040;<tt class="classname">DefaultBookingService</tt>&#31867;&#30340;&#23454;&#20363;&#20013;&#12290;
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="http://shouce.jb51.net/images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>
		        &#35201;&#20351;&#29992;&#29992;&#25143;&#23450;&#21046;&#30340;&#21160;&#24577;&#35821;&#35328;&#26631;&#31614;&#26469;&#23450;&#20041; dynamic-language-backed bean&#65292;&#38656;&#35201;&#22312;Spring XML&#37197;&#32622;&#25991;&#20214;&#30340;&#22836;&#37096;&#28155;&#21152;&#30456;&#24212;&#30340;XML Schema&#12290;&#21516;&#26679;&#38656;&#35201;Spring&#30340;<tt class="interfacename">ApplicationContext</tt>&#23454;&#29616;&#20316;&#20026;IoC&#23481;&#22120;&#12290;Spring&#25903;&#25345;&#22312;&#31616;&#21333;&#30340;<tt class="interfacename">BeanFactory</tt>&#23454;&#29616;&#19979;&#20351;&#29992;dynamic-language-backed bean&#65292;&#20294;&#26159;&#20320;&#38656;&#35201;&#31649;&#29702;Spring&#20869;&#37096;&#30340;&#31181;&#31181;&#32454;&#33410;&#12290;
            </p><p>&#20851;&#20110;XML Schema&#30340;&#37197;&#32622;&#65292;&#35814;&#24773;&#35831;&#30475;<a href="xsd-config.html" title="Appendix&nbsp;A.&nbsp;XML Schema-based configuration">Appendix&nbsp;A, <i>XML Schema-based configuration</i></a>&#12290;</p></td></tr></table></div><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:lang="http://www.springframework.org/schema/lang"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang-2.5.xsd"&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- this is the bean definition for the Groovy-backed <tt class="interfacename">Messenger</tt> implementation --&gt;</span></i>
    &lt;lang:groovy id="messenger" script-source="classpath:Messenger.groovy"&gt;
        &lt;lang:property name="message" value="I Can Do The Frug" /&gt;
    &lt;/lang:groovy&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- an otherwise normal bean that will be injected by the Groovy-backed <tt class="interfacename">Messenger</tt> --&gt;</span></i>
    &lt;bean id="bookingService" class="x.y.DefaultBookingService"&gt;
        &lt;property name="messenger" ref="messenger" /&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
            &#29616;&#22312;&#21487;&#20197;&#35937;&#20197;&#21069;&#19968;&#26679;&#20351;&#29992;<tt class="literal">bookingService</tt> bean &#65288;<tt class="classname">DefaultBookingService</tt>&#65289;&#30340;&#31169;&#26377;&#25104;&#21592;&#21464;&#37327; <tt class="literal">messenger</tt>&#65292;&#22240;&#20026;&#34987;&#27880;&#20837;&#30340;<tt class="interfacename">Messenger</tt>&#23454;&#20363;&#30830;&#23454;<span class="emphasis"><em>&#26159;</em></span>&#19968;&#20010;&#30495;&#27491;&#30340;<tt class="interfacename">Messenger</tt>&#23454;&#20363;&#12290;&#36825;&#37324;&#20063;&#27809;&#26377;&#20160;&#20040;&#29305;&#21035;&#30340;&#22320;&#26041;&#65292;&#23601;&#26159;&#31616;&#21333;&#30340;Java&#21644;Groovy&#12290;
        </p><p>
			&#20294;&#24895;&#20320;&#33021;&#22815;&#26080;&#38656;&#22810;&#21152;&#35828;&#26126;&#23601;&#30475;&#26126;&#30333;&#20197;&#19978;&#30340;XML&#29255;&#27573;&#65292;&#32780;&#19981;&#29992;&#22826;&#25285;&#24515;&#23427;&#26159;&#21542;&#24688;&#24403;&#25110;&#32773;&#26159;&#21542;&#27491;&#30830;&#12290;&#35831;&#32487;&#32493;&#38405;&#35835;&#26356;&#28145;&#23618;&#27425;&#30340;&#32454;&#33410;&#20197;&#20102;&#35299;&#20197;&#19978;&#37197;&#32622;&#30340;&#21407;&#22240;&#12290;
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dynamic-language-beans"></a>24.3.&nbsp;&#23450;&#20041;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#30340;bean</h2></div></div><div></div></div><p>
			&#36825;&#19968;&#33410;&#25551;&#36848;&#20102;&#22914;&#20309;&#38024;&#23545;Spring&#25152;&#25903;&#25345;&#30340;&#21160;&#24577;&#35821;&#35328;&#23450;&#20041;&#21463;Spring&#25152;&#31649;&#29702;&#30340;bean&#12290;
        </p><p>
			&#35831;&#27880;&#24847;&#26412;&#31456;&#19981;&#20250;&#35299;&#37322;&#36825;&#20123;&#25903;&#25345;&#30340;&#21160;&#24577;&#35821;&#35328;&#30340;&#35821;&#27861;&#21644;&#29992;&#27861;&#12290;&#20363;&#22914;&#65292;&#22914;&#26524;&#20320;&#24819;&#22312;&#20320;&#30340;&#26576;&#20010;&#24212;&#29992;&#20013;&#20351;&#29992;Groovy&#26469;&#32534;&#20889;&#31867;&#65292;&#25105;&#20204;&#20551;&#35774;&#20320;&#24050;&#32463;&#20102;&#35299;Groovy&#36825;&#38376;&#35821;&#35328;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#20102;&#35299;&#21644;&#21160;&#24577;&#35821;&#35328;&#26412;&#36523;&#26377;&#20851;&#30340;&#26356;&#22810;&#32454;&#33410;&#65292;&#35831;&#21442;&#32771;&#26412;&#31456;&#26411;&#23614;<a href="dynamic-language.html#dynamic-language-resources" title="24.6.&nbsp;&#26356;&#22810;&#30340;&#36164;&#28304;">Section&nbsp;24.6, &#8220;&#26356;&#22810;&#30340;&#36164;&#28304;&#8221;</a>&#19968;&#33410;&#12290;
        </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dynamic-language-beans-concepts"></a>24.3.1.&nbsp;&#20844;&#20849;&#27010;&#24565;</h3></div></div><div></div></div><p>&#20351;&#29992;dynamic-language-backed bean&#35201;&#32463;&#36807;&#20197;&#19979;&#27493;&#39588;&#65306;</p><div class="orderedlist"><ol type="1"><li><p>&#32534;&#20889;&#38024;&#23545;&#21160;&#24577;&#35821;&#35328;&#28304;&#30721;&#30340;&#27979;&#35797;&#20195;&#30721;&#65288;&#36825;&#26159;&#29702;&#25152;&#24212;&#24403;&#30340;&#20107;&#24773;&#65289;</p></li><li><p><span class="emphasis"><em>&#28982;&#21518;</em></span>&#32534;&#20889;&#21160;&#24577;&#35821;&#35328;&#28304;&#30721; :)</p></li><li><p>
						&#22312;XML&#37197;&#32622;&#25991;&#20214;&#20013;&#20351;&#29992;&#30456;&#24212;&#30340;<tt class="literal">&lt;lang:language/&gt;</tt>&#20803;&#32032;&#23450;&#20041;dynamic-language-backed bean&#12290;&#24403;&#28982;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;Spring API&#65292;&#20197;&#32534;&#31243;&#30340;&#26041;&#24335;&#26469;&#23450;&#20041;---&#26412;&#31456;&#24182;&#19981;&#20250;&#28041;&#21450;&#21040;&#36825;&#31181;&#39640;&#32423;&#30340;&#37197;&#32622;&#26041;&#24335;&#65292;&#20320;&#21487;&#20197;&#30452;&#25509;&#38405;&#35835;&#28304;&#30721;&#26469;&#33719;&#24471;&#30456;&#24212;&#30340;&#25351;&#31034;&#65289;&#12290;&#27880;&#24847;&#36825;&#26159;&#19968;&#20010;&#36845;&#20195;&#30340;&#27493;&#39588;&#12290;&#27599;&#19968;&#20010;&#21160;&#24577;&#35821;&#35328;&#30340;&#28304;&#25991;&#20214;&#33267;&#23569;&#23545;&#24212;&#19968;&#20010;bean&#23450;&#20041;&#65288;&#21516;&#19968;&#20010;&#21160;&#24577;&#35821;&#35328;&#30340;&#28304;&#25991;&#20214;&#24403;&#28982;&#21487;&#20197;&#22312;&#22810;&#20010;bean&#23450;&#20041;&#20013;&#24341;&#29992;&#65289;&#12290;
					</p></li></ol></div><p>
				&#21069;&#38754;&#20004;&#27493;&#65288;&#27979;&#35797;&#24182;&#32534;&#20889;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#65289;&#36229;&#20986;&#20102;&#26412;&#31456;&#30340;&#33539;&#30068;&#12290;&#35831;&#21442;&#32771;&#20320;&#25152;&#36873;&#21160;&#24577;&#35821;&#35328;&#30456;&#20851;&#30340;&#35821;&#35328;&#35268;&#33539;&#25110;&#32773;&#21442;&#32771;&#25163;&#20876;&#65292;&#24182;&#32487;&#32493;&#24320;&#21457;&#20320;&#30340;&#21160;&#24577;&#35821;&#35328;&#30340;&#28304;&#25991;&#20214;&#12290;&#19981;&#36807;&#20320;&#24212;&#35813;&#39318;&#20808;&#38405;&#35835;&#26412;&#31456;&#30340;&#21097;&#19979;&#37096;&#20998;&#65292;&#22240;&#20026;Spring&#65288;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#65289;&#23545;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#30340;&#20869;&#23481;&#26377;&#19968;&#20123;&#65288;&#23567;&#23567;&#30340;&#65289;&#35201;&#27714;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dynamic-language-beans-concepts-xml-language-element"></a>24.3.1.1.&nbsp;<tt class="literal">&lt;lang:language/&gt;</tt> &#20803;&#32032;</h4></div></div><div></div></div><div class="sidebar"><p class="title"><b>XML Schema</b></p><p>
						&#26412;&#31456;&#30340;&#25152;&#26377;&#37197;&#32622;&#26696;&#20363;&#20805;&#20998;&#21033;&#29992;&#20102;Spring 2.0&#20013;&#26032;&#22686;&#30340;&#23545;XML Schema&#30340;&#25903;&#25345;&#12290;
					</p><p>
					&#24403;&#28982;&#20320;&#21487;&#20197;&#32487;&#32493;&#22362;&#25345;&#22312;Spring XML&#37197;&#32622;&#25991;&#20214;&#20013;&#20351;&#29992;&#32769;&#24335;&#30340;&#22522;&#20110;DTD&#30340;&#39564;&#35777;&#26041;&#24335;&#65292;&#32780;&#19981;&#37319;&#29992;XML Schema&#65292;&#20294;&#26159;&#36825;&#26679;&#20320;&#23601;&#20250;&#22833;&#21435;<tt class="literal">&lt;lang:language/&gt;</tt>&#20803;&#32032;&#25552;&#20379;&#30340;&#20415;&#21033;&#12290;&#20363;&#22914;&#65292;Spring&#27979;&#35797;&#22871;&#20214;&#20013;&#26377;&#19968;&#20123;&#20363;&#23376;&#26159;&#38024;&#23545;&#26087;&#39118;&#26684;&#30340;&#37197;&#32622;&#65292;&#36825;&#20123;&#20363;&#23376;&#24182;&#19981;&#38656;&#35201;&#22522;&#20110;XML Schema&#30340;&#39564;&#35777;&#65288;&#38750;&#24120;&#35814;&#32454;&#29978;&#33267;&#20887;&#38271;&#65292;&#32780;&#19988;&#24182;&#27809;&#26377;&#38544;&#34255;&#20219;&#20309;Spring&#30340;&#24213;&#23618;&#23454;&#29616;&#65289;&#12290;</p></div><p>
					&#26368;&#21518;&#19968;&#27493;&#21253;&#25324;&#22914;&#20309;&#23450;&#20041;dynamic-language-backed bean&#23450;&#20041;&#65292;&#27599;&#19968;&#20010;&#35201;&#37197;&#32622;&#30340;bean&#23545;&#24212;&#19968;&#20010;&#23450;&#20041;&#65288;&#36825;&#21644;&#26222;&#36890;&#30340;Javabean&#37197;&#32622;&#27809;&#26377;&#20160;&#20040;&#21306;&#21035;&#65289;&#12290;&#20294;&#26159;&#65292;&#23545;&#20110;&#23481;&#22120;&#20013;&#27599;&#19968;&#20010;&#38656;&#35201;&#23454;&#20363;&#21270;&#21644;&#37197;&#32622;&#30340;&#31867;&#65292;&#26222;&#36890;&#30340;Javabean&#37197;&#32622;&#38656;&#35201;&#25351;&#23450;&#20840;&#38480;&#23450;&#21517;&#65292;&#23545;&#20110;dynamic language-backed bean&#21017;&#20351;&#29992;<tt class="literal">&lt;lang:language/&gt;</tt>&#20803;&#32032;&#21462;&#32780;&#20195;&#20043;&#12290;
				</p><p>&#27599;&#19968;&#31181;&#25903;&#25345;&#30340;&#35821;&#35328;&#37117;&#26377;&#23545;&#24212;&#30340;<tt class="literal">&lt;lang:language/&gt;</tt>&#20803;&#32032;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">&lt;lang:jruby/&gt;</tt>&#65288;JRuby&#65289;</p></li><li><p><tt class="literal">&lt;lang:groovy/&gt;</tt>&#65288;Groovy&#65289;</p></li><li><p><tt class="literal">&lt;lang:bsh/&gt;</tt>&#65288;BeanShell&#65289;</p></li></ul></div><p>
					&#23545;&#20110;&#37197;&#32622;&#20013;&#21487;&#29992;&#30340;&#30830;&#20999;&#30340;&#23646;&#24615;&#21644;&#23376;&#20803;&#32032;&#21462;&#20915;&#20110;&#20855;&#20307;&#23450;&#20041;bean&#30340;&#35821;&#35328;&#65288;&#21518;&#38754;&#21644;&#29305;&#23450;&#35821;&#35328;&#26377;&#20851;&#30340;&#31456;&#33410;&#20250;&#25581;&#31034;&#20840;&#37096;&#20869;&#24149;&#65289;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dynamic-language-refreshable-beans"></a>24.3.1.2.&nbsp;Refreshable bean</h4></div></div><div></div></div><p>
					Spring&#23545;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#20013;&#26368;&#24341;&#20154;&#27880;&#30446;&#30340;&#20215;&#20540;&#22312;&#20110;&#22686;&#21152;&#20102;&#23545;<i class="firstterm"> 'refreshable bean' </i>&#29305;&#24449;&#30340;&#25903;&#25345;&#12290;
				</p><p>
					refreshable bean&#26159;&#19968;&#31181;&#21482;&#26377;&#23569;&#37327;&#37197;&#32622;&#30340;dynamic-language-backed bean&#12290;dynamic-language-backed bean &#21487;&#20197;&#30417;&#25511;&#24213;&#23618;&#28304;&#25991;&#20214;&#30340;&#21464;&#21270;&#65292;&#19968;&#26086;&#28304;&#25991;&#20214;&#21457;&#29983;&#25913;&#21464;&#23601;&#21487;&#20197;&#33258;&#21160;&#37325;&#26032;&#21152;&#36733;&#65288;&#20363;&#22914;&#24320;&#21457;&#32773;&#32534;&#36753;&#25991;&#20214;&#24182;&#20445;&#23384;&#20462;&#25913;&#65289;&#12290;
				</p><p>
					&#36825;&#26679;&#23601;&#20801;&#35768;&#24320;&#21457;&#32773;&#22312;&#24212;&#29992;&#31243;&#24207;&#20013;&#37096;&#32626;&#20219;&#24847;&#25968;&#37327;&#30340;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#65292;&#24182;&#36890;&#36807;&#37197;&#32622;Spring&#23481;&#22120;&#26469;&#21019;&#24314;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#25152;&#25903;&#25345;&#30340;bean&#65288;&#20351;&#29992;&#26412;&#31456;&#25152;&#25551;&#36848;&#30340;&#26426;&#21046;&#65289;&#12290;&#20197;&#21518;&#22914;&#26524;&#38656;&#27714;&#21457;&#29983;&#25913;&#21464;&#65292;&#25110;&#32773;&#19968;&#20123;&#22806;&#37096;&#22240;&#32032;&#36215;&#20102;&#20316;&#29992;&#65292;&#36825;&#26679;&#23601;&#21487;&#20197;&#31616;&#21333;&#30340;&#32534;&#36753;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#65292;&#32780;&#36825;&#20123;&#25991;&#20214;&#20013;&#30340;&#21464;&#21270;&#20250;&#21453;&#23556;&#20026;bean&#30340;&#21464;&#21270;&#12290;&#32780;&#36825;&#20123;&#24037;&#20316;&#19981;&#38656;&#35201;&#20851;&#38381;&#27491;&#22312;&#36816;&#34892;&#30340;&#24212;&#29992;&#65288;&#25110;&#32773;&#37325;&#26032;&#37096;&#32626;web&#24212;&#29992;&#65289;&#12290;dynamic-language-backed bean&#33021;&#22815;&#33258;&#25105;&#20462;&#27491;&#65292;&#20174;&#24050;&#25913;&#21464;&#30340;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#20013;&#25552;&#21462;&#26032;&#30340;&#29366;&#24577;&#21644;&#36923;&#36753;&#12290;
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="http://shouce.jb51.net/images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#27880;&#24847;&#65292;&#35813;&#29305;&#24449;&#40664;&#35748;&#20540;&#20026;<span class="emphasis"><em>off&#65288;&#20851;&#38381;&#65289;</em></span>&#12290;</p></td></tr></table></div><p>
					&#19979;&#38754;&#35753;&#25105;&#20204;&#30475;&#19968;&#20010;&#20363;&#23376;&#65292;&#20307;&#39564;&#19968;&#19979;&#20351;&#29992;refreshable bean&#26159;&#22810;&#20040;&#23481;&#26131;&#30340;&#20107;&#24773;&#12290;&#39318;&#20808;&#35201;&#21551;&#29992;refreshable bean&#29305;&#24449;&#65292;&#21482;&#38656;&#35201;&#22312;bean&#23450;&#20041;&#30340; <tt class="literal">&lt;lang:language/&gt;</tt>&#20803;&#32032;&#20013;&#25351;&#23450;<span class="emphasis"><em>&#19968;&#20010;</em></span>&#38468;&#21152;&#23646;&#24615;&#12290;&#20551;&#35774;&#25105;&#20204;&#32487;&#32493;&#20351;&#29992;&#21069;&#25991;&#20013;&#30340; <a href="dynamic-language.html#dynamic-language-a-first-example" title="24.2.&nbsp;&#31532;&#19968;&#20010;&#31034;&#20363;">&#20363;&#23376;</a>&#65292;&#37027;&#20040;&#21482;&#38656;&#35201;&#22312;Spring&#30340;XML&#37197;&#32622;&#25991;&#20214;&#20013;&#36827;&#34892;&#22914;&#19979;&#20462;&#25913;&#20197;&#21551;&#29992;refreshable bean&#65306;
				</p><pre class="programlisting">&lt;beans&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- this bean is now 'refreshable' due to the presence of the 'refresh-check-delay' attribute --&gt;</span></i>
    &lt;lang:groovy id="messenger"
          refresh-check-delay="5000" <i class="lineannotation"><span class="lineannotation">&lt;!-- switches refreshing on with 5 seconds between checks --&gt;</span></i>
          script-source="classpath:Messenger.groovy"&gt;
        &lt;lang:property name="message" value="I Can Do The Frug" /&gt;
    &lt;/lang:groovy&gt;

    &lt;bean id="bookingService" class="x.y.DefaultBookingService"&gt;
        &lt;property name="messenger" ref="messenger" /&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
					&#36825;&#23601;&#26159;&#25152;&#26377;&#20320;&#38656;&#35201;&#20570;&#30340;&#20107;&#24773;&#12290; <tt class="literal">'messenger'</tt> bean&#23450;&#20041;&#20013;&#30340;<tt class="literal">'refresh-check-delay'</tt>&#23646;&#24615;&#25351;&#23450;&#20102;&#21047;&#26032;bean&#30340;&#26102;&#38388;&#38388;&#38548;&#65292;&#22312;&#36825;&#20010;&#26102;&#38388;&#27573;&#20869;&#30340;&#24213;&#23618;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#30340;&#20219;&#20309;&#21464;&#21270;&#37117;&#20250;&#21047;&#26032;&#21040;&#23545;&#24212;&#30340;bean&#19978;&#12290;&#36890;&#36807;&#32473;&#35813;&#23646;&#24615;&#36171;&#19968;&#20010;&#36127;&#20540;&#21363;&#21487;&#20851;&#38381;&#35813;&#21047;&#26032;&#34892;&#20026;&#12290;&#27880;&#24847;&#22312;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#35813;&#21047;&#26032;&#34892;&#20026;&#26159;&#20851;&#38381;&#30340;&#12290;&#22914;&#26524;&#20320;&#19981;&#38656;&#35201;&#35813;&#21047;&#26032;&#34892;&#20026;&#65292;&#26368;&#31616;&#21333;&#30340;&#21150;&#27861;&#23601;&#26159;&#19981;&#35201;&#23450;&#20041;&#35813;&#23646;&#24615;&#12290;
                </p><p>&#36816;&#34892;&#20197;&#19979;&#24212;&#29992;&#31243;&#24207;&#21487;&#20197;&#20307;&#39564;refreshable&#29305;&#24449;&#65306;&#35831;&#25191;&#34892;&#25509;&#19979;&#26469;&#36825;&#27573;&#20195;&#30721;&#20013;&#30340;<span class="emphasis"><em>'jumping-through-hoops-to-pause-the-execution'</em></span>&#23567;&#25226;&#25103;&#12290;<tt class="literal">System.in.read()</tt>&#30340;&#20316;&#29992;&#26159;&#26242;&#20572;&#31243;&#24207;&#30340;&#25191;&#34892;&#65292;&#36825;&#20010;&#26102;&#20505;&#21435;&#20462;&#25913;&#24213;&#23618;&#30340;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#65292;&#28982;&#21518;&#31243;&#24207;&#24674;&#22797;&#25191;&#34892;&#30340;&#26102;&#20505;&#35302;&#21457;dynamic-language-backed bean&#30340;&#21047;&#26032;&#12290;</p><pre class="programlisting">import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.scripting.Messenger;

public final class Boot {

    public static void main(final String[] args) throws Exception {

        ApplicationContext ctx = new ClassPathXmlApplicationContext("beans.xml");
        Messenger messenger = (Messenger) ctx.getBean("messenger");
        System.out.println(messenger.getMessage());
        // pause execution while I go off and make changes to the source file...
        System.in.read();
        System.out.println(messenger.getMessage());
    }
}</pre><p>&#20551;&#35774;&#23545;&#20110;&#36825;&#20010;&#20363;&#23376;&#65292;&#25152;&#26377;&#35843;&#29992;<tt class="interfacename">Messenger</tt>&#23454;&#29616;&#20013;<tt class="literal">getMessage()</tt>&#26041;&#27861;&#30340;&#22320;&#26041;&#37117;&#34987;&#20462;&#25913;&#65306;&#27604;&#22914;&#23558;message&#29992;&#24341;&#21495;&#25324;&#36215;&#26469;&#12290;&#19979;&#38754;&#26159;&#25105;&#22312;&#31243;&#24207;&#25191;&#34892;&#26242;&#20572;&#30340;&#26102;&#20505;&#23545;<tt class="filename">Messenger.groovy</tt>&#28304;&#25991;&#20214;&#25152;&#20570;&#30340;&#20462;&#25913;&#65306;</p><pre class="programlisting">package org.springframework.scripting

class GroovyMessenger implements Messenger {

    private String message = "Bingo"

    public String getMessage() {
        // change the implementation to surround the message in quotes
        return "'" + this.message + "'"
    }

    public void setMessage(String message) {
        this.message = message
    }
}</pre><p>
					&#22312;&#36825;&#27573;&#31243;&#24207;&#25191;&#34892;&#30340;&#26102;&#20505;&#65292;&#22312;&#36755;&#20837;&#26242;&#20572;&#20043;&#21069;&#30340;&#36755;&#20986;&#26159;<tt class="computeroutput">I Can Do The Frug</tt>&#12290;&#22312;&#20462;&#25913;&#24182;&#20445;&#23384;&#20102;&#28304;&#25991;&#20214;&#20043;&#21518;&#65292;&#31243;&#24207;&#24674;&#22797;&#25191;&#34892;&#65292;&#20877;&#27425;&#35843;&#29992;dynamic-language-backed <tt class="interfacename">Messenger</tt>&#30340;<tt class="literal">getMessage()</tt>&#26041;&#27861;&#30340;&#32467;&#26524;&#20026;<tt class="computeroutput">'I Can Do The Frug'</tt> &#65288;&#27880;&#24847;&#26032;&#22686;&#30340;&#24341;&#21495;&#65289;&#12290;
				</p><p>
					&#26377;&#19968;&#28857;&#24456;&#37325;&#35201;&#65292;&#22914;&#26524;&#19978;&#36848;&#23545;&#33050;&#26412;&#30340;&#20462;&#25913;&#21457;&#29983;&#22312;<tt class="literal">'refresh-check-delay'</tt>&#20540;&#30340;&#26102;&#38388;&#33539;&#22260;&#20869;&#24182;&#19981;&#20250;&#35302;&#21457;&#21047;&#26032;&#21160;&#20316;&#12290;&#21516;&#26679;&#37325;&#35201;&#30340;&#26159;&#65292;&#20462;&#25913;&#33050;&#26412;&#24182;&#19981;&#20250;&#39532;&#19978;&#36215;&#20316;&#29992;&#65292;&#32780;&#26159;&#35201;&#21040;&#35813;&#21160;&#24577;&#35821;&#35328;&#23454;&#29616;&#30340;bean&#30340;&#30456;&#24212;&#30340;&#26041;&#27861;&#34987;&#35843;&#29992;&#26102;&#25165;&#26377;&#25928;&#12290;&#21482;&#26377;&#21160;&#24577;&#35821;&#35328;&#23454;&#29616;&#30340;bean&#30340;&#26041;&#27861;&#34987;&#35843;&#29992;&#30340;&#26102;&#20505;&#25165;&#20250;&#26816;&#26597;&#24213;&#23618;&#28304;&#25991;&#20214;&#26159;&#21542;&#20462;&#25913;&#20102;&#12290;&#21047;&#26032;&#33050;&#26412;&#20135;&#29983;&#30340;&#20219;&#20309;&#24322;&#24120;&#65288;&#20363;&#22914;&#21457;&#29983;&#32534;&#35793;&#38169;&#35823;&#65292;&#25110;&#32773;&#33050;&#26412;&#25991;&#20214;&#34987;&#21024;&#38500;&#20102;&#65289;&#37117;&#20250;&#22312;&#35843;&#29992;&#30340;&#20195;&#30721;&#20013;&#25243;&#20986;&#19968;&#20010;<span class="emphasis"><em>&#33268;&#21629;</em></span>&#24322;&#24120;&#12290;
				</p><p>
					&#21069;&#38754;&#25551;&#36848;&#30340;refreshable bean&#30340;&#34892;&#20026;&#24182;<span class="emphasis"><em>&#19981;</em></span>&#20250;&#20316;&#29992;&#20110;&#20351;&#29992;<tt class="literal">&lt;lang:inline-script/&gt;</tt>&#20803;&#32032;&#23450;&#20041;&#30340;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#65288;&#35831;&#21442;&#32771;<a href="dynamic-language.html#dynamic-language-beans-inline" title="24.3.1.3.&nbsp;&#20869;&#32622;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;">Section&nbsp;24.3.1.3, &#8220;&#20869;&#32622;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#8221;</a>&#36825;&#19968;&#33410;&#65289;&#12290;&#32780;&#19988;&#23427;<span class="emphasis"><em>&#21482;</em></span>&#20316;&#29992;&#20110;&#37027;&#20123;&#21487;&#20197;&#26816;&#27979;&#21040;&#24213;&#23618;&#28304;&#25991;&#20214;&#21457;&#29983;&#25913;&#21464;&#30340;bean&#12290;&#20363;&#22914;&#65292;&#26816;&#26597;&#25991;&#20214;&#31995;&#32479;&#20013;&#30340;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#30340;&#26368;&#21518;&#20462;&#25913;&#26085;&#26399;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dynamic-language-beans-inline"></a>24.3.1.3.&nbsp;&#20869;&#32622;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;</h4></div></div><div></div></div><p>
					Spring&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#36824;&#25552;&#20379;&#20102;&#30452;&#25509;&#22312;bean&#23450;&#20041;&#20013;&#30452;&#25509;&#23884;&#20837;&#21160;&#24577;&#35821;&#35328;&#28304;&#30721;&#30340;&#21151;&#33021;&#12290;&#36890;&#36807;<tt class="literal">&lt;lang:inline-script/&gt;</tt>&#20803;&#32032;&#65292;&#21487;&#20197;&#22312;Spring&#30340;&#37197;&#32622;&#25991;&#20214;&#20013;&#30452;&#25509;&#23450;&#20041;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#12290;&#19979;&#38754;&#30340;&#20363;&#23376;&#25110;&#35768;&#21487;&#20197;&#23558;&#23884;&#20837;&#33050;&#26412;&#29305;&#24449;&#34920;&#36798;&#30340;&#26356;&#28165;&#26970;&#65306;
		        </p><pre class="programlisting">&lt;lang:groovy id="messenger"&gt;
    &lt;lang:inline-script&gt;
package org.springframework.scripting.groovy;

import org.springframework.scripting.Messenger

class GroovyMessenger implements Messenger {

    String message
}
    &lt;/lang:inline-script&gt;
    &lt;lang:property name="message" value="I Can Do The Frug" /&gt;
&lt;/lang:groovy&gt;</pre><p>
					&#30452;&#25509;&#22312;Spring&#30340;&#37197;&#32622;&#25991;&#20214;&#20013;&#23450;&#20041;&#21160;&#24577;&#35821;&#35328;&#28304;&#30721;&#30340;&#26159;&#21542;&#26159;&#26368;&#20339;&#23454;&#36341;&#36825;&#20010;&#38382;&#39064;&#20808;&#25918;&#22312;&#19968;&#36793;&#65292;<tt class="literal">&lt;lang:inline-script/&gt;</tt>&#20803;&#32032;&#22312;&#26576;&#20123;&#22330;&#26223;&#19979;&#36824;&#26159;&#30456;&#24403;&#26377;&#29992;&#30340;&#12290;&#20363;&#22914;&#65292;&#32473;Spring MVC&#30340;<tt class="interfacename">Controller</tt>&#24555;&#36895;&#28155;&#21152;&#19968;&#20010;Spring <tt class="interfacename">Validator</tt>&#23454;&#29616;&#12290;&#22914;&#26524;&#37319;&#29992;&#20869;&#32622;&#28304;&#30721;&#30340;&#26041;&#24335;&#21482;&#38656;&#35201;&#29255;&#21051;&#26102;&#38388;&#23601;&#21487;&#20197;&#25630;&#23450;&#65288;&#35831;&#21442;&#35265;<a href="dynamic-language.html#dynamic-language-scenarios-validators" title="24.4.2.&nbsp;Validator&#30340;&#33050;&#26412;&#21270;">Section&nbsp;24.4.2, &#8220;Validator&#30340;&#33050;&#26412;&#21270;&#8221;</a>&#36825;&#19968;&#33410;&#30340;&#31034;&#20363;&#65289;&#12290;
				</p><p>
					&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#26159;&#19968;&#20010;&#22522;&#20110;JRuby&#30340;bean&#65292;&#36825;&#20010;&#20363;&#23376;&#30452;&#25509;&#22312;Spring&#30340;XML&#37197;&#32622;&#25991;&#20214;&#20013;&#23450;&#20041;&#20102;&#28304;&#30721;&#65292;&#24182;&#20351;&#29992;&#20102;<tt class="literal">inline:</tt> &#31526;&#21495;&#12290;&#65288;&#27880;&#24847;&#20854;&#20013;&#20351;&#29992; &amp;lt;&#31526;&#21495;&#26469;&#34920;&#31034;<tt class="literal">'&lt;'</tt>&#23383;&#31526;&#12290;&#36825;&#20010;&#20363;&#23376;&#20013;&#22914;&#26524;&#22312;&#20869;&#32622;&#28304;&#30721;&#21608;&#22260;&#23450;&#20041;&#19968;&#20010;<tt class="literal">&lt;![CDATA[]]&gt;</tt>&#23601;&#26356;&#22909;&#20102;&#12290;&#65289;
				</p><pre class="programlisting">&lt;lang:jruby id="messenger" script-interfaces="org.springframework.scripting.Messenger"&gt;
    &lt;lang:inline-script&gt;
require 'java'

include_class 'org.springframework.scripting.Messenger'

class RubyMessenger &amp;lt; Messenger

 def setMessage(message)
  @@message = message
 end

 def getMessage
  @@message
 end
 
end
    &lt;/lang:inline-script&gt;
    &lt;lang:property name="message" value="Hello World!" /&gt;
&lt;/lang:jruby&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dynamic-language-beans-ctor-injection"></a>24.3.1.4.&nbsp;&#29702;&#35299;dynamic-language-backed bean&#19978;&#19979;&#25991;&#20013;&#30340;&#26500;&#36896;&#22120;&#27880;&#20837;</h4></div></div><div></div></div><p>
					&#20851;&#20110;Spring&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#26377;&#19968;&#20010;&#35201;&#28857;&#24517;&#39035;&#24341;&#36215;&#27880;&#24847;&#65306;&#30446;&#21069;&#23545;dynamic-language-backed bean&#36824;&#19981;&#21487;&#33021;&#25552;&#20379;&#26500;&#36896;&#22120;&#21442;&#25968;&#30340;&#25903;&#25345;&#65288;&#20063;&#23601;&#26159;&#35828;&#23545;&#20110;dynamic-language-backed bean&#30340;&#26500;&#36896;&#22120;&#27880;&#20837;&#26080;&#25928;&#65289;&#12290;
					&#21482;&#26159;&#20026;&#20102;&#23558;&#26500;&#36896;&#22120;&#21644;&#23646;&#24615;&#30340;&#29305;&#27530;&#22788;&#29702;100&#65285;&#35828;&#28165;&#26970;&#65292;&#19979;&#38754;&#28151;&#21512;&#20102;&#20195;&#30721;&#21644;&#37197;&#32622;&#30340;&#20363;&#23376;&#26159;&#26080;&#27861;&#36816;&#20316;&#30340;&#12290;
				</p><pre class="programlisting">// from the file 'Messenger.groovy'
package org.springframework.scripting.groovy;

import org.springframework.scripting.Messenger

class GroovyMessenger implements Messenger {

    GroovyMessenger() {}

    // this constructor is not available for Constructor Injection
    GroovyMessenger(String message) {
        this.message = message;
    }

    String message

    String anotherMessage
}</pre><pre class="programlisting">&lt;lang:groovy id="badMessenger"
    script-source="classpath:Messenger.groovy"&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- this next constructor argument will *not* be injected into the <tt class="classname">GroovyMessenger</tt> --&gt;</span></i>
    <i class="lineannotation"><span class="lineannotation">&lt;!--     in fact, this isn't even allowed according to the schema --&gt;</span></i>
    &lt;constructor-arg value="<i class="lineannotation"><span class="lineannotation"><span class="bold"><b>This will *not* work</b></span></span></i>" /&gt;
    
    <i class="lineannotation"><span class="lineannotation">&lt;!-- <span class="bold"><b>only</b></span> property values are injected into the dynamic-language-backed object --&gt;</span></i>
    &lt;lang:property name="anotherMessage" value="Passed straight through to the dynamic-language-backed object" /&gt;

&lt;/lang&gt;</pre><p>
				&#23454;&#38469;&#19978;&#36825;&#31181;&#23616;&#38480;&#24615;&#24182;&#27809;&#26377;&#34920;&#29616;&#30340;&#37027;&#20040;&#26126;&#26174;&#65292;&#22240;&#20026;setter&#27880;&#20837;&#30340;&#26041;&#24335;&#26159;&#24320;&#21457;&#20154;&#21592;&#26356;&#38738;&#30544;&#30340;&#26041;&#24335;&#65288;&#33267;&#20110;&#21738;&#31181;&#27880;&#20837;&#26041;&#24335;&#26356;&#22909;&#65292;&#36825;&#20010;&#35805;&#39064;&#25105;&#20204;&#36824;&#26159;&#30041;&#21040;&#20197;&#21518;&#20877;&#35752;&#35770;&#21543;&#65289;&#12290;
				</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dynamic-language-beans-jruby"></a>24.3.2.&nbsp;JRuby beans</h3></div></div><div></div></div><div class="sidebar"><p class="title"><b>JRuby&#30340;&#20381;&#36182;&#24211;</b></p><p>
					Spring&#25903;&#25345;&#30340;JRuby&#33050;&#26412;&#38656;&#35201;&#22312;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;classpath&#20013;&#28155;&#21152;&#20197;&#19979;&#24211;&#25991;&#20214;&#12290;Spring&#22312;&#23545;JRuby&#33050;&#26412;&#30340;&#25903;&#25345;&#30340;&#24320;&#21457;&#36807;&#31243;&#20013;&#27491;&#22909;&#36873;&#25321;&#20102;&#20381;&#36182;&#24211;&#30340;&#26576;&#20010;&#29305;&#23450;&#29256;&#26412;&#65292;&#20320;&#21487;&#20197;&#36873;&#25321;&#29256;&#26412;&#30456;&#23545;&#25110;&#26087;&#25110;&#26032;&#30340;&#20381;&#36182;&#24211;&#65289;&#12290;
			    </p><div class="itemizedlist"><ul type="disc"><li><p><tt class="filename">jruby.jar</tt></p></li><li><p><tt class="filename">cglib-nodep-2.1_3.jar</tt></p></li></ul></div></div><p>&#26469;&#33258;JRuby&#23448;&#26041;&#32593;&#39029;...</p>&#8220;<span class="quote">
				<span class="emphasis"><em>JRuby&#26159;Ruby&#35821;&#35328;&#30340;&#32431;Java&#23454;&#29616;&#12290;
				</em></span>
			</span>&#8221;<p>
				Spring&#19968;&#30452;&#20197;&#26469;&#30340;&#23815;&#23578;&#30340;&#21746;&#23398;&#26159;&#25552;&#20379;&#36873;&#25321;&#24615;&#65292;&#22240;&#27492;Spring&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#29305;&#24449;&#20063;&#25903;&#25345;&#20351;&#29992;JRuby&#35821;&#35328;&#23450;&#20041;&#30340;bean&#12290;JRuby&#35821;&#35328;&#24403;&#28982;&#22522;&#20110;Ruby&#35821;&#35328;&#65292;&#25903;&#25345;&#20869;&#32622;&#27491;&#21017;&#34920;&#36798;&#24335;&#65292;&#22359;&#65288;&#38381;&#21253;&#65289;&#65292;&#20197;&#21450;&#20854;&#20182;&#24456;&#22810;&#29305;&#24449;&#65292;&#36825;&#20123;&#29305;&#24449;&#23545;&#20110;&#26576;&#20123;&#22495;&#38382;&#39064;&#25552;&#20379;&#20102;&#35299;&#20915;&#26041;&#26696;&#65292;&#21487;&#20197;&#35753;&#24320;&#21457;&#21464;&#30340;&#26356;&#23481;&#26131;&#12290;
		    </p><p>
				Spring&#23545;JRuby&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#30340;&#26377;&#36259;&#30340;&#22320;&#26041;&#22312;&#20110;&#65306;&#23545;&#20110;<tt class="literal">&lt;lang:ruby&gt;</tt>&#20803;&#32032;<tt class="literal">'script-interfaces'</tt>&#23646;&#24615;&#25351;&#23450;&#30340;&#25509;&#21475;&#65292;Spring&#20026;&#23427;&#20204;&#21019;&#24314;&#20102;JDK&#21160;&#24577;&#20195;&#29702;&#23454;&#29616;&#65288;&#36825;&#20063;&#26159;&#20320;&#20351;&#29992;JRuby&#23454;&#29616;&#30340;bean,&#24517;&#39035;&#20026;&#35813;&#23646;&#24615;&#25351;&#23450;&#33267;&#23569;&#19968;&#20010;&#25509;&#21475;&#24182;&#32534;&#31243;&#23454;&#29616;&#30340;&#21407;&#22240;&#65289;&#12290;
			</p><p>
				&#39318;&#20808;&#25105;&#20204;&#30475;&#19968;&#20010;&#20351;&#29992;&#22522;&#20110;JRuby&#30340;bean&#30340;&#21487;&#24037;&#20316;&#30340;&#23436;&#25972;&#31034;&#20363;&#12290;&#19979;&#38754;&#26159;&#20351;&#29992;JRuby&#23454;&#29616;&#30340;<tt class="interfacename">Messenger</tt>&#25509;&#21475;&#65288;&#26412;&#31456;&#20043;&#21069;&#23450;&#20041;&#36807;&#20102;&#65292;&#20026;&#20102;&#26041;&#20415;&#20320;&#38405;&#35835;&#65292;&#19979;&#38754;&#37325;&#22797;&#23450;&#20041;&#35813;&#25509;&#21475;&#65289;&#12290;
			</p><pre class="programlisting">package org.springframework.scripting;

public interface Messenger {

    String getMessage();
}</pre><pre class="programlisting">require 'java'

class RubyMessenger
    include org.springframework.scripting.Messenger

    def setMessage(message)
        @@message = message
    end

    def getMessage
        @@message
    end
end

# this last line is not essential (but see below)
RubyMessenger.new</pre><p>
				&#19979;&#38754;&#26159;Spring&#30340;XML&#37197;&#32622;&#65292;&#20854;&#20869;&#23481;&#23450;&#20041;&#20102;<tt class="classname">RubyMessenger</tt>(JRuby bean)&#30340;&#23454;&#20363;&#12290;
			</p><pre class="programlisting">&lt;lang:jruby id="messageService"
            script-interfaces="org.springframework.scripting.Messenger"
            script-source="classpath:RubyMessenger.rb"&gt;
    
    &lt;lang:property name="message" value="Hello World!" /&gt;

&lt;/lang:jruby&gt;</pre><p>
				&#27880;&#24847;JRuby&#28304;&#30721;&#30340;&#26368;&#21518;&#19968;&#34892;&#65288;<tt class="literal">'RubyMessenger.new'</tt>&#65289;&#12290;&#22312;Spring&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#30340;&#19978;&#19979;&#25991;&#20043;&#19979;&#20351;&#29992;JRuby&#30340;&#26102;&#20505;&#65292;&#25105;&#20204;&#40723;&#21169;&#20320;&#23454;&#20363;&#21270;&#24182;&#36820;&#22238;&#19968;&#20010;JRuby&#31867;&#30340;&#23454;&#20363;&#12290;&#22914;&#26524;&#20320;&#25171;&#31639;&#23558;&#20854;&#20316;&#20026;&#20320;&#30340;JRuby&#28304;&#30721;&#30340;&#25191;&#34892;&#32467;&#26524;&#65292;&#24182;&#23558;&#20854;&#20316;&#20026;dynamic-language-backed bean&#65292;&#21482;&#38656;&#35201;&#31616;&#21333;&#30340;&#23454;&#20363;&#21270;&#20320;&#30340;JRuby&#31867;&#23601;&#21487;&#20197;&#36798;&#21040;&#36825;&#26679;&#30340;&#25928;&#26524;&#65292;&#22914;&#19979;&#38754;&#28304;&#25991;&#20214;&#30340;&#26368;&#21518;&#19968;&#34892;&#65306;
	        </p><pre class="programlisting">require 'java'

include_class 'org.springframework.scripting.Messenger'

# class definition same as above...

# instantiate and return a new instance of the RubyMessenger class
RubyMessenger.new</pre><p>
				&#22914;&#26524;&#20320;&#24536;&#35760;&#20102;&#36825;&#28857;&#65292;&#24182;&#19981;&#20195;&#34920;&#20197;&#21069;&#25152;&#26377;&#30340;&#21162;&#21147;&#30333;&#36153;&#20102;&#65292;&#19981;&#36807;Spring&#20250;&#20197;&#21453;&#23556;&#30340;&#26041;&#24335;&#25195;&#25551;&#20320;&#30340;JRuby&#30340;&#31867;&#22411;&#34920;&#31034;&#65292;&#24182;&#25214;&#20986;&#19968;&#20010;&#31867;&#65292;&#28982;&#21518;&#36827;&#34892;&#23454;&#20363;&#21270;&#12290;&#36825;&#20010;&#36807;&#31243;&#30340;&#36895;&#24230;&#26159;&#30456;&#24403;&#24555;&#30340;&#65292;&#21487;&#33021;&#20320;&#27704;&#36828;&#37117;&#19981;&#20250;&#24863;&#35273;&#21040;&#24310;&#36831;&#65292;&#20294;&#26159;&#21482;&#38656;&#35201;&#35937;&#21069;&#38754;&#30340;&#20363;&#23376;&#37027;&#26679;&#22312;&#20320;&#30340;JRuby&#30340;&#33050;&#26412;&#26368;&#21518;&#28155;&#21152;&#19968;&#34892;&#23601;&#21487;&#20197;&#36991;&#20813;&#36825;&#26679;&#30340;&#20107;&#24773;&#65292;&#20309;&#20048;&#32780;&#19981;&#20026;&#21602;&#65311;&#22914;&#26524;&#19981;&#25552;&#20379;&#36825;&#19968;&#34892;&#65292;&#25110;&#32773;&#22914;&#26524;Spring&#22312;&#20320;&#30340;JRuby&#33050;&#26412;&#20013;&#26080;&#27861;&#25214;&#21040;&#21487;&#20197;&#23454;&#20363;&#21270;&#30340;&#31867;&#65292;JRuby&#30340;&#35299;&#37322;&#22120;&#25191;&#34892;&#28304;&#30721;&#32467;&#26463;&#21518;&#20250;&#31435;&#21051;&#25243;&#20986;<tt class="classname">ScriptCompilationException</tt>&#24322;&#24120;&#12290;&#19979;&#38754;&#30340;&#20195;&#30721;&#20013;&#21487;&#20197;&#31435;&#21051;&#21457;&#29616;&#19968;&#20123;&#20851;&#38190;&#30340;&#25991;&#26412;&#20449;&#24687;&#65292;&#36825;&#20123;&#25991;&#26412;&#20449;&#24687;&#26631;&#35782;&#20102;&#23548;&#33268;&#24322;&#24120;&#30340;&#26681;&#26412;&#21407;&#22240;&#65288;&#22914;&#26524;Spring&#23481;&#22120;&#22312;&#21019;&#24314;&#30340; dynamic-language-backed bean&#30340;&#26102;&#20505;&#25243;&#20986;&#20197;&#19979;&#24322;&#24120;, &#22312;&#30456;&#24212;&#30340;&#24322;&#24120;&#22534;&#26632;&#20013;&#20250;&#21253;&#25324;&#20197;&#19979;&#25991;&#26412;&#20449;&#24687;&#65292;&#24076;&#26395;&#36825;&#20123;&#20449;&#24687;&#33021;&#22815;&#24110;&#21161;&#20320;&#26356;&#23481;&#26131;&#23450;&#20301;&#24182;&#30699;&#27491;&#38382;&#39064;&#65289;:
			</p><tt class="computeroutput">org.springframework.scripting.ScriptCompilationException: Compilation of JRuby script returned ''</tt><p>
				&#20026;&#20102;&#36991;&#20813;&#36825;&#31181;&#38169;&#35823;&#65292;&#23558;&#20320;&#25171;&#31639;&#29992;&#20316;JRuby-dynamic-language-backed bean(&#22914;&#21069;&#25991;&#25152;&#31034;)&#30340;&#31867;&#36827;&#34892;&#23454;&#20363;&#21270;&#65292;&#24182;&#23558;&#20854;&#36820;&#22238;&#12290;&#35831;&#27880;&#24847;&#22312;JRuby&#33050;&#26412;&#20013;&#23454;&#38469;&#19978;&#21487;&#20197;&#23450;&#20041;&#20219;&#24847;&#25968;&#30446;&#30340;&#31867;&#21644;&#23545;&#35937;&#65292;&#37325;&#35201;&#30340;&#26159;&#25972;&#20010;&#28304;&#25991;&#20214;&#24212;&#35813;&#36820;&#22238;&#19968;&#20010;&#23545;&#35937;(&#29992;&#20110;Spring&#30340;&#37197;&#32622;)&#12290;
			</p><p>
				<a href="dynamic-language.html#dynamic-language-scenarios" title="24.4.&nbsp;&#22330;&#26223;">Section&nbsp;24.4, &#8220;&#22330;&#26223;&#8221;</a> &#36825;&#19968;&#33410;&#25552;&#20379;&#20102;&#19968;&#20123;&#22330;&#26223;&#65292;&#22312;&#36825;&#20123;&#22330;&#26223;&#19979;&#20063;&#35768;&#20320;&#20250;&#25171;&#31639;&#37319;&#29992;&#22522;&#20110;JRuby&#30340;bean.
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dynamic-language-beans-groovy"></a>24.3.3.&nbsp;Groovy beans</h3></div></div><div></div></div><div class="sidebar"><p class="title"><b>Groovy&#20381;&#36182;&#24211;</b></p><p>
					Spring&#25903;&#25345;&#30340;Groovy&#33050;&#26412;&#38656;&#35201;&#22312;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;classpath&#20013;&#28155;&#21152;&#20197;&#19979;jar&#21253;&#12290;
			    </p><div class="itemizedlist"><ul type="disc"><li><p><tt class="filename">groovy-1.0.jar</tt></p></li><li><p><tt class="filename">asm-2.2.2.jar</tt></p></li><li><p><tt class="filename">antlr-2.7.6.jar</tt></p></li></ul></div></div><p>&#26469;&#33258;Groovy&#23448;&#26041;&#32593;&#39029;...</p>&#8220;<span class="quote">
				<span class="emphasis"><em>Groovy&#26159;&#19968;&#38376;&#38024;&#23545;Java 2&#24179;&#21488;&#30340;&#25935;&#25463;&#30340;&#21160;&#24577;&#35821;&#35328;&#65292;Python&#12289;Ruby&#12289;Smalltalk&#36825;&#31867;&#35821;&#35328;&#20013;&#19981;&#23569;&#21463;&#20154;&#21916;&#29233;&#30340;&#29305;&#24449;&#37117;&#34987;&#22218;&#25324;&#20854;&#20013;&#65292;&#24182;&#20197;Java&#39118;&#26684;&#30340;&#35821;&#27861;&#23637;&#29616;&#32473;Java&#24320;&#21457;&#32773;&#12290;
				</em></span>
			</span>&#8221;<p>
				&#22914;&#26524;&#20320;&#26159;&#20197;&#20174;&#19978;&#21040;&#19979;&#30340;&#26041;&#24335;&#19968;&#30452;&#35835;&#21040;&#36825;&#19968;&#31456;&#65292;&#20320;&#24212;&#35813;&#24050;&#32463;&#30475;&#21040;&#20102;&#19968;&#20010;Groovy-dynamic-language-backed bean&#30340;<a href="dynamic-language.html#dynamic-language-a-first-example" title="24.2.&nbsp;&#31532;&#19968;&#20010;&#31034;&#20363;">&#31034;&#20363;</a>&#12290;&#25509;&#19979;&#26469;&#25105;&#20204;&#26469;&#30475;&#21478;&#22806;&#19968;&#20010;&#20363;&#23376;(&#36824;&#26159;&#36873;&#33258;Spring&#30340;&#27979;&#35797;&#22871;&#20214;)&#12290;
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="http://shouce.jb51.net/images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>Groovy&#38656;&#35201;1.4&#20197;&#19978;&#30340;JDK&#12290;</p></td></tr></table></div><pre class="programlisting">package org.springframework.scripting;

public interface Calculator {

    int add(int x, int y);
}</pre><p>
				&#19979;&#38754;&#26159;&#20351;&#29992;Groovy&#23454;&#29616;&#30340;<tt class="interfacename">Calculator</tt>&#25509;&#21475;&#12290;
            </p><pre class="programlisting"><i class="lineannotation"><span class="lineannotation">// from the file 'calculator.groovy'</span></i>
package org.springframework.scripting.groovy

class GroovyCalculator implements Calculator {

    int add(int x, int y) {
        x + y
    }
}</pre><pre class="programlisting"><i class="lineannotation"><span class="lineannotation">&lt;-- from the file 'beans.xml' --&gt;</span></i>
&lt;beans&gt;
    &lt;lang:groovy id="calculator" script-source="classpath:calculator.groovy"/&gt;
&lt;/beans&gt;</pre><p>
				&#26368;&#21518;&#26159;&#19968;&#20010;&#23567;&#24212;&#29992;&#31243;&#24207;&#65292;&#29992;&#20110;&#27979;&#35797;&#19978;&#38754;&#30340;&#37197;&#32622;&#12290;
			</p><pre class="programlisting">package org.springframework.scripting;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class Main {

    public static void Main(String[] args) {
        ApplicationContext ctx = new ClassPathXmlApplicationContext("beans.xml");
        Calculator calc = (Calculator) ctx.getBean("calculator");
        System.out.println(calc.add(2, 8));
    }
}</pre><p>
				&#36816;&#34892;&#19978;&#38754;&#30340;&#31243;&#24207;&#26368;&#32456;&#36755;&#20986;&#32467;&#26524;&#65288;&#27627;&#26080;&#30097;&#38382;&#65289;&#20026;<tt class="computeroutput">10</tt>&#12290;&#65288;&#20196;&#20154;&#28608;&#21160;&#30340;&#20363;&#23376;&#65292;&#26159;&#21543;&#65311;&#35760;&#20303;&#25105;&#20204;&#30340;&#30446;&#30340;&#26159;&#20026;&#20102;&#38416;&#36848;&#27010;&#24565;&#12290;&#26356;&#22797;&#26434;&#30340;&#20363;&#23376;&#35831;&#21442;&#32771;&#21160;&#24577;&#35821;&#35328;&#30340;&#31034;&#20363;&#39033;&#30446;&#65292;&#25110;&#32773;&#21442;&#32771;&#26412;&#31456;&#26368;&#21518;&#21015;&#20986;&#30340;<a href="dynamic-language.html#dynamic-language-scenarios" title="24.4.&nbsp;&#22330;&#26223;">Section&nbsp;24.4, &#8220;&#22330;&#26223;&#8221;</a>&#65289;&#12290;
			</p><p>
				&#26377;&#19968;&#28857;&#24456;&#37325;&#35201;,&#37027;&#23601;&#26159;&#20320;<span class="emphasis"><em>&#19981;&#35201;</em></span> &#22312;&#19968;&#20010;Groovy&#28304;&#25991;&#20214;&#20013;&#23450;&#20041;&#20004;&#20010;&#20197;&#19978;&#30340;class&#12290;&#34429;&#28982;Groovy&#20801;&#35768;&#36825;&#26679;&#20570;&#65292;&#20294;&#26159;&#26159;&#19968;&#20010;&#24456;&#19981;&#22909;&#30340;&#23454;&#36341;&#65292;&#20026;&#20102;&#20445;&#25345;&#19968;&#33268;&#24615;&#65292;&#20320;&#24212;&#35813;&#23562;&#37325;&#26631;&#20934;&#30340;Java&#35268;&#33539;&#65288;&#33267;&#23569;&#20316;&#32773;&#26159;&#36825;&#26679;&#35748;&#20026;&#30340;&#65289;&#65306;&#19968;&#20010;&#28304;&#25991;&#20214;&#21482;&#23450;&#20041;&#19968;&#20010;(public)&#31867;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dynamic-language-beans-groovy-customizer"></a>24.3.3.1.&nbsp;&#36890;&#36807;&#22238;&#35843;&#23450;&#21046;Groovy&#23545;&#35937;</h4></div></div><div></div></div><p>
					<tt class="interfacename">GroovyObjectCustomizer</tt>&#25509;&#21475;&#23454;&#38469;&#19978;&#26159;&#19968;&#20010;&#22238;&#35843;&#65292;
          &#23427;&#20801;&#35768;&#20320;&#23558;&#38468;&#23646;&#30340;&#21019;&#24314;&#36923;&#36753;&#28155;&#21152;&#21040;&#21019;&#24314;Groovy bean&#30340;&#36807;&#31243;&#20013;&#12290;
          &#20363;&#22914;&#65292;&#35813;&#25509;&#21475;&#30340;&#23454;&#29616;&#33021;&#22815;&#35843;&#29992;&#20219;&#20309;&#38656;&#35201;&#30340;&#21021;&#22987;&#21270;&#26041;&#27861;&#65292;
          &#25110;&#32773;&#35774;&#32622;&#19968;&#20123;&#32570;&#30465;&#30340;&#23646;&#24615;&#20540;&#65292;&#25110;&#32773;&#25351;&#23450;&#33258;&#23450;&#20041;&#30340;<tt class="classname">MetaClass</tt>&#12290;
				</p><pre class="programlisting">public interface GroovyObjectCustomizer {

   void customize(GroovyObject goo);
}</pre><p>
				  Spring&#26694;&#26550;&#23558;&#20250;&#21021;&#22987;&#21270;Groovy bean&#31034;&#20363;&#65292;&#28982;&#21518;&#23558;&#24050;&#32463;&#21019;&#24314;&#30340;<tt class="interfacename">GroovyObject</tt>
				  &#23545;&#35937;&#20256;&#21040;&#21040;&#25351;&#23450;&#30340;<tt class="interfacename">GroovyObjectCustomizer</tt>&#25509;&#21475;&#12290;
				  &#36890;&#36807;<tt class="interfacename">GroovyObject</tt>&#20320;&#21487;&#20197;&#20570;&#20219;&#24847;&#24819;&#20570;&#30340;&#20107;&#24773;&#12290;&#22823;&#37096;&#20998;
				  &#20154;&#20063;&#35768;&#37117;&#24819;&#36890;&#36807;&#35813;&#22238;&#35843;&#20256;&#20837;&#19968;&#20010;&#23450;&#21046;&#30340;<tt class="classname">MetaClass</tt>&#65292;&#19979;&#38754;&#20320;&#23558;&#30475;&#21040;&#19968;&#20010;&#36825;&#26679;&#30340;&#20363;&#23376;&#12290;
				</p><pre class="programlisting">public final class SimpleMethodTracingCustomizer implements GroovyObjectCustomizer {

   public void customize(GroovyObject goo) {
      DelegatingMetaClass metaClass = new DelegatingMetaClass(goo.getMetaClass()) {

         public Object invokeMethod(Object object, String methodName, Object[] arguments) {
            System.out.println("Invoking '" + methodName + "'.");
            return super.invokeMethod(object, methodName, arguments);
         }
      };
      metaClass.initialize();
      goo.setMetaClass(metaClass);
   }
}</pre><p>
				&#23436;&#25972;&#35752;&#35770;Groovy&#30340;&#20803;&#32534;&#31243;&#24050;&#32463;&#36229;&#20986;&#20102;&#26412;&#21442;&#32771;&#25163;&#20876;&#30340;&#33539;&#30068;&#12290;&#24314;&#35758;&#30452;&#25509;&#26597;&#38405;Groovy&#21442;&#32771;&#25163;&#20876;&#30340;&#26377;&#20851;&#31456;&#33410;&#65292;
				&#25110;&#32773;&#36890;&#36807;&#22312;&#32447;&#26597;&#35810;&#65306;&#30446;&#21069;&#26377;&#22823;&#37327;&#30340;&#20851;&#20110;&#36825;&#26041;&#38754;&#30340;&#25991;&#31456;&#12290;
				&#22914;&#26524;&#20320;&#20351;&#29992;Spring 2.0&#30340;&#21629;&#21517;&#31354;&#38388;&#25903;&#25345;&#21151;&#33021;&#65292;&#20351;&#29992;<tt class="interfacename">GroovyObjectCustomizer</tt>&#23558;&#20250;&#21464;&#24471;&#38750;&#24120;&#31616;&#21333;&#12290;
				</p><pre class="programlisting"><i class="lineannotation"><span class="lineannotation">&lt;!-- define the <tt class="interfacename">GroovyObjectCustomizer</tt> just like any other bean --&gt;</span></i>
&lt;bean id="tracingCustomizer" class="example.SimpleMethodTracingCustomizer" /&gt;

   <i class="lineannotation"><span class="lineannotation">&lt;!-- ... and plug it into the desired Groovy bean via the '<tt class="literal">customizer-ref</tt>' attribute --&gt;</span></i>
   &lt;lang:groovy id="calculator"
      script-source="classpath:org/springframework/scripting/groovy/Calculator.groovy"
      customizer-ref="tracingCustomizer" /&gt;</pre><p>
				&#22914;&#26524;&#20320;&#27809;&#26377;&#20351;&#29992;Spring 2.0&#30340;&#21629;&#21517;&#31354;&#38388;&#25903;&#25345;&#65292;&#20320;&#20173;&#28982;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">GroovyObjectCustomizer</tt>&#30340;&#21151;&#33021;&#12290;
				</p><pre class="programlisting">&lt;bean id="calculator" class="org.springframework.scripting.groovy.GroovyScriptFactory"&gt;
      &lt;constructor-arg value="classpath:org/springframework/scripting/groovy/Calculator.groovy"/&gt;
      <i class="lineannotation"><span class="lineannotation">&lt;!-- define the <tt class="interfacename">GroovyObjectCustomizer</tt> (as an inner bean) --&gt;</span></i>
      &lt;constructor-arg&gt;
         &lt;bean id="tracingCustomizer" class="example.SimpleMethodTracingCustomizer" /&gt;
      &lt;/constructor-arg&gt;
&lt;/bean&gt;

&lt;bean class="org.springframework.scripting.support.ScriptFactoryPostProcessor"/&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dynamic-language-beans-bsh"></a>24.3.4.&nbsp;BeanShell beans</h3></div></div><div></div></div><div class="sidebar"><p class="title"><b>BeanShell&#20381;&#36182;&#24211;</b></p><p>
					Spring&#25903;&#25345;&#30340;BeanShell&#33050;&#26412;&#38656;&#35201;&#22312;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;classpath&#20013;&#28155;&#21152;&#20197;&#19979;&#24211;&#25991;&#20214;&#12290;
			    </p><div class="itemizedlist"><ul type="disc"><li><p><tt class="filename">bsh-2.0b4.jar</tt></p></li><li><p><tt class="filename">cglib-nodep-2.1_3.jar</tt></p></li></ul></div><p>
                &#25152;&#26377;&#36825;&#20123;&#24211;&#25991;&#20214;&#37117;&#21487;&#20197;&#22312;Spring-with-dependecies&#21457;&#24067;&#21253;&#20013;&#33719;&#21462;&#65288;&#24403;&#28982;&#36825;&#20123;&#22312;&#32593;&#19978;&#20063;&#21487;&#20197;&#20813;&#36153;&#33719;&#24471;&#65289;&#12290;
                </p></div><p>&#26469;&#33258;BeanShell&#23448;&#26041;&#32593;&#39029;...</p>&#8220;<span class="quote">
				<span class="emphasis"><em>BeanShell&#26159;&#19968;&#20010;&#29992;Java&#23454;&#29616;&#30340;&#23567;&#22411;&#20813;&#36153;&#23884;&#20837;&#24335;Java&#28304;&#30721;&#35299;&#37322;&#22120;&#65292;&#25903;&#25345;&#21160;&#24577;&#35821;&#35328;&#29305;&#24449;&#12290;BeanShell&#21160;&#24577;&#25191;&#34892;&#26631;&#20934;&#30340;Java&#35821;&#27861;&#65292;&#24182;&#36827;&#34892;&#20102;&#25193;&#23637;&#65292;&#24102;&#26469;&#19968;&#20123;&#24120;&#35265;&#30340;&#33050;&#26412;&#30340;&#20415;&#21033;&#65292;&#22914;&#22312;Perl&#21644;JavaScript&#20013;&#30340;&#23485;&#26494;&#31867;&#22411;&#12289;&#21629;&#20196;&#12289;&#26041;&#27861;&#38381;&#21253;&#31561;&#31561;&#12290;</em></span>
			</span>&#8221;<p>
				&#21644;Groovy&#30456;&#27604;&#65292;&#22522;&#20110;BeanShell&#30340;bean&#23450;&#20041;&#38656;&#35201;&#30340;&#37197;&#32622;&#35201;&#22810;&#19968;&#20123;&#12290;Spring&#23545;BeanShell&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#30340;&#26377;&#36259;&#30340;&#22320;&#26041;&#22312;&#20110;&#65306;&#23545;&#20110;<tt class="literal">&lt;lang:bsh&gt;</tt>&#20803;&#32032;&#30340;<tt class="literal">'script-interfaces'</tt>&#23646;&#24615;&#25351;&#23450;&#30340;&#25509;&#21475;&#65292;Spring&#20026;&#23427;&#20204;&#21019;&#24314;&#20102;JDK&#21160;&#24577;&#20195;&#29702;&#23454;&#29616;&#65288;&#36825;&#20063;&#26159;&#20320;&#20351;&#29992;BeanShell&#23454;&#29616;&#30340;bean&#65292;<span class="emphasis"><em>&#24517;&#39035;</em></span>&#20026;&#35813;&#23646;&#24615;&#25351;&#23450;&#33267;&#23569;&#19968;&#20010;&#25509;&#21475;&#24182;&#32534;&#31243;&#23454;&#29616;&#30340;&#21407;&#22240;&#65289;&#12290;&#36825;&#24847;&#21619;&#30528;&#25152;&#26377;&#35843;&#29992; BeanShell-backed&#23545;&#35937;&#30340;&#26041;&#27861;&#65292;&#37117;&#35201;&#36890;&#36807;JDK&#21160;&#24577;&#20195;&#29702;&#35843;&#29992;&#26426;&#21046;&#12290;
			</p><p>
				&#39318;&#20808;&#25105;&#20204;&#30475;&#19968;&#20010;&#20351;&#29992;&#22522;&#20110;BeanShell&#30340;bean&#30340;&#21487;&#24037;&#20316;&#30340;&#23436;&#25972;&#31034;&#20363;&#12290;&#23427;&#23454;&#29616;&#20102;&#26412;&#31456;&#20043;&#21069;&#23450;&#20041;&#30340;<tt class="interfacename">Messenger</tt>&#25509;&#21475;&#65288;&#20026;&#20102;&#26041;&#20415;&#38405;&#35835;&#65292;&#19979;&#38754;&#37325;&#22797;&#23450;&#20041;&#35813;&#25509;&#21475;&#65289;&#12290;
			</p><pre class="programlisting">package org.springframework.scripting;

public interface Messenger {

    String getMessage();
}</pre><p>Here is the BeanShell 'implementation' (the term is used loosely here) of the
	        <tt class="interfacename">Messenger</tt> interface.</p><p>&#19979;&#38754;&#26159;BeanShell&#30340;&#23454;&#29616;&#30340;<tt class="interfacename">Messenger</tt> &#25509;&#21475;&#12290;</p><pre class="programlisting">String message;

String getMessage() {
    return message;
}

void setMessage(String aMessage) {
    message = aMessage;
}</pre><p>
				&#19979;&#38754;&#30340;Spring XML&#23450;&#20041;&#20102;&#19978;&#36848;&#8220;&#31867;&#8221;&#30340;&#19968;&#20010;&#8220;&#23454;&#20363;&#8221;&#65288;&#36825;&#37324;&#23545;&#26415;&#35821;&#30340;&#20351;&#29992;&#38750;&#24120;&#30340;&#38543;&#24847;&#65289;&#12290;
			</p><pre class="programlisting">&lt;lang:bsh id="messageService" script-source="classpath:BshMessenger.bsh"
    script-interfaces="org.springframework.scripting.Messenger"&gt;

    &lt;lang:property name="message" value="Hello World!" /&gt;
&lt;/lang:bsh&gt;</pre><p>
				<a href="dynamic-language.html#dynamic-language-scenarios" title="24.4.&nbsp;&#22330;&#26223;">Section&nbsp;24.4, &#8220;&#22330;&#26223;&#8221;</a>&#19968;&#33410;&#20013;&#25552;&#20379;&#20102;&#19968;&#20123;&#22330;&#26223;&#65292;&#22312;&#36825;&#26679;&#30340;&#22330;&#26223;&#19979;&#20320;&#20063;&#35768;&#25171;&#31639;&#37319;&#29992;&#22522;&#20110;BeanShell&#30340;bean&#12290;
			</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dynamic-language-scenarios"></a>24.4.&nbsp;&#22330;&#26223;</h2></div></div><div></div></div><p>
			&#22312;&#26576;&#20123;&#21487;&#33021;&#30340;&#22330;&#26223;&#19979;&#65292;&#20351;&#29992;&#33050;&#26412;&#35821;&#35328;&#23450;&#20041;&#21463;Spring&#31649;&#29702;&#30340;bean&#26159;&#26377;&#22909;&#22788;&#30340;&#65292;&#24403;&#28982;&#36825;&#26679;&#30340;&#22330;&#26223;&#26159;&#21508;&#24335;&#21508;&#26679;&#30340;&#12290;
			&#36825;&#19968;&#33410;&#25551;&#36848;&#20102;&#20004;&#20010;&#33021;&#20351;&#29992;Spring&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#29305;&#24615;&#30340;&#29992;&#20363;&#12290;
        </p><p>
			&#35831;&#27880;&#24847;Spring&#30340;&#21457;&#24067;&#21253;&#20013;&#21253;&#25324;&#20102;&#19968;&#20010;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#30340;&#31034;&#20363;&#39033;&#30446;(&#31034;&#20363;&#39033;&#30446;&#21482;&#26159;&#19968;&#20010;&#23567;&#39033;&#30446;&#65292;&#20165;&#29992;&#20110;&#28436;&#31034;Spring&#26694;&#26550;&#30340;&#26576;&#20123;&#29305;&#23450;&#30340;&#29305;&#24449;)&#12290;
        </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dynamic-language-scenarios-controllers"></a>24.4.1.&nbsp;Spring MVC&#25511;&#21046;&#22120;&#30340;&#33050;&#26412;&#21270;</h3></div></div><div></div></div><p>
				&#26377;&#19968;&#32452;&#31867;&#21487;&#20197;&#20351;&#29992;dynamic-language-backed bean&#24182;&#20174;&#20013;&#33719;&#30410;&#65292;&#37027;&#23601;&#26159;Spring MVC&#25511;&#21046;&#22120;&#12290;&#22312;&#32431;Spring MVC&#24212;&#29992;&#20013;&#65292;&#36143;&#31359;&#25972;&#20010;web&#24212;&#29992;&#30340;&#23548;&#33322;&#27969;&#31243;&#65292;&#30456;&#24403;&#22823;&#30340;&#37096;&#20998;&#37117;&#23553;&#35013;&#22312;Spring MVC&#25511;&#21046;&#22120;&#30340;&#20195;&#30721;&#20013;&#12290;&#22240;&#20026;web&#24212;&#29992;&#30340;&#23548;&#33322;&#27969;&#31243;&#21644;&#20854;&#20182;&#34920;&#31034;&#23618;&#36923;&#36753;&#38656;&#35201;&#33021;&#22815;&#31215;&#26497;&#21709;&#24212;&#19994;&#21153;&#38656;&#27714;&#30340;&#21464;&#21270;&#21644;&#38382;&#39064;&#65292;&#36890;&#36807;&#32534;&#36753;&#19968;&#20010;&#25110;&#22810;&#20010;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#20063;&#35768;&#21487;&#20197;&#26356;&#23481;&#26131;&#21709;&#24212;&#36825;&#26679;&#37027;&#26679;&#30340;&#21464;&#21270;&#65292;&#32780;&#19988;&#36890;&#36807;&#36825;&#31181;&#26041;&#24335;&#65292;&#19968;&#20010;&#22788;&#20110;&#36816;&#34892;&#29366;&#24577;&#30340;&#24212;&#29992;&#21487;&#20197;&#31435;&#21363;&#21453;&#26144;&#20986;&#25152;&#20570;&#30340;&#25913;&#21160;&#12290;
			</p><p>
				&#20687;Spring&#36825;&#26679;&#30001;&#39033;&#30446;&#25903;&#25345;&#30340;&#36731;&#37327;&#32423;&#26550;&#26500;&#27169;&#22411;&#20013;&#65292;&#20320;&#30340;&#30446;&#26631;&#26159;&#25317;&#26377;&#19968;&#20010;&#30495;&#27491;<span class="emphasis"><em>&#30246;&#23567;</em></span> &#30340;&#34920;&#31034;&#23618;&#65292;&#32780;&#24212;&#29992;&#30340;&#25152;&#26377;&#19994;&#21153;&#36923;&#36753;&#37117;&#22312;&#21253;&#35013;&#22312;&#39046;&#22495;&#23618;&#21644;&#26381;&#21153;&#23618;&#30340;&#31867;&#20013;&#65292;&#23558;Spring MVC&#25511;&#21046;&#22120;&#20316;&#20026;dynamic-language-backed bean&#26469;&#36827;&#34892;&#24320;&#21457;&#65292;&#21487;&#20197;&#31616;&#21333;&#30340;&#32534;&#36753;&#20445;&#23384;&#25991;&#26412;&#25991;&#20214;&#23601;&#21487;&#20197;&#20462;&#25913;&#34920;&#31034;&#23618;&#36923;&#36753;&#65292;&#36825;&#20123;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;&#30340;&#20219;&#20309;&#21464;&#21270;&#37117;&#21487;&#20197;(&#21462;&#20915;&#20110;&#37197;&#32622;)&#33258;&#21160;&#30340;&#21453;&#23556;&#20026;bean(&#24213;&#23618;&#20026;&#21160;&#24577;&#35821;&#35328;&#28304;&#25991;&#20214;)&#30340;&#21464;&#21270;&#12290;
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="http://shouce.jb51.net/images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>
					&#35831;&#27880;&#24847;&#20026;&#20102;&#33258;&#21160;&#8220;&#33719;&#21462;&#8221;dynamic-language-backed bean&#30340;&#21508;&#31181;&#21464;&#21270;&#65292;&#20320;&#24517;&#39035;&#21551;&#29992;'refreshable beans' &#21151;&#33021;&#12290;
					&#20851;&#20110;&#35813;&#29305;&#24449;&#30340;&#35814;&#32454;&#24773;&#20917;&#35831;&#21442;&#32771;<a href="dynamic-language.html#dynamic-language-refreshable-beans" title="24.3.1.2.&nbsp;Refreshable bean">Section&nbsp;24.3.1.2, &#8220;Refreshable bean&#8221;</a>&#19968;&#33410;&#12290;
				</p></td></tr></table></div><p>
				&#19979;&#38754;&#30340;&#31034;&#20363;&#26159;&#20351;&#29992;Groovy&#21160;&#24577;&#35821;&#35328;&#23454;&#29616;&#30340;<tt class="interfacename">org.springframework.web.servlet.mvc.Controller</tt>&#12290;&#36825;&#20010;&#20363;&#23376;&#36873;&#33258;Spring&#21457;&#24067;&#21253;&#20013;&#25552;&#20379;&#30340;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#31034;&#20363;&#39033;&#30446;&#12290;&#20851;&#20110;&#35813;&#39033;&#30446;&#30340;&#35814;&#24773;&#35831;&#21442;&#32771;Spring&#21457;&#24067;&#21253;&#20013;&#30340;<tt class="filename">'samples/showcases/dynamvc/'</tt>&#30446;&#24405;&#12290;
			</p><pre class="programlisting">// from the file '/WEB-INF/groovy/FortuneController.groovy'
package org.springframework.showcase.fortune.web

import org.springframework.showcase.fortune.service.FortuneService
import org.springframework.showcase.fortune.domain.Fortune
import org.springframework.web.servlet.ModelAndView
import org.springframework.web.servlet.mvc.Controller

import javax.servlet.http.HttpServletRequest
import javax.servlet.http.HttpServletResponse

class FortuneController implements Controller {

    @Property FortuneService fortuneService

    ModelAndView handleRequest(
            HttpServletRequest request, HttpServletResponse httpServletResponse) {

        return new ModelAndView("tell", "fortune", this.fortuneService.tellFortune())
    }
}</pre><pre class="programlisting">&lt;lang:groovy id="fortune"
             refresh-check-delay="3000"
             script-source="/WEB-INF/groovy/FortuneController.groovy"&gt;
    &lt;lang:property name="fortuneService" ref="fortuneService"/&gt;
&lt;/lang:groovy&gt;
</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dynamic-language-scenarios-validators"></a>24.4.2.&nbsp;Validator&#30340;&#33050;&#26412;&#21270;</h3></div></div><div></div></div><p>
				&#22312;&#20351;&#29992;Spring&#36827;&#34892;&#24212;&#29992;&#31243;&#24207;&#24320;&#21457;&#26102;&#65292;&#26657;&#39564;&#21487;&#33021;&#20250;&#26159;&#21478;&#19968;&#20010;&#21487;&#20197;&#20174;dynamic-language-backed bean&#25552;&#20379;&#30340;&#28789;&#27963;&#24615;&#20013;&#33719;&#30410;&#30340;&#26041;&#38754;&#12290;
				&#30456;&#23545;&#20110;Java&#35821;&#35328;&#65292;&#20351;&#29992;&#26494;&#25955;&#31867;&#22411;&#30340;&#21160;&#24577;&#35821;&#35328;&#65288;&#21487;&#33021;&#36824;&#25903;&#25345;&#20869;&#32622;&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;&#65289;<span class="emphasis"><em>&#20063;&#35768;</em></span>&#21487;&#20197;&#26356;&#23481;&#26131;&#22320;&#34920;&#31034;&#22797;&#26434;&#30340;&#26657;&#39564;&#36923;&#36753;&#12290;
			</p><p>
				&#20351;&#29992;dynamic-language-backed bean&#20316;&#20026;&#26657;&#39564;&#22120;&#65292;&#21487;&#20197;&#24456;&#23481;&#26131;&#30340;&#25913;&#21464;&#26657;&#39564;&#36923;&#36753;&#65292;&#21482;&#35201;&#32534;&#36753;&#31616;&#21333;&#30340;&#25991;&#26412;&#25991;&#20214;&#21363;&#21487;&#65307;
				&#20219;&#20309;&#27492;&#31867;&#20462;&#25913;&#20250;(&#26681;&#25454;&#37197;&#32622;)&#33258;&#21160;&#21453;&#24212;&#21040;&#27491;&#22312;&#36816;&#34892;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#65292;&#32780;&#26080;&#38656;&#37325;&#21551;&#24212;&#29992;&#31243;&#24207;&#12290;
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="http://shouce.jb51.net/images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>
					&#35831;&#27880;&#24847;&#20026;&#20102;&#33258;&#21160;&#8220;&#33719;&#21462;&#8221;dynamic-language-backed bean&#30340;&#21508;&#31181;&#21464;&#21270;&#65292;&#20320;&#24517;&#39035;&#21551;&#29992; 'refreshable beans' &#21151;&#33021;&#12290;&#20851;&#20110;&#35813;&#29305;&#24449;&#30340;&#35814;&#32454;&#24773;&#20917;&#35831;&#21442;&#32771;<a href="dynamic-language.html#dynamic-language-refreshable-beans" title="24.3.1.2.&nbsp;Refreshable bean">Section&nbsp;24.3.1.2, &#8220;Refreshable bean&#8221;</a>&#19968;&#33410;&#12290;
				</p></td></tr></table></div><p>
				&#19979;&#38754;&#30340;&#31034;&#20363;&#26159;&#20351;&#29992;Groovy&#21160;&#24577;&#35821;&#35328;&#23454;&#29616;&#30340;<tt class="interfacename">org.springframework.validation.Validator</tt>&#12290;&#65288;&#20851;&#20110;<tt class="interfacename">Validator</tt>&#25509;&#21475;&#30340;&#35752;&#35770;&#35831;&#21442;&#32771;<a href="validation.html#validator" title="5.2.&nbsp;&#20351;&#29992;Spring&#30340;Validator&#25509;&#21475;&#36827;&#34892;&#26657;&#39564;">Section&nbsp;5.2, &#8220;&#20351;&#29992;Spring&#30340;Validator&#25509;&#21475;&#36827;&#34892;&#26657;&#39564;&#8221;</a> &#19968;&#33410;&#65289;
			</p><pre class="programlisting">import org.springframework.validation.Validator
import org.springframework.validation.Errors
import org.springframework.beans.TestBean

class TestBeanValidator implements Validator {

    boolean supports(Class clazz) {
        return TestBean.class.isAssignableFrom(clazz)
    }
    
    void validate(Object bean, Errors errors) {
        if(bean.name?.trim()?.size() &gt; 0) {
            return
        }
        errors.reject("whitespace", "Cannot be composed wholly of whitespace.")
    }
}</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dynamic-language-final-notes"></a>24.5.&nbsp;Bits and bobs</h2></div><div><h2 class="title" style="clear: both"><a name="dynamic-language-final-notes"></a>24.5.&nbsp;Bits and bobs</h2></div></div><div></div></div><p>
		&#26368;&#21518;&#36825;&#19968;&#31456;&#25552;&#20379;&#20102;&#19968;&#20123;&#21644;&#21160;&#24577;&#35821;&#35328;&#26377;&#20851;&#30340;&#23567;&#30693;&#35782;&#28857;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dynamic-language-final-notes-aop"></a>24.5.1.&nbsp;AOP - &#36890;&#30693;&#33050;&#26412;&#21270;bean</h3></div></div><div></div></div><p>
			&#20351;&#29992;Spring AOP&#26694;&#26550;&#23545;&#33050;&#26412;&#21270;bean&#36827;&#34892;&#36890;&#30693;&#24050;&#32463;&#25104;&#20026;&#21487;&#33021;&#12290;Spring AOP&#26694;&#26550;&#23454;&#38469;&#19978;&#19981;&#20851;&#24515;&#38656;&#35201;&#34987;
			&#36890;&#30693;&#30340;bean&#26159;&#21542;&#26159;&#33050;&#26412;&#21270;bean&#65292;&#22240;&#27492;&#20320;&#25152;&#20351;&#29992;&#30340;&#20840;&#37096;AOP&#29992;&#20363;&#21644;&#21151;&#33021;&#23545;&#33050;&#26412;&#21270;bean&#37117;&#26377;&#25928;&#12290;
			&#21807;&#19968;&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;&#36890;&#30693;&#33050;&#26412;&#21270;bean&#30340;&#26102;&#20505;&#65292;&#20320;&#19981;&#33021;&#20351;&#29992;&#22522;&#20110;&#31867;&#30340;&#20195;&#29702;&#65292;
			&#32780;&#21482;&#33021;&#20351;&#29992;<a href="aop.html#aop-proxying" title="6.6.&nbsp;&#20195;&#29702;&#26426;&#21046;">&#22522;&#20110;&#25509;&#21475;&#30340;&#20195;&#29702;</a>&#12290;
			</p><p>
			&#24403;&#28982;&#19981;&#29992;&#23616;&#38480;&#20110;&#22312;&#36890;&#30693;&#33050;&#26412;&#21270;bean&#26041;&#38754;&#65292;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;&#25903;&#25345;&#30340;&#21160;&#24577;&#35821;&#35328;&#23454;&#29616;&#20999;&#38754;&#65292;
			&#24182;&#20351;&#29992;&#35813;&#20999;&#38754;&#36890;&#30693;&#20854;&#20182;&#30340;Spring bean&#12290;&#36825;&#26679;&#25165;&#26159;&#30495;&#27491;&#30340;&#21033;&#29992;&#20102;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#30340;&#20248;&#21183;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dynamic-language-final-notes-scopes"></a>24.5.2.&nbsp;&#20316;&#29992;&#22495;</h3></div></div><div></div></div><p>
			&#22312;&#19981;&#26159;&#39532;&#19978;&#36215;&#25928;&#30340;&#24773;&#20917;&#20013;&#65292;&#33050;&#26412;&#21270;bean&#24403;&#28982;&#20063;&#33021;&#21644;&#20854;&#20182;bean&#19968;&#26679;&#23450;&#20041;&#20316;&#29992;&#22495;&#12290;
      <tt class="literal">&lt;lang:language/&gt;</tt>&#20803;&#32032;&#30340;<tt class="literal">scope</tt>&#23646;&#24615;&#21487;&#20197;&#24110;&#21161;&#20320;&#25511;&#21046;&#24213;&#23618;&#30340;&#33050;&#26412;&#21270;bean&#30340;&#20316;&#29992;&#22495;&#65292;
      &#36825;&#26679;&#36825;&#20123;&#33050;&#26412;&#21270;bean&#23601;&#21644;&#26222;&#36890;&#30340;bean&#27809;&#26377;&#21306;&#21035;&#20102;&#12290;&#65288;scope&#30340;&#40664;&#35748;&#20540;&#20219;&#28982;&#26159;<a href="beans.html#beans-factory-scopes-singleton" title="3.4.1.&nbsp;Singleton&#20316;&#29992;&#22495;">singleton</a>&#65292;
      &#21644;&#26222;&#36890;bean&#27809;&#26377;&#21306;&#21035;&#12290;&#65289;
			</p><p>
				&#19979;&#38754;&#30340;&#31034;&#20363;&#20351;&#29992;<tt class="literal">scope</tt>&#23646;&#24615;&#23558;Groovy bean&#23450;&#20041;&#20026;<a href="beans.html#beans-factory-scopes-prototype" title="3.4.2.&nbsp;Prototype&#20316;&#29992;&#22495;">prototype</a>&#12290;
			</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:lang="http://www.springframework.org/schema/lang"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang-2.5.xsd"&gt;

    &lt;lang:groovy id="messenger" script-source="classpath:Messenger.groovy" <i class="lineannotation"><span class="lineannotation"><span class="bold"><b>scope="prototype"</b></span></span></i>&gt;
        &lt;lang:property name="message" value="I Can Do The RoboCop" /&gt;
    &lt;/lang:groovy&gt;

    &lt;bean id="bookingService" class="x.y.DefaultBookingService"&gt;
        &lt;property name="messenger" ref="messenger" /&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
			<a href="beans.html" title="Chapter&nbsp;3.&nbsp;IoC(&#25511;&#21046;&#21453;&#36716;)&#23481;&#22120;">Chapter&nbsp;3, <i>IoC(&#25511;&#21046;&#21453;&#36716;)&#23481;&#22120;</i></a>&#20013;&#30340;<a href="beans.html#beans-factory-scopes" title="3.4.&nbsp;Bean&#30340;&#20316;&#29992;&#22495;">Section&nbsp;3.4, &#8220;Bean&#30340;&#20316;&#29992;&#22495;&#8221;</a>&#31456;&#33410;&#35814;&#32454;&#35752;&#35770;&#20102;Spring&#26694;&#26550;&#25903;&#25345;&#30340;&#20316;&#29992;&#22495;&#12290;
			</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dynamic-language-resources"></a>24.6.&nbsp;&#26356;&#22810;&#30340;&#36164;&#28304;</h2></div></div><div></div></div><p>&#19979;&#38754;&#30340;&#38142;&#25509;&#32473;&#20986;&#20102;&#21644;&#26412;&#31456;&#25152;&#25551;&#36848;&#30340;&#21508;&#31181;&#21160;&#24577;&#35821;&#35328;&#26377;&#20851;&#30340;&#21487;&#36827;&#19968;&#27493;&#21442;&#32771;&#30340;&#36164;&#28304;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><a href="http://jruby.sourceforge.net/" target="_top">JRuby</a> &#20027;&#39029;</p></li><li><p><a href="http://groovy.codehaus.org/" target="_top">Groovy</a> &#20027;&#39029;</p></li><li><p><a href="http://www.beanshell.org/" target="_top">BeanShell</a> &#20027;&#39029;</p></li></ul></div><p>
			Spring&#31038;&#21306;&#20013;&#19968;&#20123;&#27963;&#36291;&#20998;&#23376;&#24050;&#32463;&#28155;&#21152;&#20102;&#25968;&#37327;&#21487;&#35266;&#30340;&#21160;&#24577;&#35821;&#35328;&#25903;&#25345;&#65292;&#21253;&#25324;&#26412;&#31456;&#28041;&#21450;&#21040;&#30340;&#20197;&#21450;&#20854;&#23427;&#30340;&#21160;&#24577;&#35821;&#35328;&#12290;&#27492;&#26102;&#27492;&#21051;&#31532;&#19977;&#26041;&#30340;&#36129;&#29486;&#20063;&#35768;&#24050;&#32463;&#28155;&#21152;&#21040;Spring&#20027;&#21457;&#24067;&#25152;&#25903;&#25345;&#30340;&#30340;&#35821;&#35328;&#21015;&#34920;&#20013;&#65292;&#19981;&#22952;&#30475;&#30475;&#26159;&#21542;&#33021;&#22312;<a href="https://springmodules.dev.java.net/" target="_top">Spring Modules project</a>&#25214;&#21040;&#20320;&#38047;&#29233;&#30340;&#33050;&#26412;&#35821;&#35328;&#12290;
		    </p></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="scheduling.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="metadata.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;23.&nbsp;Spring&#20013;&#30340;&#23450;&#26102;&#35843;&#24230;(Scheduling)&#21644;&#32447;&#31243;&#27744;(Thread Pooling)&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.springsource.com/" title="SpringSource">Sponsored by SpringSource</a></span></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;25.&nbsp;&#27880;&#35299;&#21644;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#25903;&#25345;</td></tr></table></div></body></html>