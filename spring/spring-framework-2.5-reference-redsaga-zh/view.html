<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;14.&nbsp;&#38598;&#25104;&#35270;&#22270;&#25216;&#26415;</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Spring Framework &#24320;&#21457;&#21442;&#32771;&#25163;&#20876;"><link rel="up" href="spring-web.html" title="Part&nbsp;III.&nbsp;The Web"><link rel="previous" href="mvc.html" title="Chapter&nbsp;13.&nbsp;Web MVC framework Web&#26694;&#26550;"><link rel="next" href="webintegration.html" title="Chapter&nbsp;15.&nbsp;&#38598;&#25104;&#20854;&#23427;Web&#26694;&#26550;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.springframework.org/" title="The Spring Framework"><img style="border:none;" src="images/xdev-spring_logo.jpg"></a><a style="border:none;" href="http://www.springsource.com/" title="SpringSource"><img style="border:none;position:absolute;padding-top:5px;right:42px;" src="images/springsource-banner-rhs.png"></a></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="view"></a>Chapter&nbsp;14.&nbsp;&#38598;&#25104;&#35270;&#22270;&#25216;&#26415;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="view-introduction"></a>14.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>
			Spring&#30340;&#19968;&#20010;&#20248;&#31168;&#20043;&#22788;&#22312;&#20110;&#65292;&#25226;view&#23618;&#25216;&#26415;&#19982;MVC&#26694;&#26550;&#30340;&#20854;&#20182;&#37096;&#20998;&#20998;&#31163;&#24320;&#26469;&#12290;
			&#20363;&#22914;&#65292;&#36873;&#25321;&#20351;&#29992;Velocity&#25110;&#32773;XSLT&#26469;&#20195;&#26367;&#24050;&#26377;&#30340;JSP&#26041;&#24335;&#21482;&#38656;&#35201;&#20462;&#25913;&#37197;&#32622;&#23601;&#21487;&#20197;&#23454;&#29616;&#12290;
			&#26412;&#31456;&#28085;&#30422;&#20102;&#21644;Spring&#21327;&#21516;&#24037;&#20316;&#30340;&#20027;&#27969;view&#23618;&#25216;&#26415;&#24182;&#31616;&#35201;&#20171;&#32461;&#20102;&#22914;&#20309;&#22686;&#21152;&#26032;&#30340;&#26041;&#24335;&#12290; &#36825;&#37324;&#20551;&#35774;&#20320;&#24050;&#32463;&#29087;&#24713;
			<a href="mvc.html#mvc-viewresolver" title="13.5.&nbsp;&#35270;&#22270;&#19982;&#35270;&#22270;&#35299;&#26512;">Section&nbsp;13.5, &#8220;&#35270;&#22270;&#19982;&#35270;&#22270;&#35299;&#26512;&#8221;</a>
			&#20013;&#8220;mvc-view resolver&#8221;&#30340;&#30693;&#35782;&#65292;&#37027;&#37324;&#35762;&#36848;&#20102;view&#23618;&#19982;MVC&#26694;&#26550;&#21327;&#20316;&#30340;&#22522;&#30784;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="view-jsp"></a>14.2.&nbsp;JSP&#21644;JSTL</h2></div></div><div></div></div><p>
			Spring&#20026;JSP&#21644;JSTL&#36825;&#20123;view&#23618;&#25216;&#26415;&#25552;&#20379;&#20102;&#20960;&#20010;&#21363;&#21462;&#21363;&#29992;&#30340;&#35299;&#20915;&#26041;&#26696;&#12290; &#20351;&#29992;JSP&#21644;JSTL&#30340;&#35805;&#65292;&#37319;&#29992;
			<tt class="interfacename">WebApplicationContext</tt>
			&#20013;&#23450;&#20041;&#30340;&#26222;&#36890;&#35270;&#22270;&#35299;&#26512;&#22120;&#21363;&#21487;&#65307;&#24403;&#28982;&#65292;&#36824;&#38656;&#35201;&#33258;&#34892;&#32534;&#20889;&#19968;&#20123;&#23454;&#38469;&#20570;&#28210;&#26579;&#30340;JSP&#39029;&#38754;&#12290;
			&#26412;&#31456;&#20171;&#32461;&#20102;&#19968;&#20123;Spring&#25552;&#20379;&#30340;&#29992;&#20110;&#31616;&#21270;JSP&#24320;&#21457;&#30340;&#39069;&#22806;&#29305;&#24615;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-jsp-resolver"></a>14.2.1.&nbsp;&#35270;&#22270;&#35299;&#26512;&#22120;</h3></div></div><div></div></div><p>
				&#19982;&#22312;Spring&#20013;&#37319;&#29992;&#30340;&#20219;&#20309;&#20854;&#20182;&#35270;&#22270;&#25216;&#26415;&#19968;&#26679;&#65292;&#20351;&#29992;JSP&#26041;&#24335;&#38656;&#35201;&#19968;&#20010;&#29992;&#26469;&#35299;&#26512;&#35270;&#22270;&#30340;&#35270;&#22270;&#35299;&#26512;&#22120;&#65292;
				&#24120;&#29992;&#30340;&#26159;&#22312;<tt class="interfacename">WebApplicationContext</tt>
				&#20013;&#23450;&#20041;&#30340;<tt class="classname">InternalResourceViewResolver</tt>&#21644;
				<tt class="classname">ResourceBundleViewResolver</tt>&#12290;
			</p><pre class="programlisting">
				<i class="lineannotation"><span class="lineannotation">
					&lt;!-- the
					<tt class="classname">ResourceBundleViewResolver</tt>
					--&gt;
				</span></i>
				
&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.ResourceBundleViewResolver"&gt;
  &lt;property name="basename" value="views"/&gt;
&lt;/bean&gt;

<i class="lineannotation"><span class="lineannotation">
					# And a sample properties file is uses
					(views.properties in WEB-INF/classes):
</span></i>
				
welcome.class=org.springframework.web.servlet.view.JstlView
welcome.url=/WEB-INF/jsp/welcome.jsp

productList.class=org.springframework.web.servlet.view.JstlView
productList.url=/WEB-INF/jsp/productlist.jsp</pre><p>
				&#27491;&#22914;&#20320;&#25152;&#30475;&#21040;&#30340;&#65292;<tt class="classname">ResourceBundleViewResolver</tt>
				&#38656;&#35201;&#19968;&#20010;&#23646;&#24615;&#25991;&#20214;&#26469;&#23450;&#20041;view&#21517;&#31216;&#21040;1) class 2) URL&#30340;&#26144;&#23556;&#12290;&#20351;&#29992;
				<tt class="classname">ResourceBundleViewResolver</tt>&#65292;&#21487;&#20197;&#21482;&#20351;&#29992;&#19968;&#20010;&#35299;&#26512;&#22120;&#26469;&#28151;&#29992;&#19981;&#21516;&#31867;&#22411;&#30340;&#35270;&#22270;&#25216;&#26415;&#12290;
			</p><pre class="programlisting">&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
  &lt;property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/&gt;
  &lt;property name="prefix" value="/WEB-INF/jsp/"/&gt;
  &lt;property name="suffix" value=".jsp"/&gt;
&lt;/bean&gt;</pre><p>
				&#22914;&#19978;&#20363;&#25152;&#31034;&#65292; &#29992;JSP&#26102;&#21487;&#20197;&#37197;&#32622;&#19968;&#20010;
				<tt class="classname">
					InternalResourceBundleViewResolver
				</tt>&#12290; &#20316;&#20026;&#19968;&#20010;&#26368;&#20339;&#23454;&#36341;&#65292;&#25105;&#20204;&#24378;&#28872;&#25512;&#33616;&#20320;&#29992;
				<tt class="filename">WEB-INF</tt>&#19979;&#30340;&#19968;&#20010;&#30446;&#24405;&#26469;&#23384;&#25918;JSP&#25991;&#20214;&#65292;&#20174;&#32780;&#36991;&#20813;&#34987;&#23458;&#25143;&#31471;&#30452;&#25509;&#35775;&#38382;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-jsp-jstl"></a>14.2.2.&nbsp;
				'Plain-old' JSPs versus JSTL 'Plain-old' JSP&#19982;JSTL
			</h3></div></div><div></div></div><p>
				&#20351;&#29992;JSTL&#26102;&#65292;&#24517;&#39035;&#20351;&#29992;&#19968;&#20010;&#29305;&#21035;&#30340;view&#31867;<tt class="classname">JstlView</tt>
				&#65292;&#22240;&#20026;JSTL&#38656;&#35201;&#19968;&#20123;&#20934;&#22791;&#24037;&#20316;&#65292;&#28982;&#21518;&#20687;i18N&#36825;&#26679;&#30340;&#29305;&#24615;&#25165;&#33021;&#24037;&#20316;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-jsp-tags"></a>14.2.3.&nbsp;&#24110;&#21161;&#31616;&#21270;&#24320;&#21457;&#30340;&#39069;&#22806;&#30340;&#26631;&#31614;</h3></div></div><div></div></div><p>
				&#21069;&#38754;&#30340;&#31456;&#33410;&#20013;&#25552;&#21040;&#36807;&#65292;Spring&#25552;&#20379;&#20102;&#20174;&#35831;&#27714;&#21442;&#25968;&#21040;&#21629;&#20196;&#23545;&#35937;&#30340;&#25968;&#25454;&#32465;&#23450;&#12290;&#20026;&#20102;&#31616;&#21270;&#19982;&#25968;&#25454;&#32465;&#23450;&#29305;&#24615;&#37197;&#21512;&#20351;&#29992;&#30340;JSP&#39029;&#38754;&#30340;&#24320;&#21457;&#65292;Spring&#25552;&#20379;&#20102;&#19968;&#20123;&#26631;&#31614;&#35753;&#20107;&#24773;&#21464;&#24471;&#26356;&#31616;&#21333;&#12290;&#36825;&#20123;&#26631;&#31614;&#37117;&#25552;&#20379;&#20102;
				<span class="emphasis"><em>html escaping</em></span>&#30340;&#29305;&#24615;&#65292;&#33021;&#22815;&#25171;&#24320;&#25110;&#20851;&#38381;&#23383;&#31526;&#36716;&#30721;&#30340;&#21151;&#33021;&#12290;
			</p><p>
				<tt class="filename">spring.jar</tt>
				&#21253;&#21547;&#20102;&#26631;&#31614;&#24211;&#25551;&#36848;&#31526;(TLD)&#65292;&#23601;&#22909;&#20687;&#23427;&#33258;&#24049;&#30340;tag&#12290;&#20851;&#20110;&#27599;&#20010;tag&#30340;&#26356;&#22810;&#36164;&#26009;&#35831;&#21442;&#38405;&#38468;&#24405;<a href="spring.tld.html" title="Appendix&nbsp;D.&nbsp;spring.tld">Appendix&nbsp;D, <i>spring.tld</i></a>&#12290;
			</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="view-tiles"></a>14.3.&nbsp;Tiles</h2></div></div><div></div></div><p>
			&#22312;&#20351;&#29992;&#20102;Spring&#30340;web&#39033;&#30446;&#20013;&#65292;&#24456;&#21487;&#33021;&#20250;&#29992;&#21040;Tiles&#65293;&#65293;&#23601;&#20687;&#20219;&#20309;&#20854;&#23427;&#30340;web&#23618;&#25216;&#26415;&#12290;&#19979;&#38754;&#31616;&#35201;&#35762;&#36848;&#20102;&#22914;&#20309;&#20351;&#29992;&#12290;
		</p><p>
			<span class="emphasis"><em>&#27880;&#24847;&#65306;</em></span>
			&#36825;&#37096;&#20998;&#37325;&#28857;&#22312;&#20110;Spring&#20013;&#30340;
			<tt class="literal">
				org.springframework.web.servlet.view.tiles2
			</tt>
			&#21253;&#23545;Tiles 2&#65288;Tiles&#29420;&#31435;&#29256;&#26412;&#65292;&#35201;&#27714;Java 5+&#65289;&#30340;&#25903;&#25345;&#12290;&#22312;&#26368;&#21021;&#30340;
			<tt class="literal">
				org.springframework.web.servlet.view.tiles
			</tt>
			&#21253;&#20013;Spring&#21516;&#26679;&#32487;&#32493;&#25903;&#25345;Tiles 1.x&#65288;&#20063;&#21487;&#20197;&#21483;&#8220;Struts Tiles&#8221;&#65292;&#20316;&#20026;Struts 1.1+&#30340;&#25104;&#21592;&#65307;&#20860;&#23481; Java 1.4&#65289;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-tiles-dependencies"></a>14.3.1.&nbsp;&#38656;&#35201;&#30340;&#36164;&#28304;</h3></div></div><div></div></div><p>&#20351;&#29992;Tiles&#39033;&#30446;&#20013;&#24517;&#39035;&#24471;&#21253;&#21547;&#19968;&#20123;&#39069;&#22806;&#30340;&#36164;&#28304;&#65292;&#20197;&#19979;&#26159;&#20320;&#38656;&#35201;&#30340;&#36164;&#28304;&#21015;&#34920;&#65306;</p><p>
				</p><div class="itemizedlist"><ul type="disc" compact><li><p>
							<tt class="literal">Tiles version 2.0.4&#20197;&#21450;&#26356;&#39640;&#29256;&#26412;</tt>
						</p></li><li><p>
							<tt class="literal">Commons BeanUtils</tt>
						</p></li><li><p>
							<tt class="literal">Commons Digester</tt>
						</p></li><li><p>
							<tt class="literal">Commons Logging</tt>
						</p></li></ul></div><p>
			</p><p>&#36825;&#20123;&#36164;&#28304;&#20840;&#37096;&#21253;&#21547;&#20110;Spring&#30340;&#21457;&#34892;&#21253;&#20013;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-tiles-integrate"></a>14.3.2.&nbsp;&#22914;&#20309;&#38598;&#25104;Tiles</h3></div></div><div></div></div><p>
				&#20351;&#29992;Tiles&#65292;&#20320;&#24517;&#39035;&#20026;&#23427;&#37197;&#32622;&#19968;&#20123;&#21253;&#21547;&#20102;&#23450;&#20041;&#20449;&#24687;&#30340;&#25991;&#20214;&#65288;&#20851;&#20110;Tiles&#23450;&#20041;&#21644;&#20854;&#20182;&#27010;&#24565;&#30340;&#20449;&#24687;&#65292;&#21487;&#20197;&#21442;&#32771;
				<a href="http://tiles.apache.org" target="_top">http://tiles.apache.org</a>&#65289;&#12290;&#22312;Spring&#20013;&#65292;&#21487;&#20197;&#20351;&#29992;
				<tt class="classname">TilesConfigurer</tt>&#26469;&#23436;&#25104;&#36825;&#39033;&#24037;&#20316;&#12290;&#30475;&#30475;&#19979;&#38754;&#36825;&#20010;&#24212;&#29992;&#19978;&#19979;&#25991;&#37197;&#32622;&#30340;&#20363;&#23376;&#65306;
			</p><pre class="programlisting">&lt;bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles2.TilesConfigurer"&gt;
  &lt;property name="definitions"&gt;
    &lt;list&gt;
      &lt;value&gt;/WEB-INF/defs/general.xml&lt;/value&gt;
      &lt;value&gt;/WEB-INF/defs/widgets.xml&lt;/value&gt;
      &lt;value&gt;/WEB-INF/defs/administrator.xml&lt;/value&gt;
      &lt;value&gt;/WEB-INF/defs/customer.xml&lt;/value&gt;
      &lt;value&gt;/WEB-INF/defs/templates.xml&lt;/value&gt;
    &lt;/list&gt;
  &lt;/property&gt;
&lt;/bean&gt;</pre><p>
				&#27491;&#22914;&#20320;&#25152;&#30475;&#21040;&#30340;&#65292;&#26377;&#20116;&#20010;&#21253;&#21547;&#23450;&#20041;&#30340;&#25991;&#20214;&#65292;&#37117;&#25918;&#22312;
				<tt class="filename">'WEB-INF/defs'</tt>
				&#30446;&#24405;&#19979;&#12290;&#22312;<tt class="interfacename">WebApplicationContext</tt>
				&#21021;&#22987;&#21270;&#30340;&#38454;&#27573;&#65292;&#36825;&#20123;&#25991;&#20214;&#34987;&#21152;&#36733;&#65292;&#21516;&#26102;&#30001;
				<tt class="literal">factoryClass</tt>
				&#23646;&#24615;&#23450;&#20041;&#30340;&#24037;&#21378;&#31867;&#34987;&#21021;&#22987;&#21270;&#12290;&#28982;&#21518;&#65292;&#23450;&#20041;&#25991;&#20214;&#20013;&#30340;tiles&#21487;&#20197;&#20570;&#20026;views&#22312;Spring&#30340;web
				&#39033;&#30446;&#20013;&#20351;&#29992;&#12290;&#20026;&#20351;views&#27491;&#24120;&#24037;&#20316;&#65292;&#20320;&#24517;&#39035;&#26377;&#19968;&#20010;
				<tt class="interfacename">ViewResolver</tt>&#65292;&#23601;&#20687;&#20351;&#29992;spring&#25552;&#20379;&#30340;&#20219;&#20309;&#20854;&#23427;view&#23618;&#25216;&#26415;&#19968;&#26679;&#12290;&#23427;&#26377;&#20108;&#31181;&#36873;&#25321;&#65306;
				<tt class="classname">UrlBasedViewResolver</tt>&#21644;<tt class="classname">ResourceBundleViewResolver</tt>&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-tiles-url"></a>14.3.2.1.&nbsp;
					<tt class="classname">UrlBasedViewResolver</tt>&#31867;
				</h4></div></div><div></div></div><p>
					<tt class="classname">UrlBasedViewResolver</tt>
					&#20026;&#23427;&#35299;&#26512;&#30340;&#27599;&#20010;view&#23454;&#20363;&#21270;&#19968;&#20010;<tt class="literal">viewClass</tt>&#31867;&#30340;&#23454;&#20363;&#12290;
				</p><pre class="programlisting">&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver"&gt;
  &lt;property name="viewClass" value="org.springframework.web.servlet.view.tiles2.TilesView"/&gt;
&lt;/bean&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-tiles-resource"></a>14.3.2.2.&nbsp;
					<tt class="classname">ResourceBundleViewResolver</tt>&#31867;
				</h4></div></div><div></div></div><p>
					<tt class="classname">ResourceBundleViewResolver</tt>&#31867;
					&#38656;&#35201;&#19968;&#20010;&#23646;&#24615;&#25991;&#20214;&#65292;&#20854;&#20013;&#21253;&#21547;&#20102;&#23427;&#38656;&#35201;&#20351;&#29992;&#30340;&#35270;&#22270;&#21517;&#21644;&#35270;&#22270;&#31867;&#65306;
				</p><pre class="programlisting">&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.ResourceBundleViewResolver"&gt;
  &lt;property name="basename" value="views"/&gt;
&lt;/bean&gt;</pre><pre class="programlisting">...
welcomeView.class=org.springframework.web.servlet.view.tiles2.TilesView
welcomeView.url=welcome <i class="lineannotation"><span class="lineannotation">
						(this is the name of a Tiles definition)
</span></i>
					

vetsView.class=org.springframework.web.servlet.view.tiles2.TilesView
vetsView.url=vetsView <i class="lineannotation"><span class="lineannotation">
						(again, this is the name of a Tiles definition)
</span></i>
					

findOwnersForm.class=org.springframework.web.servlet.view.JstlView
findOwnersForm.url=/WEB-INF/jsp/findOwners.jsp
...</pre><p>
					&#27491;&#22914;&#20320;&#25152;&#30475;&#21040;&#30340;&#65292;&#20351;&#29992;<tt class="classname">ResourceBundleViewResolver</tt>&#31867;&#26102;&#65292;&#20320;&#21487;&#20197;&#28151;&#29992;&#19981;&#21516;&#30340;view&#23618;&#25216;&#26415;&#12290;
				</p></div><p>
				&#27880;&#24847;&#65292;Tiles 2&#30340;<tt class="classname">TilesView</tt>
				&#31867;&#25903;&#25345; JSTL&#65288;JSP&#26631;&#20934;&#26631;&#31614;&#24211;&#65289;&#30340;&#24320;&#31665;&#21363;&#29992;&#65292;&#21516;&#26102;&#65292;&#20026;&#25903;&#25345;Tiles 1.x&#65292;&#25552;&#20379;&#19968;&#20010;&#21333;&#29420;&#30340;<tt class="classname">TilesJstlView</tt>&#23376;&#31867;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-tiles-preparer"></a>14.3.2.3.&nbsp;
					<tt class="classname">SimpleSpringPreparerFactory</tt>
					&#21644;
					<tt class="classname">SpringBeanPreparerFactory</tt>
				</h4></div></div><div></div></div><p>
					&#20316;&#20026;&#19968;&#20010;&#39640;&#32423;&#30340;&#29305;&#24615;&#65292;Spring&#25903;&#25345;&#20004;&#20010;&#29305;&#23450;&#30340;Tiles 2<tt class="interfacename">PreparerFactory</tt>&#23454;&#29616;&#12290;&#22914;&#20309;Tiles&#23450;&#20041;&#25991;&#20214;&#20013;&#20351;&#29992;
					<tt class="interfacename">ViewPreparer</tt>&#24341;&#29992;&#65292;&#35814;&#32454;&#36164;&#26009;&#26597;&#30475;Tiles&#25991;&#26723;&#12290;
				</p><p>
					&#22522;&#20110;&#25351;&#23450;&#30340;preparer&#31867;&#65292;&#25351;&#23450;<tt class="classname">SimpleSpringPreparerFactory</tt>
					&#33258;&#21160;&#35013;&#37197; ViewPreparer &#23454;&#20307;&#65292;&#19981;&#20294;&#24212;&#29992; Spring&#30340;&#23481;&#22120;&#22238;&#35843;&#32780;&#19988;&#24212;&#29992;&#37197;&#32622;Spring BeanPostProcessors&#12290;&#20551;&#22914;Spring&#30340;&#19978;&#19979;&#25991;&#33539;&#22260;
					annotation-config &#24050;&#32463;&#34987;&#28608;&#27963;&#65292;ViewPreparer &#31867;&#20013;&#30340;&#27880;&#35299;&#23558;&#34987;&#33258;&#21160;&#26816;&#27979;&#21040;&#21450;&#24212;&#29992;&#12290;&#27880;&#24847;&#65292;&#22312; Tiles &#23450;&#20041;&#25991;&#20214;&#20013;&#39044;&#35745;&#30340;preparer
					<span class="emphasis"><em>classes</em></span>&#65292;&#23601;&#20687;&#40664;&#35748;<tt class="classname">PreparerFactory</tt>&#25152;&#20316;&#30340;&#19968;&#26679;&#12290;
				</p><p>
					&#25351;&#23450;<tt class="classname">SpringBeanPreparerFactory</tt>&#26469;&#25805;&#20316;&#25351;&#23450;preparer<span class="emphasis"><em>&#21517;&#31216;</em></span>&#65292;&#32780;&#19981;&#26159;&#31867;&#65292;&#20174;DispatcherServlet&#30340;&#24212;&#29992;&#19978;&#19979;&#25991;
					&#33719;&#21462;&#30456;&#24212;&#30340;Spring bean&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#23436;&#25972;&#30340; bean &#21019;&#24314;&#36807;&#31243;&#23558;&#22312;Spring&#24212;&#29992;&#19978;&#19979;&#25991;&#25511;&#21046;&#20013;&#65292;&#20801;&#35768;&#26126;&#30830;&#20351;&#29992;&#20381;&#36182;&#27880;&#20837;&#65292;&#33539;&#22260;bean&#31561;&#31561;&#12290;
					&#27880;&#24847;&#65292;&#38656;&#35201;&#23450;&#20041;&#20026;&#27599;&#19968;&#20010;preparer&#21517;&#31216;&#23450;&#20041;&#19968;&#20010;Spring bean&#65288;&#29992;&#20110;Tiles&#23450;&#20041;&#20013;&#65289;&#12290;
				</p><pre class="programlisting">&lt;bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles2.TilesConfigurer"&gt;
  &lt;property name="definitions"&gt;
    &lt;list&gt;
      &lt;value&gt;/WEB-INF/defs/general.xml&lt;/value&gt;
      &lt;value&gt;/WEB-INF/defs/widgets.xml&lt;/value&gt;
      &lt;value&gt;/WEB-INF/defs/administrator.xml&lt;/value&gt;
      &lt;value&gt;/WEB-INF/defs/customer.xml&lt;/value&gt;
      &lt;value&gt;/WEB-INF/defs/templates.xml&lt;/value&gt;
    &lt;/list&gt;
  &lt;/property&gt;

  <i class="lineannotation"><span class="lineannotation">
						&lt;!-- resolving preparer names as Spring bean
						definition names --&gt;
</span></i>
					
  &lt;property name="preparerFactoryClass"
       value="org.springframework.web.servlet.view.tiles2.SpringBeanPreparerFactory"/&gt;

&lt;/bean&gt;</pre></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="view-velocity"></a>14.4.&nbsp;Velocity&#21644;FreeMarker</h2></div></div><div></div></div><p>
			<a href="http://velocity.apache.org" target="_top">Velocity</a>
			&#21644;<a href="http://www.freemarker.org" target="_top">FreeMarker</a>
			&#26159;&#20004;&#31181;&#27169;&#26495;&#35821;&#35328;&#65292;&#37117;&#21487;&#20197;&#20570;&#20026;view&#23618;&#25216;&#26415;&#22312;Spring MVC &#24212;&#29992;&#20013;&#20351;&#29992;&#12290;
			&#23427;&#20204;&#30340;&#35821;&#35328;&#39118;&#26684;&#21644;&#36866;&#29992;&#23545;&#35937;&#37117;&#24456;&#30456;&#20284;&#65292;&#36825;&#37324;&#25226;&#23427;&#20204;&#25918;&#22312;&#19968;&#36215;&#35752;&#35770;&#12290;&#33267;&#20110;&#23427;&#20204;&#35821;&#20041;&#21644;&#35821;&#27861;&#19978;&#30340;&#19981;&#21516;&#65292;&#21487;&#20197;&#21442;&#32771;
			<a href="http://www.freemarker.org" target="_top">FreeMarker</a>&#31449;&#28857;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-velocity-dependencies"></a>14.4.1.&nbsp;&#38656;&#35201;&#30340;&#36164;&#28304;</h3></div></div><div></div></div><p>
				&#20351;&#29992;Velocity&#25110;FreeMarker&#38656;&#35201;&#21253;&#21547;
				<tt class="filename">
					velocity-1.x.x.jar
				</tt>
				&#25110;
				<tt class="filename">
					freemarker-2.x.jar
				</tt>
				&#12290;&#21478;&#22806;Velocity&#36824;&#38656;&#35201;
				<tt class="filename">
					commons-collections.jar
				</tt>
				&#12290;&#19968;&#33324;&#25226;&#36825;&#20123;jar&#21253;&#25918;&#22312;
				<tt class="literal">WEB-INF/lib</tt>
				&#19979;&#65292;&#36825;&#26679;&#21487;&#20197;&#20445;&#35777;J2EE Server&#25214;&#21040;&#23427;&#20204;&#24182;&#21152;&#21040;web&#24212;&#29992;&#30340;classpath&#19979;&#12290;&#36825;&#37324;&#21516;&#26679;&#20551;&#35774;&#20320;&#30340;
				<tt class="filename">'WEB-INF/lib'</tt>
				&#30446;&#24405;&#19979;&#24050;&#26377;
				<tt class="filename">spring.jar</tt>
				&#65281;Spring&#30340;&#21457;&#24067;&#21253;&#20013;&#24050;&#32463;&#25552;&#20379;&#20102;&#26368;&#26032;&#30340;&#31283;&#23450;&#29256;&#26412;&#30340;Velocity&#12289;FreeMarker&#21644;commons
				collections&#65292;&#21487;&#20197;&#20174;&#30456;&#24212;&#30340;
				<tt class="filename">/lib/</tt>
				&#23376;&#30446;&#24405;&#19979;&#24471;&#21040;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;Velocity&#20013;&#20351;&#29992;Spring&#30340;dateToolAttribute&#25110;numberToolAttribute&#65292;&#37027;&#20320;&#36824;&#38656;&#35201;
				<tt class="filename">
					velocity-tools-generic-1.x.jar
				</tt>
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-velocity-contextconfig"></a>14.4.2.&nbsp;Context &#37197;&#32622;</h3></div></div><div></div></div><p>
				&#36890;&#36807;&#22312;
				<tt class="filename">'*-servlet.xml'</tt>
				&#20013;&#22686;&#21152;&#30456;&#20851;&#30340;&#37197;&#32622;bean&#65292;&#21487;&#20197;&#21021;&#22987;&#21270;&#30456;&#24212;&#30340;&#37197;&#32622;&#65292;&#22914;&#19979;&#65306;
			</p><pre class="programlisting">
				<i class="lineannotation"><span class="lineannotation">
					&lt;!--
					&#35813;bean&#20351;&#29992;&#19968;&#20010;&#23384;&#25918;&#27169;&#26495;&#25991;&#20214;&#30340;&#26681;&#36335;&#24452;&#26469;&#37197;&#32622;Velocity&#29615;&#22659;&#12290;&#20320;&#20063;&#21487;&#20197;&#36890;&#36807;&#25351;&#23450;&#19968;&#20010;&#23646;&#24615;&#25991;&#20214;&#26469;&#26356;&#31934;&#32454;&#22320;&#25511;&#21046;Velocity&#65292;&#20294;&#23545;&#22522;&#20110;&#25991;&#20214;&#30340;&#27169;&#26495;&#36733;&#20837;&#26469;&#35828;&#65292;&#40664;&#35748;&#30340;&#26041;&#24335;&#24050;&#30456;&#24403;&#20581;&#20840;
					--&gt;
				</span></i>
				
&lt;bean id="velocityConfig" class="org.springframework.web.servlet.view.velocity.VelocityConfigurer"&gt;
  &lt;property name="resourceLoaderPath" value="/WEB-INF/velocity/"/&gt;
&lt;/bean&gt;

<i class="lineannotation"><span class="lineannotation">
					&lt;!--
					&#20063;&#21487;&#20197;&#25226;ResourceBundle&#25110;XML&#25991;&#20214;&#37197;&#32622;&#21040;&#35270;&#22270;&#35299;&#26512;&#22120;&#20013;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#26681;&#25454;Locale&#26469;&#35299;&#26512;&#19981;&#21516;&#30340;&#35270;&#22270;&#65292;&#23601;&#38656;&#35201;&#20351;&#29992;resource bundle&#35299;&#26512;&#22120;&#12290;
					--&gt;
</span></i>
				
&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.velocity.VelocityViewResolver"&gt;
  &lt;property name="cache" value="true"/&gt;
  &lt;property name="prefix" value=""/&gt;
  &lt;property name="suffix" value=".vm"/&gt;
&lt;/bean&gt;</pre><pre class="programlisting">
				<i class="lineannotation"><span class="lineannotation">
					&lt;!-- freemarker config --&gt;
				</span></i>
				
&lt;bean id="freemarkerConfig" class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer"&gt;
  &lt;property name="templateLoaderPath" value="/WEB-INF/freemarker/"/&gt;
&lt;/bean&gt;

<i class="lineannotation"><span class="lineannotation">
					&lt;!--
					&#20063;&#21487;&#20197;&#25226;ResourceBundle&#25110;XML&#25991;&#20214;&#37197;&#32622;&#21040;&#35270;&#22270;&#35299;&#26512;&#22120;&#20013;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#26681;&#25454;Locale&#26469;&#35299;&#26512;&#19981;&#21516;&#30340;&#35270;&#22270;&#65292;&#23601;&#38656;&#35201;&#20351;&#29992;resource bundle&#35299;&#26512;&#22120;&#12290;
					--&gt;
</span></i>
				
&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver"&gt;
  &lt;property name="cache" value="true"/&gt;
  &lt;property name="prefix" value=""/&gt;
  &lt;property name="suffix" value=".ftl"/&gt;
&lt;/bean&gt;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="http://shouce.jb51.net/images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>
					&#23545;&#20110;&#38750;web&#24212;&#29992;&#65292;&#20320;&#38656;&#35201;&#22312;application context&#30340;&#37197;&#32622;&#25991;&#20214;&#20013;&#22768;&#26126;
					<tt class="classname">
						VelocityConfigurationFactoryBean
					</tt>&#25110;&#32773;
					<tt class="classname">
						FreeMarkerConfigurationFactoryBean
					</tt>

				</p></td></tr></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-velocity-createtemplates"></a>14.4.3.&nbsp;&#21019;&#24314;&#27169;&#26495;</h3></div></div><div></div></div><p>
				&#27169;&#26495;&#25991;&#20214;&#38656;&#35201;&#23384;&#25918;&#22312;&#37197;&#32622;<tt class="literal">*Configurer</tt>
				bean&#26102;&#25152;&#25351;&#23450;&#30340;&#30446;&#24405;&#19979;&#65292;&#23601;&#20687;&#19978;&#38754;&#30340;&#20363;&#23376;&#25152;&#31034;&#12290;
				&#36825;&#37324;&#19981;&#20934;&#22791;&#35814;&#32454;&#21465;&#36848;&#20351;&#29992;&#36825;&#20004;&#31181;&#35821;&#35328;&#21019;&#24314;&#27169;&#26495;&#30340;&#32454;&#33410;&#65292;&#20320;&#21487;&#20197;&#21442;&#32771;&#30456;&#24212;&#30340;&#31449;&#28857;&#33719;&#21462;&#37027;&#20123;&#20449;&#24687;&#12290;
				&#22914;&#26524;&#20320;&#29992;&#20102;&#25105;&#20204;&#25512;&#33616;&#30340;&#35270;&#22270;&#35299;&#26512;&#22120;&#65292;&#20320;&#20250;&#21457;&#29616;&#20174;&#36923;&#36753;&#35270;&#22270;&#21517;&#21040;&#30456;&#24212;&#27169;&#26495;&#25991;&#20214;&#30340;&#26144;&#23556;&#26041;&#24335;&#19982;&#20351;&#29992;
				<tt class="classname">InternalResourceViewResolver</tt>
				&#22788;&#29702;JSP&#26102;&#30340;&#26144;&#23556;&#26041;&#24335;&#31867;&#20284;&#12290;&#27604;&#22914;&#33509;&#20320;&#30340;&#25511;&#21046;&#22120;&#36820;&#22238;&#20102;ModelAndView&#23545;&#35937;&#65292;&#20854;&#20013;&#21253;&#21547;&#19968;&#20010;&#21483;&#20570;&#8220;welcome&#8221;&#30340;&#35270;&#22270;&#21517;&#65292;&#21017;&#35270;&#22270;&#35299;&#26512;&#22120;&#23558;&#35797;&#22270;&#26597;&#25214;
				<tt class="literal">/WEB-INF/freemarker/welcome.ftl</tt>
				&#25110;<tt class="literal">/WEB-INF/velocity/welcome.vm</tt>&#20316;&#20026;&#21512;&#36866;&#30340;&#27169;&#26495;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-velocity-advancedconfig"></a>14.4.4.&nbsp;&#39640;&#32423;&#37197;&#32622;</h3></div></div><div></div></div><p>
				&#20197;&#19978;&#30528;&#37325;&#20171;&#32461;&#30340;&#22522;&#26412;&#37197;&#32622;&#36866;&#21512;&#22823;&#37096;&#20998;&#24212;&#29992;&#38656;&#27714;&#65292;&#28982;&#32780;&#20173;&#28982;&#26377;&#19968;&#20123;&#19981;&#24120;&#35265;&#30340;&#25110;&#39640;&#32423;&#38656;&#27714;&#30340;&#24773;&#20917;&#65292;Spring&#25552;&#20379;&#20102;&#21478;&#22806;&#30340;&#37197;&#32622;&#36873;&#39033;&#26469;&#28385;&#36275;&#36825;&#31181;&#38656;&#27714;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-velocity-example-velocityproperties"></a>14.4.4.1.&nbsp;velocity.properties</h4></div></div><div></div></div><p>
					&#36825;&#20010;&#25991;&#20214;&#26159;&#21487;&#36873;&#30340;&#65292;&#19981;&#36807;&#19968;&#26086;&#25351;&#23450;&#65292;&#20854;&#25152;&#21253;&#21547;&#30340;&#20540;&#21363;&#24433;&#21709;Velocity&#36816;&#34892;&#26102;&#29366;&#24577;&#12290;&#21482;&#26377;&#24403;&#20320;&#35201;&#20570;&#19968;&#20123;&#39640;&#32423;&#37197;&#32622;&#26102;&#25165;&#38656;&#35201;&#36825;&#20010;&#25991;&#20214;&#65292;&#36825;&#26102;&#20320;&#21487;&#20197;&#22312;&#19978;&#38754;&#23450;&#20041;&#30340;
					<tt class="literal">VelocityConfigurer</tt>&#20013;&#25351;&#23450;&#23427;&#30340;&#20301;&#32622;&#12290;
				</p><pre class="programlisting">
					&lt;bean id="velocityConfig"
					class="org.springframework.web.servlet.view.velocity.VelocityConfigurer"&gt;
					&lt;property name="configLocation
					value="/WEB-INF/velocity.properties"/&gt;
					&lt;/bean&gt;
				</pre><p>
					&#21478;&#19968;&#31181;&#26041;&#27861;&#65292;&#20320;&#21487;&#20197;&#30452;&#25509;&#22312;Velocity config bean&#30340;&#23450;&#20041;&#20013;&#25351;&#23450;velocity&#23646;&#24615;&#65292;&#26469;&#21462;&#20195;&#8220;configLocation&#8221;&#23646;&#24615;&#12290;
				</p><pre class="programlisting">&lt;bean id="velocityConfig" class="org.springframework.web.servlet.view.velocity.VelocityConfigurer"&gt;
  &lt;property name="velocityProperties"&gt;
    &lt;props&gt;
      &lt;prop key="resource.loader"&gt;file&lt;/prop&gt;
      &lt;prop key="file.resource.loader.class"&gt;
        org.apache.velocity.runtime.resource.loader.FileResourceLoader
      &lt;/prop&gt;
      &lt;prop key="file.resource.loader.path"&gt;${webapp.root}/WEB-INF/velocity&lt;/prop&gt;
      &lt;prop key="file.resource.loader.cache"&gt;false&lt;/prop&gt;
    &lt;/props&gt;
  &lt;/property&gt;
&lt;/bean&gt;</pre><p>
					&#20851;&#20110;Spring&#20013;Velocity&#30340;&#37197;&#32622;&#35831;&#21442;&#32771;
					<a href="http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/ui/velocity/VelocityEngineFactory.html" target="_top">
						API&#25991;&#26723;</a>&#25110;&#32773;&#21442;&#32771;Velocity&#33258;&#36523;&#25991;&#26723;&#20013;&#30340;&#20363;&#23376;&#21644;&#23450;&#20041;&#26469;&#20102;&#35299;&#22914;&#20309;&#37197;&#32622;
					<tt class="filename">'velocity.properties'</tt>&#25991;&#20214;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="views-freemarker"></a>14.4.4.2.&nbsp;FreeMarker</h4></div></div><div></div></div><p>
					FreeMarker&#30340;'Settings'&#21644;'SharedVariables'&#37197;&#32622;&#21487;&#20197;&#36890;&#36807;&#30452;&#25509;&#35774;&#32622;
					<tt class="literal">FreeMarkerConfigurer</tt>
					&#30340;&#30456;&#24212;&#23646;&#24615;&#26469;&#20256;&#36882;&#32473;Spring&#31649;&#29702;&#30340;FreeMarker
					<tt class="literal">Configuration</tt>&#23545;&#35937;&#65292;&#20854;&#20013;
					<tt class="literal">freemarkerSettings</tt>
					&#23646;&#24615;&#38656;&#35201;&#19968;&#20010;<tt class="literal">java.util.Properties</tt>&#31867;&#22411;&#23545;&#35937;&#65292;
					<tt class="literal">freemarkerVariables</tt>&#38656;&#35201;&#19968;&#20010;
					<tt class="literal">java.util.Map</tt>&#31867;&#22411;&#23545;&#35937;&#12290;
				</p><pre class="programlisting">&lt;bean id="freemarkerConfig" class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer"&gt;
  &lt;property name="templateLoaderPath" value="/WEB-INF/freemarker/"/&gt;
  &lt;property name="freemarkerVariables"&gt;
    &lt;map&gt;
      &lt;entry key="xml_escape" value-ref="fmXmlEscape"/&gt;
    &lt;/map&gt;
  &lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="fmXmlEscape" class="freemarker.template.utility.XmlEscape"/&gt;</pre><p>
					&#20851;&#20110;settings&#21644;variables&#22914;&#20309;&#24433;&#21709;
					<tt class="classname">Configuration</tt>
					&#23545;&#35937;&#30340;&#32454;&#33410;&#20449;&#24687;&#65292;&#35831;&#21442;&#32771;FreeMarker&#30340;&#25991;&#26723;&#12290;
				</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-velocity-forms"></a>14.4.5.&nbsp;&#32465;&#23450;&#25903;&#25345;&#21644;&#34920;&#21333;&#22788;&#29702;</h3></div></div><div></div></div><p>
				Spring&#25552;&#20379;&#20102;&#19968;&#20010;&#22312;JSP&#20013;&#20351;&#29992;&#30340;&#26631;&#31614;&#24211;&#65292;&#20854;&#20013;&#21253;&#21547;&#19968;&#20010;
				<tt class="literal">&lt;spring:bind/&gt;</tt>
				&#26631;&#31614;&#65292;&#23427;&#20027;&#35201;&#29992;&#26469;&#22312;&#34920;&#21333;&#20013;&#26174;&#31034;&#25903;&#25345;&#23545;&#35937;&#65288;&#35793;&#32773;&#27880;&#65306;&#21363;&#34920;&#21333;&#25968;&#25454;&#20256;&#36755;&#23545;&#35937;&#65289;&#30340;&#25968;&#25454;&#65292;&#24182;&#22312;&#19968;&#20010;
				<tt class="literal">Validator</tt>
				&#65288;&#24037;&#20316;&#22312;Web&#23618;&#25110;&#19994;&#21153;&#36923;&#36753;&#23618;&#65289;&#26657;&#39564;&#22833;&#36133;&#26102;&#26174;&#31034;&#22833;&#36133;&#20449;&#24687;&#12290;
				&#20174;1.1&#29256;&#26412;&#24320;&#22987;&#65292;Spring&#20026;Velocity&#21644;FreeMarker&#20063;&#25552;&#20379;&#20102;&#21516;&#26679;&#30340;&#21151;&#33021;&#65292;&#32780;&#19988;&#36824;&#21478;&#22806;&#25552;&#20379;&#20102;&#20415;&#20110;&#20351;&#29992;&#30340;&#23439;&#65292;&#29992;&#26469;&#29983;&#25104;&#34920;&#21333;&#36755;&#20837;&#20803;&#32032;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-bind-macros"></a>14.4.5.1.&nbsp;&#29992;&#20110;&#32465;&#23450;&#30340;&#23439;</h4></div></div><div></div></div><p>					
					<tt class="literal">spring.jar</tt>&#25991;&#20214;&#20026;&#36825;&#20004;&#31181;&#35821;&#35328;&#32500;&#25252;&#20102;&#19968;&#22871;&#26631;&#20934;&#23439;&#65292;&#23545;&#20110;&#27491;&#30830;&#37197;&#32622;&#30340;&#24212;&#29992;&#65292;&#23427;&#20204;&#24635;&#26159;&#21487;&#29992;&#30340;&#12290;
				</p><p>
					&#22312;Spring&#24211;&#20013;&#23450;&#20041;&#30340;&#19968;&#20123;&#23439;&#34987;&#35748;&#20026;&#26159;&#20869;&#37096;&#30340;&#65288;&#31169;&#26377;&#30340;&#65289;&#65292;&#20294;&#24403;&#23439;&#23450;&#20041;&#20013;&#19981;&#23384;&#22312;&#36825;&#26679;&#30340;&#33539;&#22260;&#30028;&#23450;&#26102;&#65292;
					&#20250;&#20351;&#24471;&#25152;&#26377;&#30340;&#23439;&#22343;&#26159;&#21487;&#35265;&#30340;&#65292;&#33021;&#22815;&#20219;&#24847;&#35843;&#29992;&#20195;&#30721;&#21644;&#29992;&#25143;&#27169;&#26495;&#12290;&#19979;&#38754;&#30340;&#19968;&#33410;&#23558;&#38598;&#20013;&#35752;&#35770;&#27169;&#26495;&#20013;&#21487;&#20197;&#30452;&#25509;&#35843;&#29992;&#30340;&#23439;&#12290;
					&#22914;&#26524;&#24076;&#26395;&#30452;&#25509;&#26597;&#30475;&#23439;&#30340;&#20195;&#30721;&#65292;&#23427;&#20204;&#20998;&#21035;&#26159;<tt class="literal">
						org.springframework.web.servlet.view.velocity
					</tt>&#21253;&#20013;&#30340;spring.vm&#25991;&#20214;&#21644;
					<tt class="literal">
						org.springframework.web.servlet.view.freemarker
					</tt>&#21253;&#20013;&#30340;spring.ftl&#25991;&#20214;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-simple-binding"></a>14.4.5.2.&nbsp;&#31616;&#21333;&#32465;&#23450;</h4></div></div><div></div></div><p>
					&#22312;&#25198;&#28436;Spring&#34920;&#21333;&#25511;&#21046;&#22120;&#23545;&#24212;&#35270;&#22270;&#30340;html&#34920;&#21333;&#65288;&#25110;vm/ftl&#27169;&#26495;&#65289;&#37324;&#65292;
					&#20320;&#21487;&#20197;&#27169;&#20223;&#19979;&#38754;&#30340;&#20195;&#30721;&#26469;&#32465;&#23450;&#34920;&#21333;&#25968;&#25454;&#24182;&#26174;&#31034;&#38169;&#35823;&#20449;&#24687;&#65288;&#21644;JSP&#30340;&#24418;&#24335;&#38750;&#24120;&#30456;&#20284;&#65289;&#12290;
					&#27880;&#24847;&#40664;&#35748;&#24773;&#20917;&#19979;&#21629;&#20196;&#23545;&#35937;&#30340;&#21517;&#23383;&#26159;&#8220;command&#8221;&#65292;&#20320;&#21487;&#20197;&#22312;&#37197;&#32622;&#33258;&#24049;&#30340;&#34920;&#21333;&#25511;&#21046;&#22120;&#26102;&#36890;&#36807;&#35774;&#32622;'commandName'&#23646;&#24615;&#26469;&#35206;&#30422;&#40664;&#35748;&#20540;&#12290;
					&#20363;&#23376;&#20195;&#30721;&#22914;&#19979;&#65288;&#20854;&#20013;&#30340;<tt class="literal">personFormV</tt>
					&#21644;<tt class="literal">personFormF</tt>&#26159;&#21069;&#38754;&#23450;&#20041;&#30340;&#35270;&#22270;&#65289;&#65306;
				</p><pre class="programlisting">
					&lt;!-- velocity&#23439;&#33258;&#21160;&#21487;&#29992; --&gt; &lt;html&gt; ...
					&lt;form action="" method="POST"&gt; Name:
					#springBind( "command.name" ) &lt;input type="text"
					name="${status.expression}" value="$!status.value"
					/&gt;&lt;br&gt; #foreach($error in
					$status.errorMessages) &lt;b&gt;$error&lt;/b&gt;
					&lt;br&gt; #end &lt;br&gt; ... &lt;input
					type="submit" value="submit"/&gt; &lt;/form&gt; ...
					&lt;/html&gt;
				</pre><pre class="programlisting">
					&lt;!-- FreeMarker&#23439;&#24517;&#39035;&#23548;&#20837;&#21040;&#19968;&#20010;&#21517;&#31216;&#31354;&#38388;&#65292;&#36825;&#37324;&#25512;&#33616;&#20320;&#23450;&#20041;&#20026;'spring'&#31354;&#38388;
					--&gt; &lt;#import "spring.ftl" as spring /&gt;
					&lt;html&gt; ... &lt;form action=""
					method="POST"&gt; Name: &lt;@spring.bind
					"command.name" /&gt; &lt;input type="text"
					name="${spring.status.expression}"
					value="${spring.status.value?default("")}"
					/&gt;&lt;br&gt; &lt;#list
					spring.status.errorMessages as error&gt;
					&lt;b&gt;${error}&lt;/b&gt; &lt;br&gt;
					&lt;/#list&gt; &lt;br&gt; ... &lt;input
					type="submit" value="submit"/&gt; &lt;/form&gt; ...
					&lt;/html&gt;
				</pre><p>
					<tt class="literal">#springBind</tt>
					/
					<tt class="literal">&lt;@spring.bind&gt;</tt>
					&#38656;&#35201;&#19968;&#20010;'path'&#23646;&#24615;&#65292;&#26684;&#24335;&#20026;&#21629;&#20196;&#23545;&#35937;&#30340;&#21517;&#23383;&#65288;&#40664;&#35748;&#20540;&#20026;'command'&#65292;
					&#38500;&#38750;&#20320;&#22312;&#37197;&#32622;FormController&#30340;&#23646;&#24615;&#26102;&#25913;&#21464;&#23427;&#65289;&#21518;&#36319;&#22278;&#28857;&#20877;&#21152;&#19978;&#20320;&#24076;&#26395;&#32465;&#23450;&#21040;&#30340;&#21629;&#20196;&#23545;&#35937;&#30340;&#23646;&#24615;&#21517;&#12290;
					&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;&#31867;&#20284;&#8220;command.address.street&#8221;&#30340;&#26684;&#24335;&#26469;&#22788;&#29702;&#23884;&#22871;&#23545;&#35937;&#12290;&#20351;&#29992;
					<tt class="literal">bind</tt>&#23439;&#26102;&#65292;HTML&#36716;&#30721;&#34892;&#20026;&#30001;web.xml&#20013;&#21517;&#20026;
					<tt class="literal">defaultHtmlEscape</tt>&#30340;ServletContext&#21442;&#25968;&#25351;&#23450;&#12290;
				</p><p>
					&#19978;&#36848;&#23439;&#30340;&#21478;&#19968;&#31181;&#21487;&#36873;&#24418;&#24335;&#26159;
					<tt class="literal">#springBindEscaped</tt>
					/
					<tt class="literal">&lt;@spring.bindEscaped&gt;</tt>
					&#65292;&#23427;&#21478;&#22806;&#25509;&#21463;&#19968;&#20010;&#24067;&#23572;&#22411;&#21442;&#25968;&#65292;&#26174;&#24335;&#25351;&#23450;&#20102;&#36755;&#20986;&#20540;&#25110;&#38169;&#35823;&#20449;&#24687;&#36825;&#20123;&#29366;&#24577;&#20449;&#24687;&#26102;&#26159;&#21542;&#20351;&#29992;HTML&#36716;&#30721;&#12290;
					&#38468;&#21152;&#30340;&#34920;&#21333;&#22788;&#29702;&#23439;&#31616;&#21270;&#20102;HTML&#36716;&#30721;&#30340;&#20351;&#29992;&#65292;&#21482;&#35201;&#26377;&#21487;&#33021;&#65292;&#20320;&#23601;&#24212;&#35813;&#20351;&#29992;&#23427;&#20204;&#12290;&#20851;&#20110;&#23427;&#20204;&#30340;&#32454;&#33410;&#23558;&#22312;&#19979;&#33410;&#35762;&#36848;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="views-form-macros"></a>14.4.5.3.&nbsp;&#34920;&#21333;&#36755;&#20837;&#29983;&#25104;&#23439;</h4></div></div><div></div></div><p>
					&#20026;&#36825;&#20004;&#31181;&#35821;&#35328;&#38468;&#21152;&#30340;&#19968;&#20123;&#24456;&#26041;&#20415;&#30340;&#23439;&#21516;&#26102;&#31616;&#21270;&#20102;&#34920;&#21333;&#32465;&#23450;&#21644;&#34920;&#21333;&#29983;&#25104;&#65288;&#21253;&#25324;&#26174;&#31034;&#26657;&#39564;&#38169;&#35823;&#20449;&#24687;&#65289;&#12290;
					&#19981;&#38656;&#35201;&#20351;&#29992;&#36825;&#20123;&#23439;&#26469;&#29983;&#25104;&#34920;&#21333;&#36755;&#20837;&#22495;&#65292;&#23427;&#20204;&#21487;&#20197;&#34987;&#28151;&#26434;&#24182;&#21305;&#37197;&#21040;&#31616;&#21333;HTML&#65292;&#25110;&#32773;&#30452;&#25509;&#35843;&#29992;&#21069;&#38754;&#35762;&#36807;&#30340;spring&#32465;&#23450;&#23439;&#12290;
				</p><p>&#19979;&#34920;&#23637;&#31034;&#20102;&#21487;&#29992;&#30340;&#23439;&#30340;VTL&#23450;&#20041;&#21644;FTL&#23450;&#20041;&#65292;&#20197;&#21450;&#23427;&#20204;&#38656;&#35201;&#30340;&#21442;&#25968;&#12290;</p><div class="table"><a name="views-macros-defs-tbl"></a><p class="title"><b>Table&nbsp;14.1.&nbsp;&#23439;&#23450;&#20041;&#34920;</b></p><table summary="&#23439;&#23450;&#20041;&#34920;" border="1"><colgroup><col align="left"><col><col></colgroup><thead><tr><th align="center">macro</th><th align="center">
									VTL definition
								</th><th align="center">
									FTL definition
								</th></tr></thead><tbody><tr><td align="left"><span class="bold"><b>
										message
									</b></span>
									&#65288;&#36755;&#20986;&#19968;&#20010;&#26681;&#25454;code&#21442;&#25968;&#36873;&#25321;&#30340;&#36164;&#28304;&#32465;&#23450;&#23383;&#31526;&#20018;&#65289;
								</td><td><tt class="literal">
										#springMessage($code)
									</tt></td><td><tt class="literal">
										&lt;@spring.message code/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										messageText
									</b></span>
									&#65288;&#36755;&#20986;&#19968;&#20010;&#26681;&#25454;code&#21442;&#25968;&#36873;&#25321;&#30340;&#36164;&#28304;&#32465;&#23450;&#23383;&#31526;&#20018;&#65292;&#25214;&#19981;&#21040;&#30340;&#35805;&#36755;&#20986;default&#21442;&#25968;&#30340;&#20540;&#65289;
								</td><td><tt class="literal">
										#springMessageText($code $text)
									</tt></td><td><tt class="literal">
										&lt;@spring.messageText code,
										text/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>url</b></span>
									&#65288;&#22312;URL&#30456;&#23545;&#36335;&#24452;&#21069;&#38754;&#28155;&#21152;&#24212;&#29992;&#19978;&#19979;&#25991;&#26681;&#36335;&#24452;application context root&#65289;
								</td><td><tt class="literal">
										#springUrl($relativeUrl)
									</tt></td><td><tt class="literal">
										&lt;@spring.url relativeUrl/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										formInput
									</b></span>
									&#65288;&#26631;&#20934;&#34920;&#21333;&#36755;&#20837;&#22495;&#65289;
								</td><td><tt class="literal">
										#springFormInput($path
										$attributes)
									</tt></td><td><tt class="literal">
										&lt;@spring.formInput path,
										attributes, fieldType/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										formHiddenInput *
									</b></span>
									&#65288;&#34920;&#21333;&#38544;&#34255;&#36755;&#20837;&#22495;&#65289;
								</td><td><tt class="literal">
										#springFormHiddenInput($path
										$attributes)
									</tt></td><td><tt class="literal">
										&lt;@spring.formHiddenInput
										path, attributes/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										formPasswordInput
									</b></span>
									*&#65288;&#26631;&#20934;&#34920;&#21333;&#23494;&#30721;&#36755;&#20837;&#22495;&#65307;&#27880;&#24847;&#19981;&#20250;&#20026;&#36825;&#31181;&#31867;&#22411;&#30340;&#36755;&#20837;&#22495;&#35013;&#37197;&#25968;&#25454;&#65289;
								</td><td><tt class="literal">
										#springFormPasswordInput($path
										$attributes)
									</tt></td><td><tt class="literal">
										&lt;@spring.formPasswordInput
										path, attributes/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										formTextarea
									</b></span>
									&#65288;&#22823;&#22411;&#25991;&#26412;&#65288;&#33258;&#30001;&#26684;&#24335;&#65289;&#36755;&#20837;&#22495;&#65289;
								</td><td><tt class="literal">
										#springFormTextarea($path
										$attributes)
									</tt></td><td><tt class="literal">
										&lt;@spring.formTextarea path,
										attributes/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										formSingleSelect
									</b></span>
									&#65288;&#21333;&#36873;&#21015;&#34920;&#26694;&#65289;
								</td><td><tt class="literal">
										#springFormSingleSelect( $path
										$options $attributes)
									</tt></td><td><tt class="literal">
										&lt;@spring.formSingleSelect
										path, options, attributes/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										formMultiSelect
									</b></span>
									&#65288;&#22810;&#36873;&#21015;&#34920;&#26694;&#65289;
								</td><td><tt class="literal">
										#springFormMultiSelect($path
										$options $attributes)
									</tt></td><td><tt class="literal">
										&lt;@spring.formMultiSelect
										path, options, attributes/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										formRadioButtons
									</b></span>
									&#65288;&#21333;&#36873;&#26694;&#65289;
								</td><td><tt class="literal">
										#springFormRadioButtons($path
										$options $separator $attributes)
									</tt></td><td><tt class="literal">
										&lt;@spring.formRadioButtons
										path, options separator,
										attributes/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										formCheckboxes
									</b></span>
									&#65288;&#22797;&#36873;&#26694;&#65289;
								</td><td><tt class="literal">
										#springFormCheckboxes($path
										$options $separator $attributes)
									</tt></td><td><tt class="literal">
										&lt;@spring.formCheckboxes path,
										options, separator,
										attributes/&gt;
									</tt></td></tr><tr><td align="left"><span class="bold"><b>
										showErrors
									</b></span>
									&#65288;&#31616;&#21270;&#38024;&#23545;&#25152;&#32465;&#23450;&#36755;&#20837;&#22495;&#30340;&#26657;&#39564;&#38169;&#35823;&#20449;&#24687;&#36755;&#20986;&#65289;
								</td><td><tt class="literal">
										#springShowErrors($separator
										$classOrStyle)
									</tt></td><td><tt class="literal">
										&lt;@spring.showErrors
										separator, classOrStyle/&gt;
									</tt></td></tr></tbody></table></div><p>
					* &#22312;FTL&#65288;FreeMarker&#65289;&#20013;&#65292;&#36825;&#20108;&#31181;&#23439;&#23454;&#38469;&#19978;&#24182;&#19981;&#26159;&#24517;&#38656;&#30340;&#65292;&#22240;&#20026;&#20320;&#21487;&#20197;&#20351;&#29992;&#26222;&#36890;&#30340;
					<tt class="literal">formInput</tt>
					&#23439;&#65292;&#25351;&#23450;<tt class="literal">fieldType</tt>
					&#21442;&#25968;&#30340;&#20540;&#20026; '<tt class="literal">hidden</tt>
					' &#25110; '<tt class="literal">password</tt>'&#21363;&#21487; &#12290;
				</p><p>&#19978;&#38754;&#21015;&#20986;&#30340;&#25152;&#26377;&#23439;&#30340;&#21442;&#25968;&#37117;&#20855;&#26377;&#19968;&#33268;&#30340;&#21547;&#20041;&#65292;&#22914;&#19979;&#36848;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>path:&#24453;&#32465;&#23450;&#23646;&#24615;&#30340;&#21517;&#23383;&#65288;&#22914;&#65306;command.name&#65289;</p></li><li><p>
							&#36873;&#39033;&#65306;&#19968;&#20010;Map&#65292;&#20854;&#20013;&#20445;&#23384;&#20102;&#25152;&#26377;&#21487;&#20174;&#36755;&#20837;&#22495;&#20013;&#36873;&#25321;&#30340;&#20540;&#12290;map&#20013;&#30340;&#38190;&#20540;&#65288;keys&#65289;&#20195;&#34920;&#23558;&#20174;&#34920;&#21333;&#32465;&#23450;&#21040;&#21629;&#20196;&#23545;&#35937;&#28982;&#21518;&#25552;&#20132;&#21040;&#21518;&#21488;&#30340;&#23454;&#20540;&#65288;values&#65289;&#12290;&#23384;&#20648;&#22312;Map&#20013;&#30340;&#19982;&#30456;&#24212;&#38190;&#20540;&#23545;&#24212;&#30340;&#23545;&#35937;&#23601;&#26159;&#37027;&#20123;&#22312;&#34920;&#21333;&#19978;&#26174;&#31034;&#32473;&#29992;&#25143;&#30340;&#26631;&#31614;&#65292;&#23427;&#20204;&#21487;&#33021;&#19982;&#25552;&#20132;&#21040;&#21518;&#21488;&#30340;&#20540;&#19981;&#21516;&#12290;&#36890;&#24120;&#36825;&#26679;&#30340;map&#30001;&#25511;&#21046;&#22120;&#20197;&#24341;&#29992;&#25968;&#25454;&#30340;&#26041;&#24335;&#25552;&#20379;&#12290;&#20320;&#21487;&#20197;&#26681;&#25454;&#38656;&#27714;&#30340;&#34892;&#20026;&#36873;&#25321;&#19968;&#31181;Map&#23454;&#29616;&#12290;&#27604;&#22914;&#23545;&#39034;&#24207;&#35201;&#27714;&#20005;&#26684;&#26102;&#65292;&#21487;&#20351;&#29992;&#19968;&#20010;
							<tt class="literal">SortedMap</tt>
							&#65292;&#22914;&#19968;&#20010;<tt class="literal">TreeMap</tt>
							&#21152;&#19978;&#36866;&#24403;&#30340;Comparator&#65307;&#23545;&#35201;&#27714;&#25353;&#25554;&#20837;&#39034;&#24207;&#36820;&#22238;&#30340;&#24773;&#20917;&#65292;&#21487;&#20197;&#20351;&#29992;commons-collections&#25552;&#20379;&#30340;
							<tt class="literal">LinkedHashMap</tt>
							&#25110;<tt class="literal">LinkedMap</tt>&#12290;
						</p></li><li><p>
							&#20998;&#38548;&#31526;&#65306;&#24403;&#20351;&#29992;&#22810;&#36873;&#30340;&#26102;&#20505;&#65288;radio buttons &#25110;&#32773; checkboxes&#65289;&#65292;&#29992;&#20110;&#22312;&#21015;&#34920;&#20013;&#20998;&#38548;&#24444;&#27492;&#30340;&#23383;&#31526;&#24207;&#21015;&#65288;&#22914; "&lt;br&gt;"&#65289;&#12290;
						</p></li><li><p>
							&#23646;&#24615;&#65306;&#19968;&#20010;&#38468;&#21152;&#30340;&#20197;&#20219;&#24847;&#26631;&#31614;&#25110;&#25991;&#26412;&#26500;&#25104;&#30340;&#23383;&#31526;&#20018;&#65292;&#20986;&#29616;&#22312;HTML&#26631;&#31614;&#20869;&#12290;&#35813;&#23383;&#31526;&#20018;&#34987;&#23439;&#29031;&#21407;&#26679;&#36755;&#20986;&#12290;&#20363;&#22914;&#65306;&#22312;&#19968;&#20010;textarea&#26631;&#31614;&#20869;&#20320;&#21487;&#33021;&#20250;&#25552;&#20379;'rows="5"
							cols="60"'&#36825;&#26679;&#30340;&#23646;&#24615;&#65292;&#25110;&#32773;&#20320;&#20250;&#20256;&#36882;'style="border:1px solid silver"'&#36825;&#26679;&#30340;&#26679;&#24335;&#20449;&#24687;&#12290;
						</p></li><li><p>
							classOrStyle&#65306;&#20379;showErrors&#23439;&#29992;&#26469;&#20197;&#36825;&#31181;&#26679;&#24335;&#26174;&#31034;&#38169;&#35823;&#20449;&#24687;&#65292;&#20854;&#20013;&#38169;&#35823;&#20449;&#24687;&#23884;&#22871;&#20110;&#20351;&#29992;&#35813;CSS&#31867;&#21517;&#30340;span&#26631;&#31614;&#20869;&#12290;&#22914;&#26524;&#19981;&#25552;&#20379;&#25110;&#20869;&#23481;&#20026;&#31354;&#65292;&#21017;&#38169;&#35823;&#20449;&#24687;&#23884;&#22871;&#20110;&lt;b&gt;&lt;/b&gt;&#26631;&#31614;&#20869;&#12290;
						</p></li></ul></div><p>
					&#23439;&#30340;&#20363;&#23376;&#22312;&#19979;&#38754;&#25551;&#36848;&#65292;&#20854;&#20013;&#19968;&#20123;&#26159;FTL&#30340;&#65292;&#19968;&#20123;&#26159;VTL&#30340;&#12290;&#20004;&#31181;&#35821;&#35328;&#20043;&#38388;&#30340;&#29992;&#27861;&#24046;&#21035;&#22312;&#26049;&#27880;&#20013;&#35299;&#37322;&#12290;
				</p><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="d0e27293"></a>14.4.5.3.1.&nbsp;&#36755;&#20837;&#22495;</h5></div></div><div></div></div><p>
						</p><pre class="programlisting">
							&lt;!-- &#19978;&#38754;&#25552;&#21040;&#30340;Name&#22495;&#30340;&#20363;&#23376;&#65292;&#20351;&#29992;VTL&#20013;&#23450;&#20041;&#30340;&#34920;&#21333;&#23439; --&gt;
							... Name: #springFormInput("command.name"
							"")&lt;br&gt; #springShowErrors("&lt;br&gt;"
							"")&lt;br&gt;
						</pre><p>
					</p><p>
						formInput&#23439;&#25509;&#21463;&#19968;&#20010;path&#21442;&#25968;&#65288;command.name&#65289;&#21644;&#19968;&#20010;&#38468;&#21152;&#30340;&#23646;&#24615;&#21442;&#25968;&#65288;&#22312;&#19978;&#20363;&#20013;&#20026;&#31354;&#65289;&#12290;&#35813;&#23439;&#19982;&#25152;&#26377;&#20854;&#20182;&#34920;&#21333;&#29983;&#25104;&#23439;&#19968;&#26679;&#65292;&#23545;path&#21442;&#25968;&#20195;&#34920;&#30340;&#23646;&#24615;&#23454;&#26045;&#19968;&#31181;&#38544;&#24335;&#32465;&#23450;&#65292;&#36825;&#31181;&#32465;&#23450;&#20445;&#25345;&#26377;&#25928;&#29366;&#24577;&#30452;&#21040;&#19968;&#27425;&#26032;&#30340;&#32465;&#23450;&#24320;&#22987;&#65292;&#25152;&#20197;showErrors&#23439;&#19981;&#20877;&#38656;&#35201;&#20256;&#36882;path&#21442;&#25968;&#8212;&#8212;&#23427;&#31616;&#21333;&#22320;&#25805;&#20316;&#26368;&#36817;&#19968;&#27425;&#32465;&#23450;&#30340;&#23646;&#24615;&#65288;field&#65289;&#12290;
					</p><p>
						showErrors&#23439;&#25509;&#21463;&#20004;&#20010;&#21442;&#25968;&#65306;&#20998;&#38548;&#31526;&#65288;&#29992;&#20110;&#20998;&#38548;&#22810;&#26465;&#38169;&#35823;&#20449;&#24687;&#30340;&#23383;&#31526;&#20018;&#65289;&#21644;CSS&#31867;&#21517;&#25110;&#26679;&#24335;&#23646;&#24615;&#12290;&#27880;&#24847;&#22312;FreeMarker&#20013;&#21487;&#20197;&#20026;&#23646;&#24615;&#21442;&#25968;&#25351;&#23450;&#40664;&#35748;&#20540;&#65288;&#36825;&#28857;&#20799;Velocity&#20570;&#19981;&#21040;&#65289;&#12290;&#19978;&#38754;&#30340;&#20004;&#20010;&#23439;&#35843;&#29992;&#22312;FTL&#20013;&#21487;&#20197;&#36825;&#20040;&#34920;&#36798;&#65306;
					</p><pre class="programlisting">
						&lt;@spring.formInput "command.name"/&gt;
						&lt;@spring.showErrors "&lt;br&gt;"/&gt;
					</pre><p>
						&#19978;&#38754;&#23637;&#31034;&#30340;&#29992;&#20110;&#29983;&#25104;name&#34920;&#21333;&#36755;&#20837;&#22495;&#30340;&#20195;&#30721;&#29255;&#26029;&#20135;&#29983;&#30340;&#36755;&#20986;&#22914;&#19979;&#65292;&#21516;&#26102;&#36824;&#26174;&#31034;&#20102;&#36755;&#20837;&#20540;&#20026;&#31354;&#30340;&#24773;&#20917;&#19979;&#25552;&#20132;&#34920;&#21333;&#21518;&#20135;&#29983;&#30340;&#26657;&#39564;&#38169;&#35823;&#20449;&#24687;&#65288;&#26657;&#39564;&#36807;&#31243;&#30001;Spring&#30340;&#39564;&#35777;&#26694;&#26550;&#25552;&#20379;&#65289;&#12290;
					</p><p>&#29983;&#25104;&#30340;HTML&#22914;&#19979;&#65306;</p><pre class="programlisting">
						Name: &lt;input type="text" name="name" value=""
						&gt; &lt;br&gt; &lt;b&gt;required&lt;/b&gt;
						&lt;br&gt; &lt;br&gt;
					</pre><p>&#21442;&#25968;&#65288;&#23646;&#24615;&#65289;&#29992;&#26469;&#21521;textarea&#20256;&#36882;&#26679;&#24335;&#20449;&#24687;&#25110;&#34892;&#21015;&#25968;&#23646;&#24615;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="d0e27315"></a>14.4.5.3.2.&nbsp;&#36873;&#25321;&#36755;&#20837;&#22495;</h5></div></div><div></div></div><p>&#26377;&#22235;&#31181;&#29992;&#20110;&#22312;HTML&#34920;&#21333;&#20013;&#29983;&#25104;&#36890;&#29992;&#36873;&#25321;&#36755;&#20837;&#26694;&#30340;&#23439;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>formSingleSelect</p></li><li><p>formMultiSelect</p></li><li><p>formRadioButtons</p></li><li><p>formCheckboxes</p></li></ul></div><p>
						&#27599;&#20010;&#23439;&#37117;&#23558;&#25509;&#21463;&#19968;&#20010;&#30001;&#36873;&#39033;&#20540;&#21644;&#36873;&#39033;&#26631;&#31614;&#30340;&#38598;&#21512;&#26500;&#25104;&#30340;Map&#65292;&#20854;&#20013;&#36873;&#39033;&#20540;&#21644;&#20854;&#26631;&#31614;&#21487;&#20197;&#30456;&#21516;&#12290;
					</p><p>
						&#19979;&#38754;&#23637;&#31034;&#20102;&#19968;&#20010;&#22312;FTL&#20013;&#20351;&#29992;radio&#25353;&#38062;&#30340;&#20363;&#23376;&#12290;&#34920;&#21333;&#25903;&#25745;&#23545;&#35937;&#65288;form backing
						object&#65289;&#25552;&#20379;&#20102;&#19968;&#20010;&#40664;&#35748;&#20540;'London'&#65292;&#25152;&#20197;&#35813;&#22495;&#19981;&#38656;&#35201;&#26657;&#39564;&#12290;&#24403;&#28210;&#26579;&#34920;&#21333;&#26102;&#65292;&#25972;&#20010;&#24453;&#23637;&#29616;&#30340;&#22478;&#24066;&#21015;&#34920;&#30001;&#27169;&#22411;&#23545;&#35937;&#30340;'cityMap'&#23646;&#24615;&#20197;&#24341;&#29992;&#25968;&#25454;&#30340;&#26041;&#24335;&#25552;&#20379;&#12290;
					</p><pre class="programlisting">
						... Town: &lt;@spring.formRadioButtons
						"command.address.town", cityMap, ""
						/&gt;&lt;br&gt;&lt;br&gt;
					</pre><p>
						&#36825;&#23558;&#20135;&#29983;&#19968;&#34892;radio&#25353;&#38062;&#8212;&#8212;
						<tt class="literal">cityMap</tt>
						&#20013;&#19968;&#20010;&#20540;&#23545;&#24212;&#19968;&#20010;&#25353;&#38062;&#65292;&#24182;&#20197;""&#20998;&#38548;&#12290;&#27809;&#26377;&#39069;&#22806;&#30340;&#23646;&#24615;&#65292;&#22240;&#20026;&#23439;&#30340;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;&#19981;&#23384;&#22312;&#12290;cityMap&#20013;&#25152;&#26377;&#30340;key-value&#37117;&#20351;&#29992;String&#31867;&#22411;&#20540;&#12290;map&#20013;&#30340;key&#29992;&#20316;&#36755;&#20837;&#22495;&#30340;&#20540;&#65288;&#23558;&#34987;&#20316;&#20026;&#35831;&#27714;&#21442;&#25968;&#20540;&#25552;&#20132;&#21040;&#21518;&#21488;&#65289;&#65292;value&#29992;&#20316;&#26174;&#31034;&#32473;&#29992;&#25143;&#30340;&#26631;&#31614;&#12290;&#19978;&#36848;&#31034;&#20363;&#20013;&#65292;&#34920;&#21333;&#25903;&#25745;&#23545;&#35937;&#25552;&#20379;&#20102;&#19968;&#20010;&#40664;&#35748;&#20540;&#20197;&#21450;&#19977;&#20010;&#33879;&#21517;&#22478;&#24066;&#20316;&#20026;&#21487;&#36873;&#20540;&#65292;&#23427;&#20135;&#29983;&#30340;HTML&#20195;&#30721;&#22914;&#19979;&#65306;
					</p><pre class="programlisting">
						Town: &lt;input type="radio" name="address.town"
						value="London"&gt; London &lt;input type="radio"
						name="address.town" value="Paris"
						checked="checked"&gt; Paris &lt;input
						type="radio" name="address.town" value="New
						York"&gt; New York
					</pre><p>&#22914;&#26524;&#20320;&#24076;&#26395;&#22312;&#24212;&#29992;&#20013;&#25353;&#29031;&#20869;&#37096;&#20195;&#30721;&#26469;&#22788;&#29702;&#22478;&#24066;&#65292;&#20320;&#24471;&#20197;&#36866;&#24403;&#30340;&#38190;&#20540;&#21019;&#24314;map&#65292;&#22914;&#19979;&#65306;</p><pre class="programlisting">
						protected Map referenceData(HttpServletRequest
						request) throws Exception { Map cityMap = new
						LinkedHashMap(); cityMap.put("LDN", "London");
						cityMap.put("PRS", "Paris"); cityMap.put("NYC",
						"New York");

						Map m = new HashMap(); m.put("cityMap",
						cityMap); return m; }
					</pre><p>
						&#29616;&#22312;&#19978;&#36848;&#20195;&#30721;&#23558;&#20135;&#29983;&#20986;&#20197;&#30456;&#20851;&#20195;&#30721;&#20026;&#20540;&#30340;radio&#25353;&#38062;&#65292;&#21516;&#26102;&#20320;&#30340;&#29992;&#25143;&#20173;&#33021;&#30475;&#21040;&#23545;&#20182;&#20204;&#26174;&#31034;&#21451;&#22909;&#30340;&#22478;&#24066;&#21517;&#12290;
					</p><pre class="programlisting">
						Town: &lt;input type="radio" name="address.town"
						value="LDN"&gt; London &lt;input type="radio"
						name="address.town" value="PRS"
						checked="checked"&gt; Paris &lt;input
						type="radio" name="address.town" value="NYC"&gt;
						New York
					</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e27354"></a>14.4.5.4.&nbsp;&#37325;&#36733;HTML&#36716;&#30721;&#34892;&#20026;&#24182;&#20351;&#20320;&#30340;&#26631;&#31614;&#31526;&#21512;XHTML</h4></div></div><div></div></div><p>
					&#32570;&#30465;&#24773;&#20917;&#19979;&#20351;&#29992;&#19978;&#38754;&#36825;&#20123;&#23439;&#23558;&#20135;&#29983;&#31526;&#21512;HTML
					4.01&#26631;&#20934;&#30340;&#26631;&#31614;&#65292;&#24182;&#19988;Spring&#30340;&#32465;&#23450;&#25903;&#25345;&#20351;&#29992;web.xml&#20013;&#23450;&#20041;&#30340;HTML&#36716;&#30721;&#34892;&#20026;&#12290;&#20026;&#20102;&#20135;&#29983;&#31526;&#21512;XHTML&#26631;&#20934;&#30340;&#26631;&#31614;&#20197;&#21450;&#35206;&#30422;&#40664;&#35748;&#30340;HTML&#36716;&#30721;&#34892;&#20026;&#65292;&#20320;&#21487;&#20197;&#22312;&#20320;&#30340;&#27169;&#26495;&#65288;&#25110;&#32773;&#27169;&#26495;&#21487;&#35265;&#30340;&#27169;&#22411;&#23545;&#35937;&#65289;&#20013;&#25351;&#23450;&#20004;&#20010;&#21464;&#37327;&#12290;&#22312;&#27169;&#26495;&#20013;&#25351;&#23450;&#30340;&#22909;&#22788;&#26159;&#31245;&#21518;&#30340;&#27169;&#26495;&#22788;&#29702;&#20013;&#21487;&#20197;&#20026;&#34920;&#21333;&#20013;&#19981;&#21516;&#30340;&#22495;&#25351;&#23450;&#19981;&#21516;&#30340;&#34892;&#20026;&#12290;
				</p><p>
					&#35201;&#20999;&#25442;&#21040;&#31526;&#21512;XHTML&#30340;&#36755;&#20986;&#65292;&#20320;&#21487;&#20197;&#35774;&#32622;model/context&#21464;&#37327;xhtmlCompliant&#30340;&#20540;&#20026;true&#65306;
				</p><pre class="programlisting">
					## for Velocity.. #set($springXhtmlCompliant = true)

					&lt;#-- for FreeMarker --&gt; &lt;#assign
					xhtmlCompliant = true in spring&gt;
				</pre><p>&#22312;&#36827;&#34892;&#23436;&#36825;&#20123;&#22788;&#29702;&#20043;&#21518;&#65292;&#30001;Spring&#23439;&#20135;&#29983;&#30340;&#25152;&#26377;&#26631;&#31614;&#37117;&#31526;&#21512;XHTML&#26631;&#20934;&#20102;&#12290;</p><p>&#31867;&#20284;&#22320;&#65292;&#21487;&#20197;&#20026;&#27599;&#20010;&#36755;&#20837;&#22495;&#25351;&#23450;HTML&#36716;&#30721;&#34892;&#20026;&#65306;</p><pre class="programlisting">
					&lt;#-- &#35813;&#21477;&#35206;&#30422;&#40664;&#35748;HTML&#36716;&#30721;&#34892;&#20026; --&gt;

					&lt;#assign htmlEscape = true in spring&gt; &lt;#--
					next field will use HTML escaping --&gt;
					&lt;@spring.formInput "command.name" /&gt;

					&lt;#assign htmlEscape = false in spring&gt; &lt;#--
					all future fields will be bound with HTML escaping
					off --&gt;
				</pre></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="view-xslt"></a>14.5.&nbsp;XSLT</h2></div></div><div></div></div><p>
			XSLT&#26159;&#19968;&#31181;&#29992;&#20110;XML&#30340;&#36716;&#25442;&#35821;&#35328;&#65292;&#24182;&#20316;&#20026;&#19968;&#31181;&#22312;web&#24212;&#29992;&#20013;&#20351;&#29992;&#30340;view&#23618;&#25216;&#26415;&#24191;&#20026;&#20154;&#30693;&#12290;
			&#22914;&#26524;&#20320;&#30340;&#24212;&#29992;&#26412;&#26469;&#23601;&#35201;&#22788;&#29702;XML&#65292;&#25110;&#32773;&#27169;&#22411;&#25968;&#25454;&#21487;&#20197;&#24456;&#23481;&#26131;&#36716;&#21270;&#20026;XML&#65292;&#37027;&#20040;XSLT&#26159;&#19968;&#20010;&#24456;&#22909;&#30340;&#36873;&#25321;&#12290;
			&#19979;&#38754;&#30340;&#20869;&#23481;&#23637;&#31034;&#20102;&#22312;&#19968;&#20010;Spring MVC &#24212;&#29992;&#20013;&#22914;&#20309;&#29983;&#25104;XML&#26684;&#24335;&#30340;&#27169;&#22411;&#25968;&#25454;&#65292;&#24182;&#29992;XSLT&#36827;&#34892;&#36716;&#25442;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-xslt-firstwords"></a>14.5.1.&nbsp;&#20889;&#22312;&#27573;&#39318;</h3></div></div><div></div></div><p>
				&#36825;&#26159;&#19968;&#20010;&#24456;&#23567;&#30340;Spring&#24212;&#29992;&#30340;&#20363;&#23376;&#65292;&#23427;&#21482;&#26159;&#22312;
				<tt class="interfacename">Controller</tt>
				&#20013;&#21019;&#24314;&#19968;&#20010;&#35789;&#35821;&#21015;&#34920;&#65292;&#24182;&#23558;&#23427;&#20204;&#21152;&#33267;&#27169;&#22411;&#25968;&#25454;&#65288;model map&#65289;&#12290;&#27169;&#22411;&#25968;&#25454;&#21644;&#25105;&#20204;&#30340;XSLT&#35270;&#22270;&#21517;&#19968;&#21516;&#36820;&#22238;&#12290;
				&#35831;&#21442;&#32771;<a href="mvc.html#mvc-controller" title="13.3.&nbsp;&#25511;&#21046;&#22120;">Section&nbsp;13.3, &#8220;&#25511;&#21046;&#22120;&#8221;</a>
				&#20013;&#20851;&#20110;Spring MVC<tt class="interfacename">Controller</tt>
				&#25509;&#21475;&#30340;&#32454;&#33410;&#12290;XSLT&#35270;&#22270;&#25226;&#35789;&#35821;&#21015;&#34920;&#36716;&#21270;&#20026;&#19968;&#27573;&#31616;&#21333;XML&#65292;&#31561;&#24453;&#21518;&#32493;&#36716;&#25442;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-xslt-beandefs"></a>14.5.1.1.&nbsp;Bean &#23450;&#20041;</h4></div></div><div></div></div><p>
					&#36825;&#26159;&#19968;&#20010;&#31616;&#21333;&#30340;Spring&#24212;&#29992;&#30340;&#26631;&#20934;&#37197;&#32622;&#12290;dispatcher servlet&#37197;&#32622;&#25991;&#20214;&#21253;&#21547;&#19968;&#20010;&#25351;&#21521;
					<tt class="interfacename">ViewResolver</tt>&#30340;&#24341;&#29992;&#12289;URL&#26144;&#23556;&#21644;&#19968;&#20010;&#31616;&#21333;&#30340;&#23454;&#29616;&#20102;&#25105;&#20204;&#30340;&#35789;&#35821;&#29983;&#25104;&#36923;&#36753;&#30340;controller bean&#65306;
				</p><pre class="programlisting">&lt;bean id="homeController"class="xslt.HomeController"/&gt;</pre><p>&#23427;&#23454;&#29616;&#20102;&#25105;&#20204;&#30340;&#35789;&#35821;&#29983;&#25104;&#8220;&#36923;&#36753;&#8221;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-xslt-controllercode"></a>14.5.1.2.&nbsp;&#26631;&#20934;MVC&#25511;&#21046;&#22120;&#20195;&#30721;</h4></div></div><div></div></div><p>
					&#25511;&#21046;&#22120;&#36923;&#36753;&#23553;&#35013;&#22312;&#19968;&#20010;<tt class="classname">AbstractController</tt>&#30340;&#23376;&#31867;&#65292;&#23427;&#30340;handler&#26041;&#27861;&#23450;&#20041;&#22914;&#19979;&#65306;
				</p><pre class="programlisting">protected ModelAndView handleRequestInternal(
    HttpServletRequest request,
    HttpServletResponse response) throws Exception {
        
    Map map = new HashMap();
    List wordList = new ArrayList();
        
    wordList.add("hello");
    wordList.add("world");
       
    map.put("wordList", wordList);
      
    return new ModelAndView("home", map);
}</pre><p>
					&#21040;&#30446;&#21069;&#20026;&#27490;&#65292;&#25105;&#20204;&#36824;&#27809;&#26377;&#20570;&#20160;&#20040;&#29305;&#23450;&#20110;XSLT&#30340;&#20107;&#24773;&#12290;&#22312;&#20219;&#20309;&#19968;&#31181;Spring
					MVC&#24212;&#29992;&#20013;&#65292;&#27169;&#22411;&#25968;&#25454;&#37117;&#20197;&#21516;&#26679;&#30340;&#26041;&#24335;&#34987;&#21019;&#24314;&#12290;
					&#29616;&#22312;&#26681;&#25454;&#24212;&#29992;&#30340;&#37197;&#32622;&#65292;&#35789;&#35821;&#21015;&#34920;&#21487;&#20197;&#20316;&#20026;&#35831;&#27714;&#23646;&#24615;&#21152;&#20837;&#20174;&#32780;&#34987;JSP/JSTL&#28210;&#26579;&#65292;&#25110;&#32773;&#36890;&#36807;&#21152;&#20837;
					<tt class="classname">VelocityContext</tt>&#26469;&#34987;Velocity&#22788;&#29702;&#12290;
					&#20026;&#20102;&#20351;&#29992;XSLT&#28210;&#26579;&#23427;&#20204;&#65292;&#24212;&#35813;&#20197;&#26576;&#31181;&#26041;&#24335;&#25226;&#23427;&#20204;&#36716;&#21270;&#20026;XML&#25991;&#26723;&#12290;&#26377;&#20123;&#36719;&#20214;&#21253;&#33021;&#33258;&#21160;&#23436;&#25104;&#23545;&#35937;&#22270;&#21040;XML&#25991;&#26723;&#23545;&#35937;&#27169;&#22411;&#30340;&#36716;&#21270;&#12290;
					&#20294;&#22312;Spring&#20013;&#65292;&#20320;&#26377;&#23436;&#20840;&#30340;&#33258;&#30001;&#24230;&#65292;&#33021;&#20197;&#20219;&#20309;&#26041;&#24335;&#23436;&#25104;&#20174;&#27169;&#22411;&#25968;&#25454;&#21040;XML&#30340;&#36716;&#21270;&#12290;
					&#36825;&#21487;&#20197;&#38450;&#27490;XML&#36716;&#21270;&#37096;&#20998;&#22312;&#20320;&#30340;&#27169;&#22411;&#32467;&#26500;&#20013;&#21344;&#25454;&#22826;&#22823;&#30340;&#27604;&#37325;&#65292;&#20351;&#29992;&#39069;&#22806;&#24037;&#20855;&#26469;&#31649;&#29702;&#36716;&#21270;&#36807;&#31243;&#26159;&#19968;&#31181;&#39118;&#38505;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-xslt-subclassing"></a>14.5.1.3.&nbsp;&#25226;&#27169;&#22411;&#25968;&#25454;&#36716;&#21270;&#20026;XML</h4></div></div><div></div></div><p>
					&#20026;&#20102;&#20174;&#35789;&#35821;&#21015;&#34920;&#25110;&#20219;&#20309;&#20854;&#20182;&#27169;&#22411;&#25968;&#25454;&#21019;&#24314;XML&#25991;&#26723;&#65292;&#25105;&#20204;&#24517;&#39035;&#21019;&#24314;&#19968;&#20010;
					<tt class="classname">
						org.springframework.web.servlet.view.xslt.AbstractXsltView
					</tt>&#30340;&#23376;&#31867;&#65292; &#36890;&#24120;&#25105;&#20204;&#20063;&#24517;&#39035;&#23454;&#29616;&#25277;&#35937;&#26041;&#27861;
					<tt class="methodname">createXsltSource(..)</tt>s&#12290;&#20854;&#31532;&#19968;&#20010;&#21442;&#25968;&#21363;model Map&#12290; &#19979;&#38754;&#26159;&#25105;&#20204;&#36825;&#20010;&#23567;&#24212;&#29992;&#20013;
					<tt class="classname">HomePage</tt>&#31867;&#30340;&#23436;&#25972;&#20195;&#30721;:
				</p><pre class="programlisting">
package xslt;

<i class="lineannotation"><span class="lineannotation">// imports omitted for brevity</span></i>
					

public class HomePage extends AbstractXsltView {

    protected Source createXsltSource(Map model, String rootName, HttpServletRequest
        request, HttpServletResponse response) throws Exception {

        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
        Element root = document.createElement(rootName);

        List words = (List) model.get("wordList");
        for (Iterator it = words.iterator(); it.hasNext();) {
            String nextWord = (String) it.next();
            Element wordNode = document.createElement("word");
            Text textNode = document.createTextNode(nextWord);
            wordNode.appendChild(textNode);
            root.appendChild(wordNode);
        }
        return new DOMSource(root);
    }

}</pre><p>
					&#20320;&#21487;&#20197;&#22312;&#19978;&#36848;&#23376;&#31867;&#20013;&#23450;&#20041;&#19968;&#20123;&#20256;&#32473;&#36716;&#21270;&#23545;&#35937;&#30340;&#21442;&#25968;&#65292;&#23427;&#20204;&#30001;&#20581;&#20540;&#23545;&#65288;name/value pairs&#65289;&#26500;&#25104;&#65292;
					&#20854;&#20013;&#21442;&#25968;&#21517;&#24517;&#39035;&#19982;XSLT&#27169;&#26495;&#20013;&#23450;&#20041;&#30340;
					<tt class="literal">
						&lt;xsl:param
						name="myParam"&gt;defaultValue&lt;/xsl:param&gt;
					</tt>
					&#19968;&#33268;&#12290; &#20026;&#20102;&#25351;&#23450;&#36825;&#20123;&#21442;&#25968;&#65292;&#20320;&#38656;&#35201;&#35206;&#20889;&#32487;&#25215;&#33258;
					<tt class="classname">AbstractXsltView</tt>&#30340;<tt class="methodname">getParameters()</tt>
					&#26041;&#27861;&#24182;&#36820;&#22238;&#19968;&#20010;&#21253;&#21547;&#20581;&#20540;&#23545;&#30340;
					<tt class="interfacename">Map</tt>&#12290; &#22914;&#26524;&#20320;&#38656;&#35201;&#20174;&#24403;&#21069;&#35831;&#27714;&#20013;&#33719;&#21462;&#20449;&#24687;&#65292;&#20320;&#21487;&#20197;&#36873;&#25321;&#35206;&#20889;
					<tt class="methodname">
						getParameters(HttpServletRequest request)
					</tt>
					&#26041;&#27861;&#12290;&#65288;&#36825;&#20010;&#26041;&#27861;&#21482;&#26377;Spring 1.1&#20197;&#21518;&#30340;&#29256;&#26412;&#25165;&#25903;&#25345;&#12290;&#65289;
				</p><p>
					&#27604;&#36215;JSTL&#21644;Velocity&#65292;XSLT&#23545;&#26412;&#22320;&#36135;&#24065;&#21644;&#26085;&#26399;&#26684;&#24335;&#30340;&#25903;&#25345;&#30456;&#23545;&#36739;&#24369;&#12290;
					&#22522;&#20110;&#36825;&#28857;&#65292;Spring&#25552;&#20379;&#20102;&#19968;&#20010;&#36741;&#21161;&#31867;&#65292;&#20320;&#21487;&#20197;&#22312;
					<tt class="methodname">createXsltSource(..)</tt>
					&#26041;&#27861;&#20013;&#35843;&#29992;&#23427;&#26469;&#33719;&#24471;&#36825;&#26679;&#30340;&#25903;&#25345;&#12290; &#35831;&#21442;&#32771;
					<tt class="classname">
						org.springframework.web.servlet.view.xslt.FormatHelper
					</tt>&#31867;&#30340;Javadoc&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-xslt-viewdefinitions"></a>14.5.1.4.&nbsp;&#23450;&#20041;&#35270;&#22270;&#23646;&#24615;</h4></div></div><div></div></div><p>
					&#23545;&#20110;&#8220;&#20889;&#22312;&#27573;&#39318;&#8221;&#20013;&#30340;&#21482;&#26377;&#19968;&#20010;&#35270;&#22270;&#30340;&#24773;&#20917;&#26469;&#35828;&#65292;views.properties&#25991;&#20214;&#65288;&#25110;&#32773;&#31561;&#20215;&#30340;xml&#25991;&#20214;&#65292;&#22914;&#26524;&#20320;&#29992;&#19968;&#31181;&#22522;&#20110;XML&#30340;&#35270;&#22270;&#35299;&#26512;&#22120;&#30340;&#35805;&#65292;&#23601;&#20687;&#22312;&#19978;&#38754;&#30340;Velocity&#20363;&#23376;&#20013;&#65289;&#30475;&#36215;&#26469;&#26159;&#36825;&#26679;&#30340;&#65306;
				</p><pre class="programlisting">home.class=xslt.HomePage
home.stylesheetLocation=/WEB-INF/xsl/home.xslt
home.root=words</pre><p>
					&#36825;&#37324;&#20320;&#21487;&#20197;&#30475;&#21040;&#65292;&#31532;&#19968;&#20010;&#23646;&#24615;
					<tt class="literal">'.class'</tt>
					&#25351;&#23450;&#20102;&#35270;&#22270;&#31867;&#65292;&#21363;&#25105;&#20204;&#30340;<tt class="classname">HomePage</tt>
					&#65292;&#20854;&#20013;&#23436;&#25104;&#20174;&#27169;&#22411;&#25968;&#25454;&#21040;XML&#25991;&#26723;&#30340;&#36716;&#21270;&#12290; &#31532;&#20108;&#20010;&#23646;&#24615;
					<tt class="literal">'stylesheetLocation'</tt>
					&#25351;&#23450;&#20102;XSLT&#25991;&#20214;&#30340;&#20301;&#32622;&#65292;&#23427;&#29992;&#20110;&#23436;&#25104;&#20174;XML&#21040;HTML&#30340;&#36716;&#21270;&#12290; &#26368;&#21518;&#19968;&#20010;&#23646;&#24615;
					<tt class="literal">'.root'</tt>
					&#25351;&#23450;&#20102;&#29992;&#20316;XML&#25991;&#26723;&#26681;&#20803;&#32032;&#30340;&#21517;&#23383;&#65292;&#23427;&#34987;&#20316;&#20026;
					<tt class="methodname">createXsltSource(..)</tt>
					&#26041;&#27861;&#30340;&#31532;&#20108;&#20010;&#21442;&#25968;&#20256;&#32473;<tt class="classname">HomePage</tt>&#31867;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-xslt-transforming"></a>14.5.1.5.&nbsp;&#25991;&#26723;&#36716;&#25442;</h4></div></div><div></div></div><p>
					&#26368;&#21518;&#65292;&#25105;&#20204;&#26377;&#19968;&#27573;&#36716;&#25442;&#19978;&#36848;&#25991;&#26723;&#30340;XSLT&#20195;&#30721;&#12290; &#27491;&#22914;&#22312;
					<tt class="filename">'views.properties'</tt>&#20013;&#30475;&#21040;&#30340;&#65292;&#23427;&#34987;&#21629;&#21517;&#20026;
					<tt class="filename">'home.xslt'</tt>&#65292;&#23384;&#25918;&#22312;war&#25991;&#20214;&#20013;&#30340;
					<tt class="filename">'WEB-INF/xsl'</tt>&#30446;&#24405;&#19979;&#12290;
				</p><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;

    &lt;xsl:output method="html" omit-xml-declaration="yes"/&gt;

    &lt;xsl:template match="/"&gt;
        &lt;html&gt;
            &lt;head&gt;&lt;title&gt;Hello!&lt;/title&gt;&lt;/head&gt;
            &lt;body&gt;
                &lt;h1&gt;My First Words&lt;/h1&gt;
                &lt;xsl:apply-templates/&gt;
            &lt;/body&gt;
        &lt;/html&gt;
    &lt;/xsl:template&gt;

    &lt;xsl:template match="word"&gt;
        &lt;xsl:value-of select="."/&gt;&lt;br/&gt;
    &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-xslt-summary"></a>14.5.2.&nbsp;&#23567;&#32467;</h3></div></div><div></div></div><p>&#19979;&#38754;&#26159;&#19968;&#20010;&#31616;&#21270;&#30340;WAR&#30446;&#24405;&#32467;&#26500;&#65292;&#20854;&#20013;&#24635;&#32467;&#20102;&#19978;&#38754;&#25552;&#21040;&#30340;&#25991;&#20214;&#21644;&#23427;&#20204;&#22312;WAR&#20013;&#30340;&#20301;&#32622;&#65306;</p><pre class="programlisting">
				ProjectRoot | +- WebContent | +- WEB-INF | +- classes |
				| | +- xslt | | | | | +- HomePageController.class | | +-
				HomePage.class | | | +- views.properties | +- lib | | |
				+- spring.jar | +- xsl | | | +- home.xslt | +-
				frontcontroller-servlet.xml
			</pre><p>
				&#20320;&#35201;&#30830;&#20445;classpath&#19979;&#23384;&#22312;XML&#35299;&#26512;&#22120;&#21644;XSLT&#24341;&#25806;&#12290;JDK1.4&#40664;&#35748;&#24050;&#25552;&#20379;&#20102;&#36825;&#20123;&#65292;&#22810;&#25968;J2EE&#23481;&#22120;&#20063;&#25552;&#20379;&#65292;&#20294;&#36824;&#26159;&#35201;&#35686;&#24789;&#65292;&#23427;&#21487;&#33021;&#26159;&#19968;&#20123;&#38169;&#35823;&#30340;&#26681;&#28304;&#12290;
			</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="view-document"></a>14.6.&nbsp;&#25991;&#26723;&#35270;&#22270;&#65288;PDF/Excel&#65289;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-document-intro"></a>14.6.1.&nbsp;&#31616;&#20171;</h3></div></div><div></div></div><p>
				&#23545;&#30475;&#27169;&#22411;&#25968;&#25454;&#36755;&#20986;&#30340;&#29992;&#25143;&#26469;&#35828;&#65292;&#36820;&#22238;&#19968;&#20010;HTML&#39029;&#38754;&#24182;&#19981;&#24635;&#26159;&#26368;&#22909;&#30340;&#26041;&#27861;&#12290;
				Spring&#31616;&#21270;&#20102;&#26681;&#25454;&#27169;&#22411;&#25968;&#25454;&#21160;&#24577;&#36755;&#20986;PDF&#25991;&#26723;&#25110;Excel&#30005;&#23376;&#34920;&#26684;&#30340;&#24037;&#20316;&#12290;
				&#36825;&#20123;&#25991;&#26723;&#21363;&#26368;&#32456;&#35270;&#22270;&#65292;&#23427;&#20204;&#23558;&#20197;&#36866;&#24403;&#30340;&#20869;&#23481;&#31867;&#22411;&#29992;&#27969;&#30340;&#24418;&#24335;&#20174;&#26381;&#21153;&#22120;&#36755;&#20986;&#65292;&#24182;&#22312;&#23458;&#25143;&#31471;PC&#30456;&#24212;&#22320;&#21551;&#21160;PDF&#25110;&#30005;&#23376;&#34920;&#26684;&#27983;&#35272;&#22120;&#65288;&#24076;&#26395;&#22914;&#27492;&#65289;&#12290;
			</p><p>
				&#20026;&#20102;&#20351;&#29992;Excel&#35270;&#22270;&#65292;&#20320;&#38656;&#35201;&#25226;'poi'&#24211;&#21152;&#21040;classpath&#20013;&#65307;&#20351;&#29992;PDF&#30340;&#35805;&#38656;&#35201;iText.jar&#12290;&#23427;&#20204;&#37117;&#24050;&#32463;&#21253;&#21547;&#22312;Spring&#30340;&#20027;&#21457;&#34892;&#21253;&#37324;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-document-config"></a>14.6.2.&nbsp;&#37197;&#32622;&#21644;&#23433;&#35013;</h3></div></div><div></div></div><p>
				&#22522;&#20110;&#25991;&#26723;&#30340;&#35270;&#22270;&#20960;&#20046;&#19982;XSLT&#35270;&#22270;&#30340;&#22788;&#29702;&#26041;&#24335;&#30456;&#21516;&#12290;
				&#19979;&#38754;&#30340;&#20869;&#23481;&#23558;&#22312;&#21069;&#25991;&#22522;&#30784;&#19978;&#20171;&#32461;&#65292;XSLT&#20363;&#23376;&#20013;&#30340;controller&#22914;&#20309;&#34987;&#29992;&#26469;&#28210;&#26579;&#21516;&#19968;&#20010;&#30340;&#27169;&#22411;&#25968;&#25454;&#65292;&#20998;&#21035;&#20135;&#29983;PDF&#25110;Excel&#36755;&#20986;&#65288;&#36755;&#20986;&#25991;&#26723;&#21487;&#20197;&#29992;Open Office&#27983;&#35272;&#21644;&#32534;&#36753;&#65289;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-document-configviews"></a>14.6.2.1.&nbsp;&#25991;&#26723;&#35270;&#22270;&#23450;&#20041;</h4></div></div><div></div></div><p>
					&#39318;&#20808;&#65292;&#25105;&#20204;&#20462;&#25913;view.properties&#65288;&#25110;&#31561;&#20215;&#30340;xml&#25991;&#20214;&#65289;&#65292;&#22686;&#21152;&#20004;&#31181;&#25991;&#26723;&#31867;&#22411;&#30340;&#35270;&#22270;&#23450;&#20041;&#12290;&#25972;&#20010;&#25991;&#20214;&#29616;&#22312;&#30475;&#36215;&#26469;&#26159;&#36825;&#20010;&#26679;&#23376;&#65306;
					</p><pre class="programlisting">
						home.class=xslt.HomePage
						home.stylesheetLocation=/WEB-INF/xsl/home.xslt
						home.root=words

						xl.class=excel.HomePage

						pdf.class=pdf.HomePage
					</pre><p>
					<span class="emphasis"><em>
						&#22914;&#26524;&#20320;&#24819;&#22312;&#19968;&#20010;&#30005;&#23376;&#34920;&#26684;&#27169;&#26495;&#22522;&#30784;&#19978;&#28155;&#21152;&#27169;&#22411;&#25968;&#25454;&#65292;&#21487;&#20197;&#22312;&#35270;&#22270;&#23450;&#20041;&#20013;&#20026;'url'&#23646;&#24615;&#25351;&#23450;&#19968;&#20010;&#25991;&#20214;&#20301;&#32622;&#12290;
					</em></span>
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-document-configcontroller"></a>14.6.2.2.&nbsp;Controller &#20195;&#30721;</h4></div></div><div></div></div><p>
					&#36825;&#37324;&#29992;&#30340;controller&#20195;&#30721;&#65292;&#38500;&#20102;&#35270;&#22270;&#21517;&#20197;&#22806;&#65292;&#20854;&#20182;&#30340;&#19982;XSLT&#20363;&#23376;&#20013;&#30340;&#23436;&#20840;&#19968;&#26679;&#12290;
					&#24403;&#28982;&#65292;&#20320;&#21487;&#33021;&#26377;&#26356;&#32874;&#26126;&#30340;&#20570;&#27861;&#65292;&#36890;&#36807;URL&#21442;&#25968;&#25110;&#20854;&#20182;&#26041;&#24335;&#36873;&#25321;&#35270;&#22270;&#21517;&#65292;&#36825;&#20063;&#35777;&#26126;&#20102;Spirng&#22312;&#25511;&#21046;&#22120;&#19982;&#35270;&#22270;&#30340;&#35299;&#32806;&#26041;&#38754;&#30830;&#23454;&#38750;&#24120;&#20248;&#31168;&#65281;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-document-configsubclasses"></a>14.6.2.3.&nbsp;Excel&#35270;&#22270;&#23376;&#31867;</h4></div></div><div></div></div><p>
					&#21644;&#22312;XSLT&#20363;&#23376;&#20013;&#19968;&#26679;&#65292;&#25105;&#20204;&#38656;&#35201;&#20174;&#36866;&#24403;&#30340;&#25277;&#35937;&#31867;&#25193;&#23637;&#19968;&#20010;&#20855;&#20307;&#31867;&#65292;&#20197;&#23454;&#29616;&#36755;&#20986;&#25991;&#26723;&#30340;&#34892;&#20026;&#12290;
					&#23545;Excel&#26469;&#35828;&#65292;&#36825;&#24847;&#21619;&#30528;&#21019;&#24314;&#19968;&#20010;
					<tt class="literal">
						org.springframework.web.servlet.view.document.AbstractExcelView
					</tt>
					&#65288;&#20351;&#29992;POI&#65289;&#25110;
					<tt class="literal">
						org.springframework.web.servlet.view.document.AbstractJExcelView
					</tt>
					&#65288;&#20351;&#29992;JExcelApi&#65289;&#30340;&#23376;&#31867;&#65292; &#24182;&#23454;&#29616;
					<tt class="literal">buildExcelDocument</tt>&#26041;&#27861;&#12290;
				</p><p>
					&#19979;&#38754;&#26159;&#19968;&#27573;&#20351;&#29992;POI&#29983;&#25104;Excel&#35270;&#22270;&#30340;&#23436;&#25972;&#20195;&#30721;&#65292;&#23427;&#20174;&#27169;&#22411;&#25968;&#25454;&#20013;&#21462;&#24471;&#35789;&#35821;&#21015;&#34920;&#65292;&#25226;&#23427;&#26174;&#31034;&#20026;&#30005;&#23376;&#34920;&#26684;&#20013;&#31532;&#19968;&#26639;&#20869;&#36830;&#32493;&#30340;&#34892;&#65306;

					</p><pre class="programlisting">
						package excel;

						// imports omitted for brevity

						public class HomePage extends AbstractExcelView
						{

						protected void buildExcelDocument( Map model,
						HSSFWorkbook wb, HttpServletRequest req,
						HttpServletResponse resp) throws Exception {

						HSSFSheet sheet; HSSFRow sheetRow; HSSFCell
						cell;

						// Go to the first sheet // getSheetAt: only if
						wb is created from an existing document //sheet
						= wb.getSheetAt( 0 ); sheet =
						wb.createSheet("Spring");
						sheet.setDefaultColumnWidth((short)12);

						// write a text at A1 cell = getCell( sheet, 0,
						0 ); setText(cell,"Spring-Excel test");

						List words = (List ) model.get("wordList"); for
						(int i=0; i &lt; words.size(); i++) { cell =
						getCell( sheet, 2+i, 0 ); setText(cell, (String)
						words.get(i));

						} } }
					</pre><p>
				</p><p>
					&#36825;&#26159;&#19968;&#20010;&#20351;&#29992;JExcelApi&#30340;&#29256;&#26412;&#65292;&#29983;&#25104;&#21516;&#26679;&#30340;Excel&#25991;&#20214;&#65306;
					</p><pre class="programlisting">
						package excel;

						// imports omitted for brevity

						public class HomePage extends AbstractExcelView
						{

						protected void buildExcelDocument(Map model,
						WritableWorkbook wb, HttpServletRequest request,
						HttpServletResponse response) throws Exception {

						WritableSheet sheet = wb.createSheet("Spring");

						sheet.addCell(new Label(0, 0, "Spring-Excel
						test");

						List words = (List)model.get("wordList"); for
						(int i = -; i &lt; words.size(); i++) {
						sheet.addCell(new Label(2+i, 0,
						(String)words.get(i)); } } }
					</pre><p>
				</p><p>
					&#27880;&#24847;&#36825;&#20123;API&#38388;&#30340;&#24046;&#21035;&#12290;&#25105;&#20204;&#21457;&#29616;JExcelApi&#20351;&#29992;&#36215;&#26469;&#26356;&#30452;&#35266;&#65292;&#32780;&#19988;&#22312;&#22270;&#20687;&#22788;&#29702;&#26041;&#38754;&#26356;&#22909;&#12290;
					&#20294;&#20063;&#21457;&#29616;&#20351;&#29992;JExcelApi&#22788;&#29702;&#22823;&#25991;&#20214;&#26102;&#23384;&#22312;&#20869;&#23384;&#38382;&#39064;&#12290;
				</p><p>
					&#22914;&#26524;&#20320;&#29616;&#22312;&#20462;&#25913;controller&#30340;&#20195;&#30721;&#65292;&#35753;&#23427;&#36820;&#22238;&#21517;&#20026;
					<tt class="literal">xl</tt>
					&#30340;&#35270;&#22270;&#65288;
					<tt class="literal">
						return new ModelAndView("xl", map);
					</tt>
					&#65289;&#65292; &#28982;&#21518;&#20877;&#27425;&#36816;&#34892;&#20320;&#30340;&#24212;&#29992;&#65292;&#20320;&#20250;&#21457;&#29616;&#65292;&#24403;&#20320;&#35831;&#27714;&#21516;&#26679;&#30340;&#39029;&#38754;&#26102;&#65292;Excel&#30005;&#23376;&#34920;&#26684;&#34987;&#21019;&#24314;&#20986;&#26469;&#24182;&#33258;&#21160;&#24320;&#22987;&#19979;&#36733;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-document-configsubclasspdf"></a>14.6.2.4.&nbsp;PDF&#35270;&#22270;&#23376;&#31867;</h4></div></div><div></div></div><p>
					&#29983;&#25104;PDF&#29256;&#26412;&#30340;&#35789;&#35821;&#21015;&#34920;&#23601;&#26356;&#31616;&#21333;&#20102;&#12290; &#29616;&#22312;&#65292;&#20320;&#21019;&#24314;&#19968;&#20010;
					<tt class="literal">
						org.springframework.web.servlet.view.document.AbstractPdfView
					</tt>
					&#30340;&#23376;&#31867;&#65292;&#24182;&#23454;&#29616;
					<tt class="literal">buildPdfDocument()</tt>&#26041;&#27861;&#65292;&#22914;&#19979;&#65306;
					</p><pre class="programlisting">
						package pdf;

						// imports omitted for brevity

						public class PDFPage extends AbstractPdfView {

						protected void buildPdfDocument( Map model,
						Document doc, PdfWriter writer,
						HttpServletRequest req, HttpServletResponse
						resp) throws Exception {

						List words = (List) model.get("wordList");

						for (int i=0; i&lt;words.size(); i++) doc.add(
						new Paragraph((String) words.get(i)));

						} }
					</pre><p>
					&#21516;&#26679;&#22320;&#65292;&#20462;&#25913;controller&#65292;&#35753;&#23427;&#36820;&#22238;&#21517;&#20026;
					<tt class="literal">pdf</tt>
					&#30340;&#35270;&#22270;&#65288;
					<tt class="literal">
						return new ModelAndView("pdf", map);
					</tt>
					&#65289;&#65292; &#36816;&#34892;&#24212;&#29992;&#24182;&#35831;&#27714;&#21516;&#26679;&#30340;URL&#65292;&#36825;&#27425;&#23558;&#20250;&#25171;&#24320;&#19968;&#20010;PDF&#25991;&#26723;&#65292;&#21015;&#20986;&#27169;&#22411;&#25968;&#25454;&#20013;&#30340;&#27599;&#20010;&#35789;&#35821;&#12290;
				</p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="view-jasper-reports"></a>14.7.&nbsp;JasperReports</h2></div></div><div></div></div><p>
			JasperReports (
			<a href="http://jasperreports.sourceforge.net" target="_top">http://jasperreports.sourceforge.net</a>
			) &#26159;&#19968;&#20010;&#21151;&#33021;&#24378;&#22823;&#65292;&#24320;&#28304;&#30340;&#25253;&#34920;&#24341;&#25806;&#65292;
			&#25903;&#25345;&#20351;&#29992;&#19968;&#31181;&#26131;&#20110;&#29702;&#35299;&#30340;XML&#25991;&#26723;&#21019;&#24314;&#25253;&#34920;&#35774;&#35745;&#65292;&#24182;&#21487;&#20197;&#36755;&#20986;4&#31181;&#26684;&#24335;&#30340;&#25253;&#34920;&#65306;CSV&#12289;Excel&#12289;HTML&#21644;PDF&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-jasper-reports-dependencies"></a>14.7.1.&nbsp;&#20381;&#36182;&#30340;&#36164;&#28304;</h3></div></div><div></div></div><p>
				&#24212;&#29992;&#31243;&#24207;&#38656;&#35201;&#21253;&#21547;&#26368;&#26032;&#29256;&#26412;&#30340;JasperReports&#65288;&#20889;&#26412;&#25991;&#26723;&#30340;&#26102;&#20505;&#26159; 0.6.1&#65289;&#12290;
				JasperReports&#33258;&#36523;&#20381;&#36182;&#20110;&#19979;&#38754;&#30340;&#39033;&#30446;:
			</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>BeanShell</p></li><li style="list-style-type: disc"><p>Commons BeanUtils</p></li><li style="list-style-type: disc"><p>Commons Collections</p></li><li style="list-style-type: disc"><p>Commons Digester</p></li><li style="list-style-type: disc"><p>Commons Logging</p></li><li style="list-style-type: disc"><p>iText</p></li><li style="list-style-type: disc"><p>POI</p></li></ul></div><p>JasperReports&#36824;&#38656;&#35201;&#19968;&#20010;JAXP&#35299;&#26512;&#22120;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-jasper-reports-configuration"></a>14.7.2.&nbsp;&#37197;&#32622;</h3></div></div><div></div></div><p>
				&#35201;&#22312;
				<tt class="literal">ApplicationContext</tt>&#20013;&#37197;&#32622;JasperReports&#65292;&#20320;&#24517;&#39035;&#23450;&#20041;&#19968;&#20010;
				<tt class="literal">ViewResolver</tt>&#26469;&#25226;&#35270;&#22270;&#21517;&#26144;&#23556;&#21040;&#36866;&#24403;&#30340;&#35270;&#22270;&#31867;&#65292;&#36825;&#21462;&#20915;&#20110;&#20320;&#24076;&#26395;&#36755;&#20986;&#20160;&#20040;&#26684;&#24335;&#30340;&#25253;&#34920;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-jasper-reports-configuration-resolver"></a>14.7.2.1.&nbsp;
					&#37197;&#32622;<tt class="interfacename">ViewResolver</tt>
				</h4></div></div><div></div></div><p>
					&#36890;&#24120;&#65292;&#20320;&#20250;&#20351;&#29992;<tt class="classname">ResourceBundleViewResolver</tt>
					&#26469;&#26681;&#25454;&#19968;&#20010;&#23646;&#24615;&#25991;&#20214;&#25226;&#35270;&#22270;&#21517;&#26144;&#23556;&#21040;&#35270;&#22270;&#31867;&#21644;&#30456;&#20851;&#25991;&#20214;&#65306;
				</p><pre class="programlisting">&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.ResourceBundleViewResolver"&gt;
    &lt;property name="basename" value="views"/&gt;
&lt;/bean&gt;</pre><p>
					&#36825;&#37324;&#25105;&#20204;&#24050;&#32463;&#23450;&#20041;&#20102;&#19968;&#20010;
					<tt class="classname">ResourceBundleViewResolver</tt>
					&#30340;&#23454;&#20363;&#65292; &#23427;&#23558;&#36890;&#36807;&#22522;&#21517;&#65288;base name&#65289;
					<tt class="literal">views</tt>
					&#22312;&#36164;&#28304;&#25991;&#20214;&#20013;&#26597;&#25214;&#35270;&#22270;&#26144;&#23556;&#12290; &#36825;&#20010;&#25991;&#20214;&#30340;&#35814;&#32454;&#20869;&#23481;&#23558;&#22312;&#19979;&#33410;&#20869;&#23481;&#21465;&#36848;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-jasper-reports-configuration-views"></a>14.7.2.2.&nbsp;
					&#37197;&#32622;<tt class="literal">View</tt>
				</h4></div></div><div></div></div><p>
					Spring&#20013;&#21253;&#21547;&#20102;JasperReports&#30340;&#20116;&#31181;&#35270;&#22270;&#23454;&#29616;&#65292;&#20854;&#20013;&#22235;&#31181;&#23545;&#24212;&#21040;JasperReports&#25903;&#25345;&#30340;&#22235;&#31181;&#36755;&#20986;&#26684;&#24335;&#65292;&#21478;&#19968;&#31181;&#25903;&#25345;&#22312;&#36816;&#34892;&#26102;&#30830;&#23450;&#36755;&#20986;&#26684;&#24335;&#12290;
				</p><div class="table"><a name="view-jasper-reports-configuration-views-classes"></a><p class="title"><b>Table&nbsp;14.2.&nbsp;
						JasperReports
						<tt class="literal">View</tt>
						Classes
					</b></p><table summary="&#xA;						JasperReports&#xA;						View&#xA;						Classes&#xA;					" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#31867;&#21517;</th><th>&#28210;&#26579;&#26684;&#24335;</th></tr></thead><tbody><tr><td><tt class="literal">
										JasperReportsCsvView
									</tt></td><td>CSV</td></tr><tr><td><tt class="literal">
										JasperReportsHtmlView
									</tt></td><td>HTML</td></tr><tr><td><tt class="literal">
										JasperReportsPdfView
									</tt></td><td>PDF</td></tr><tr><td><tt class="literal">
										JasperReportsXlsView
									</tt></td><td>Microsoft Excel</td></tr><tr><td><tt class="literal">
										JasperReportsMultiFormatView
									</tt></td><td>
									&#36816;&#34892;&#26102;&#30830;&#23450;&#26684;&#24335;&#65288;&#21442;&#32771;
									<a href="view.html#view-jasper-reports-configuration-multiformat-view" title="14.7.2.4.&nbsp;&#xA;					&#20351;&#29992;&#xA;					JasperReportsMultiFormatView&#xA;				">Section&nbsp;14.7.2.4, &#8220;
					&#20351;&#29992;
					JasperReportsMultiFormatView
				&#8221;</a>
									&#65289;
								</td></tr></tbody></table></div><p>&#25226;&#36825;&#20123;&#31867;&#26144;&#23556;&#21040;&#35270;&#22270;&#21517;&#21644;&#25253;&#34920;&#25991;&#20214;&#21482;&#38656;&#35201;&#31616;&#21333;&#22320;&#22312;&#21069;&#36848;&#36164;&#28304;&#25991;&#20214;&#20013;&#28155;&#21152;&#36866;&#24403;&#30340;&#26465;&#30446;&#12290;&#22914;&#19979;&#65306;</p><pre class="programlisting">
					simpleReport.class=org.springframework.web.servlet.view.jasperreports.JasperReportsPdfView
					simpleReport.url=/WEB-INF/reports/DataSourceReport.jasper
				</pre><p>
					&#36825;&#37324;&#20320;&#21487;&#20197;&#30475;&#21040;&#21517;&#20026;<tt class="literal">simpleReport</tt>
					&#30340;&#35270;&#22270;&#34987;&#26144;&#23556;&#21040;<tt class="literal">JasperReportsPdfView</tt>
					&#31867;&#12290; &#36825;&#23558;&#20135;&#29983;PDF&#26684;&#24335;&#30340;&#25253;&#34920;&#36755;&#20986;&#12290;&#35813;&#35270;&#22270;&#30340;url&#23646;&#24615;&#34987;&#35774;&#32622;&#20026;&#24213;&#23618;&#25253;&#34920;&#25991;&#20214;&#30340;&#20301;&#32622;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-jasper-reports-configuration-report-files"></a>14.7.2.3.&nbsp;&#20851;&#20110;&#25253;&#34920;&#25991;&#20214;</h4></div></div><div></div></div><p>
					JasperReports&#26377;&#20004;&#31181;&#19981;&#21516;&#30340;&#25253;&#34920;&#25991;&#20214;&#65306;&#19968;&#31181;&#26159;&#35774;&#35745;&#25991;&#20214;&#65292;&#20197;
					<tt class="literal">.jrxml</tt>
					&#20026;&#25193;&#23637;&#21517;&#65307;&#21478;&#19968;&#31181;&#26159;&#32534;&#35793;&#21518;&#30340;&#26684;&#24335;&#65292;&#20197;
					<tt class="literal">.jasper</tt>
					&#20026;&#25193;&#23637;&#21517;&#12290; &#36890;&#24120;&#65292;&#20320;&#20351;&#29992;JasperReports&#33258;&#24102;&#30340;Ant&#20219;&#21153;&#26469;&#25226;&#20320;&#30340;
					<tt class="literal">.jrxml</tt>
					&#25991;&#20214;&#32534;&#35793;&#20026;
					<tt class="literal">.jasper</tt>
					&#25991;&#20214;&#65292;&#28982;&#21518;&#37096;&#32626;&#21040;&#24212;&#29992;&#20013;&#12290;
					&#22312;Spring&#37324;&#20320;&#21487;&#20197;&#25226;&#20219;&#19968;&#31181;&#35774;&#35745;&#25991;&#20214;&#26144;&#23556;&#21040;&#25253;&#34920;&#25991;&#20214;&#65292;Spring&#33021;&#24110;&#20320;&#33258;&#21160;&#32534;&#35793;
					<tt class="literal">.jrxml</tt>
					&#25991;&#20214;&#12290; &#20294;&#20320;&#35201;&#27880;&#24847;&#65292;
					<tt class="literal">.jrxml</tt>
					&#34987;&#32534;&#35793;&#21518;&#21363;&#32531;&#23384;&#36215;&#26469;&#24182;&#22312;&#25972;&#20010;&#24212;&#29992;&#27963;&#21160;&#26399;&#38388;&#26377;&#25928;&#65292;&#22914;&#26524;&#20320;&#35201;&#20570;&#19968;&#20123;&#25913;&#21160;&#65292;&#23601;&#24471;&#37325;&#21551;&#24212;&#29992;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-jasper-reports-configuration-multiformat-view"></a>14.7.2.4.&nbsp;
					&#20351;&#29992;
					<tt class="literal">JasperReportsMultiFormatView</tt>
				</h4></div></div><div></div></div><p>
					<tt class="literal">JasperReportsMultiFormatView</tt>
					&#20801;&#35768;&#22312;&#36816;&#34892;&#26102;&#25351;&#23450;&#25253;&#34920;&#26684;&#24335;&#65292; &#30495;&#27491;&#35299;&#26512;&#25253;&#34920;&#22996;&#25176;&#32473;&#20854;&#23427;JasperReports&#30340;view&#31867; -
					<tt class="literal">JasperReportsMultiFormatView</tt>&#31867;&#31616;&#21333;&#22320;&#22686;&#21152;&#20102;&#19968;&#23618;&#21253;&#35013;&#65292;&#20801;&#35768;&#22312;&#36816;&#34892;&#26102;&#20934;&#30830;&#22320;&#25351;&#23450;&#23454;&#29616;&#12290;
				</p><p>
					<tt class="literal">JasperReportsMultiFormatView</tt>
					&#31867;&#24341;&#20837;&#20102;&#20004;&#20010;&#27010;&#24565;&#65306;format key&#21644;discriminator key&#12290;
					<tt class="literal">JasperReportsMultiFormatView</tt>
					&#20351;&#29992;mapping key&#26469;&#26597;&#25214;&#23454;&#38469;&#23454;&#29616;&#31867;&#65292;&#32780;&#20351;&#29992;format key&#26469;&#26597;&#25214;mapping key&#12290;
					&#20174;&#32534;&#31243;&#35282;&#24230;&#26469;&#35828;&#65292;&#20320;&#22312;model&#20013;&#28155;&#21152;&#19968;&#20010;&#26465;&#30446;&#65292;&#20197;format key&#20316;&#38190;&#24182;&#20197;mapping key&#20316;&#20540;&#65292;&#20363;&#22914;&#65306;
				</p><pre class="programlisting">
					public ModelAndView
					handleSimpleReportMulti(HttpServletRequest request,
					HttpServletResponse response) throws Exception {

					String uri = request.getRequestURI(); String format
					= uri.substring(uri.lastIndexOf(".") + 1);

					Map model = getModel(); model.put("format", format);

					return new ModelAndView("simpleReportMulti", model);
					}
				</pre><p>
					&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;mapping key&#30001; request URI&#30340;&#25193;&#23637;&#21517;&#26469;&#20915;&#23450;&#65292;&#24182;&#20197;&#40664;&#35748;&#30340;format key&#20540;
					<tt class="literal">format</tt>
					&#21152;&#20837;&#20102;model&#12290; &#22914;&#26524;&#24076;&#26395;&#20351;&#29992;&#19981;&#21516;&#30340;format key&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;
					<tt class="literal">JasperReportsMultiFormatView</tt>
					&#31867;&#30340;<tt class="literal">formatKey</tt>&#23646;&#24615;&#26469;&#37197;&#32622;&#23427;&#12290;
				</p><p>
					<tt class="literal">JasperReportsMultiFormatView</tt>&#20013;&#40664;&#35748;&#24050;&#32463;&#37197;&#32622;&#20102;&#19979;&#21015;mapping key&#65306;
					</p><div class="table"><a name="view-jasper-reports-configuration-multiformat-view-mappings"></a><p class="title"><b>Table&nbsp;14.3.&nbsp;
							JasperReportsMultiFormatView&#40664;&#35748;Mapping Key&#26144;&#23556;
						</b></p><table summary="&#xA;							JasperReportsMultiFormatView&#40664;&#35748;Mapping Key&#26144;&#23556;&#xA;						" border="1"><colgroup><col><col></colgroup><thead><tr><th>Mapping Key</th><th>View Class</th></tr></thead><tbody><tr><td>csv</td><td><tt class="literal">
											JasperReportsCsvView
										</tt></td></tr><tr><td>html</td><td><tt class="literal">
											JasperReportsHtmlView
										</tt></td></tr><tr><td>pdf</td><td><tt class="literal">
											JasperReportsPdfView
										</tt></td></tr><tr><td>xls</td><td><tt class="literal">
											JasperReportsXlsView
										</tt></td></tr></tbody></table></div><p>
					&#25152;&#20197;&#19978;&#20363;&#20013;&#19968;&#20010;&#23545;/foo/myReport.pdf&#30340;&#35831;&#27714;&#23558;&#34987;&#26144;&#23556;&#33267;
					<tt class="literal">JasperReportsPdfView</tt>&#12290; &#20320;&#21487;&#20197;&#20351;&#29992;
					<tt class="literal">JasperReportsMultiFormatView</tt>
					&#30340;<tt class="literal">formatMappings</tt>&#23646;&#24615;&#35206;&#30422;mapping key&#21040;&#35270;&#22270;&#31867;&#30340;&#26144;&#23556;&#37197;&#32622;&#12290;
				</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-jasper-reports-model"></a>14.7.3.&nbsp;
				&#26500;&#36896;<tt class="literal">ModelAndView</tt>
			</h3></div></div><div></div></div><p>
				&#20026;&#20102;&#20197;&#20320;&#36873;&#25321;&#30340;&#26684;&#24335;&#27491;&#30830;&#22320;&#28210;&#26579;&#25253;&#34920;&#65292;&#20320;&#24517;&#39035;&#20026;Spring&#25552;&#20379;&#25152;&#26377;&#38656;&#35201;&#30340;&#25253;&#34920;&#25968;&#25454;&#12290;
				&#23545;JasperReports&#26469;&#35828;&#65292;&#36825;&#23601;&#26159;&#25253;&#34920;&#25968;&#25454;&#28304;&#65288;report datasource&#65289;&#21644;&#21442;&#25968;&#65288;report
				parameters&#65289;&#12290; &#25253;&#34920;&#21442;&#25968;&#23601;&#26159;&#19968;&#20123;&#21487;&#20197;&#21152;&#21040;model&#30340;
				<tt class="interfacename">Map</tt>&#20013;&#30340;&#31616;&#21333;&#38190;&#20540;&#23545;&#12290;
			</p><p>
				&#24403;&#28155;&#21152;&#25968;&#25454;&#28304;&#21040;model&#20013;&#26102;&#65292;&#26377;&#20004;&#31181;&#36873;&#25321;&#12290;&#31532;&#19968;&#31181;&#26159;&#20197;&#20219;&#24847;&#20540;&#20026;key&#65292;&#28155;&#21152;&#19968;&#20010;
				<tt class="literal">JRDataSource</tt>
				&#25110;<tt class="literal">Collection</tt>
				&#21040; model<tt class="interfacename">Map</tt>
				&#12290; Spring&#23558;&#20174;model&#20013;&#25214;&#21040;&#23427;&#24182;&#29992;&#20316;&#25253;&#34920;&#25968;&#25454;&#28304;&#12290;&#20363;&#22914;&#65292;&#20320;&#21487;&#33021;&#36825;&#26679;&#26500;&#36896;model&#65306;
				</p><pre class="programlisting">
					private Map getModel() { Map model = new HashMap();
					Collection beanData = getBeanData();
					model.put("myBeanData", beanData); return model; }
				</pre><p>
			</p><p>
				&#31532;&#20108;&#31181;&#26041;&#24335;&#26159;&#20197;&#19968;&#20010;&#29305;&#23450;&#38190;&#20540;&#28155;&#21152;
				<tt class="literal">JRDataSource</tt>
				&#25110;<tt class="literal">Collection</tt>
				&#30340;&#23454;&#20363;&#65292; &#24182;&#25226;&#35813;&#23427;&#36171;&#32473;&#35270;&#22270;&#31867;&#30340;
				<tt class="literal">reportDataKey</tt>
				&#23646;&#24615;&#12290; &#19981;&#31649;&#21738;&#31181;&#26041;&#24335;&#65292;Spring&#37117;&#20250;&#25226;
				<tt class="literal">Collection</tt>
				&#23454;&#20363;&#36716;&#21270;&#20026;
				<tt class="literal">JRBeanCollectionDataSource</tt>
				&#23454;&#20363;&#12290;&#20363;&#22914;&#65306;
				</p><pre class="programlisting">
					private Map getModel() { Map model = new HashMap();
					Collection beanData = getBeanData(); Collection
					someData = getSomeData(); model.put("myBeanData",
					beanData); model.put("someData", someData); return
					model; }
				</pre><p>
				&#36825;&#37324;&#20320;&#21487;&#20197;&#30475;&#21040;&#26377;&#20004;&#20010;
				<tt class="literal">Collection</tt>
				&#23454;&#20363;&#34987;&#21152;&#21040;model&#37324;&#12290; &#20026;&#20102;&#30830;&#20445;&#20351;&#29992;&#27491;&#30830;&#30340;&#37027;&#20010;&#65292;&#25105;&#20204;&#24471;&#36866;&#24403;&#22320;&#25913;&#21160;&#19968;&#19979;&#35270;&#22270;&#30340;&#37197;&#32622;&#65306;
				</p><pre class="programlisting">
					simpleReport.class=org.springframework.web.servlet.view.jasperreports.JasperReportsPdfView
					simpleReport.url=/WEB-INF/reports/DataSourceReport.jasper
					simpleReport.reportDataKey=myBeanData
				</pre><p>
			</p><p>
				&#27880;&#24847;&#24403;&#20351;&#29992;&#31532;&#19968;&#31181;&#26041;&#24335;&#26102;&#65292;Spring&#23558;&#20351;&#29992;&#23427;&#36935;&#21040;&#30340;&#31532;&#19968;&#20010;
				<tt class="literal">JRDataSource</tt>&#25110;
				<tt class="literal">Collection</tt>
				&#12290; &#22914;&#26524;&#20320;&#35201;&#25918;&#32622;&#22810;&#20010;&#36825;&#26679;&#30340;&#23454;&#20363;&#21040;model&#20013;&#65292;&#20320;&#23601;&#24471;&#20351;&#29992;&#31532;&#20108;&#31181;&#26041;&#24335;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-jasper-reports-subreports"></a>14.7.4.&nbsp;&#20351;&#29992;&#23376;&#25253;&#34920;</h3></div></div><div></div></div><p>
				JasperReports&#25552;&#20379;&#20102;&#23545;&#23884;&#20837;&#22312;&#20027;&#25253;&#34920;&#25991;&#20214;&#20013;&#30340;&#23376;&#25253;&#34920;&#30340;&#25903;&#25345;&#12290;&#26377;&#22810;&#31181;&#26426;&#21046;&#25903;&#25345;&#22312;&#25253;&#34920;&#25991;&#20214;&#20013;&#21253;&#21547;&#23376;&#25253;&#34920;&#12290;
				&#26368;&#31616;&#21333;&#30340;&#26041;&#27861;&#26159;&#22312;&#35774;&#35745;&#25991;&#20214;&#20013;&#30452;&#25509;&#20889;&#20837;&#23376;&#25253;&#34920;&#30340;&#36335;&#24452;&#21644;SQL&#26597;&#35810;&#12290;
				&#36825;&#31181;&#26041;&#27861;&#30340;&#32570;&#28857;&#24456;&#26126;&#26174;&#65306;&#30456;&#20851;&#20449;&#24687;&#34987;&#30828;&#32534;&#30721;&#36827;&#25253;&#34920;&#25991;&#20214;&#65292;&#38477;&#20302;&#20102;&#21487;&#22797;&#29992;&#24615;&#65292;&#24182;&#20351;&#25253;&#34920;&#35774;&#35745;&#38590;&#20197;&#20462;&#25913;&#12290;
				&#20026;&#20102;&#20811;&#26381;&#36825;&#20123;&#65292;&#20320;&#21487;&#20197;&#22768;&#26126;&#24335;&#22320;&#37197;&#32622;&#23376;&#25253;&#34920;&#65292;&#24182;&#20026;&#20854;&#21253;&#21547;&#26356;&#22810;&#30452;&#25509;&#26469;&#33258;controller&#30340;&#25968;&#25454;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-jasper-reports-subreports-config-reports"></a>14.7.4.1.&nbsp;&#37197;&#32622;&#23376;&#25253;&#34920;&#25991;&#20214;</h4></div></div><div></div></div><p>
					&#20351;&#29992;Spring&#26102;&#65292;&#20026;&#20102;&#25511;&#21046;&#21738;&#20010;&#23376;&#25253;&#34920;&#25991;&#20214;&#34987;&#21253;&#21547;&#65292;&#20320;&#30340;&#25253;&#34920;&#25991;&#20214;&#24517;&#39035;&#34987;&#37197;&#32622;&#20026;&#33021;&#22815;&#20174;&#22806;&#37096;&#26469;&#28304;&#25509;&#21463;&#23376;&#25253;&#34920;&#12290;
					&#35201;&#23436;&#25104;&#36825;&#20123;&#20320;&#24471;&#22312;&#25253;&#34920;&#25991;&#20214;&#20013;&#22768;&#26126;&#19968;&#20010;&#21442;&#25968;&#65292;&#20687;&#36825;&#26679;&#65306;
					</p><pre class="programlisting">
						&lt;parameter name="ProductsSubReport"
						class="net.sf.jasperreports.engine.JasperReport"/&gt;
					</pre><p>
					&#28982;&#21518;&#65292;&#20320;&#29992;&#36825;&#20010;&#21442;&#25968;&#23450;&#20041;&#19968;&#20010;&#23376;&#25253;&#34920;&#65306;
					</p><pre class="programlisting">
						&lt;subreport&gt; &lt;reportElement
						isPrintRepeatedValues="false" x="5" y="25"
						width="325" height="20"
						isRemoveLineWhenBlank="true"
						backcolor="#ffcc99"/&gt; &lt;subreportParameter
						name="City"&gt;
						&lt;subreportParameterExpression&gt;&lt;![CDATA[$F{city}]]&gt;&lt;/subreportParameterExpression&gt;
						&lt;/subreportParameter&gt;
						&lt;dataSourceExpression&gt;&lt;![CDATA[$P{SubReportData}]]&gt;&lt;/dataSourceExpression&gt;
						&lt;subreportExpression
						class="net.sf.jasperreports.engine.JasperReport"&gt;
						&lt;![CDATA[$P{ProductsSubReport}]]&gt;&lt;/subreportExpression&gt;
						&lt;/subreport&gt;
					</pre><p>
					&#36825;&#26679;&#23601;&#23450;&#20041;&#20102;&#19968;&#20010;&#20027;&#25253;&#34920;&#25991;&#20214;&#65292;&#25509;&#21463;&#19968;&#20010;&#21517;&#20026;
					<tt class="literal">ProductsSubReport</tt>
					&#30340;&#21442;&#25968;&#65292; &#23427;&#30340;&#20540;&#26159;&#19968;&#20010;
					<tt class="literal">
						net.sf.jasperreports.engine.JasperReports
					</tt>
					&#31867;&#22411;&#23454;&#20363;&#12290; &#28982;&#21518;&#37197;&#32622;Jasper&#35270;&#22270;&#31867;&#26102;&#65292;&#20320;&#36890;&#36807;&#20351;&#29992;
					<tt class="literal">subReportUrls</tt>
					&#23646;&#24615;&#26469;&#21578;&#35785;Spring&#36733;&#20837;&#19968;&#20010;&#25253;&#34920;&#25991;&#20214;&#24182;&#20316;&#20026;&#23376;&#25253;&#34920;&#20256;&#36882;&#32473;JasperReports&#24341;&#25806;&#12290;
					</p><pre class="programlisting">
						&lt;property name="subReportUrls"&gt;
						&lt;map&gt; &lt;entry key="ProductsSubReport"
						value="/WEB-INF/reports/subReportChild.jrxml"/&gt;
						&lt;/map&gt; &lt;/property&gt;
					</pre><p>
					&#36825;&#37324;<tt class="interfacename">Map</tt>
					&#20013;&#30340;key&#23545;&#24212;&#20110;&#25253;&#34920;&#35774;&#35745;&#25991;&#20214;&#20013;&#23376;&#25253;&#34920;&#21442;&#25968;&#30340;&#21517;&#23383;&#65292;&#23427;&#30340;&#20540;&#20195;&#34920;&#23376;&#25253;&#34920;&#25991;&#20214;&#30340;URL&#12290;
					Spring&#23558;&#36733;&#20837;&#35813;&#25991;&#20214;&#65292;&#38656;&#35201;&#30340;&#35805;&#36827;&#34892;&#32534;&#35793;&#65292;&#28982;&#21518;&#20197;&#32473;&#23450;&#30340;key&#20026;&#21442;&#25968;&#21517;&#20256;&#36882;&#32473;JasperReports&#24341;&#25806;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="view-jasper-reports-subreports-config-datasources"></a>14.7.4.2.&nbsp;&#37197;&#32622;&#23376;&#25253;&#34920;&#25968;&#25454;&#28304;</h4></div></div><div></div></div><p>
					&#24403;&#20351;&#29992;Spring&#37197;&#32622;&#23376;&#25253;&#34920;&#26102;&#65292;&#36825;&#19968;&#27493;&#23436;&#20840;&#26159;&#21487;&#36873;&#30340;&#12290;&#22914;&#26524;&#20320;&#21916;&#27426;&#65292;&#20173;&#21487;&#20197;&#20351;&#29992;&#38745;&#24577;&#26597;&#35810;&#20316;&#20026;&#23376;&#25253;&#34920;&#30340;&#25968;&#25454;&#28304;&#12290;
					&#28982;&#32780;&#65292;&#22914;&#26524;&#20320;&#24076;&#26395;Spring&#25226;&#20320;&#36820;&#22238;&#30340;
					<tt class="literal">ModelAndView</tt>&#20013;&#30340;&#25968;&#25454;&#36716;&#21270;&#20026;
					<tt class="literal">JRDataSource</tt>&#65292; &#20320;&#23601;&#24471;&#21578;&#35785;Spring
					<tt class="literal">ModelAndView</tt>
					&#20013;&#30340;&#37027;&#20010;&#21442;&#25968;&#38656;&#35201;&#34987;&#36716;&#21270;&#12290; &#23454;&#38469;&#25805;&#20316;&#26102;&#65292;&#20320;&#38656;&#35201;&#20351;&#29992;&#25152;&#36873;&#35270;&#22270;&#31867;&#30340;
					<tt class="literal">subReportDataKeys</tt>
					&#23646;&#24615;&#65292;&#20026;&#20854;&#37197;&#32622;&#19968;&#20010;&#21442;&#25968;&#21517;&#21015;&#34920;&#65306;
					</p><pre class="programlisting">
						&lt;property name="subReportDataKeys"
						value="SubReportData"/&gt;
					</pre><p>
					&#36825;&#37324;&#25552;&#20379;&#30340;key&#20540;&#24517;&#39035;&#19982;<tt class="literal">ModelAndView</tt>&#21644;&#25253;&#34920;&#35774;&#35745;&#25991;&#20214;&#20013;&#20351;&#29992;&#30340;key&#20540;&#23545;&#24212;&#12290;
				</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="view-jasper-reports-exporter-parameters"></a>14.7.5.&nbsp;&#37197;&#32622;Exporter&#30340;&#21442;&#25968;</h3></div></div><div></div></div><p>
				&#22914;&#26524;&#20320;&#23545;exporter&#30340;&#37197;&#32622;&#26377;&#29305;&#27530;&#35201;&#27714;&#65292;&#27604;&#22914;&#20320;&#21487;&#33021;&#35201;&#27714;&#29305;&#23450;&#39029;&#38754;&#23610;&#23544;&#30340;PDF&#25253;&#34920;&#65292;
				&#37027;&#20320;&#21487;&#20197;&#22312;Spring&#37197;&#32622;&#25991;&#20214;&#20013;&#22768;&#26126;&#24335;&#22320;&#37197;&#32622;&#36825;&#20123;&#65292;&#36890;&#36807;&#20351;&#29992;&#35270;&#22270;&#31867;&#30340;
				<tt class="literal">exporterParameters</tt>
				&#23646;&#24615;&#65292; &#35813;&#23646;&#24615;&#26159;<tt class="interfacename">Map</tt>
				&#22411;&#20540;&#65292;&#20854;&#20013;&#30340;key&#24212;&#35813;&#26159;&#19968;&#20010;&#20195;&#34920;exporter&#21442;&#25968;&#23450;&#20041;&#30340;&#38745;&#24577;&#22495;&#30340;&#20840;&#38480;&#23450;&#21517;&#65292;value&#26159;&#35201;&#36171;&#32473;&#21442;&#25968;&#30340;&#20540;&#12290;
				&#31034;&#20363;&#22914;&#19979;&#65306;
			</p><pre class="programlisting">
				&lt;bean id="htmlReport"
				class="org.springframework.web.servlet.view.jasperreports.JasperReportsHtmlView"&gt;
				&lt;property name="url"
				value="/WEB-INF/reports/simpleReport.jrxml"/&gt;
				&lt;property name="exporterParameters"&gt; &lt;map&gt;
				&lt;entry
				key="net.sf.jasperreports.engine.export.JRHtmlExporterParameter.HTML_FOOTER"&gt;
				&lt;value&gt;Footer by Spring!
				&amp;lt;/td&amp;gt;&amp;lt;td
				width="50%"&amp;gt;&amp;amp;nbsp;
				&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
				&amp;lt;/table&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
				&lt;/value&gt; &lt;/entry&gt; &lt;/map&gt;
				&lt;/property&gt; &lt;/bean&gt;
			</pre><p>
				&#36825;&#37324;&#20320;&#21487;&#20197;&#30475;&#21040;&#65292;&#25105;&#20204;&#20026;
				<tt class="classname">JasperReportsHtmlView</tt>
				&#37197;&#32622;&#20102;&#19968;&#20010;exporter&#21442;&#25968;&#65292; &#21442;&#25968;
				<tt class="literal">
					net.sf.jasperreports.engine.export.JRHtmlExporterParameter.HTML_FOOTER
				</tt>
				&#23450;&#20041;&#20102;&#32467;&#26524;HTML&#20013;&#30340;&#39029;&#33050;&#12290;
			</p></div></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mvc.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="webintegration.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;13.&nbsp;Web MVC framework Web&#26694;&#26550;&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.springsource.com/" title="SpringSource">Sponsored by SpringSource</a></span></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;15.&nbsp;&#38598;&#25104;&#20854;&#23427;Web&#26694;&#26550;</td></tr></table></div></body></html>