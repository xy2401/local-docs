<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>SoftReferenceObjectPool (Apache Tomcat 7.0.94 API Documentation)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SoftReferenceObjectPool (Apache Tomcat 7.0.94 API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>Apache Tomcat 7.0.94</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/GenericObjectPoolFactory.html" title="class in org.apache.tomcat.dbcp.pool.impl"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/StackKeyedObjectPool.html" title="class in org.apache.tomcat.dbcp.pool.impl"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" target="_top">Frames</a></li>
<li><a href="SoftReferenceObjectPool.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.tomcat.dbcp.pool.impl</div>
<h2 title="Class SoftReferenceObjectPool" class="title">Class SoftReferenceObjectPool&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">org.apache.tomcat.dbcp.pool.BaseObjectPool</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li>org.apache.tomcat.dbcp.pool.impl.SoftReferenceObjectPool&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - the type of objects held in this pool</dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;T&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">SoftReferenceObjectPool&lt;T&gt;</span>
extends <a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;T&gt;</pre>
<div class="block">A <code>SoftReference</code> based
 <a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool"><code>ObjectPool</code></a>.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>Pool 1.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Rodney Waldhoff, Sandy McArthur</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#SoftReferenceObjectPool()">SoftReferenceObjectPool</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>to be removed in pool 2.0.  Use <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#SoftReferenceObjectPool(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)"><code>SoftReferenceObjectPool(PoolableObjectFactory)</code></a>.</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#SoftReferenceObjectPool(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)">SoftReferenceObjectPool</a></strong>(<a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool">PoolableObjectFactory</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;&nbsp;factory)</code>
<div class="block">Create a <code>SoftReferenceObjectPool</code> with the specified factory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#SoftReferenceObjectPool(org.apache.tomcat.dbcp.pool.PoolableObjectFactory,%20int)">SoftReferenceObjectPool</a></strong>(<a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool">PoolableObjectFactory</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;&nbsp;factory,
                       int&nbsp;initSize)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>because this is a SoftReference pool, prefilled idle obejects may be garbage collected before they are used.
      To be removed in Pool 2.0.</i></div>
</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#addObject()">addObject</a></strong>()</code>
<div class="block">Create an object, and place it into the pool.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#borrowObject()">borrowObject</a></strong>()</code>
<div class="block">Borrow an object from the pool.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#clear()">clear</a></strong>()</code>
<div class="block">Clears any objects sitting idle in the pool.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#close()">close</a></strong>()</code>
<div class="block">Close this pool, and free any resources associated with it.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool">PoolableObjectFactory</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#getFactory()">getFactory</a></strong>()</code>
<div class="block">Returns the <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool"><code>PoolableObjectFactory</code></a> used by this pool to create and manage object instances.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#getNumActive()">getNumActive</a></strong>()</code>
<div class="block">Return the number of instances currently borrowed from this pool.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#getNumIdle()">getNumIdle</a></strong>()</code>
<div class="block">Returns an approximation not less than the of the number of idle instances in the pool.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#invalidateObject(T)">invalidateObject</a></strong>(<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&nbsp;obj)</code>
<div class="block">Invalidates an object from the pool.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#returnObject(T)">returnObject</a></strong>(<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&nbsp;obj)</code>
<div class="block">Returns an instance to the pool after successful validation and passivation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#setFactory(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)">setFactory</a></strong>(<a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool">PoolableObjectFactory</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;&nbsp;factory)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>to be removed in pool 2.0</i></div>
</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.tomcat.dbcp.pool.BaseObjectPool">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.tomcat.dbcp.pool.<a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a></h3>
<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#assertOpen()">assertOpen</a>, <a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#isClosed()">isClosed</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SoftReferenceObjectPool()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SoftReferenceObjectPool</h4>
<pre>@Deprecated
public&nbsp;SoftReferenceObjectPool()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>to be removed in pool 2.0.  Use <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#SoftReferenceObjectPool(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)"><code>SoftReferenceObjectPool(PoolableObjectFactory)</code></a>.</i></div>
<div class="block">Create a <code>SoftReferenceObjectPool</code> without a factory.
 <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#setFactory(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)"><code>setFactory</code></a> should be called
 before any attempts to use the pool are made.
 Generally speaking you should prefer the <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#SoftReferenceObjectPool(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)"><code>SoftReferenceObjectPool(PoolableObjectFactory)</code></a> constructor.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#SoftReferenceObjectPool(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)"><code>SoftReferenceObjectPool(PoolableObjectFactory)</code></a></dd></dl>
</li>
</ul>
<a name="SoftReferenceObjectPool(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SoftReferenceObjectPool</h4>
<pre>public&nbsp;SoftReferenceObjectPool(<a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool">PoolableObjectFactory</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;&nbsp;factory)</pre>
<div class="block">Create a <code>SoftReferenceObjectPool</code> with the specified factory.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>factory</code> - object factory to use.</dd></dl>
</li>
</ul>
<a name="SoftReferenceObjectPool(org.apache.tomcat.dbcp.pool.PoolableObjectFactory, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SoftReferenceObjectPool</h4>
<pre>@Deprecated
public&nbsp;SoftReferenceObjectPool(<a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool">PoolableObjectFactory</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;&nbsp;factory,
                                  int&nbsp;initSize)
                        throws java.lang.Exception,
                               java.lang.IllegalArgumentException</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>because this is a SoftReference pool, prefilled idle obejects may be garbage collected before they are used.
      To be removed in Pool 2.0.</i></div>
<div class="block">Create a <code>SoftReferenceObjectPool</code> with the specified factory and initial idle object count.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>factory</code> - object factory to use.</dd><dd><code>initSize</code> - initial size to attempt to prefill the pool.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - when there is a problem prefilling the pool.</dd>
<dd><code>java.lang.IllegalArgumentException</code> - when <code>factory</code> is <code>null</code>.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="borrowObject()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>borrowObject</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&nbsp;borrowObject()
               throws java.lang.Exception</pre>
<div class="block"><p>Borrow an object from the pool.  If there are no idle instances available in the pool, the configured
 factory's <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#makeObject()"><code>PoolableObjectFactory.makeObject()</code></a> method is invoked to create a new instance.</p>

 <p>All instances are <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#activateObject(T)"><code>activated</code></a> and
 <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#validateObject(T)"><code>validated</code></a> before being returned by this
 method.  If validation fails or an exception occurs activating or validating an idle instance,
 the failing instance is <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#destroyObject(T)"><code>destroyed</code></a> and another
 instance is retrieved from the pool, validated and activated.  This process continues until either the
 pool is empty or an instance passes validation.  If the pool is empty on activation or
 it does not contain any valid instances, the factory's <code>makeObject</code> method is used
 to create a new instance.  If the created instance either raises an exception on activation or
 fails validation, <code>NoSuchElementException</code> is thrown. Exceptions thrown by <code>MakeObject</code>
 are propagated to the caller; but other than <code>ThreadDeath</code> or <code>VirtualMachineError</code>,
 exceptions generated by activation, validation or destroy methods are swallowed silently.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#borrowObject()">borrowObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#borrowObject()">borrowObject</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a valid, activated object instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code> - if a valid object cannot be provided</dd>
<dd><code>java.lang.IllegalStateException</code> - if invoked on a <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#close()"><code>closed</code></a> pool</dd>
<dd><code>java.lang.Exception</code> - if an exception occurs creating a new instance</dd></dl>
</li>
</ul>
<a name="returnObject(java.lang.Object)">
<!--   -->
</a><a name="returnObject(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>returnObject</h4>
<pre>public&nbsp;void&nbsp;returnObject(<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&nbsp;obj)
                  throws java.lang.Exception</pre>
<div class="block"><p>Returns an instance to the pool after successful validation and passivation. The returning instance
 is destroyed if any of the following are true:<ul>
   <li>the pool is closed</li>
   <li><a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#validateObject(T)"><code>validation</code></a> fails</li>
   <li><a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#passivateObject(T)"><code>passivation</code></a> throws an exception</li>
 </ul>
</p>

 <p>Exceptions passivating or destroying instances are silently swallowed.  Exceptions validating
 instances are propagated to the client.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#returnObject(T)">returnObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#returnObject(T)">returnObject</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>obj</code> - instance to return to the pool</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="invalidateObject(java.lang.Object)">
<!--   -->
</a><a name="invalidateObject(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateObject</h4>
<pre>public&nbsp;void&nbsp;invalidateObject(<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&nbsp;obj)
                      throws java.lang.Exception</pre>
<div class="block"><p>Invalidates an object from the pool.</p>

 <p>By contract, <code>obj</code> <strong>must</strong> have been obtained
 using <a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#borrowObject()"><code>borrowObject</code></a>.<p>

 <p>This method should be used when an object that has been borrowed
 is determined (due to an exception or other problem) to be invalid.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#invalidateObject(T)">invalidateObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#invalidateObject(T)">invalidateObject</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>obj</code> - a <a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#borrowObject()"><code>borrowed</code></a> instance to be disposed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="addObject()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addObject</h4>
<pre>public&nbsp;void&nbsp;addObject()
               throws java.lang.Exception</pre>
<div class="block"><p>Create an object, and place it into the pool.
 addObject() is useful for "pre-loading" a pool with idle objects.</p>

 <p>Before being added to the pool, the newly created instance is
 <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#validateObject(T)"><code>validated</code></a> and
 <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#passivateObject(T)"><code>passivated</code></a>.  If validation
 fails, the new instance is <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html#destroyObject(T)"><code>destroyed</code></a>.
 Exceptions generated by the factory <code>makeObject</code> or <code>passivate</code> are
 propagated to the caller. Exceptions destroying instances are silently swallowed.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#addObject()">addObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#addObject()">addObject</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if invoked on a <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#close()"><code>closed</code></a> pool</dd>
<dd><code>java.lang.Exception</code> - when the <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#getFactory()"><code>factory</code></a> has a problem creating or passivating an object.</dd></dl>
</li>
</ul>
<a name="getNumIdle()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumIdle</h4>
<pre>public&nbsp;int&nbsp;getNumIdle()</pre>
<div class="block">Returns an approximation not less than the of the number of idle instances in the pool.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#getNumIdle()">getNumIdle</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#getNumIdle()">getNumIdle</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>estimated number of idle instances in the pool</dd></dl>
</li>
</ul>
<a name="getNumActive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumActive</h4>
<pre>public&nbsp;int&nbsp;getNumActive()</pre>
<div class="block">Return the number of instances currently borrowed from this pool.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#getNumActive()">getNumActive</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#getNumActive()">getNumActive</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the number of instances currently borrowed from this pool</dd></dl>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">Clears any objects sitting idle in the pool.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#clear()">clear</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#clear()">clear</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.lang.Exception</pre>
<div class="block"><p>Close this pool, and free any resources associated with it. Invokes
 <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#clear()"><code>clear()</code></a> to destroy and remove instances in the pool.</p>

 <p>Calling <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#addObject()"><code>addObject()</code></a> or <a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html#borrowObject()"><code>borrowObject()</code></a> after invoking
 this method on a pool will cause them to throw an
 <code>IllegalStateException</code>.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - never - exceptions clearing the pool are swallowed</dd></dl>
</li>
</ul>
<a name="setFactory(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFactory</h4>
<pre>@Deprecated
public&nbsp;void&nbsp;setFactory(<a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool">PoolableObjectFactory</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;&nbsp;factory)
                throws java.lang.IllegalStateException</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>to be removed in pool 2.0</i></div>
<div class="block">Sets the <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool"><code>factory</code></a> this pool uses
 to create new instances. Trying to change
 the <code>factory</code> while there are borrowed objects will
 throw an <code>IllegalStateException</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html#setFactory(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)">setFactory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/ObjectPool.html" title="interface in org.apache.tomcat.dbcp.pool">ObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html#setFactory(org.apache.tomcat.dbcp.pool.PoolableObjectFactory)">setFactory</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/tomcat/dbcp/pool/BaseObjectPool.html" title="class in org.apache.tomcat.dbcp.pool">BaseObjectPool</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>factory</code> - the <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool"><code>PoolableObjectFactory</code></a> used to create new instances.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - when the factory cannot be set at this time</dd></dl>
</li>
</ul>
<a name="getFactory()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFactory</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool">PoolableObjectFactory</a>&lt;<a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" title="type parameter in SoftReferenceObjectPool">T</a>&gt;&nbsp;getFactory()</pre>
<div class="block">Returns the <a href="../../../../../../org/apache/tomcat/dbcp/pool/PoolableObjectFactory.html" title="interface in org.apache.tomcat.dbcp.pool"><code>PoolableObjectFactory</code></a> used by this pool to create and manage object instances.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the factory</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.5.5</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>Apache Tomcat 7.0.94</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/GenericObjectPoolFactory.html" title="class in org.apache.tomcat.dbcp.pool.impl"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/tomcat/dbcp/pool/impl/StackKeyedObjectPool.html" title="class in org.apache.tomcat.dbcp.pool.impl"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/tomcat/dbcp/pool/impl/SoftReferenceObjectPool.html" target="_top">Frames</a></li>
<li><a href="SoftReferenceObjectPool.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2000-2019 Apache Software Foundation. All Rights Reserved.</small></p>
</body>
</html>
