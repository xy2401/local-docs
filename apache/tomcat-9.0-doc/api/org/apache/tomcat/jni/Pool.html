<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Pool (Apache Tomcat 9.0.20 API Documentation)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Pool (Apache Tomcat 9.0.20 API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Apache Tomcat 9.0.20</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/tomcat/jni/Poll.html" title="class in org.apache.tomcat.jni"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/tomcat/jni/PoolCallback.html" title="interface in org.apache.tomcat.jni"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/tomcat/jni/Pool.html" target="_top">Frames</a></li>
<li><a href="Pool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.tomcat.jni</div>
<h2 title="Class Pool" class="title">Class Pool</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.tomcat.jni.Pool</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Pool</span>
extends java.lang.Object</pre>
<div class="block">Pool</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Mladen Turk</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#Pool--">Pool</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.nio.ByteBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#alloc-long-int-">alloc</a></span>(long&nbsp;p,
     int&nbsp;size)</code>
<div class="block">Allocate a block of memory from a pool</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static java.nio.ByteBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#calloc-long-int-">calloc</a></span>(long&nbsp;p,
      int&nbsp;size)</code>
<div class="block">Allocate a block of memory from a pool and set all of the memory to 0</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#cleanupForExec--">cleanupForExec</a></span>()</code>
<div class="block">Run all of the child_cleanups, so that any unnecessary files are
 closed because we are about to exec a new program</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#cleanupKill-long-long-">cleanupKill</a></span>(long&nbsp;pool,
           long&nbsp;data)</code>
<div class="block">Remove a previously registered cleanup function</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#cleanupRegister-long-java.lang.Object-">cleanupRegister</a></span>(long&nbsp;pool,
               java.lang.Object&nbsp;o)</code>
<div class="block">Register a function to be called when a pool is cleared or destroyed</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#clear-long-">clear</a></span>(long&nbsp;pool)</code>
<div class="block">Clear all memory in the pool and run all the cleanups.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#create-long-">create</a></span>(long&nbsp;parent)</code>
<div class="block">Create a new pool.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#dataGet-long-java.lang.String-">dataGet</a></span>(long&nbsp;pool,
       java.lang.String&nbsp;key)</code>
<div class="block">Return the data associated with the current pool.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#dataSet-long-java.lang.String-java.lang.Object-">dataSet</a></span>(long&nbsp;pool,
       java.lang.String&nbsp;key,
       java.lang.Object&nbsp;data)</code>
<div class="block">Set the data associated with the current pool</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#destroy-long-">destroy</a></span>(long&nbsp;pool)</code>
<div class="block">Destroy the pool.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#isAncestor-long-long-">isAncestor</a></span>(long&nbsp;a,
          long&nbsp;b)</code>
<div class="block">Determine if pool a is an ancestor of pool b</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#noteSubprocess-long-long-int-">noteSubprocess</a></span>(long&nbsp;a,
              long&nbsp;proc,
              int&nbsp;how)</code>
<div class="block">Register a process to be killed when a pool dies.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tomcat/jni/Pool.html#parentGet-long-">parentGet</a></span>(long&nbsp;pool)</code>
<div class="block">Get the parent pool of the specified pool.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Pool--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Pool</h4>
<pre>public&nbsp;Pool()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="create-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;long&nbsp;create(long&nbsp;parent)</pre>
<div class="block">Create a new pool.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parent</code> - The parent pool.  If this is 0, the new pool is a root
 pool.  If it is non-zero, the new pool will inherit all
 of its parent pool's attributes, except the apr_pool_t will
 be a sub-pool.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The pool we have just created.</dd>
</dl>
</li>
</ul>
<a name="clear-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public static&nbsp;void&nbsp;clear(long&nbsp;pool)</pre>
<div class="block">Clear all memory in the pool and run all the cleanups. This also destroys all
 subpools.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pool</code> - The pool to clear
 This does not actually free the memory, it just allows the pool
         to re-use this memory for the next allocation.</dd>
</dl>
</li>
</ul>
<a name="destroy-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public static&nbsp;void&nbsp;destroy(long&nbsp;pool)</pre>
<div class="block">Destroy the pool. This takes similar action as apr_pool_clear() and then
 frees all the memory.
 This will actually free the memory</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pool</code> - The pool to destroy</dd>
</dl>
</li>
</ul>
<a name="parentGet-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parentGet</h4>
<pre>public static&nbsp;long&nbsp;parentGet(long&nbsp;pool)</pre>
<div class="block">Get the parent pool of the specified pool.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pool</code> - The pool for retrieving the parent pool.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The parent of the given pool.</dd>
</dl>
</li>
</ul>
<a name="isAncestor-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAncestor</h4>
<pre>public static&nbsp;boolean&nbsp;isAncestor(long&nbsp;a,
                                 long&nbsp;b)</pre>
<div class="block">Determine if pool a is an ancestor of pool b</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>a</code> - The pool to search</dd>
<dd><code>b</code> - The pool to search for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if a is an ancestor of b, NULL is considered an ancestor
 of all pools.</dd>
</dl>
</li>
</ul>
<a name="cleanupRegister-long-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupRegister</h4>
<pre>public static&nbsp;long&nbsp;cleanupRegister(long&nbsp;pool,
                                   java.lang.Object&nbsp;o)</pre>
<div class="block">Register a function to be called when a pool is cleared or destroyed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pool</code> - The pool register the cleanup with</dd>
<dd><code>o</code> - The object to call when the pool is cleared
                      or destroyed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The cleanup handler.</dd>
</dl>
</li>
</ul>
<a name="cleanupKill-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupKill</h4>
<pre>public static&nbsp;void&nbsp;cleanupKill(long&nbsp;pool,
                               long&nbsp;data)</pre>
<div class="block">Remove a previously registered cleanup function</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pool</code> - The pool remove the cleanup from</dd>
<dd><code>data</code> - The cleanup handler to remove from cleanup</dd>
</dl>
</li>
</ul>
<a name="noteSubprocess-long-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteSubprocess</h4>
<pre>public static&nbsp;void&nbsp;noteSubprocess(long&nbsp;a,
                                  long&nbsp;proc,
                                  int&nbsp;how)</pre>
<div class="block">Register a process to be killed when a pool dies.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>a</code> - The pool to use to define the processes lifetime</dd>
<dd><code>proc</code> - The process to register</dd>
<dd><code>how</code> - How to kill the process, one of:
 <PRE>
 APR_KILL_NEVER         -- process is never sent any signals
 APR_KILL_ALWAYS        -- process is sent SIGKILL on apr_pool_t cleanup
 APR_KILL_AFTER_TIMEOUT -- SIGTERM, wait 3 seconds, SIGKILL
 APR_JUST_WAIT          -- wait forever for the process to complete
 APR_KILL_ONLY_ONCE     -- send SIGTERM and then wait
 </PRE></dd>
</dl>
</li>
</ul>
<a name="alloc-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alloc</h4>
<pre>public static&nbsp;java.nio.ByteBuffer&nbsp;alloc(long&nbsp;p,
                                        int&nbsp;size)</pre>
<div class="block">Allocate a block of memory from a pool</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>p</code> - The pool to allocate from</dd>
<dd><code>size</code> - The amount of memory to allocate</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ByteBuffer with allocated memory</dd>
</dl>
</li>
</ul>
<a name="calloc-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calloc</h4>
<pre>public static&nbsp;java.nio.ByteBuffer&nbsp;calloc(long&nbsp;p,
                                         int&nbsp;size)</pre>
<div class="block">Allocate a block of memory from a pool and set all of the memory to 0</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>p</code> - The pool to allocate from</dd>
<dd><code>size</code> - The amount of memory to allocate</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ByteBuffer with allocated memory</dd>
</dl>
</li>
</ul>
<a name="dataSet-long-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataSet</h4>
<pre>public static&nbsp;int&nbsp;dataSet(long&nbsp;pool,
                          java.lang.String&nbsp;key,
                          java.lang.Object&nbsp;data)</pre>
<div class="block">Set the data associated with the current pool</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - The user data associated with the pool.</dd>
<dd><code>key</code> - The key to use for association</dd>
<dd><code>pool</code> - The current pool
 <br><b>Warning :</b>
 The data to be attached to the pool should have a life span
 at least as long as the pool it is being attached to.
 Object attached to the pool will be globally referenced
 until the pool is cleared or dataSet is called with the null data.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>APR Status code.</dd>
</dl>
</li>
</ul>
<a name="dataGet-long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataGet</h4>
<pre>public static&nbsp;java.lang.Object&nbsp;dataGet(long&nbsp;pool,
                                       java.lang.String&nbsp;key)</pre>
<div class="block">Return the data associated with the current pool.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key for the data to retrieve</dd>
<dd><code>pool</code> - The current pool.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the data</dd>
</dl>
</li>
</ul>
<a name="cleanupForExec--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cleanupForExec</h4>
<pre>public static&nbsp;void&nbsp;cleanupForExec()</pre>
<div class="block">Run all of the child_cleanups, so that any unnecessary files are
 closed because we are about to exec a new program</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Apache Tomcat 9.0.20</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/tomcat/jni/Poll.html" title="class in org.apache.tomcat.jni"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/tomcat/jni/PoolCallback.html" title="interface in org.apache.tomcat.jni"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/tomcat/jni/Pool.html" target="_top">Frames</a></li>
<li><a href="Pool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2000-2019 Apache Software Foundation. All Rights Reserved.</small></p>
</body>
</html>
